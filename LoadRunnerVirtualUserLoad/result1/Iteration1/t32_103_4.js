/*! For license information please see cars-view.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],Array(763).concat([function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(1233),r=n(218),i=n(1),s=n.n(i),o=n(160),l=(n(6),n(189)),c=n(445),u=n(161);s.a.Component;s.a.Component;var d=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?Object(o.c)(e,null,null,t):e},h=function(e){return e},f=s.a.forwardRef;void 0===f&&(f=h);var m=f((function(e,t){var n=e.innerRef,a=e.navigate,r=e.onClick,i=Object(c.a)(e,["innerRef","navigate","onClick"]),o=i.target,u=Object(l.a)({},i,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return u.ref=h!==f&&t||n,s.a.createElement("a",u)}));var g=f((function(e,t){var n=e.component,r=void 0===n?m:n,i=e.replace,o=e.to,g=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return s.a.createElement(a.e.Consumer,null,(function(e){e||Object(u.default)(!1);var n=e.history,a=p(d(o,e.location),e.location),c=a?n.createHref(a):"",m=Object(l.a)({},v,{href:c,navigate:function(){var t=d(o,e.location);(i?n.replace:n.push)(t)}});return h!==f?m.ref=t||g:m.innerRef=g,s.a.createElement(r,m)}))})),v=function(e){return e},y=s.a.forwardRef;void 0===y&&(y=v);y((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,h=e.activeStyle,f=e.className,m=e.exact,b=e.isActive,C=e.location,E=e.strict,k=e.style,O=e.to,_=e.innerRef,P=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return s.a.createElement(a.e.Consumer,null,(function(e){e||Object(u.default)(!1);var n=C||e.location,i=p(d(O,n),n),c=i.pathname,S=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),N=S?Object(a.f)(n.pathname,{path:S,exact:m,strict:E}):null,w=!!(b?b(N,n):N),A=w?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,o):f,T=w?Object(l.a)({},k,{},h):k,I=Object(l.a)({"aria-current":w&&r||null,className:A,style:T,to:i},P);return v!==y?I.ref=t||_:I.innerRef=_,s.a.createElement(g,I)}))}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var a=n(1444);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){e.exports=n(1636)},function(e,t,n){var a=n(1678),r=n(1431);function i(t){return e.exports=i=r?a:function(e){return e.__proto__||a(e)},i(t)}e.exports=i},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1341)),i=a(n(1250)),s=a(n(1238)),o=a(n(1239)),l=a(n(1263)),c=function(){},u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),n.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(n),(this._cacheElements||c).call(this,t,n),(this._parseParams||c).call(this))}return(0,o.default)(e,[{key:"remove",value:function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||c).call(this,e||this.el,t),(this._parseParams||c).call(this),this._addEventListeners&&this._addEventListeners(),this}},{key:"setParams",value:function(e,t){var n=this;return(0,l.default)(e,(function(e,a){var r;(-1!==(0,i.default)(r=n._whitelistedParams).call(r,e)||t)&&(n[e]=a)})),this}},{key:"unsetParams",value:function(e,t){return e=e instanceof Array?e:(0,r.default)(e),t=t||this,(0,l.default)(e,(function(e){delete t[e]})),this}}]),e}();u.prototype._whitelistedParams=[],u.prototype.defaults={};var d=u;t.default=d,e.exports=t.default},function(e,t,n){e.exports=n(1618)},function(e,t,n){var a=n(1685),r=n(1688);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var a=n(1278),r=n(1323);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){"use strict";var a=n(1255),r=n(1312).f,i=n(1443),s=n(1252),o=n(1316),l=n(1276),c=n(1268),u=function(e){var t=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,p,h,f,m,g,v,y=e.target,b=e.global,C=e.stat,E=e.proto,k=b?a:C?a[y]:(a[y]||{}).prototype,O=b?s:s[y]||(s[y]={}),_=O.prototype;for(p in t)n=!i(b?p:y+(C?".":"#")+p,e.forced)&&k&&c(k,p),f=O[p],n&&(m=e.noTargetGet?(v=r(k,p))&&v.value:k[p]),h=n&&m?m:t[p],n&&typeof f==typeof h||(g=e.bind&&n?o(h,a):e.wrap&&n?u(h):E&&"function"==typeof h?o(Function.call,h):h,(e.sham||h&&h.sham||f&&f.sham)&&l(g,"sham",!0),O[p]=g,E&&(c(s,d=y+"Prototype")||l(s,d,{}),s[d][p]=h,e.real&&_&&!_[p]&&l(_,p,h)))}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1265)),i=a(n(1432)),s=a(n(1251)),o=/\s+/,l=/\s{2,}/g;var c=function(e,t){if(e){if(1===(t=2===arguments.length&&"string"==typeof t?(0,i.default)(t).split(o):t instanceof Array?t:(0,r.default)(Array.prototype).call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var n,a=[],c=0,u=t.length,d="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";c<u;c++)(n=t[c])&&!(0,s.default)(d,n)&&a.push(n);return a.length&&("string"==typeof e.className?e.className=(0,i.default)((d+" "+a.join(" ")).replace(l," ")):e.setAttribute&&e.setAttribute("class",(0,i.default)((d+" "+a.join(" ")).replace(l," ")))),e}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1265)),s=a(n(1432)),o=/\s+/,l=/\s{2,}/g;var c=function(e,t){if(e){if(1===(t=2===arguments.length&&"string"==typeof t?(0,s.default)(t).split(o):t instanceof Array?t:(0,i.default)(Array.prototype).call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var n,a,c=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",u=c,d=0,p=t.length;d<p;d++)-1!==(a=(n=t[d])?(0,r.default)(u).call(u," "+n+" "):-1)&&(a+=1,u=(0,i.default)(u).call(u,0,a)+(0,i.default)(u).call(u,a+n.length));return c!==u&&("string"==typeof e.className?e.className=(0,s.default)(u.replace(l," ")):e.setAttribute&&e.setAttribute("class",(0,s.default)(u.replace(l," ")))),e}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),s=n.n(i),o=n(6),l=(n(194),n(11)),c=n(39),u=n.n(c),d=n(26),p=n.n(d),h=n(22),f=n.n(h),m=n(29),g=n.n(m),v=n(28),y=n.n(v),b=n(30),C=n.n(b),E=n(3),k=n.n(E),O=n(4),_=n.n(O),P=n(0),S=n.n(P),N=n(23),w=n.n(N),A=n(5),T=n.n(A),I=n(12),D=n(543),x=(Object(o.oneOfType)([o.array,Object(o.shape)({value:o.number,currency:o.string,isNegative:o.bool})]),function(e){function t(){return p()(this,t),g()(this,y()(t).apply(this,arguments))}return C()(t,e),f()(t,[{key:"renderPrices",value:function(e){var n=w()(e)?e:[e],a=this.props.showPriceDifference,o=this.props.PACKAGE_NAME_CLASSIFIED;return _()(n,(function(e,n,l){if(r()(n.currency))return e;var c=Object(D.a)(n),d=a&&c,p=u()("price",{"negative-price":S()(n,"isNegative",!1),"zero-price":c}),h=t.renderSymbol(n,o),f=t.renderAmount(n,d,o),m=Object(I.k)([o,"currency",n.currency,"price"],{symbol:h,amount:f},i.Fragment);return e.push(s.a.createElement("span",{className:p,key:"price-alternative-price-".concat(l)},l>0&&s.a.createElement("span",{className:"connection and"},Object(I.a)([o,n.isNegative?"awardBooking.refund":"awardBooking.and"])),n.isNegative&&s.a.createElement("span",{className:"negative-symbol"},"-"),!n.isNegative&&a&&!c&&s.a.createElement("span",{className:"negative-symbol"},"+"),m)),e}),[])}},{key:"renderArrayPrice",value:function(e,t){var n=this.props,a=n.PACKAGE_NAME_CLASSIFIED,r=n.className;return s.a.createElement("span",{className:u()("alternative",r),key:"price-alternative-".concat(t)},t>0&&s.a.createElement("span",{className:"connection or"},Object(I.a)([a,"awardBooking.or"])),this.renderPrices(e))}},{key:"render",value:function(){var e=this,t=w()(this.props.price)?this.props.price:[this.props.price];return T()(t,(function(t,n){return e.renderArrayPrice(t,n)}))}}],[{key:"renderAbbreviation",value:function(e){var t=e.abbreviation;return s.a.createElement("span",{className:"abbreviation"},t)}},{key:"renderSymbol",value:function(e,t){var n=e.currency;return s.a.createElement("span",{className:"currency symbol"},Object(I.a)([t,"currency",n,"symbol"]))}},{key:"renderAmount",value:function(e,n,a){var r=S()(e,"showAbbreviation",!1);return s.a.createElement("span",{className:"amount"},t.renderLocalePrice(e),t.renderAmountNumber(e,n,a),r&&t.renderAbbreviation(e))}},{key:"renderAmountNumber",value:function(e,t,n){if(Object(I.d)([n,"currency",e.currency,"amount"]))return Object(I.a)([n,"currency",e.currency,"amount"],e,void 0,void 0,void 0,!0);var a=S()(e,"displayLocalePrice",!1),r=S()(e,"isPoints",!1),i=S()(e,"integer",0),o=S()(e,"value",0),l=S()(e,"delimiters",""),c=S()(e,"decimal",0),u=S()(e,"showDecimal",!1)&&!r&&!t,d=l&&l.decimal||".";return a?void 0:s.a.createElement("span",{className:"number"},t?Object(I.a)([n,"cart.INCLUDED"]):i||o,s.a.createElement("span",{className:"delimiter"},u&&d),u&&s.a.createElement("span",{className:"decimal"},c))}},{key:"renderLocalePrice",value:function(e){if(S()(e,"displayLocalePrice",!1))return s.a.createElement("span",{className:"locale-price"},S()(e,"intlAmount",""))}}]),t}(i.Component));k()(x,"defaultProps",{showPriceDifference:!1,className:void 0});var j=function(e){var t=e.price,n=e.originalPrice,a=e.PACKAGE_NAME_CLASSIFIED,i=e.className,o=e.discountedToArialLabel,l=e.id,c=e.showPriceDifference;return s.a.createElement("span",{id:l,className:u()("ducp-component-price",i)},!r()(n)&&s.a.createElement("span",{className:"price-info strike-through"},s.a.createElement(x,{price:n,PACKAGE_NAME_CLASSIFIED:a,showPriceDifference:c}),s.a.createElement("span",{"aria-label":o})),s.a.createElement("span",{className:"price-info"},s.a.createElement(x,{price:t,PACKAGE_NAME_CLASSIFIED:a,showPriceDifference:c})))};j.defaultProps={id:void 0,originalPrice:void 0,className:void 0,discountedToArialLabel:void 0,showPriceDifference:!1};var L=j,F=n(1493),B=(n(1937),function(e,t){var n=t.pricesConfigurations,a=e.price.alternatives?e.price.alternatives:e.price;if(Object(l.isImmutable)(a)?a.isEmpty():r()(a))return null;var i=Object(F.a)(a,n,{showAbbreviation:e.showAbbreviation});return s.a.createElement("span",{id:e.id,className:u()("dxp-price",{"rise-decimal":e.raiseDecimal,"discounted-price":e.isDiscountedPrice,"show-abbreviation":e.showAbbreviation,"multiple-price":i[0]&&i[0].length>1})},s.a.createElement(L,{aria:e.aria,className:e.className,PACKAGE_NAME_CLASSIFIED:e.PACKAGE_NAME_CLASSIFIED,price:Object(F.a)(a,n,{showAbbreviation:e.showAbbreviation}),originalPrice:e.originalPrice&&Object(F.a)(e.originalPrice,n,{showAbbreviation:e.showAbbreviation}),showPriceDifference:e.showPriceDifference,discountedToArialLabel:e.discountedToArialLabel}))});B.defaultProps={id:void 0,price:{},originalPrice:void 0,showAbbreviation:!1,raiseDecimal:!1,isDiscountedPrice:!1,className:"",discountedToArialLabel:void 0,aria:void 0,showPriceDifference:!1,PACKAGE_NAME_CLASSIFIED:"app"},B.contextTypes={pricesConfigurations:Object(o.shape)({countries:Object(o.shape)({}),currencies:Object(o.shape)({}),session:Object(o.shape)({locale:o.string})}).isRequired};var R=B;n.d(t,"a",(function(){return R}))},function(e,t,n){e.exports=n(1612)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1278));var s=function(e,t){var n,a=("object"===(0,i.default)(e)?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ");return-1!==(0,r.default)(n=" "+a+" ").call(n," "+t+" ")};t.default=s,e.exports=t.default},function(e,t){e.exports={}},function(e,t,n){var a=n(1255),r=n(1365),i=n(1268),s=n(1366),o=n(1367),l=n(1424),c=r("wks"),u=a.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return i(c,e)||(o&&i(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(41))},function(e,t,n){var a=n(1252),r=n(1268),i=n(1369),s=n(1279).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});r(t,e)||s(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1251)),i=a(n(1247)),s=a(n(1248));var o=function e(t,n,a){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"===(void 0!==a?(a="function"==typeof a?a.call(null,t):a)?"add":"remove":(0,r.default)(t,n)?"remove":"add")?i.default:s.default)(t,n);for(var o=0,l=t.length;o<l;o++)e(t[o],n,a)}};t.default=o,e.exports=t.default},function(e,t,n){var a=n(1669),r=n(1673),i=n(1677);function s(t,n,o){return"undefined"!=typeof Reflect&&r?e.exports=s=r:e.exports=s=function(e,t,n){var r=i(e,t);if(r){var s=a(r,t);return s.get?s.get.call(n):s.value}},s(t,n,o||t)}e.exports=s},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=n(1628)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(0,r.default)(n,(function(t){for(var n in t)t.hasOwnProperty(n)&&!e[n]&&(e[n]=t[n])}))};var r=a(n(1263));e.exports=t.default},function(e,t,n){var a=n(1252);e.exports=function(e){return a[e+"Prototype"]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var n=0,a=e.length;if(void 0===a)for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&t(n,e[n]);else for(;n<a;n++)t(e[n])}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(1388),s=n.n(i),o=n(26),l=n.n(o),c=n(22),u=n.n(c),d=n(29),p=n.n(d),h=n(28),f=n.n(h),m=n(31),g=n.n(m),v=n(30),y=n.n(v),b=n(3),C=n.n(b),E=n(1),k=n.n(E),O=(n(6),n(39)),_=n.n(O),P=n(1414),S=function(e){function t(e){var n;return l()(this,t),(n=p()(this,f()(t).call(this,e))).onMouseDown=n.onMouseDown.bind(g()(n)),n.onClick=n.onClick.bind(g()(n)),n}return y()(t,e),u()(t,[{key:"onMouseDown",value:function(e){this.props.useMouseDown&&(e.stopPropagation(),this.onClick(e))}},{key:"onClick",value:function(e){var t=this.props,n=t.disabled,a=t.loading;return!(n||a)&&(this.props.onClick&&this.props.onClick(e))}},{key:"setEnabled",value:function(e){return this.button.disabled=!e,this}},{key:"isEnabled",value:function(){return!this.button.disabled}},{key:"focus",value:function(){return this.button.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled,i=t.label,o=t.loading,l=t.children,c=t.ariaLabel,u=t.isExpanded,d=t.ariaDescribedBy,p=t.ariaControls,h=t.isTextButton,f=t.isSecondaryButton,m=t.isIconButton,g=t.isViewMoreButton,v=t.isNegativeButton,y=t.iconName,b=t.iconSize,C=t.ariaHidden,E=t.tooltipId,O=t.type,S=t.tabIndex,N=(t.onClick,t.useMouseDown,s()(t,["className","disabled","label","loading","children","ariaLabel","isExpanded","ariaDescribedBy","ariaControls","isTextButton","isSecondaryButton","isIconButton","isViewMoreButton","isNegativeButton","iconName","iconSize","ariaHidden","tooltipId","type","tabIndex","onClick","useMouseDown"])),w=_()("ducp-component-button",n,{"spark-progress":!h&&o,"spark-btn--active":!h&&o,"text-button":h,"secondary-button":f,"view-more-button":g,"icon-button":m,negative:v,disabled:a});if(m){var A=_()(w,"spark-btn--icon","spark-icon","spark-".concat(y),"spark-icon--".concat(b));return i||c?k.a.createElement(P.b,r()({ariaLabel:c||i,tooltip:i||c,id:"".concat(E||i||c,"-tooltip"),ref:function(t){e.button=t},"aria-label":c||i,"aria-controls":p,className:A,innerClassName:y,disabled:a,"aria-expanded":u,onClick:this.onClick,onMouseDown:this.onMouseDown,"aria-describedby":d,"aria-hidden":C,tabIndex:C?-1:void 0,position:"top"},N)):k.a.createElement("button",r()({type:O,ref:function(t){e.button=t},"aria-describedby":d,"aria-label":c||i,className:A,disabled:a,"aria-controls":p,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:C?-1:S,"aria-hidden":C},N))}return k.a.createElement("button",r()({type:O,ref:function(t){e.button=t},"aria-label":c,"aria-controls":p,className:w,disabled:a,"aria-expanded":u,onClick:this.onClick,onMouseDown:this.onMouseDown,"aria-describedby":d,"aria-hidden":C,tabIndex:C?-1:S},N),!h&&o&&k.a.createElement(k.a.Fragment,null,k.a.createElement("progress",null),k.a.createElement("span",{className:"spark-progress__meter loading-indicator"})),l,i&&k.a.createElement("span",{className:"button-label"},i))}}]),t}(E.Component);C()(S,"defaultProps",{className:void 0,label:void 0,disabled:!1,loading:!1,children:void 0,onClick:void 0,ariaLabel:void 0,isExpanded:void 0,ariaDescribedBy:void 0,ariaControls:void 0,useMouseDown:!1,isTextButton:!1,isSecondaryButton:!1,ariaHidden:void 0,isViewMoreButton:!1,isNegativeButton:!1,isIconButton:!1,iconName:void 0,iconSize:"md",tooltipId:void 0,type:"button",tabIndex:void 0});t.a=S},function(e,t,n){e.exports=n(1632)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(!e)throw new Error("Cannot create element with no HTML!");var t=document.createElement("div");t.innerHTML=e;var n=t.children[0];return n.parentNode.removeChild(n),n},e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1300));var s=function(e,t,n){for(n=n instanceof Array?n:[n||document.body];e;){if((0,i.default)(e,t))return e;if(-1!==(0,r.default)(n).call(n,e))return!1;e=e.parentNode}return!1};t.default=s,e.exports=t.default},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var a=n(1254);e.exports=!a((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var a=n(1259);e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.boolean=function(e,t,n){var a=e.getAttribute(t);return null===a?n:"true"===a||""===a},t.number=function(e,t,n){var a=e.getAttribute(t);return null===a?n:(0,r.default)(a,10)},t.string=function(e,t,n){var a=e.getAttribute(t);return null===a?n:a};var r=a(n(1260))},function(e,t,n){var a=n(1313);e.exports=function(e){return Object(a(e))}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1240)),i=a(n(1354)),s={setError:function(e){return this._isMessageVisible()||this._showMessage(),this.clearWarning(),this.clearSuccess(),this.clearInfo(),this.el.setAttribute("data-error",!0),e&&this.setMessage(e),this},clearError:function(){return this.el.removeAttribute("data-error",!0),this},setWarning:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearSuccess(),this.clearInfo(),this.el.setAttribute("data-warning",!0),e&&this.setMessage(e),this},clearWarning:function(){return this.el.removeAttribute("data-warning",!0),this},setSuccess:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.clearInfo(),this.el.setAttribute("data-success",!0),e&&this.setMessage(e),this},clearSuccess:function(){return this.el.removeAttribute("data-success",!0),this},setInfo:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.clearSuccess(),this.el.setAttribute("data-info",!0),e&&this.setMessage(e),this},clearInfo:function(){return this.el.removeAttribute("data-info",!0),this},clearMessages:function(){var e;return this._hideMessage((0,r.default)(e=function(){this.clearError(),this.clearWarning(),this.clearSuccess(),this.clearInfo()}).call(e,this)),this},setMessage:function(e){return this.messageEl.innerHTML=e,this},_showMessage:function(){this.messageEl.parentNode||this.el.appendChild(this.messageEl),(0,i.default)({el:this.el,toggleEl:this.messageEl})},_hideMessage:function(e){(0,i.default)({el:this.el,toggleEl:this.messageEl,toggleValue:"none",action:"collapse",onComplete:e})},_isMessageVisible:function(){return this.el.getAttribute("data-error")||this.el.getAttribute("data-warning")||this.el.getAttribute("data-success")}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n;return function(){var a=arguments;n&&window.clearTimeout(n),n=window.setTimeout((function(){e.apply(this,a)}),t)}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a={validate:function(){var e=this.validatePattern;if(!this.onValidate||!e)return this;var t=new RegExp(e);return this.onValidate(t.test(this.getValue()),this.getValue(),this),this}};t.default=a,e.exports=t.default},function(e,t,n){var a=n(1269),r=n(1279),i=n(1308);e.exports=a?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(1378),r=n(1313);e.exports=function(e){return a(r(e))}},function(e,t,n){var a=n(1640),r=n(1644);function i(t){return e.exports=i="function"==typeof r&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},i(t)}e.exports=i},function(e,t,n){var a=n(1269),r=n(1420),i=n(1270),s=n(1328),o=Object.defineProperty;t.f=a?o:function(e,t,n){if(i(e),t=s(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(82),g=n.n(m),v=n(2),y=n.n(v),b=(n(6),n(1)),C=n.n(b),E=n(39),k=n.n(E),O=n(50),_=n(12),P=(n(1940),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.tag=this.props.tag}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,a=e.iconSize,r=e.params,i=e.iconFill,s=k()("dxp-title",this.props.className);return!y()(t)&&C.a.createElement(this.tag,{className:s},!g()(n)&&C.a.createElement(O.c,{name:n,size:a,fill:i}),y()(r)?Object(_.a)(t):Object(_.a)(t,r))}}]),t}(b.Component));f()(P,"defaultProps",{className:"",title:"",icon:void 0,iconSize:"",iconFill:!1,tag:"div",params:{}}),n.d(t,"a",(function(){return P}))},function(e,t,n){e.exports=n(1763)},function(e,t,n){"use strict";t.__esModule=!0,t.get=function(e,t){var n;for(n in t=t||a)if(e>=t[n].min&&e<=t[n].max)return n};var a={xs:{min:0,max:543},sm:{min:544,max:795},md:{min:796,max:1047},lg:{min:1048,max:1799},xl:{min:1800,max:1/0}}},function(e,t,n){var a=n(1336),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(21),C=n.n(b),E=n(1),k=n.n(E),O=(n(6),n(39)),_=n.n(O),P=n(1297),S=n.n(P),N=n(1565),w=n.n(N),A=n(1540),T=n.n(A),I=n(111),D=n(1249),x=n(1264),j=n(1561),L=n(12),F=n(122),B=n.n(F),R=n(329),M=n.n(R),V=n(67),U=n.n(V),q=n(50),H=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"updateBreadcrumbItemState",(function(){return n.setState({state:n.props.state})})),y()(f()(n),"onItemClick",(function(e){var t=n.props,a=t.onClick,r=t.index;e.preventDefault(),e.stopPropagation(),a&&a({index:r})})),y()(f()(n),"onItemKeyPress",(function(e){return S.a.isEventKey(e,"enter")&&n.allowEvent()?n.onItemClick(e):n.props.onKeyPress&&n.props.onKeyPress(e)})),y()(f()(n),"onItemHover",(function(e){var t=n.props,a=t.onHover,r=t.index;e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.canHoverOut=!1,n.setState({isHovering:!0}),a&&a({index:r}))})),y()(f()(n),"onItemHoverOut",(function(e){e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.canHoverOut=!0,n.debounceHover())})),y()(f()(n),"onItemFocus",(function(e){var t=n.props,a=t.onFocus,r=t.index;e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.setState({isHovering:!0}),a&&a({index:r}))})),y()(f()(n),"onItemBlur",(function(e){var t=n.props,a=t.onBlur,r=t.index;e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.setState({isHovering:!1}),a&&a({index:r}))})),n.state={isHovering:!1,state:e.state},n}return g()(t,e),l()(t,null,[{key:"renderIcon",value:function(e){return U()(e)?k.a.createElement(q.c,{name:e,fill:!0}):e}}]),l()(t,[{key:"componentDidUpdate",value:function(e){e.state!==this.props.state&&this.updateBreadcrumbItemState()}},{key:"debounceHover",value:function(){var e=this;return M()((function(){return e.canHoverOut&&e.processHover()}),50)()}},{key:"processHover",value:function(){var e=this.props,t=e.onHoverOut,n=e.index;this.setState({isHovering:!1}),t&&t({index:n})}},{key:"allowEvent",value:function(){return this.state.state!==t.ITEM_STATES.DISABLED}},{key:"renderHoveringContent",value:function(){var e=this.props,n=e.icon,a=e.title,r=e.subTitle,i=e.hoverTitle,s=e.hoverIcon,o=e.hoverSubTitle,l=e.children,c=e.index;return[s&&k.a.createElement("span",{key:"breadcrumb-item-icon-".concat(c),"aria-hidden":"true",className:"spark-step-indicator__icon"},t.renderIcon(s)),!s&&n&&k.a.createElement("span",{key:"breadcrumb-item-icon-".concat(c),"aria-hidden":"true",className:"spark-step-indicator__icon"},t.renderIcon(n)),k.a.createElement("span",{key:"breadcrumb-item-text-".concat(c),className:"spark-step-indicator__text"},l,!l&&i&&k.a.createElement("span",{className:"spark-step-indicator__title-text"},i),!l&&!i&&a&&k.a.createElement("span",{className:"spark-step-indicator__title-text"},a),!l&&o&&k.a.createElement("small",{className:"spark-step-indicator__subtext"},o),!l&&!o&&r&&k.a.createElement("small",{className:"spark-step-indicator__subtext"},r))]}},{key:"renderContent",value:function(){var e=this.props,n=e.icon,a=e.title,r=e.subTitle,i=e.children,s=e.index;return[n&&k.a.createElement("span",{key:"breadcrumb-item-icon-".concat(s),"aria-hidden":"true",className:"spark-step-indicator__icon"},t.renderIcon(n)),k.a.createElement("span",{key:"breadcrumb-item-text-".concat(s),className:"spark-step-indicator__text"},i,!i&&a&&k.a.createElement("span",{className:"spark-step-indicator__title-text"},a),!i&&r&&k.a.createElement("small",{className:"spark-step-indicator__subtext"},r))]}},{key:"render",value:function(){var e=this.props,n=e.className,a=e.index,r=this.state,i=r.state,s=r.isHovering,o=i===t.ITEM_STATES.CURRENT||i===t.ITEM_STATES.DISABLED;return k.a.createElement("button",{role:"listitem",type:"button",className:_()("spark-step-indicator__item",n,"spark-step-indicator__item--".concat(i),{"is-hovering":s}),onClick:o?B.a:this.onItemClick,onKeyPress:o?B.a:this.onItemKeyPress,onMouseOver:this.onItemHover,onMouseOut:this.onItemHoverOut,onFocus:this.onItemFocus,onBlur:this.onItemBlur,"aria-current":i===t.ITEM_STATES.CURRENT?"step":void 0,disabled:i===t.ITEM_STATES.DISABLED,"data-index":a},!s&&this.renderContent(),s&&this.renderHoveringContent())}}]),t}(E.PureComponent);y()(H,"ITEM_STATES",{COMPLETED:"completed",CURRENT:"current",ENABLED:"enabled",DISABLED:"disabled"}),y()(H,"defaultProps",{className:void 0,icon:void 0,subTitle:void 0,hoverTitle:void 0,hoverIcon:void 0,hoverSubTitle:void 0,children:void 0,state:H.ITEM_STATES.DISABLED,onClick:void 0,onHover:void 0,onHoverOut:void 0,onFocus:void 0,onBlur:void 0,onKeyPress:void 0});var W=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"componentWillUnmount",(function(){n.sparkInstance.remove()})),y()(f()(n),"onCartSummaryClickHandler",(function(e){var t=n.props,a=t.onCartSummaryClick,r=t.cartCollapsed,i=t.hideCartSummary,s=t.dropdownCollapseBreakpoint;e.stopPropagation(),e.preventDefault(),Object(I.h)(s)&&a({hideCartSummary:i,cartCollapsed:r})})),y()(f()(n),"onCartSummaryKeyUpHandler",(function(e){e.keyCode!==S()("enter")&&e.keyCode!==S()("space")||n.onCartSummaryClickHandler(e)})),y()(f()(n),"onTripEditButtonClickHandler",(function(){n.props.onTripEditButtonClick&&n.props.onTripEditButtonClick()})),n.breadcrumb=k.a.createRef(),n.breadcrumbList=k.a.createRef(),n}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.sparkInstance=new T.a(this.breadcrumb.current,{type:"standard-dropdown",dropdownLabel:this.props.dropDownLabel}),this.sparkInstance._calculateRespStyle=function(){Object(I.h)(e.props.dropdownCollapseBreakpoint)?e.sparkInstance._switchToDropdown():e.sparkInstance._switchFromDropdown(),e.breadcrumbList.current&&e.breadcrumbList.current.classList.remove("spark-step-indicator__list--condensed")},this.breadcrumbList.current&&this.sparkInstance&&!C()(this.sparkInstance._dropdownHeader&&this.sparkInstance._dropdownHeader.classList,"spark-step-indicator__item--dropdown__header")&&this.sparkInstance._calculateRespStyle()}},{key:"componentDidUpdate",value:function(){this.sparkInstance&&this.sparkInstance.update()}},{key:"renderTripEditIcon",value:function(){var e=this.props,t=e.PACKAGE_NAME_CLASSIFIED,n=(e.tripEditIcon,e.showTripEditButton);return k.a.createElement("div",{className:"spark-step-indicator__edit"},k.a.createElement(x.a,{className:"spark-step-indicator__edit-button",ariaHidden:!n,onClick:this.onTripEditButtonClickHandler},Object(L.i)("breadcrumbsFlows.edit"),k.a.createElement("span",{className:"spark-assistive-text"},Object(L.i)("".concat(t,".edit")))))}},{key:"renderCartSummary",value:function(){var e=this.props,t=e.cartPrice,n=e.PACKAGE_NAME_CLASSIFIED,a=e.summaryLabel,i=e.cartCollapsed,s=e.onCartSummaryClick,o=e.dropdownCollapseBreakpoint,l=e.showPriceProcessing,c=_()("spark-step-indicator__cart","spark-numerals",{expanded:!i,blank:!t}),u=Object(I.h)(o)&&s?{tabIndex:0,role:"button","aria-expanded":!i,onClick:this.onCartSummaryClickHandler,onKeyUp:this.onCartSummaryKeyUpHandler}:{tabIndex:-1};return k.a.createElement("div",r()({},u,{className:c}),t&&!l&&k.a.createElement(D.a,{price:t,PACKAGE_NAME_CLASSIFIED:n}),t&&a&&k.a.createElement("div",{className:"cart-summary-label"},a),l&&k.a.createElement(j.a,{className:"small dark"}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,a=e.subTitle,r=e.stickyBottomBoundaryID,i=e.ariaLabel,s=e.children,o=e.hideCartSummary,l=e.showCondensed,c=e.showTripEditButton,u=_()("spark-step-indicator","ducp-component-breadcrumbs",t,{"condensed-breadcrumb":l,"has-trip-button":c});return k.a.createElement(w.a,{enabled:Boolean(r),bottomBoundary:r||void 0},k.a.createElement("div",{ref:this.breadcrumb,role:"navigation","aria-label":i,className:u},k.a.createElement("span",{className:_()("spark-step-indicator__title",{"spark-hidden":!n})},n),k.a.createElement("div",{className:"spark-step-indicator__body"},k.a.createElement("div",{className:_()("spark-step-indicator__subtitle",{"spark-hidden":!a})},a),k.a.createElement("div",{ref:this.breadcrumbList,className:"spark-step-indicator__list",role:"list"},s),c&&this.renderTripEditIcon(),!o&&this.renderCartSummary())))}}]),t}(E.PureComponent);y()(W,"defaultProps",{title:void 0,subTitle:void 0,ariaLabel:"Breadcrumb",stickyBottomBoundaryID:"#main",className:void 0,cartPrice:void 0,cartCollapsed:!1,dropdownCollapseBreakpoint:I.a.MD,hideCartSummary:!1,onCartSummaryClick:void 0,showCondensed:!1,showTripEditButton:!1,tripEditIcon:void 0,onTripEditButtonClick:void 0,dropDownLabel:void 0,summaryLabel:void 0,showPriceProcessing:!1}),y()(W,"ITEM_STATES",H.ITEM_STATES),y()(W,"Item",H),n.d(t,"a",(function(){return H}));t.b=W},function(e,t,n){var a=n(1252),r=n(1255),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(a[e])||i(r[e]):a[e]&&a[e][t]||r[e]&&r[e][t]}},function(e,t){e.exports={}},function(e,t,n){"use strict";n.d(t,"p",(function(){return z})),n.d(t,"b",(function(){return J})),n.d(t,"n",(function(){return ne})),n.d(t,"l",(function(){return ae})),n.d(t,"a",(function(){return re})),n.d(t,"j",(function(){return ie})),n.d(t,"i",(function(){return se})),n.d(t,"h",(function(){return oe})),n.d(t,"d",(function(){return le})),n.d(t,"o",(function(){return ce})),n.d(t,"c",(function(){return ue})),n.d(t,"f",(function(){return pe})),n.d(t,"e",(function(){return he})),n.d(t,"m",(function(){return fe})),n.d(t,"k",(function(){return me})),n.d(t,"g",(function(){return ge}));var a=n(1388),r=n.n(a),i=n(3),s=n.n(i),o=n(145),l=n.n(o),c=n(58),u=n.n(c),d=n(15),p=n.n(d),h=n(52),f=n.n(h),m=n(21),g=n.n(m),v=n(67),y=n.n(v),b=n(23),C=n.n(b),E=n(16),k=n.n(E),O=n(112),_=n.n(O),P=n(36),S=n.n(P),N=n(19),w=n.n(N),A=n(56),T=n.n(A),I=n(2),D=n.n(I),x=n(18),j=n.n(x),L=n(5),F=n.n(L),B=n(0),R=n.n(B),M=n(4),V=n.n(M),U=n(38),q=n.n(U),H=n(17),W=n.n(H),G=n(12);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e,t,n){return D()(n)?t:V()(t,(function(t,a,r){var i=e[r];return t[r]=function(e,t,n){var a=t.specialRequests.filter((function(e){return g()(n,e)})),r=R()(e,"specialRequests",[]).concat(a);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{specialRequests:r})}(a,i,n),t}),{})}function Y(e){return q()(e,["firstName","middleName","maidenName","lastName","prefix","suffix"])}function Q(e){return e.map((function(e){return y()(e)?e:e.countryCode.concat(e.number)}))}function X(e){var t=q()(e,["gender","dateOfBirth","redressNumber","type","emails","address","phones"]),n=k()({},t,{knownTravelerNumber:e.knownTravelerNumber}),a=function(e){if(e){return e.number&&function(e){var t=e.number,n=e.company,a=e.address,i=(a.addressType,r()(a,["addressType"])),s=e.phones,o=e.email;return{number:t,company:n,address:i,phones:Q(s),email:o}}(e)}return}(R()(e,"generalSalesTaxData",void 0));return a?j()(n,{generalSalesTaxData:a}):n}function J(e,t){return V()(l()(1,t+1),(function(t,n){return 1===n?t.push(R()(e,"options",[])):t.push(R()(e,"options".concat(n),R()(e,"options",[]))),u()(t)}),[])}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=e.type,r=R()(t,["passengerForm","".concat(a),"specialRequests"],{}),i=R()(r,"numberOfSSR",1),s=J(r,i),o=n?R()(e,"specialRequests"):_()(R()(e,"specialRequests"),s);return k()({},q()(e,["mealPreference","seatPreference"]),{specialRequests:o})}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V()(R()(e,"frequentFlyer"),(function(e,n){var a=t,r=n.frequentFlyerProgram,i=n.frequentFlyerNumber,s={};return r&&i&&(s=j()(s,{airline:r,number:i})),!D()(s)&&a&&(s=j()(s,{marketingCarrier:a})),D()(s)||e.push(s),e}),[])}function ee(e){return R()(e,"documentInfo")}function te(e){return R()(e,"visaInfo")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=0;return F()(e,(function(e){return{passengerIndex:r+=1,passengerDetails:Y(e),passengerInfo:X(e),preferences:{specialPreferences:$(e,t,a),frequentFlyer:Z(e,n)},documentInfo:ee(e),visaInfo:te(e)}}))}function ae(e){return 1===T()(w()(e,{name:"required"}))}function re(e,t,n,a){var r=ae(n),i=D()(a)?Object(G.i)(e):Object(G.i)(e,a);return"".concat(i," ").concat(Object(G.i)(t,{isRequired:r}))}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return R()(t,"".concat(e,".isEnabled[").concat(n,"]"),R()(t,"".concat(e,".isEnabled"),!1))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return R()(t,"".concat(e,".isEditable[").concat(n,"]"),R()(t,"".concat(e,".isEditable"),!0))}function oe(e,t){return C()(t)?t:R()(e,t,[])}function le(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"app",r=arguments.length>4?arguments[4]:void 0;return re("".concat(a,".").concat(e,".label"),"passengers.optional",oe(n,R()(t,"".concat(e,".validators"))),r)}function ce(e,t,n){var a=R()(t,"".concat(e,".options"),[]),r=n>0?R()(t,"".concat(e,".options").concat(n+1),a):a,i=R()(t,"".concat(e,".prefix"));return F()(r,(function(e){var t=D()(i)?e:"".concat(i,".").concat(e);return{value:e,label:Object(G.i)(t)}}))}function ue(e){var t=e.get("provincesConfiguration"),n=R()(t,"countries",[]);return F()(n,(function(e){var t=D()("country")?e.code:"".concat("country",".").concat(e.code),n=Object(G.i)(t);return{value:e.code,label:n}}))}function de(e,t,n){var a;if(R()(e,"dateOfBirth.validateAgeOnInboundDate",!1)){var r=S()(t);a=W()(R()(r,"date")).format(n)}else a=W()(R()(t,"[0].date")).format(n);return W()(a,n)}function pe(e,t,n){var a=de(e,t,n);return a.set(R()(e,"dateOfBirth.ageRangeMaxType","year"),a.get(R()(e,"dateOfBirth.ageRangeMaxType","year"))-R()(e,"dateOfBirth.ageRangeMax"))}function he(e,t,n){var a=de(e,t,n);return a.set(R()(e,"dateOfBirth.ageRangeMinType","year"),a.get(R()(e,"dateOfBirth.ageRangeMinType","year"))-R()(e,"dateOfBirth.ageRangeMin"))}function fe(e){return W.a.isMoment(e)&&e.isValid()}function me(e,t,n,a,r){var i=W()(e,a).locale(r),s=W()(pe(t,n,a),a).locale(r);if(fe(s)&&i&&(i.isBefore(s,"day")||i.isSame(s,"day")))return!1;var o=W()(he(t,n,a),a).locale(r);return!(fe(o)&&i&&i.isAfter(o,"day"))}var ge=function(e,t,n){var a={travelDocumentInfo:ve,frequentFlyerInfo:ye,contactInfo:be,visaDocumentInfo:Ce,goodsAndServicesInfo:Ee,secureFlightInfo:ke,specialRequestsInfo:Oe};return e.reduce((function(e,r){return(0,a[r.name])(t,n)&&e.push(r.name),e}),[])};function ve(e){return!D()(R()(e,"documentInfo"))}function ye(e){return!D()(R()(e,"frequentFlyer"))}function be(e){return!D()(R()(e,"emails"))||!D()(R()(e,"phones"))}function Ce(e){return!D()(R()(e,"visaInfo"))}function Ee(e){return!D()(R()(e,"generalSalesTaxData"))}function ke(e){return!D()(R()(e,"knownTravelerNumber"))||!D()(R()(e,"redressNumber"))}function Oe(e,t){var n=R()(t,"specialRequests.options",[]),a=p()(R()(e,"specialRequests",[]),(function(e){return f()(n,e)>-1}));return!D()(R()(e,"mealPreference"))||!D()(a)||!D()(R()(e,"seatPreference"))}},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(38),C=n.n(b),E=n(56),k=n.n(E),O=n(128),_=n.n(O),P=n(67),S=n.n(P),N=n(77),w=n.n(N),A=n(0),T=n.n(A),I=n(79),D=n.n(I),x=n(2),j=n.n(x),L=n(73),F=n.n(L),B=n(16),R=n.n(B),M=n(6),V=n.n(M),U=n(1),q=n.n(U),H=n(2268),W=n.n(H),G=function(e,t){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var K,z,Y,Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"}(K||(K={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(z||(z={})),function(e){e.OBSERVED="observed",e.REQUESTED="requested"}(Y||(Y={}));var X,J,$,Z,ee,te=((X={})[z.VERTICAL]="scrollTop",X[z.HORIZONTAL]="scrollLeft",X),ne=((J={})[z.VERTICAL]="height",J[z.HORIZONTAL]="width",J),ae=(($={})[z.VERTICAL]="top",$[z.HORIZONTAL]="left",$),re=((Z={})[z.VERTICAL]="marginTop",Z[z.HORIZONTAL]="marginLeft",Z),ie=((ee={})[z.VERTICAL]="marginBottom",ee[z.HORIZONTAL]="marginRight",ee),se=function(){function e(e){var t=e.itemCount,n=e.itemSizeGetter,a=e.estimatedItemSize;this.itemSizeGetter=n,this.itemCount=t,this.estimatedItemSize=a,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return e.prototype.updateConfig=function(e){var t=e.itemCount,n=e.itemSizeGetter,a=e.estimatedItemSize;null!=t&&(this.itemCount=t),null!=a&&(this.estimatedItemSize=a),null!=n&&(this.itemSizeGetter=n)},e.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(e){if(e<0||e>=this.itemCount)throw Error("Requested index "+e+" is outside of range 0.."+this.itemCount);if(e>this.lastMeasuredIndex){for(var t=this.getSizeAndPositionOfLastMeasuredItem(),n=t.offset+t.size,a=this.lastMeasuredIndex+1;a<=e;a++){var r=this.itemSizeGetter(a);if(null==r||isNaN(r))throw Error("Invalid size returned for index "+a+" of value "+r);this.itemSizeAndPositionData[a]={offset:n,size:r},n+=r}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(e){var t=e.align,n=void 0===t?K.START:t,a=e.containerSize,r=e.currentOffset,i=e.targetIndex;if(a<=0)return 0;var s,o=this.getSizeAndPositionForIndex(i),l=o.offset,c=l-a+o.size;switch(n){case K.END:s=c;break;case K.CENTER:s=l-(a-o.size)/2;break;case K.START:s=l;break;default:s=Math.max(c,Math.min(l,r))}var u=this.getTotalSize();return Math.max(0,Math.min(u-a,s))},e.prototype.getVisibleRange=function(e){var t=e.containerSize,n=e.offset,a=e.overscanCount;if(0===this.getTotalSize())return{};var r=n+t,i=this.findNearestItem(n);if(void 0===i)throw Error("Invalid offset "+n+" specified");var s=this.getSizeAndPositionForIndex(i);n=s.offset+s.size;for(var o=i;n<r&&o<this.itemCount-1;)o++,n+=this.getSizeAndPositionForIndex(o).size;return a&&(i=Math.max(0,i-a),o=Math.min(o+a,this.itemCount-1)),{start:i,stop:o}},e.prototype.resetItem=function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)},e.prototype.findNearestItem=function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),n=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:n,low:0,offset:e}):this.exponentialSearch({index:n,offset:e})},e.prototype.binarySearch=function(e){for(var t=e.low,n=e.high,a=e.offset,r=0,i=0;t<=n;){if(r=t+Math.floor((n-t)/2),(i=this.getSizeAndPositionForIndex(r).offset)===a)return r;i<a?t=r+1:i>a&&(n=r-1)}return t>0?t-1:0},e.prototype.exponentialSearch=function(e){for(var t=e.index,n=e.offset,a=1;t<this.itemCount&&this.getSizeAndPositionForIndex(t).offset<n;)t+=a,a*=2;return this.binarySearch({high:Math.min(t,this.itemCount-1),low:Math.floor(t/2),offset:n})},e}(),oe={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},le={position:"relative",width:"100%",minHeight:"100%"},ce={position:"absolute",top:0,left:0,width:"100%"},ue=Q({},ce,{position:"sticky"}),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemSizeGetter=function(e){return function(n){return t.getSize(n,e)}},t.sizeAndPositionManager=new se({itemCount:t.props.itemCount,itemSizeGetter:t.itemSizeGetter(t.props.itemSize),estimatedItemSize:t.getEstimatedItemSize()}),t.state={offset:t.props.scrollOffset||null!=t.props.scrollToIndex&&t.getOffsetForIndex(t.props.scrollToIndex)||0,scrollChangeReason:Y.REQUESTED},t.styleCache={},t.getRef=function(e){t.rootNode=e},t.handleScroll=function(e){var n=t.props.onScroll,a=t.getNodeOffset();a<0||t.state.offset===a||e.target!==t.rootNode||(t.setState({offset:a,scrollChangeReason:Y.OBSERVED}),"function"==typeof n&&n(a,e))},t}return function(e,t){function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.scrollOffset,n=e.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),null!=t?this.scrollTo(t):null!=n&&this.scrollTo(this.getOffsetForIndex(n))},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.estimatedItemSize,a=t.itemCount,r=t.itemSize,i=t.scrollOffset,s=t.scrollToAlignment,o=t.scrollToIndex,l=e.scrollToIndex!==o||e.scrollToAlignment!==s,c=e.itemCount!==a||e.itemSize!==r||e.estimatedItemSize!==n;e.itemSize!==r&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.itemSize)}),e.itemCount===a&&e.estimatedItemSize===n||this.sizeAndPositionManager.updateConfig({itemCount:e.itemCount,estimatedItemSize:this.getEstimatedItemSize(e)}),c&&this.recomputeSizes(),e.scrollOffset!==i?this.setState({offset:e.scrollOffset||0,scrollChangeReason:Y.REQUESTED}):"number"==typeof e.scrollToIndex&&(l||c)&&this.setState({offset:this.getOffsetForIndex(e.scrollToIndex,e.scrollToAlignment,e.itemCount),scrollChangeReason:Y.REQUESTED})},t.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.offset,r=n.scrollChangeReason;t.offset!==a&&r===Y.REQUESTED&&this.scrollTo(a)},t.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollTo=function(e){var t=this.props.scrollDirection,n=void 0===t?z.VERTICAL:t;this.rootNode[te[n]]=e},t.prototype.getOffsetForIndex=function(e,t,n){void 0===t&&(t=this.props.scrollToAlignment),void 0===n&&(n=this.props.itemCount);var a=this.props.scrollDirection,r=void 0===a?z.VERTICAL:a;return(e<0||e>=n)&&(e=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:this.props[ne[r]],currentOffset:this.state&&this.state.offset||0,targetIndex:e})},t.prototype.recomputeSizes=function(e){void 0===e&&(e=0),this.styleCache={},this.sizeAndPositionManager.resetItem(e)},t.prototype.render=function(){var e,t=this,n=this.props,a=(n.estimatedItemSize,n.height),r=n.overscanCount,i=void 0===r?3:r,s=n.renderItem,o=(n.itemCount,n.itemSize,n.onItemsRendered),l=(n.onScroll,n.scrollDirection),c=void 0===l?z.VERTICAL:l,u=(n.scrollOffset,n.scrollToIndex,n.scrollToAlignment,n.stickyIndices),d=n.style,p=n.width,h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n}(n,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),f=this.state.offset,m=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[ne[c]]||0,offset:f,overscanCount:i}),g=m.start,v=m.stop,y=[],b=Q({},oe,d,{height:a,width:p}),C=Q({},le,((e={})[ne[c]]=this.sizeAndPositionManager.getTotalSize(),e));if(null!=u&&0!==u.length&&(u.forEach((function(e){return y.push(s({index:e,style:t.getStyle(e,!0)}))})),c===z.HORIZONTAL&&(C.display="flex")),void 0!==g&&void 0!==v){for(var E=g;E<=v;E++)null!=u&&u.includes(E)||y.push(s({index:E,style:this.getStyle(E,!1)}));"function"==typeof o&&o({startIndex:g,stopIndex:v})}return Object(U.createElement)("div",Q({ref:this.getRef},h,{style:b}),Object(U.createElement)("div",{style:C},y))},t.prototype.getNodeOffset=function(){var e=this.props.scrollDirection,t=void 0===e?z.VERTICAL:e;return this.rootNode[te[t]]},t.prototype.getEstimatedItemSize=function(e){return void 0===e&&(e=this.props),e.estimatedItemSize||"number"==typeof e.itemSize&&e.itemSize||50},t.prototype.getSize=function(e,t){return"function"==typeof t?t(e):Array.isArray(t)?t[e]:t},t.prototype.getStyle=function(e,t){var n=this.styleCache[e];if(n)return n;var a,r,i=this.props.scrollDirection,s=void 0===i?z.VERTICAL:i,o=this.sizeAndPositionManager.getSizeAndPositionForIndex(e),l=o.size,c=o.offset;return this.styleCache[e]=t?Q({},ue,((a={})[ne[s]]=l,a[re[s]]=c,a[ie[s]]=-(c+l),a.zIndex=1,a)):Q({},ce,((r={})[ne[s]]=l,r[ae[s]]=c,r))},t.defaultProps={overscanCount:3,scrollDirection:z.VERTICAL,width:"100%"},t.propTypes={estimatedItemSize:M.number,height:Object(M.oneOfType)([M.number,M.string]).isRequired,itemCount:M.number.isRequired,itemSize:Object(M.oneOfType)([M.number,M.array,M.func]).isRequired,onScroll:M.func,onItemsRendered:M.func,overscanCount:M.number,renderItem:M.func.isRequired,scrollOffset:M.number,scrollToIndex:M.number,scrollToAlignment:Object(M.oneOf)([K.AUTO,K.START,K.CENTER,K.END]),scrollDirection:Object(M.oneOf)([z.HORIZONTAL,z.VERTICAL]),stickyIndices:Object(M.arrayOf)(M.number),style:M.object,width:Object(M.oneOfType)([M.number,M.string])},t}(U.PureComponent),pe=n(2269),he=n.n(pe),fe=n(2270),me=n.n(fe),ge=n(39),ve=n.n(ge),ye=n(2271),be=n.n(ye),Ce=n(2273),Ee=n.n(Ce);function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Oe=W.a.first,_e=W.a.tail;function Pe(e,t,n){if(void 0===n&&(n=!1),!e||0===e.length)return"+";if(e&&e.length<2||!t||!n)return"+"+e;var a=t.split("").reduce((function(e,t){return 0===e.remainingText.length?e:"."!==t?{formattedText:e.formattedText+t,remainingText:e.remainingText}:{formattedText:e.formattedText+Oe(e.remainingText),remainingText:_e(e.remainingText)}}),{formattedText:"",remainingText:e.split("")});return a.formattedText+a.remainingText.join("")}var Se=W.a.find,Ne=W.a.propEq,we=W.a.startsWith,Ae=Ee.a.allCountries,Te=Ee.a.allCountryCodes;function Ie(e,t){var n,a=t.defaultCountry,r=t.onlyCountries,i=Se(Ne("iso2",a),Ae)||r[0],s=e.substr(0,4);return""===e.trim()?i:(n=r.reduce((function(t,n){if(Te[s]&&Te[s][0]===n.iso2)return n;if(Te[s]&&Te[s][0]===t.iso2)return t;if(we(n.dialCode,e)){if(n.dialCode.length>t.dialCode.length)return n;if(n.dialCode.length===t.dialCode.length&&n.priority<t.priority)return n}return t}),{dialCode:"",priority:10001}))&&n.name?n:i}var De=W.a.find,xe=W.a.propEq,je=W.a.equals,Le=W.a.findIndex,Fe=W.a.startsWith,Be=Ee.a.allCountries,Re=Ee.a.iso2Lookup,Me=!0;Me="undefined"==typeof document||Boolean(document.createElement("input").setSelectionRange);var Ve=38,Ue=40,qe=13,He=27,We=65,Ge=90,Ke=32;var ze=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this).numberInputRef=null,n._cursorToEnd=function(e){void 0===e&&(e=!1);var t=n.numberInputRef;if(e)n._fillDialCode();else if(t&&t.focus(),Me&&t){var a=t.value.length;t.setSelectionRange(a,a)}},n.handleFlagDropdownClick=function(e){if(!n.props.disabled){e.preventDefault();var t=n.state.preferredCountries,a=n.state.selectedCountry,r=n.props.onlyCountries,i=Le(xe("iso2",a.iso2),t.concat(r));n.setState({showDropDown:!n.state.showDropDown,highlightCountryIndex:i})}},n.handleInput=function(e){var t="+",a=n.state.selectedCountry,r=n.state.freezeSelection;if(e.target.value!==n.state.formattedNumber){if(e.preventDefault&&(e.preventDefault(),e.nativeEvent.preventDefault()),e.target.value&&e.target.value.length>0){var i=e.target.value.replace(/\D/g,"");(!n.state.freezeSelection||a.dialCode.length>i.length)&&(a=Ie(i.substring(0,6),n.props),r=!1),t=Pe(i,a&&a.format?a.format:null,n.props.autoFormat)}var s=e.target.selectionStart||0,o=n.state.formattedNumber,l=t.length-o.length,c=a.dialCode.length>0?a:n.state.selectedCountry;n.setState({formattedNumber:t,freezeSelection:r,selectedCountry:c},(function(){Me&&(1===s&&2===t.length&&(s+=1),l>0&&(s-=l),s>0&&o.length>=t.length&&n.numberInputRef&&n.numberInputRef.setSelectionRange(s,s)),n.props.onChange&&n.props.onChange(t,c)}))}},n.handleInputClick=function(){n.setState({showDropDown:!1})},n.handleFlagItemClick=function(e){var t=n.props.onlyCountries,a=n.state.selectedCountry,r=De((function(t){return t.iso2===e.iso2}),t);if(r&&a.iso2!==r.iso2){var i=Pe(function(e,t,n){var a=RegExp("^("+e.dialCode+")"),r=n.match(a),i=n.replace(a,t.dialCode);return null===r&&i===n?t.dialCode+n:i}(a,r,n.state.formattedNumber.replace(/\D/g,"")),r.format,n.props.autoFormat);n.setState({showDropDown:!1,selectedCountry:r,freezeSelection:!0,formattedNumber:i},(function(){n._cursorToEnd(),n.props.onChange&&n.props.onChange(i,r)}))}else n.setState({showDropDown:!1})},n.handleInputFocus=function(){"function"==typeof n.props.onFocus&&n.props.onFocus(n.state.formattedNumber,n.state.selectedCountry),n._fillDialCode()},n._fillDialCode=function(){var e=n.state.selectedCountry;n.numberInputRef&&"+"===n.numberInputRef.value&&n.setState({formattedNumber:"+"+e.dialCode})},n._getHighlightCountryIndex=function(e){var t=n.props.onlyCountries,a=n.state,r=a.highlightCountryIndex,i=a.preferredCountries,s=r+e;return s<0||s>=t.length+i.length?s-e:s},n._searchCountry=me()((function(e){var t=n.props.onlyCountries;return e&&0!==e.length?t.filter((function(t){return!!t.name&&Fe(e.toLowerCase(),t.name.toLowerCase())}),ke(n))[0]:null})),n.searchCountry=function(){var e=n.props.onlyCountries,t=n._searchCountry(n.state.queryString)||e[0],a=Le(xe("iso2",t.iso2),n.props.onlyCountries)+n.state.preferredCountries.length;n.setState({queryString:"",highlightCountryIndex:a})},n.handleKeydown=function(e){var t=n.props.onlyCountries;if(n.state.showDropDown&&!e.metaKey&&!e.altKey){e.preventDefault&&(e.preventDefault(),e.nativeEvent.preventDefault());var a=function(e){var t=n._getHighlightCountryIndex(e);n.setState({highlightCountryIndex:t})};switch(e.which){case Ue:a(1);break;case Ve:a(-1);break;case qe:n.handleFlagItemClick(n.state.preferredCountries.concat(t)[n.state.highlightCountryIndex]);break;case He:n.setState({showDropDown:!1},n._cursorToEnd);break;default:(e.which>=We&&e.which<=Ge||e.which===Ke)&&n.setState({queryString:n.state.queryString+String.fromCharCode(e.which)},n.state.debouncedQueryStingSearcher)}}},n.handleInputKeyDown=function(e){e.which===qe&&"function"==typeof n.props.onEnterKeyPress&&n.props.onEnterKeyPress(e)},n.handleClickOutside=function(){n.state.showDropDown&&n.setState({showDropDown:!1})},n.getCountryDropDownList=function(){var e=n.props.onlyCountries,t=n.state,a=t.highlightCountryIndex,r=t.preferredCountries.concat(e);return Object(U.createElement)(de,{width:window.innerWidth-20<400?window.innerWidth-20:400,height:300,itemCount:r.length,itemSize:40,style:n.props.listStyle,className:"country-list",scrollToIndex:a,scrollToAlignment:"center",renderItem:function(e){var t=e.index,a=e.style,i=r[t],s=ve()(n.props.listItemClassName,{preferred:Le(xe("iso2",i.iso2),n.state.preferredCountries)>=0,highlight:n.state.highlightCountryIndex===t}),o="flag "+i.iso2;return Object(U.createElement)("div",{key:"flag_no_"+t,"data-flag-key":"flag_no_"+t,className:s,"data-dial-code":i.dialCode,"data-country-code":i.iso2,onClick:n.handleFlagItemClick.bind(ke(n),i),style:a,title:i.name+" - "+i.dialCode,"data-test-id":"src_reacttelephoneinput_test_id_0"},Object(U.createElement)("div",{className:o,style:n.getFlagStyle(),"data-test-id":"src_reacttelephoneinput_test_id_1"}),Object(U.createElement)("span",{className:"country-name","data-test-id":"src_reacttelephoneinput_test_id_2"},i.name),Object(U.createElement)("span",{className:"dial-code","data-test-id":"src_reacttelephoneinput_test_id_3"},"+"+i.dialCode))}})},n.getFlagStyle=function(){return n.props.flagsImagePath?{backgroundImage:"url("+n.props.flagsImagePath+")"}:{}},n.handleInputBlur=function(){var e=n.state.selectedCountry;"function"==typeof n.props.onBlur&&n.props.onBlur(n.state.formattedNumber,e)},n.handleFlagKeyDown=function(e){e.which===Ue&&!1===n.state.showDropDown&&n.handleFlagDropdownClick(e)};var a=t.preferredCountries.map((function(e){return Object.prototype.hasOwnProperty.call(Re,e)?Be[Re[e]]:null})).filter((function(e){return null!==e}));return n.state={firstCall:!0,preferredCountries:a,showDropDown:!1,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:he()(n.searchCountry,600),formattedNumber:"",highlightCountryIndex:0},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentDidMount=function(){this._cursorToEnd(!0)},r.shouldComponentUpdate=function(e,t){return!je(e,this.props)||!je(t,this.state)},a.getDerivedStateFromProps=function(e,t){var n,a=e.onlyCountries,r=t.showDropDown,i=t.preferredCountries,s=t.selectedCountry;if(r)return t;var o=Ie((n=e.value?e.value:e.initialValue&&t.firstCall?e.initialValue:null===e.value?"":t&&t.formattedNumber&&t.formattedNumber.length>0?t.formattedNumber:"").replace(/\D/g,""),e);return s&&o.dialCode===s.dialCode&&(o=s),{firstCall:!1,selectedCountry:o,highlightCountryIndex:Le(xe("iso2",o.iso2),i.concat(a)),formattedNumber:Pe(n.replace(/\D/g,""),o&&o.format?o.format:null,e.autoFormat)}},r.render=function(){var e=this,t=this.props.isValid,n=this.state.selectedCountry,a=ve()({arrow:!0,up:this.state.showDropDown}),r=ve()({"form-control":!0,"invalid-number":!t(this.state.formattedNumber.replace(/\D/g,""))}),i=ve()({"flag-dropdown":!0,"open-dropdown":this.state.showDropDown}),s="flag "+n.iso2,o=this.props.buttonProps,l=this.props.inputProps;return l&&this.props.inputId&&(l.id=this.props.inputId),Object(U.createElement)("div",{className:ve()("react-tel-input",this.props.classNames,this.props.className),"data-test-id":"src_reacttelephoneinput_test_id_4"},Object(U.createElement)("div",{className:i,onKeyDown:this.handleKeydown,"data-test-id":"src_reacttelephoneinput_test_id_6"},Object(U.createElement)("button",Object.assign({onClick:this.handleFlagDropdownClick,className:"selected-flag",title:n.name+": + "+n.dialCode,"data-test-id":"src_reacttelephoneinput_test_id_7",onKeyDown:this.handleFlagKeyDown,type:"button"},o),Object(U.createElement)("div",{className:s,style:this.getFlagStyle(),"data-test-id":"src_reacttelephoneinput_test_id_8"},Object(U.createElement)("div",{className:a,"data-test-id":"src_reacttelephoneinput_test_id_9"}))),this.state.showDropDown?this.getCountryDropDownList():""),Object(U.createElement)("input",Object.assign({onChange:this.handleInput,onClick:this.handleInputClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,value:this.state.formattedNumber,ref:function(t){e.numberInputRef=t},type:"tel",className:r,autoComplete:this.props.autoComplete,pattern:this.props.pattern,required:this.props.required,placeholder:this.props.placeholder,disabled:this.props.disabled},l,{"data-test-id":"src_reacttelephoneinput_test_id_5"})))},a}(U.Component);ze.defaultProps={autoFormat:!0,onlyCountries:Be,defaultCountry:Be[0].iso2,isValid:function(e){var t=Ee.a.allCountries;return W.a.any((function(t){return W.a.startsWith(t.dialCode,e)||W.a.startsWith(e,t.dialCode)}),t)},flagsImagePath:"flags.png",onEnterKeyPress:function(){},preferredCountries:[],disabled:!1,placeholder:"+1 (702) 123-4567",autoComplete:"tel",required:!1,inputProps:{},buttonProps:{},listItemClassName:"country",listStyle:{zIndex:20,backgroundColor:"white"}};var Ye=be()(ze),Qe=n(12),Xe=n(553),Je=n(63),$e=n(129),Ze=n(441),et=Object(M.arrayOf)(Object(M.shape)({name:M.string,iso2:M.string,dialCode:M.string,priority:M.number,format:M.string}));n(2388),n(2389),n(2390);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=R()({},Ze.b,{label:V.a.string,inputType:V.a.string,defaultValue:V.a.oneOfType([V.a.object,V.a.string]),disabled:V.a.bool,placeholder:V.a.string,autoComplete:V.a.string,onKeyUp:V.a.func,className:V.a.string,index:V.a.number,id:V.a.string,isResetPhoneField:V.a.bool,shouldValidateOnChange:V.a.bool,hideCountryFlag:V.a.bool,phoneCountryCodes:et.isRequired}),rt=function(e){function t(e,n){var a;return s()(this,t),a=u()(this,p()(t).call(this,e,n)),y()(f()(a),"name","field-phone"),a.state=nt({},a.state,{formattedNumber:"",selectedCountry:e.defaultCountry,isFlagFocused:!1}),a}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.mapPropsToState(this.props);var e=this.getInput();if(e&&e.parentElement){var t=e.parentElement.getElementsByClassName("selected-flag");if(k()(t))_()(t).setAttribute("aria-label","country code")}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.label!==this.props.label,n=["defaultValue","defaultCountry","isResetPhoneField"],a=!w()(C()(e,n),C()(this.props,n));!t&&a&&this.mapPropsToState(e),t&&this.setState({label:e.label})}},{key:"mapPropsToState",value:function(e){var t=e.defaultValue,n=e.defaultCountry,a=e.isResetPhoneField,r=void 0!==a&&a,i=S()(t)?t:Object(Qe.i)("passengers.phoneNumberValue",{countryCode:t.countryCode||this.getCountryCode(),areaCode:t.areaCode||"",number:t.number||""});i=!r&&this.state.formattedNumber&&this.state.formattedNumber.length>1?this.state.formattedNumber:i,this.setState({selectedCountry:n,formattedNumber:i})}},{key:"getLabel",value:function(){return this.state.error&&this.props.useLabelFeedback?Object(Qe.i)(this.state.error):Object(Qe.i)(this.state.label)||Object(Qe.i)("baseWidgets.phoneLabel")}},{key:"renderLabel",value:function(e){var t=this,n=this.props.isOptional,a="".concat(e,"-").concat(this.props.index,"-").concat(this.props.id),r=this.getLabel();return q.a.createElement("label",{ref:function(e){t.label=e},className:"field-label",key:this.getKey("label"),htmlFor:a,"aria-label":Object(Xe.a)(r)},r,q.a.createElement("span",{className:"field-label-optional-indicator",ref:function(e){t.labelOptionalIndicator=e},hidden:!n,"aria-hidden":!n},Qe.a&&Object(Qe.a)("app.optional")))}},{key:"setValue",value:function(e){var t=this.getInput(),n=Object(Qe.i)("passengers.phoneNumberValue",{countryCode:e.countryCode,areaCode:e.areaCode,number:e.number});t&&(t.value=n)}},{key:"onFlagFocus",value:function(){this.onActive(),this.setState({isFlagFocused:!0})}},{key:"onPhoneInputFocus",value:function(){this.onInputFocus(),this.setState({isFlagFocused:!1})}},{key:"renderInput",value:function(e){var t=this,n=j()(this.state.formattedNumber)?"":this.state.formattedNumber,a=this.state.selectedCountry,i="".concat(e,"-").concat(this.props.index,"-").concat(this.props.id),s=ve()({"disable-flag":this.props.hideCountryFlag}),o={onFocus:function(){return t.onFlagFocus()},ref:function(e){t.selectedFlag=e}},l=nt({key:i,defaultCountry:a||"us",onFocus:function(){return t.onPhoneInputFocus()},onBlur:function(){return t.onInputBlur()},onChange:function(e,n){return t.handlePhoneInputChange(e,n)},wrappedRef:function(e){t.telephone=e},flagsImagePath:Object(Je.a)("images/flags.png"),inputId:i,disabled:this.props.disabled,classNames:s,inputProps:{"data-component-id":this.props.keyProp}},this.props.phoneCountryCodes&&this.props.phoneCountryCodes.length>0?{onlyCountries:this.props.phoneCountryCodes}:{});return j()(this.state.formattedNumber)?q.a.createElement(Ye,r()({},l,{buttonProps:o})):q.a.createElement(Ye,r()({value:n},l,{buttonProps:o}))}},{key:"handlePhoneInputChange",value:function(e,t){this.setState({formattedNumber:e,selectedCountry:T()(t,"iso2",t)}),this.shouldValidateOnChange()}},{key:"getInput",value:function(){return T()(this,"telephone.numberInputRef")}},{key:"renderChildren",value:function(){var e=this.getKey("input");return D()(T()(this,"props.children",[]),[this.renderLabel(e),this.renderInput(e)])}},{key:"getKey",value:function(e){var t=T()(this,"props.keyProp",$e.a.name);return F()([t,e].join("-"))}},{key:"setFocusToTheInput",value:function(){if(this.state.isFlagFocused)this.selectedFlag.focus();else{var e=this.getEnteredPhoneNumber(),t=this.getCountryCode();""===e.substr(t.length,e.length)&&this.getInput().setSelectionRange(this.getInput().value.length,this.getInput().value.length)}}},{key:"getValue",value:function(){if(this.isPhoneNumberEntered()){var e=this.getEnteredPhoneNumber(),t=this.getCountryCode();return{countryCode:t,number:e.substr(t.length,e.length)}}return""}},{key:"getValueLength",value:function(){var e=this.getValue();if(!j()(e.countryCode)&&!j()(e.number))return"".concat(e.countryCode).concat(e.number).length}},{key:"getEnteredPhoneNumber",value:function(){var e=this.getInput();return e&&e.value&&e.value.replace(/[^\d]/g,"")||""}},{key:"getCountryCode",value:function(){var e=T()(this,"telephone.state.selectedCountry");return e?e.dialCode.replace(/[^\d]/g,""):""}},{key:"isPhoneNumberEntered",value:function(){var e=this.getEnteredPhoneNumber(),t=this.getCountryCode();return e||t}},{key:"_isFieldHasValue",value:function(){return!j()(this.getValue()||this.props.defaultValue&&this.props.defaultValue.number)}}]),t}(Ze.a);y()(rt,"propTypes",at),y()(rt,"defaultProps",{shouldValidateOnChange:!1,hideCountryFlag:!0}),n.d(t,"a",(function(){return rt})),n.d(t,"b",(function(){return et}))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";n(82)},,function(e,t,n){"use strict";(function(e){var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(252));t.a=function(t,n){return function(a){function i(){var t,n;r()(this,i);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=l()(this,(t=u()(i)).call.apply(t,[this].concat(s))),g()(p()(n),"initialTime",Object(E.b)()?Object(E.a)():e.performance.now()),g()(p()(n),"requestCount",1),n}return f()(i,a),s()(i,[{key:"componentDidMount",value:function(){n||this.sendBeacon()}},{key:"componentDidUpdate",value:function(t){var a=!y()(t,n,!1),r=!y()(this.props,n,!1),i=r&&a!==r;1!==this.requestCount&&!r&&a?this.initialTime=e.performance.now():i&&this.sendBeacon()}},{key:"sendBeacon",value:function(){var t,n,a=this.props.location.pathname.replace("/","");Object(E.d)({beaconType:"pageRendered",beaconIdentifier:a},(t=this.initialTime,n=e.performance.now()-t,Object(E.b)()?(Object(E.f)(!1),e.performance.timing.loadEventEnd-e.performance.timing.navigationStart+n):n),this.requestCount),this.requestCount+=1}},{key:"render",value:function(){return C.a.createElement(t,this.props)}}]),i}(b.Component)}}).call(this,n(41))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n={top:0,left:0};if(e.getBoundingClientRect){var a=e.getBoundingClientRect();n.left=a.left,n.top=a.top,t||(n.left+=void 0!==window.scrollX?window.scrollX:window.pageXOffset,n.top+=void 0!==window.scrollY?window.scrollY:window.pageYOffset)}else{var r=0,i=0;do{r+=e.offsetLeft-(t?0:e.scrollLeft),i+=e.offsetTop-(t?0:e.scrollTop)}while(e=e.offsetParent);n.left=r,n.top=i}return n};t.default=a,e.exports=t.default},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n,i=String(e);return(n=a[i.toLowerCase()])?n:(n=r[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var i;if(i=a[t.toLowerCase()])return i===n;if(i=r[t.toLowerCase()])return i===n}else if("number"==typeof t)return t===n;return!1}};var a=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)a[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)a[i-48]=i;for(i=1;i<13;i++)a["f"+i]=i+111;for(i=0;i<10;i++)a["numpad "+i]=i+96;var s=t.names=t.title={};for(i in a)s[a[i]]=i;for(var o in r)a[o]=r[o]},,function(e,t,n){var a=n(1368),r=n(1279).f,i=n(1276),s=n(1268),o=n(1625),l=n(1253)("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;s(u,l)||r(u,l,{configurable:!0,value:t}),c&&!a&&i(u,"toString",o)}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);var r=function(e,t){if(a)return a.call(e,t);for(var n=e.parentNode?e.parentNode.querySelectorAll(t):[],r=0;r<n.length;r++)if(n[r]===e)return!0;return!1};t.default=r,e.exports=t.default},,function(e,t){e.exports=!0},,function(e,t,n){var a=n(1368),r=n(1291),i=n(1253)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=a?r:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:s?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={DISABLED:"disabled",ACTIVE:"current",COMPLETED:"completed",HOVER:"onHover"}},function(e,t,n){var a=n(1316),r=n(1378),i=n(1272),s=n(1284),o=n(1381),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d;return function(h,f,m,g){for(var v,y,b=i(h),C=r(b),E=a(f,m,3),k=s(C.length),O=0,_=g||o,P=t?_(h,k):n?_(h,0):void 0;k>O;O++)if((p||O in C)&&(y=E(v=C[O],O,b),e))if(t)P[O]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return O;case 2:l.call(P,v)}else if(u)return!1;return d?-1:c||u?u:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=(n(6),n(50)),l=(n(1292),{success:{id:"success",icon:o.a.CHECK},warning:{id:"warning",icon:o.a.ALERT_TRIANGLE},error:{id:"error",icon:o.a.BAN},info:{id:"info",icon:o.a.NOTE}}),c=function(e){var t=e.children,n=e.customClassNames,a=void 0===n?"":n,i=e.icon,c=e.showIcon,u=e.hideIconInMobileView,d=e.inline,p=void 0!==d&&d,h=e.text,f=e.title,m=e.role,g=e.type,v=void 0===g?l.info.id:g,y=e.id,b=e.tag,C=l[v]?l[v].id:l.info.id,E=i||l[C].icon,k=s()("ducp-component-message","Message spark-message",a,"spark-message--".concat(C),{"spark-message--lg spark-panel":!p,"hide-icon-on-mobile":u}),O=c&&r.a.createElement(o.c,{name:E,className:"spark-message__icon",fill:!0});return p?r.a.createElement("div",{className:k,role:m,id:y},O,r.a.createElement("p",{className:"spark-message__content content"},f&&r.a.createElement("b",{className:"title"},f),t||h)):r.a.createElement("div",{className:k,role:m,id:y},r.a.createElement("div",{className:"spark-panel__content"},O,r.a.createElement("div",{className:"spark-message__content content"},f&&r.a.createElement(b,{className:"spark-message__heading title"},f),t||r.a.createElement("p",null,h))))};c.defaultProps={children:void 0,customClassNames:void 0,text:void 0,title:void 0,type:void 0,icon:void 0,role:void 0,showIcon:!0,hideIconInMobileView:!1,inline:void 0,id:void 0,tag:"h4"},c.displayName="Message";var u=c;n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(1746)},function(e,t,n){e.exports=n(1755)},function(e,t,n){e.exports=n(1839)},function(e,t,n){var a=n(1269),r=n(1377),i=n(1308),s=n(1277),o=n(1328),l=n(1268),c=n(1420),u=Object.getOwnPropertyDescriptor;t.f=a?u:function(e,t){if(e=s(e),t=o(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var a=n(1291);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(0),C=n.n(b),E=(n(6),n(1)),k=n.n(E),O=n(1539),_=n(1602),P=n(1908);t.a=function(e){var t,n;return n=t=function(t){function n(e){var t;return s()(this,n),t=u()(this,p()(n).call(this,e)),y()(f()(t),"onBagFeeLinkClick",(function(e){e.preventDefault(),t.setState({isBagFeeOpen:!0})})),y()(f()(t),"onFareRulesClick",(function(e){e&&e.preventDefault(),t.setState({isFareRulesOpen:!0})})),t.state={isBagFeeOpen:!1,isFareRulesOpen:!1,isAddToCalendarOpen:!1},t}return g()(n,t),l()(n,[{key:"onAddToCalendarClick",value:function(){this.setState({isAddToCalendarOpen:!0})}},{key:"onAddToCalendarCloseClick",value:function(){this.setState({isAddToCalendarOpen:!1})}},{key:"onBagFeeCloseClick",value:function(){this.setState({isBagFeeOpen:!1})}},{key:"onFareRulesCloseClick",value:function(e){e&&e.preventDefault(),this.setState({isFareRulesOpen:!1})}},{key:"renderAddToCalendarModal",value:function(){var e=this;return k.a.createElement(P.a,r()({key:"add-to-calendar"},this.props,{onCloseClick:function(t){return e.onAddToCalendarCloseClick(t)}}))}},{key:"renderBagFeeModal",value:function(){var e=this,t=C()(this,"props.bagfee",{});return k.a.createElement(_.a,r()({key:"bagfee",currentFlow:this.props.currentFlow,className:"modal",onCloseClick:function(){return e.onBagFeeCloseClick()}},t))}},{key:"renderFareRulesModal",value:function(){var e=this;return k.a.createElement(O.a,{key:"fare-rules",currentFlow:this.props.currentFlow,onCloseClick:function(t){return e.onFareRulesCloseClick(t)}})}},{key:"renderModals",value:function(){var e=[];return this.state.isFareRulesOpen&&e.push(this.renderFareRulesModal()),this.state.isBagFeeOpen&&e.push(this.renderBagFeeModal()),this.state.isAddToCalendarOpen&&e.push(this.renderAddToCalendarModal()),e}},{key:"render",value:function(){return k.a.createElement("div",null,k.a.createElement(e,r()({},this.props,{onBagFeeLinkClick:this.onBagFeeLinkClick,onFareRulesClick:this.onFareRulesClick})),this.renderModals())}}]),n}(E.Component),y()(t,"defaultProps",{currentFlow:""}),n}},function(e,t,n){var a=n(1285);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var a=n(1254),r=n(1253),i=n(1382),s=r("species");e.exports=function(e){return i>=51||!a((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var a=n(1276);e.exports=function(e,t,n,r){r&&r.enumerable?e[t]=n:a(e,t,n)}},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),function(e){var t=e.crumbSubTitle;return r.a.createElement("span",{className:"dxp-breadcrumb-item-subtitle-container"},r.a.createElement("span",{className:"dxp-breadcrumb-item-subtitle"},t))});n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var a=n(1254);e.exports=function(e,t){var n=[][e];return!n||!a((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){n(1448);var a=n(1627),r=n(1255),i=n(1304),s=n(1276),o=n(1288),l=n(1253)("toStringTag");for(var c in a){var u=r[c],d=u&&u.prototype;d&&i(d)!==l&&s(d,l,c),o[c]=o.Array}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),C=n.n(b),E=(n(1292),n(1489)),k=n(1534),O=n(50),_=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e,t=this.props,n=t.separator,a=t.iconName,r=t.type;return a?e=y.a.createElement(O.c,{name:a}):n?e=n:r&&(e=y.a.createElement(O.c,{name:r,fill:!0})),y.a.createElement("span",{className:"".concat("ducp-component-flight-route"," separator")},e)}}]),t}(v.PureComponent);f()(_,"TYPES",{ONWARD:O.a.AIRPLANE_ROUTE,RETURN:O.a.AIRPLANE_ROUTE_RETURN,ROUND:O.a.AIRPLANE_ROUTE_ROUND}),f()(_,"defaultProps",{iconName:void 0,type:_.TYPES.ONWARD,separator:void 0});var P=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.airports,a=e.separatorAriaLabel,r=e.separator,i=e.iconName,s=e.type,o=e.tag;if(g()(n))return!1;var l=n.departure,c=n.arrival,u=C()("ducp-component-flight-route",t),d=y.a.createElement(_,{separator:r,iconName:i,type:s});return y.a.createElement(k.a,{className:u,tag:o,separator:d,separatorAriaLabel:a},y.a.createElement(E.a,{className:"departure",code:l.code,name:l.name,showStacked:!0}),y.a.createElement(E.a,{className:"arrival",code:c.code,name:c.name,showStacked:!0}))}}]),t}(v.PureComponent);f()(P,"TYPES",_.TYPES),f()(P,"defaultProps",{className:void 0,iconName:void 0,type:void 0,separator:void 0,separatorAriaLabel:"to",tag:"div"}),n.d(t,"a",(function(){return _}));t.b=P},function(e,t,n){e.exports=n(1743)},function(e,t,n){e.exports=n(1751)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1325)),i=a(n(1265)),s=a(n(1768)),o=["January","February","March","April","May","June","July","August","September","October","November","December"],l=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],d=[],p=[],h=0,f={create:function(e){e=e instanceof Date?e:new Date(e.year,e.month-1,e.day);var t=(0,s.default)(f);return t._date=e,t._cache={},t},get year(){return this._instanceCheck("year"),this._date.getFullYear()},set year(e){return this._instanceCheck("year"),this._clearCache(),this._date.setFullYear(e)},get month(){return this._instanceCheck("month"),this._date.getMonth()+1},set month(e){return this._instanceCheck("month"),this._clearCache(),this._date.setMonth(e-1)},get day(){return this._instanceCheck("day"),this._date.getDate()},set day(e){return this._instanceCheck("day"),this._clearCache(),this._date.setDate(e)},set:function(e){e=e||{},this.year=e.year||this.year,this.month=e.month||this.month,this.day=e.day||this.day},getMonthName:function(e){return o[e-1]},get monthName(){return this._instanceCheck("monthName"),f.getMonthName(this.month)},getMonthNames:function(){return o},getMonthNameShort:function(e){return l[e-1]},get monthNameShort(){return this._instanceCheck("monthName"),f.getMonthNameShort(this.month)},getMonthNamesShort:function(){return l},setMonthNames:function(e){12===e.length&&(o=e)},setMonthNamesShort:function(e){12===e.length&&(l=e)},getDayOfWeek:function(e){var t=(e instanceof Date?e:new Date(e.year,e.month-1,e.day)).getDay()-h;return(t<0?7-Math.abs(t):t)+1},get dayOfWeek(){return f.getDayOfWeek(this._date)},getDayName:function(e){return c[e-1+h]||c[c.length-e-1+h]},get dayName(){return this._instanceCheck("dayName"),f.getDayName(this.dayOfWeek)},getDayNames:function(){return d.length?d:c},getDayNameShort:function(e){return u[e-1+h]||c[c.length-e-1+h]},get dayNameShort(){return this._instanceCheck("dayNameShort"),f.getDayNameShort(this.dayOfWeek)},getDayNamesShort:function(){return p.length?p:u},setDayNames:function(e){7===e.length&&(c=e)},setDayNamesShort:function(e){7===e.length&&(u=e)},getWeekStartsOn:function(){return h},setWeekStartsOn:function(e){h=e,e?(d=(0,i.default)(c).call(c,h),d=(0,r.default)(d).call(d,(0,i.default)(c).call(c,0,h)),p=(0,i.default)(u).call(u,h),p=(0,r.default)(p).call(p,(0,i.default)(u).call(u,0,h))):(d=[],p=[])},now:function(){return f.create(new Date)},getNextYear:function(e){return f.create(new Date(e.year+1,e.month-1,e.day))},get nextYear(){return this._instanceCheck("nextYear"),this._cache.nextYear||(this._cache.nextYear=f.getNextYear(this))},getWeekStart:function(e){var t=f.create(new Date(e.year,e.month-1,e.day-f.getDayOfWeek(e)+1));return t.weekStartsOn=h,t},get weekStart(){return this._instanceCheck("weekStart"),this._cache.weekStart&&this._cache.weekStart.weekStartsOn===h?this._cache.weekStart:this._cache.weekStart=f.getWeekStart(this)},getMonthStart:function(e){return f.create(new Date(e.year,e.month-1,1))},get monthStart(){return this._instanceCheck("monthStart"),this._cache.monthStart||(this._cache.monthStart=f.getMonthStart(this))},getNextWeek:function(e){var t=f.getWeekStart(e);return f.create(new Date(t.year,t.month-1,t.day+7))},get nextWeek(){return this._instanceCheck("nextWeek"),this._cache.nextWeek||(this._cache.nextWeek=f.getNextWeek(this))},getNextDay:function(e){return f.create(new Date(e.year,e.month-1,e.day+1))},get nextDay(){return this._instanceCheck("nextDay"),this._cache.nextDay||(this._cache.nextDay=f.getNextDay(this))},getNextMonth:function(e){return 31===e.day&&1!==e.month&&7!==e.month&&12!==e.month?f.create(new Date(e.year,e.month,e.day-1)):e.day>28&&1===e.month?f.create(new Date(e.year,e.month+1,0)):f.create(new Date(e.year,e.month,e.day))},get nextMonth(){return this._instanceCheck("nextMonth"),this._cache.nextMonth||(this._cache.nextMonth=f.getNextMonth(this))},getPreviousYear:function(e){return f.create(new Date(e.year-1,e.month-1,e.day))},get previousYear(){return this._instanceCheck("previousYear"),this._cache.previousYear||(this._cache.previousYear=f.getPreviousYear(this))},getPreviousWeek:function(e){var t=f.getWeekStart(e),n=f.create(new Date(t.year,t.month-1,t.day-7));return n.weekStartsOn=h,n},get previousWeek(){return this._instanceCheck("previousWeek"),this._cache.previousWeek||(this._cache.previousWeek=f.getPreviousWeek(this))},getPreviousDay:function(e){return f.create(new Date(e.year,e.month-1,e.day-1))},get previousDay(){return this._instanceCheck("previousDay"),this._cache.previousDay||(this._cache.previousDay=f.getPreviousDay(this))},getPreviousMonth:function(e){return 31===e.day&&1!==e.month&&3!==e.month&&8!==e.month?f.create(new Date(e.year,e.month-2,e.day-1)):e.day>28&&3===e.month?f.create(new Date(e.year,e.month-1,0)):f.create(new Date(e.year,e.month-2,e.day))},get previousMonth(){return this._instanceCheck("previousMonth"),this._cache.previousMonth||(this._cache.previousMonth=f.getPreviousMonth(this))},getMonthEnd:function(e){return f.create(new Date(e.year,e.month,0))},get monthEnd(){return this._instanceCheck("monthEnd"),this._cache.monthEnd||(this._cache.monthEnd=f.getMonthEnd(this))},equal:function(e,t,n){return this.equalDay(e,t,n)},equalDay:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.year===t[r].year&&e.month===t[r].month&&e.day===t[r].day&&s++;return n?s===i:!!s},equalWeek:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.weekStart.equalDay(t[r].weekStart)&&s++;return n?s===i:!!s},equalMonth:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year!==t[r].year||e.year===t[r].year&&e.month!==t[r].month||s++;return n?s===i:!!s},equalYear:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.year===t[r].year&&s++;return n?s===i:!!s},before:function(e,t,n){return this.beforeDay(e,t,n)},beforeDay:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e._date>=t[r]._date||s++;return n?s===i:!!s},beforeWeek:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.weekStart.beforeDay(t[r].weekStart)&&s++;return n?s===i:!!s},beforeMonth:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year>t[r].year||e.year===t[r].year&&e.month>=t[r].month||s++;return n?s===i:!!s},beforeYear:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year>=t[r].year||s++;return n?s===i:!!s},after:function(e,t,n){return this.afterDay(e,t,n)},afterDay:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e._date<=t[r]._date||s++;return n?s===i:!!s},afterWeek:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.weekStart.afterDay(t[r].weekStart)&&s++;return n?s===i:!!s},afterMonth:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year<t[r].year||e.year===t[r].year&&e.month<=t[r].month||s++;return n?s===i:!!s},afterYear:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year<=t[r].year||s++;return n?s===i:!!s},earliest:function(e){for(var t,n=0,a=e.length;n<a;n++)t&&!e[n].before(t)||(t=e[n]);return t},latest:function(e){for(var t,n=0,a=e.length;n<a;n++)t&&!e[n].after(t)||(t=e[n]);return t},clone:function(e){if(!e&&this._date&&this._date instanceof Date&&f.isPrototypeOf(this)&&(e=this),!e)throw new Error("Must pass a date to clone or call on an instance.");return f.create(new Date(e._date.valueOf()))},_checkComparisonArgs:function(e,t,n){if(void 0===t||"boolean"==typeof t){if(!f.isPrototypeOf(this))throw new Error("Cannot compare only one date!");n=t,t=e,e=this}return[e,t=t instanceof Array?t:[t],n]},_instanceCheck:function(e){if(!(this._date&&this._date instanceof Date&&f.isPrototypeOf(this)))throw new Error('Cannot access the property "'+e+'" of the date helper with creating an instance!')},_clearCache:function(){this._instanceCheck("clearCache"),this._cache={}}},m=f;t.default=m,e.exports=t.default},function(e,t,n){var a=n(1259);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var a,r=n(1270),i=n(1621),s=n(1364),o=n(1329),l=n(1446),c=n(1379),u=n(1331),d=u("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=a?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(a):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};o[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=r(e),n=new p,p.prototype=null,n[d]=e):n=f(),void 0===t?n:i(n,t)}},function(e,t,n){var a=n(1365),r=n(1366),i=a("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var a=n(1268),r=n(1272),i=n(1331),s=n(1427),o=i("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),a(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},,function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0;var r=a(n(1242));t.Base=r.default;var i=a(n(1742));t.CalendarPopover=i.default;var s=a(n(1777));t.Carousel=s.default;var o=a(n(1780));t.DateInput=o.default;var l=a(n(1399));t.Expand=l.default;var c=a(n(1788));t.Header=c.default;var u=a(n(1503));t.Menu=u.default;var d=a(n(1389));t.Modal=d.default;var p=a(n(1792));t.MultiSelectInput=p.default;var h=a(n(1690));t.NumberSelector=h.default;var f=a(n(1384));t.Popover=f.default;var m=a(n(1797));t.ProgressIndicator=m.default;var g=a(n(1805));t.RangeSlider=g.default;var v=a(n(1433));t.SelectInput=v.default;var y=a(n(1806));t.Slider=y.default;var b=a(n(1807));t.Table=b.default;var C=a(n(1810));t.Tabs=C.default;var E=a(n(1505));t.TextInput=E.default;var k=a(n(1811));t.ToggleSwitch=k.default;var O=a(n(1562));t.Toolbar=O.default;var _=a(n(1455));t.Tooltip=_.default;var P=a(n(1722));t.ScrollToTop=P.default;var S=a(n(1540));t.StepIndicator=S.default;var N=a(n(1831));t.Filter=N.default;var w=a(n(1327));t.DateHelper=w.default;var A=a(n(1833));t.Toast=A.default;var T=a(n(1834));t.AutoSuggest=T.default;var I=a(n(1512));t.FixedPanel=I.default;var D=a(n(1836));t.KPI=D.default;var x=a(n(1513));t.PanelCarousel=x.default;var j=a(n(1838));t.Payments=j.default;var L=a(n(1853));t.Accordion=L.default;var F=a(n(1874));t.Button=F.default;var B=a(n(1875));t.FloatingActionButton=B.default;var R=a(n(1882));t.SideFixedPanel=R.default},function(e,t,n){var a=n(1421),r=n(1364);e.exports=Object.keys||function(e){return a(e,r)}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a,r,i,s=n(1623),o=n(1255),l=n(1259),c=n(1276),u=n(1268),d=n(1331),p=n(1329),h=o.WeakMap;if(s){var f=new h,m=f.get,g=f.has,v=f.set;a=function(e,t){return v.call(f,e,t),t},r=function(e){return m.call(f,e)||{}},i=function(e){return g.call(f,e)}}else{var y=d("state");p[y]=!0,a=function(e,t){return c(e,y,t),t},r=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:a,get:r,has:i,enforce:function(e){return i(e)?r(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return D})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return j})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return F})),n.d(t,"k",(function(){return B})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return M})),n.d(t,"f",(function(){return V})),n.d(t,"h",(function(){return U})),n.d(t,"e",(function(){return q})),n.d(t,"l",(function(){return W}));var a=n(3),r=n.n(a),i=n(15),s=n.n(i),o=n(83),l=n.n(o),c=n(338),u=n.n(c),d=n(43),p=n.n(d),h=n(4),f=n.n(h),m=n(5),g=n.n(m),v=n(36),y=n.n(v),b=n(115),C=n.n(b),E=n(2),k=n.n(E),O=n(0),_=n.n(O),P=n(27),S=n.n(P),N=n(13),w=n.n(N),A=n(12),T=n(11);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e,t){var n=_()(e,"availableInventory");if(C()(n))return t?n-1:n+1}function x(e,t){var n=_()(e,"availableInventory");return C()(n)?n:t}function j(e,t,n){var a=_()(e,"offers.itineraryParts.".concat(t,".availableInventory"));return C()(a)?a:n}function L(e,t,n){return t?n?_()(e,"offers.itineraryParts[".concat(t,"].segments[").concat(n,"].passengerOffers")):_()(e,"offers.itineraryParts[".concat(t,"].passengerOffers")):_()(e,"offers.passengerOffers")}function F(e,t,n,a,r){return u()(e.ancillaries,(function(e){var i=L(t[e.code],a,r);return i&&i[n]?i[n].quantity:0}))}function B(e,t,n,a,r){return u()(l()(n),(function(n){var i=L(t[e.code],a,r);return i&&i[n.index]?i[n.index].quantity:0}))}function R(e){return{airlineCode:_()(e,"flight.operatingAirlineCode")||_()(e,"flight.airlineCode"),flightNumber:_()(e,"flight.flightNumber"),origin:Object(A.a)("airports.".concat(_()(e,"origin"))),destination:Object(A.a)("airports.".concat(_()(e,"destination"))),isInventoryControlled:p()(e.passengerOffers,(function(e){return C()(e.availableInventory)}))}}function M(e){return{flightNumber:g()(e.segmentsMap,(function(t){var n=_()(e,"segments[".concat(t,"].flight"),{}),a=n.airlineCode,r=n.flightNumber;return"".concat(a," ").concat(r)})).join(", "),origin:Object(A.a)("airports.".concat(_()(e,"segments[".concat(S()(e.segmentsMap),"].origin")))),destination:Object(A.a)("airports.".concat(_()(e,"segments[".concat(y()(e.segmentsMap),"].destination")))),isInventoryControlled:p()(e.passengerOffers,(function(e){return C()(e.availableInventory)}))}}function V(e){return f()(e.offers.itineraryParts,(function(e,t){return k()(t.passengerOffers)||e.push({itineraryPartIndex:t.index,itineraryPartKey:t.key,itineraryPart:t,segmentKey:"",passengerOffers:t.passengerOffers}),k()(t.passengerOffers)&&w()(t.segments,(function(n){e.push({itineraryPartIndex:t.index,itineraryPartKey:t.key,itineraryPart:t,segmentKey:n.key,segment:n,passengerOffers:n.passengerOffers})})),e}),[])}function U(e,t,n){var a=e.offers,r=a&&a.itineraryParts[t];if(r){var i=_()(r,"segments");return i&&!k()(n)?i[n].origin:r.origin}return""}function q(e,t,n){var a="".concat(t.origin,"-").concat(t.destination),r=e.getIn([a,"passengerAllowance",String(n.index)]);if(!k()(r))return r;var i=e.getIn([a,"disclosure",n.type]);return k()(i)?Object(T.Map)():i}function H(e,t,n,a,i,o){var l=L(e,n,t);return g()(o,(function(o){var c=o.index,u=s()(l,(function(e){return _()(e,["ancillaryPassenger","index"])===c}));if(!u)return{id:String(c),personName:o,isNotAvailable:!0};var d=q(a,function(e,t,n){return n?_()(e,["offers","itineraryParts",t,"segments",n],{}):_()(e,["offers","itineraryParts",t],{})}(e,n,t),u.ancillaryPassenger).get("totalUnits",0);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:String(c),personName:u.ancillaryPassenger,total:u.total,count:_()(u,"quantity",_()(u,"assignedQuantity",0)),allowanceWithEntitlements:d,baggageAllowance:d,isNotAvailable:!u.available},i(u))}))}function W(e,t,n,a,r,i){var s=function(e,t,n){var a=e.offers,r=void 0===a?{}:a;if(t){var i=r.itineraryParts[t];if(n){var s=i.segments[n];return{origin:s.origin,destination:s.destination}}return{origin:_()(i,"segments[".concat(S()(i.segmentsMap),"].origin")),destination:_()(i,"segments[".concat(y()(i.segmentsMap),"].destination"))}}var o=_()(r,"itineraryParts[".concat(S()(r.itineraryPartsMap),"]")),l=_()(r,"itineraryParts[".concat(y()(r.itineraryPartsMap),"]"));return{origin:_()(o,"segments[".concat(S()(o.segmentsMap),"].origin")),destination:_()(l,"segments[".concat(y()(l.segmentsMap),"].destination"))}}(e,n,t),o=s.origin,l=s.destination;return[{id:"".concat(n,"-").concat(t),arrival:{code:l,name:Object(A.i)("airports.".concat(l))},departure:{code:o,name:Object(A.i)("airports.".concat(o))},passengers:H(e,t,n,a,r,i)}]}},function(e,t,n){var a=n(1336),r=Math.max,i=Math.min;e.exports=function(e,t){var n=a(e);return n<0?r(n+t,0):i(n,t)}},function(e,t,n){"use strict";var a=n(1328),r=n(1279),i=n(1308);e.exports=function(e,t,n){var s=a(t);s in e?r.f(e,s,i(0,n)):e[s]=n}},function(e,t,n){e.exports=n(1609)},function(e,t,n){"use strict";var a=n(1643).charAt,r=n(1337),i=n(1425),s=r.set,o=r.getterFor("String Iterator");i(String,"String",(function(e){s(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=o(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})}))},,,,,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=function(e){var t=e.className,n=e.children,a=e.header,i=e.footer,o=e.altView,l=s()("ducp-component-panel","spark-panel",t);return r.a.createElement("div",{className:l},a&&r.a.createElement("div",{className:"spark-panel__".concat(o?"alt-header":"header"),role:"heading",tabIndex:"0"},o?a:r.a.createElement("h3",null,a)),n&&r.a.createElement("div",{className:"spark-panel__content ".concat("ducp-component-panel","-content")},n),i&&r.a.createElement("div",{className:"spark-panel__footer"},i))};o.defaultProps={className:void 0,header:void 0,footer:void 0,altView:void 0,children:void 0};var l=o,c=n(26),u=n.n(c),d=n(22),p=n.n(d),h=n(29),f=n.n(h),m=n(28),g=n.n(m),v=n(30),y=n.n(v),b=n(3),C=n.n(b),E=n(1264),k=n(50),O=function(e){function t(){return u()(this,t),f()(this,g()(t).apply(this,arguments))}return y()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.text,a=e.expanded,i=e.onToggle,o=s()("".concat("ducp-component-panel","-details-toggle"),"row"),l=a?k.a.ARROW_TRIANGLE_UP:k.a.ARROW_TRIANGLE_DOWN;return r.a.createElement("div",{className:o},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(E.a,{isTextButton:!0,className:s()("show-details",t),onClick:i,isExpanded:a},n," ",r.a.createElement(k.c,{name:l,fill:!0}))))}}]),t}(a.PureComponent);C()(O,"defaultProps",{className:void 0,expanded:!1}),n.d(t,"a",(function(){return O}));t.b=l},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(38),y=n.n(v),b=n(16),C=n.n(b),E=(n(6),n(1)),k=n.n(E),O=n(39),_=n.n(O),P=n(12),S=n(50),N=n(1608),w=n(88),A=n(521),T=n(57),I=n.n(T),D=n(0),x=n.n(D),j=n(763),L=n(177),F=n(136),B=function(e){var t=e.onCancel,n=e.onAccept;return k.a.createElement(F.a,{key:"cancel",className:"cancel-refund-modal"},k.a.createElement("h2",{className:"modal-header"},e.title),k.a.createElement("p",null,e.description),k.a.createElement("div",{className:"pull-right"},k.a.createElement(w.a,{className:"secondary small",onClick:t},Object(P.i)("app.cancel")),k.a.createElement(j.a,I()({},function(e,t){var n=x()(e,"[".concat(t,"]"));return{to:{pathname:n.path,search:Object(L.stringify)(n.query)}}}(e,"acceptLink"),{tabIndex:"-1"}),k.a.createElement(w.a,{className:"primary small",onClick:function(){return n&&n()}},Object(P.i)("app.yes")))))};B.defaultProps={title:"",description:"",onAccept:void 0};var R=B,M=(n(2089),n(2090),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCancelModalOpen:!1}),g()(p()(n),"focusContinueButton",(function(){return n.continueButton&&n.continueButton.focus()})),g()(p()(n),"focusCancelButton",(function(){return n.cancelButton&&n.cancelButton.focus()})),n}return f()(t,e),s()(t,[{key:"onCancel",value:function(e){e.preventDefault(),this.setState({isCancelModalOpen:!0})}},{key:"getCancelModalProps",value:function(){var e=this,t=this.props,n=t.modal,a=t.acceptLink;return C()({acceptLink:a},y()(n,["title","description"]),{onCancel:function(){return e.setState({isCancelModalOpen:!1})}})}},{key:"getContinueLabel",value:function(){var e=this.props,t=e.continueTitle,n=e.continueButtonIsLoading,a=e.continueOnlyTitle;return n?k.a.createElement(A.a,null):a?Object(P.a)(a):t?Object(P.a)("app.continue",{pageName:t}):Object(P.a)("app.continueOnly")}},{key:"renderBackButton",value:function(){var e=this.props,n=e.onBack,a=e.disableBackButton,r=e.backTitle;return k.a.createElement(w.a,{id:"dxp-page-navigation-back-button",onClick:n,className:_()("medium","secondary","back"),disabled:a,title:r||Object(P.i)("app.back")},!r&&t.renderBackArrow(),r&&r)}},{key:"renderCancelButton",value:function(){var e=this;return k.a.createElement(w.a,{id:N.a,className:_()("medium","secondary","cancel"),onClick:function(t){return e.onCancel(t)},ref:function(t){e.cancelButton=t}},Object(P.a)("pageNavigationButtons.cancel"))}},{key:"renderContinueButton",value:function(){var e=this,t=this.props.disableContinueButton,n=_()("dxp-button","medium");return k.a.createElement(w.a,{ref:function(t){e.continueButton=t},id:N.b,onClick:this.props.onContinue,className:_()(n,"primary","continue",{"btn-disabled":t}),disabled:t},this.getContinueLabel())}},{key:"render",value:function(){var e=this.props,t=e.onContinue,n=e.onBack,a=e.showCancelButton;return k.a.createElement("div",{className:"dxp-page-navigation-buttons",id:"dxp-page-navigation-buttons"},this.state.isCancelModalOpen&&R(this.getCancelModalProps(),this.context),n&&this.renderBackButton(),a&&this.renderCancelButton(),t&&this.renderContinueButton())}}],[{key:"renderBackArrow",value:function(){return k.a.createElement("span",null,k.a.createElement(S.c,{name:S.a.ARROW_BASIC_LEFT,className:"icon",srOnlyText:Object(P.i)("ancillaries.back")}))}}]),t}(E.Component));g()(M,"defaultProps",{continueTitle:void 0,backTitle:void 0,continueOnlyTitle:void 0,modal:void 0,disableBackButton:!1,disableContinueButton:!1,continueButtonIsLoading:!1,showCancelButton:!1,onContinue:void 0,onBack:void 0,acceptLink:void 0}),n.d(t,"a",(function(){return M}))},function(e,t,n){e.exports=n(1759)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1263));var i=function(e,t,n){if((n=void 0!==n&&n)&&(e.textContent=""),t instanceof window.HTMLCollection)for(;t.length;)e.appendChild(t[0]);else(0,r.default)(t,(function(t){t&&e.appendChild(t)}))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250));var i=function(e,t){return(0,r.default)(Array.prototype).call(e,t)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1260)),l=a(n(1350)),c=a(n(1238)),u=a(n(1239)),d=a(n(1258)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1394)),v=n(1271);function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(){},C=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(y()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._maintainFocus((function(){this._parseParams(),this._bindEventListenerCallbacks(),this._addEventListeners()})),(0,h.default)(t)):(0,h.default)(t)}return(0,u.default)(a,[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isRunning)return this;this.isRunning=!0;for(var n=this.inputEl.value,a="",r="",i=0,s=this.format.length,o=0,l=!1;i<s;i++)"\\d"===this.format[i]?(this.characters[i-o]?a+=this.characters[i-o]:l=!0,r+=l&&this.placeholder[i]?this.placeholder[i]:"&nbsp;"):(l||(a+=this.format[i]),r+=this.format[i],o++);return this.isFocused&&(e=void 0===e?this._getCaretEnd():e),this.isFocused&&!this.characters.length&&(e=a.length),!this.characters.length&&t.notOnlyPlaceholders&&(a=""),this.inputEl.value=a,this.placeholderEl.innerHTML=r,this._updateWidth(),this.isFocused&&this._setCaretPositionTranslated(e),a!==n&&(0,g.default)(this.inputEl,"input"),this.isRunning=!1,a!==n&&(this.onChange||b)(a,n,this),!this._atEnd&&this.isFocused&&this.characters.length===this.maxLength&&this._caretIsAtEnd()?(this._atEnd=!0,(this.onEnd||b)(this)):this._atEnd=!1,this}},{key:"addCharacterAtIndex",value:function(e,t,n,a){var r,i;if(this.maxLength&&t>=this.maxLength)return this;if(!a){var s;try{s=new RegExp(this.format[t])}catch(e){}if(!s||!s.exec(e))return this}((0,l.default)(r=this.characters).call(r,t,n-t,e),this.maxLength&&this.characters.length>this.maxLength)&&(0,l.default)(i=this.characters).call(i,this.maxLength,this.characters.length);return this.run(t+1),this}},{key:"addCharacterAtCaret",value:function(e){var t,n=this._getCaretStart();if(void 0===this.format[n])return(this.onEnd||b)(this,e),this;try{t=new RegExp(this.format[n])}catch(e){}return t&&t.exec(e)?(this.addCharacterAtIndex(e,this._getCaretStartTranslated(),this._getCaretEndTranslated(),!0),this):(this._moveCaret("right")&&this.addCharacterAtCaret(e),this)}},{key:"removeCharacterAtIndex",value:function(e,t,n){var a;return e+n<0||(t=void 0!==t?t:1,(0,l.default)(a=this.characters).call(a,e+n,t),this.run(e+(n||1))),this}},{key:"removeCharacterAtCaret",value:function(e){var t,n=this._getCaretStartTranslated(),a=this._getCaretEndTranslated(),r=1;return n!==a&&(a<n&&(t=n,n=a,a=t),r=a-n,n++),this.removeCharacterAtIndex(n,r,e),this}},{key:"removeCharactersInRange",value:function(){return this.removeCharacterAtIndex(this._getCaretStartTranslated(),this._getCaretEndTranslated()),this}},{key:"setValue",value:function(e){return this.settingValue=!0,this.pause(),"string"==typeof e?this.characters=(e.replace(/\W/g,"")+"").split(""):"number"==typeof e&&(this.characters=e%1!=0?(e.toString().replace(/\W/g,"")+"").split(""):(e+"").split("")),this.run(),this.isFocused&&this._setCaretPosition(this._getCaretStart()),this.resume(),this.settingValue=!1,this}},{key:"getValue",value:function(e){return e&&this.inputEl.value?(0,o.default)(this.inputEl.value,10):this.inputEl.value}},{key:"clearValue",value:function(){return this.pause(),this.characters=[],this.run(0,{notOnlyPlaceholders:!0}),this.resume()}},{key:"updateValue",value:function(){return this.setValue(this.inputEl.value)}},{key:"moveCaret",value:function(e){return this._setCaretPositionTranslated(e),this}},{key:"moveCaretToEnd",value:function(){return this.moveCaret(this.characters.length)}},{key:"moveCaretToStart",value:function(){return this.moveCaret(0)}},{key:"pause",value:function(){return this.pauseBlurFocus++,this}},{key:"resume",value:function(){return this.pauseBlurFocus--,this}},{key:"disable",value:function(){return this.inputEl.setAttribute("disabled",""),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"clear",value:function(){return this.clearValue()}},{key:"remove",value:function(e){return(0,d.default)((0,f.default)(a.prototype),"remove",this).call(this,e),this}},{key:"_cacheElements",value:function(e){this.el=e,this.inputEl=this.el.querySelector('[type="text"], [type="email"], [type="phone"], [type="tel"], textarea')||this._createDefaultInputElement(),this.placeholderEl=this.el.querySelector(".spark-input__placeholder")||this._createDefaultPlaceholderElement()}},{key:"_parseParams",value:function(){this.characters=this._parseCharacters(this.inputEl.value),this.format=this._parseFormat(this.format?this.format:this.inputEl.getAttribute("data-typeahead-format")),this.placeholder=this.placeholder?this.placeholder:this.inputEl.getAttribute("placeholder").split(""),this.maxLength=this._getCharactersAllowedCount(this.format),this.matchPlaceholderSize=null!==this.matchPlaceholderSize?this.matchPlaceholderSize:(0,v.boolean)(this.inputEl,"data-match-placeholder-size",!1)}},{key:"_parseFormat",value:function(e){for(var t=0,n=e.length,a=[],r=!1;t<n;t++)"\\"!==e[t]||r?(a.push((r?"\\":"")+e[t]),r=!1):r=!0;return a}},{key:"_parseCharacters",value:function(e){for(var t=e.split(""),n=0,a=e.length,r=[],i=[];n<a;n++){try{r[n]="\\"===this.format[n][0]?new RegExp(this.format[n]):null}catch(e){}r[n]&&r[n].exec(t[n])&&i.push(t[n])}return i}},{key:"_createDefaultInputElement",value:function(){var e=document.createElement("input");return e.className="spark-input__field",e.setAttribute("data-typeahead",""),e.setAttribute("type","tel"),this.el.appendChild(e),e}},{key:"_createDefaultPlaceholderElement",value:function(){var e=document.createElement("span");return e.className="spark-input__placeholder",this.el.appendChild(e),e}},{key:"_getCharactersAllowedCount",value:function(e){for(var t=0,n=e.length,a=0;t<n;t++)"\\d"===e[t]&&a++;return a}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._onKeydownBound=(0,s.default)(e=this._onKeydown).call(e,this),this._onKeypressBound=(0,s.default)(t=this._onKeypress).call(t,this),this._onFocusBound=(0,s.default)(n=this._onFocus).call(n,this),this._onBlurBound=(0,s.default)(a=this._onBlur).call(a,this),this._onInputBound=(0,s.default)(r=this._onInput).call(r,this),this._onPlaceholderClickBound=(0,s.default)(i=this._onPlaceholderClick).call(i,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("keydown",this._onKeydownBound,!1),this.inputEl.addEventListener("keypress",this._onKeypressBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("input",this._onInputBound,!1),this.placeholderEl.addEventListener("click",this._onPlaceholderClickBound,!1)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("keydown",this._onKeydownBound),this.inputEl.removeEventListener("keypress",this._onKeypressBound),this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("input",this._onInputBound),this.placeholderEl.removeEventListener("click",this._onPlaceholderClickBound),window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound)}},{key:"_getCaretStart",value:function(){return this._maintainFocus((function(){var e;if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),e=t.text.length}else(this.inputEl&&this.inputEl.selectionStart||this.inputEl&&0===this.inputEl.selectionStart)&&(e=this.inputEl.selectionStart);return e}))}},{key:"_getCaretEnd",value:function(){return this._maintainFocus((function(){var e;if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),e=t.text.length}else(this.inputEl.selectionEnd||0===this.inputEl.selectionEnd)&&(e=this.inputEl.selectionEnd);return e}))}},{key:"_caretIsAtEnd",value:function(){return this._getCaretStart()===this.maxLength}},{key:"_setCaretPosition",value:function(e){return this._maintainFocus((function(){if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),t.moveStart("character",e),t.moveEnd("character",0),t.select()}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(this.inputEl.selectionStart=e,this.inputEl.selectionEnd=e)}))}},{key:"_getCaretPositionTranslated",value:function(e){for(var t=0,n=0;t<e;t++)"\\d"!==this.format[t]&&n++;return e-n}},{key:"_getCaretStartTranslated",value:function(){return this._getCaretPositionTranslated(this._getCaretStart())}},{key:"_getCaretEndTranslated",value:function(){return this._getCaretPositionTranslated(this._getCaretEnd())}},{key:"_setCaretPositionTranslated",value:function(e){for(var t=0,n=0;t<e+n;t++)void 0!==this.format[t]&&"\\d"!==this.format[t]&&n++;this._setCaretPosition(e+n)}},{key:"_moveCaret",value:function(e){var t=this._getCaretStart();return"left"===e?this._setCaretPosition(t-1):"right"===e&&this._setCaretPosition(t+1),t!==this._getCaretStart()}},{key:"_emptyWhenOnlyPlaceholders",value:function(){this.characters.length||this.clear()}},{key:"_maintainFocus",value:function(e){this.pause();var t=document.activeElement;t||(t=document.body);var n=(e||b).call(this);return this.inputEl&&t!==this.inputEl&&(this.inputEl.blur(),t&&t.focus()),this.resume(),n}},{key:"_updateWidth",value:function(){this.matchPlaceholderSize&&(this.placeholderEl.style.width="auto",this.inputEl.style.width="auto",this.inputEl.style.width=this.placeholderEl.offsetWidth+2+"px",this.placeholderEl.style.width="")}},{key:"_onKeydown",value:function(e){var t=e.keyCode||e.which;if(t!==this.pasteCode||!e.metaKey&&!e.ctrlKey)if(t===this.actionCodes.BACKSPACE)this.removeCharacterAtCaret(-1),this._onBackspace(),e.preventDefault();else if(t===this.actionCodes.DELETE)this.removeCharacterAtCaret(0),e.preventDefault();else if(t===this.actionCodes.LEFT)this._getCaretStart()||(this.onBackspace||b)();else if(t===this.actionCodes.RIGHT)this._getCaretStart()===this.characters.length&&(this.onEnd||b)();else{var n;-1===(0,i.default)(n=this.ignoreCodes).call(n,t)&&(e.preventDefault(),t>=96&&t<=105&&(t-=48),this.addCharacterAtCaret(String.fromCharCode(t)))}}},{key:"_onKeypress",value:function(e){var t,n=e.keyCode||e.which;-1===(0,i.default)(t=this.ignoreCodes).call(t,n)&&(e.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onChange||b)(this.getValue(),this))}},{key:"_onInput",value:function(e){e.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onInput||b)(this.getValue(),this)}},{key:"_onFocus",value:function(){document.activeElement===this.inputEl&&(window.removeEventListener("blur",this._onBlurBound),window.addEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.isFocused||this.pauseBlurFocus||this.isRunning||(this.run(),"function"==typeof this.onFocus&&this.onFocus(this.getValue(),this),this.isFocused=!0,this._oldVal=this.inputEl.value))}},{key:"_onBlur",value:function(){window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.isFocused=!1,this.pauseBlurFocus||this.isRunning||(this._emptyWhenOnlyPlaceholders(),this._oldVal!==this.inputEl.value&&(0,g.default)(this.inputEl,"change"),(this.onBlur||b)(this.getValue(),this))}},{key:"_onPlaceholderClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.inputEl.focus()}},{key:"_onBackspace",value:function(){this._getCaretStart()||(this.onBackspace||b)()}}]),a}(m.default);C.prototype._whitelistedParams=["format","placeholder","matchPlaceholderSize","onChange","onFocus","onBlur","onInput","onBackspace","onEnd"],C.prototype.defaults={el:null,inputEl:null,placeholderEl:null,placeholder:null,characters:null,format:null,ignoreCodes:[9,16,17,18,20,91,93,112,113,114,115,116,117,118,119,120,121,122,123],actionCodes:{BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39},pasteCode:86,pauseBlurFocus:0,matchPlaceholderSize:null,maxLength:null,isFocused:!1,isRunning:!1,onChange:null,onFocus:null,onBlur:null,onInput:null,onBackspace:null,onEnd:null,_atEnd:!1,_oldVal:null,_onKeydownBound:null,_onKeypressBound:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onPlaceholderClickBound:null};var E=C;t.default=E,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1282)),i=a(n(1350)),s=a(n(1250)),o=a(n(1398)),l=a(n(1247)),c=a(n(1248)),u=a(n(1251)),d=a(n(1257)),p=function(){},h={els:[],completeCallbacks:[]};function f(e){var t,n,a;e.toggleClassName?(0,d.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,c.default)(e.el,e.heightAnimationClass),(0,c.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var r=(0,s.default)(t=h.els).call(t,e.el);(0,i.default)(n=h.els).call(n,r,1),(0,i.default)(a=h.completeCallbacks).call(a,r,1)}var m=function(e){var t,n=(e=e||{}).el;if(n){var a=e.action&&"collapse"===e.action,i=e.heightAnimationClass||"spark-animate-height",m="string"==typeof e.toggleEl?n.querySelector(e.toggleEl):e.toggleEl;if(m&&!(0,u.default)(n,"spark-no-animate")){var g=e.toggleClass,v=e.toggleProperty||"display",y=window.getComputedStyle(m),b=y[v],C=e.toggleValue||function(e,t,n){switch(t){case"overflow":case"visibility":return"visible"===n?"hidden":"visible";default:return"block"===n||"inline-block"===n?"none":"block"}}(0,b),E=(0,s.default)(t=h.els).call(t,n);if(-1!==E){var k=h.completeCallbacks[E];k&&clearTimeout(k),f({el:n,toggleEl:m,onComplete:e.onComplete||p,collapse:a,toggleProperty:v,toggleClassName:g,toggleValue:C,heightAnimationClass:i})}var O=(0,o.default)(n);g?(0,d.default)(n,g,!a):m.style[v]=C,a?(0,r.default)(_,0):_()}}function _(){var t,s,u=(0,o.default)(n);a?(g?(0,c.default)(n,g):m.style[v]=b,s=(0,o.default)(m,y),t=0):(t=(0,o.default)(m,y),s=0),n.style.height=O+"px",m.style.height=s+"px",m.style.marginBottom="0px",m.style.marginTop="0px",(0,l.default)(n,i),(0,l.default)(m,i),h.els.push(n),(0,r.default)((function(){n.style.height=u+"px",m.style.height=t+"px",h.completeCallbacks.push((0,r.default)((function(){f({el:n,toggleEl:m,onComplete:e.onComplete||p,collapse:a,toggleProperty:v,toggleClassName:g,toggleValue:C,heightAnimationClass:i})}),void 0!==e.animationDuration?e.animationDuration:201))}),0)}};t.default=m,e.exports=t.default},function(e,t,n){e.exports=n(1793)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1325)),i=a(n(1309)),s=a(n(1876)),o=a(n(1278)),l=a(n(1310)),c=a(n(1311)),u=a(n(1400)),d={on:function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.default)(this._events)||(this._events=[]),(0,c.default)(n=this._events).call(n,(function(n){return n.name===e.toLowerCase()&&n.method===t}))||this._events.push({name:e.toLowerCase(),method:t,data:a})},off:function(e,t){var n;(0,u.default)(this._events)?this._events=(0,l.default)(n=this._events).call(n,(function(n){return n.name!==e.toLowerCase()&&n.method!==t})):this._events=[]},trigger:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];(0,u.default)(this._events)||(this._events=[]);var d=(0,l.default)(t=this._events).call(t,(function(t){return t.name===e})),p=document.createEvent("Event");p.initEvent(e.toLowerCase(),!0,!0),p.component=this,a&&"object"===(0,o.default)(a[0])&&"object"===(0,o.default)(a[0].event)&&(0,s.default)(p,a[0].event),this.el&&this.el.dispatchEvent(p),(0,i.default)(d).call(d,(function(e){var t;p.data=e.data,e.method.apply(e,(0,r.default)(t=[p]).call(t,a))}))}};t.default=d,e.exports=t.default},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),C=n.n(b),E=n(50),k=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.tag=this.props.tag}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconName,a=e.iconSize,r=e.iconFill,i=C()("ducp-component-title",this.props.className);return!g()(t)&&y.a.createElement(this.tag,{className:i},!g()(n)&&y.a.createElement(E.c,{name:n,size:a,fill:r}),t)}}]),t}(v.Component);f()(k,"defaultProps",{className:"",title:"",iconName:void 0,iconSize:"",tag:"div",iconFill:!1});t.a=k},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(73),s=n.n(i),o=n(1),l=n.n(o),c=(n(6),n(12)),u=function(e){var t=e.pageName,n=e.flowName,a=e.hideTitle,i=e.breadCrumbTitleOverride,o=r()(i)?Object(c.i)("breadcrumbsFlows.".concat(n,".").concat(s()(t))):i;return l.a.createElement("span",{className:"dxp-breadcrumb-title-container"},!a&&o&&l.a.createElement("span",{className:"dxp-breadcrumb-header"},o),a&&o&&l.a.createElement("span",{className:"sr-only"},o))};u.defaultProps={hideTitle:!1,breadCrumbTitleOverride:void 0};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";var a=n(19),r=n.n(a),i=function(e){var t=e.prefix,n=e.firstName,a=e.middleName,i=e.lastName,s=e.suffix,o=e.passengerType;return r()([n,i,a,o,t,s]).join("-")},s=n(17),o=n.n(s),l=function(e){var t=e.origin,n=e.destination,a=e.flightNumber,r=e.departureTime,i=o.a.parseZone(r).format("YYYY-MM-DD[T]HH:mm:00");return[t,n,a,o()(i).unix()].join("-")};n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CANCEL_FLIGHT:"CANCEL_FLIGHT",EXCHANGE_FLIGHT:"EXCHANGE_FLIGHT",CANCEL_UPGRADE:"CANCEL_UPGRADE",ADD_INSURANCE_POSTBOOKING:"ADD_INSURANCE_POSTBOOKING",UPGRADE:"UPGRADE",PURCHASE_ON_HOLD_BOOKING:"PURCHASE_ON_HOLD_BOOKING",ADD_MODIFY_ANCILLARIES:"ADD_MODIFY_ANCILLARIES",UPGRADE_FQT:"UPGRADE_FQT",SPLIT_MTO:"SPLIT_MTO",CHECK_IN:"CHECK_IN",VOID:"VOID",CANCEL_ITINERARY:"CANCEL_ITINERARY",IROP:"IROP",OFFLOAD:"OFFLOAD",EDIT_PASSENGER:"EDIT_PASSENGER",ADD_MODIFY_SEATS:"ADD_MODIFY_SEATS"}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var a=n(1302),r=n(1422);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.1",mode:a?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+a).toString(36)}},function(e,t,n){var a=n(1254);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())}))},function(e,t,n){var a={};a[n(1253)("toStringTag")]="z",e.exports="[object z]"===String(a)},function(e,t,n){var a=n(1253);t.f=a},function(e,t,n){"use strict";var a=n(54),r=n.n(a),i=n(122),s=n.n(i),o=n(2),l=n.n(o),c=n(1),u=n.n(c),d=(n(6),n(39)),p=n.n(d),h=n(50),f=n(244);function m(e,t){var n=function(e){return u.a.createElement("a",{href:"#"},e)}(e),a=c.Children.toArray(n);return l()(t)||a.unshift(u.a.createElement(h.c,{key:"tab-icon",name:t,fill:!1,background:"square",type:"info"})),a}var g=function(e){var t=e.className,n=e.children,a=e.icon,r=e.onTabClick,i=e.id;return u.a.createElement("li",{id:i,onClick:function(e){return r(v(e))},onKeyPress:function(e){return f.a.is(f.a.code.special.enter,e.which)&&r(v(e))},className:p()("spark-tabs__tab",t),role:"tab"},m(n,a))};function v(e){var t=e.target.closest("li"),n=e.target.closest("ul").children;return r()(n).indexOf(t)}g.defaultProps={className:"",icon:"",onTabClick:s.a,id:void 0};var y=g,b=function(e){var t=e.className,n=e.children;return u.a.createElement("div",{role:"tabpanel",className:p()("spark-tabs__panel",t)},n)};b.defaultProps={className:"",children:void 0};var C=b,E=function(e){var t=e.className,n=e.onTabSelect,a=e.children.filter((function(e){return!l()(e)})).map((function(e,t){return u.a.cloneElement(e,{onTabClick:function(e){return n(e)},key:(a=t,"tab-header-".concat(a))});var a}));return u.a.createElement("ul",{className:p()("spark-tabs__list",t),role:"tablist"},a)};E.defaultProps={className:"",onTabSelect:s.a},E.displayName="TabsHeader";var k=E,O=function(e){var t=e.className,n=e.dir,a=e.children;return u.a.createElement("div",{className:p()("spark-tabs__panels",t),dir:n},a)};O.defaultProps={className:"",dir:void 0},O.displayName="TabsContent";var _=O,P=n(26),S=n.n(P),N=n(22),w=n.n(N),A=n(29),T=n.n(A),I=n(28),D=n.n(I),x=n(30),j=n.n(x),L=n(3),F=n.n(L),B=n(173),R=n.n(B),M=n(1334),V=n(12),U=(n(2048),n(2049),function(e){function t(){return S()(this,t),T()(this,D()(t).apply(this,arguments))}return j()(t,e),w()(t,[{key:"componentDidMount",value:function(){var e=this;if(this.sparkTabsInstance=new M.Tabs(this.sparkTabs),this.sparkTabsInstance.setActive(this.props.selectedTabIndex),this.props.onBeforeTabChange){var t=this.sparkTabsInstance.setActive;this.sparkTabsInstance.setActive=function(n){var a=e.getActiveTabIndex();return e.props.onBeforeTabChange(a)&&t.call(e.sparkTabsInstance,n)}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedTabIndex!==this.props.selectedTabIndex&&this.sparkTabsInstance.setActive(e.selectedTabIndex)}},{key:"componentWillUnmount",value:function(){this.sparkTabsInstance.remove(!0)}},{key:"getActiveTabIndex",value:function(){var e=this;return R()(this.sparkTabsInstance.tabEls,(function(t){return t===e.sparkTabsInstance.activeTabEl}))}},{key:"renderNav",value:function(){return u.a.createElement("nav",{className:"spark-tabs__nav"},u.a.createElement("div",{className:"spark-tabs__scroll"},this.props.children.filter((function(e){return"TabsHeader"===e.type.displayName}))),u.a.createElement("div",{className:"spark-tabs__btns"},u.a.createElement("button",{type:"button",className:"spark-tabs__btn spark-tabs__btn--left"},u.a.createElement(h.c,{name:h.a.ARROW_CHEVRON_LEFT,srOnlyText:Object(V.i)("pagination.previous")})),u.a.createElement("button",{type:"button",className:"spark-tabs__btn spark-tabs__btn--right"},u.a.createElement(h.c,{name:h.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(V.i)("pagination.next")}))))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:p()("spark-tabs",this.props.className),ref:function(t){e.sparkTabs=t}},this.renderNav(),this.props.children.filter((function(e){return"TabsContent"===e.type.displayName})))}}]),t}(c.PureComponent));F()(U,"defaultProps",{className:"",selectedTabIndex:0,onBeforeTabChange:void 0}),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return U}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(39)),k=n.n(E),O=n(1359),_=function(e){var t=e.title,n=e.isExpanded,a=e.onClick,r=e.iconName,i=e.renderRightContent,s=e.headerSubContent,o=e.iconSize,l=e.ariaControls,c=e.titleTag,u=e.headerIcon,d=e.disabled,p=k()("spark-panel__header",{"is-expanded":n,"has-right-content":Boolean(i)});return C.a.createElement("button",{type:"button",disabled:d,className:p,"aria-expanded":n,"aria-controls":l,"aria-disabled":d,onClick:a},C.a.createElement(O.a,{tag:c,iconName:r,title:t,iconFill:n,iconSize:o}),C.a.createElement("div",{className:"right-content"},u,i()),s&&C.a.createElement("div",{className:"header-sub-content"},s))};_.defaultProps={isExpanded:!1,onClick:void 0,renderRightContent:void 0,iconName:void 0,title:"Accordion Header",titleTag:"div",iconSize:"",ariaControls:"expand-collapse--accordion_content",headerIcon:void 0,headerSubContent:void 0,disabled:!1};var P=_,S=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onToggleClick",(function(){var e=n.props,t=e.isControlled,a=e.onToggle;if(t)a({isExpanded:!n.props.isExpanded});else{var r=n.state.isExpanded;n.setState({isExpanded:!r},(function(){return a({isExpanded:n.state.isExpanded})}))}})),e.isControlled||(n.state={isExpanded:e.isExpanded&&!e.disabled}),t.count+=1,n.id=e.id||"accordion-".concat(t.count),n}return f()(t,e),s()(t,[{key:"expand",value:function(){var e=this.props,t=e.isControlled,n=e.onToggle;(t?this.props.isExpanded:this.state.isExpanded)||(t?n({isExpanded:!0}):this.setState({isExpanded:!0},(function(){return n({isExpanded:!0})})))}},{key:"collapse",value:function(){var e=this.props,t=e.isControlled,n=e.onToggle;(t?this.props.isExpanded:this.state.isExpanded)&&(t?n({isExpanded:!1}):this.setState({isExpanded:!1},(function(){return n({isExpanded:!1})})))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconName,a=e.renderAdditionalAccordionHeaderContent,r=e.children,i=e.iconSize,s=e.className,o=e.titleTag,l=e.headerSubContent,c=e.disabled,u=e.lazyInitContent,d=e.isControlled,p=!c&&d?this.props.isExpanded:this.state.isExpanded,h=k()("spark-panel__content",{show:p,hide:!p}),f=k()("ducp-component-accordion","spark-panel spark-panel--expand",s,{expanded:p});return C.a.createElement("div",{className:f},C.a.createElement(P,{iconSize:i,title:t,titleTag:o,iconName:n,onClick:this.onToggleClick,isExpanded:p,renderRightContent:a,ariaControls:this.id,headerIcon:this.props.headerIcon,headerSubContent:l,disabled:c}),C.a.createElement("div",{id:this.id,"aria-hidden":!p,className:h},u?p&&r:r))}}]),t}(b.Component);g()(S,"count",0),g()(S,"defaultProps",{iconName:"",renderAdditionalAccordionHeaderContent:y.a,children:void 0,isExpanded:!1,isControlled:!1,titleTag:"div",iconSize:"",className:"",onToggle:y.a,id:void 0,headerIcon:void 0,headerSubContent:void 0,disabled:!1,lazyInitContent:!1});t.a=S},,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(50)),s=n(1305),o=function(e){var t=e.crumbState,n=e.breadcrumbConfiguration,a=e.pageName,o=t===s.a.COMPLETED||t===s.a.ACTIVE,l=t===s.a.COMPLETED?n.getIn(["flowIcons","completed"]):n.getIn(["flowIcons",a]);return r.a.createElement(i.c,{name:l,fill:o})};n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";t.a={CONFIRMED:"CONFIRMED",REJECTED:"REJECTED",NOT_OFFERED:"NOT_OFFERED",WAITLISTED:"WAITLISTED",ALREADY_WAITLISTED:"ALREADY_WAITLISTED",ALREADY_CONFIRMED:"ALREADY_CONFIRMED",NOT_REQUESTED:"NOT_REQUESTED"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(122),r=n.n(a);function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,i=n.headerOffset,s=void 0===i?0:i,o=n.smoothScroll,l=void 0===o||o;if(t&&t.getBoundingClientRect){var c=t.getBoundingClientRect().top;e.scrollBy({top:c-s,behavior:l?"smooth":"auto"})}a()}}).call(this,n(41))},function(e,t,n){"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!a.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:a},function(e,t,n){var a=n(1254),r=n(1291),i="".split;e.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var a=n(1255),r=n(1259),i=a.document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){var a=n(1277),r=n(1284),i=n(1339),s=function(e){return function(t,n,s){var o,l=a(t),c=r(l.length),u=i(s,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var a=n(1259),r=n(1314),i=n(1253)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?a(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var a,r,i=n(1255),s=n(1386),o=i.process,l=o&&o.versions,c=l&&l.v8;c?r=(a=c.split("."))[0]+a[1]:s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(r=a[1]),e.exports=r&&+r},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1265)),o=a(n(1282)),l=a(n(1238)),c=a(n(1239)),u=a(n(1323)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1247)),g=a(n(1251)),v=a(n(1257)),y=a(n(1351)),b=a(n(1295)),C=a(n(1267)),E=n(1271),k=a(n(1454));function O(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(){},P=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(O()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),t=n.call(this,e,r),e?(t._bindEventListenerCallbacks(),t._addEventListeners(),t):(0,p.default)(t,(0,u.default)(t))}return(0,c.default)(a,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null),this._checkFixedPosition(),this.affix?(this.affix.targetEl=e.affixTo||this.affix.targetEl,this.affix.update()):this.affix=new k.default({el:this.contentEl,targetEl:e.affixTo||this.el,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY,isFixed:this.isFixed}),this._addWindowEventListeners(),this.isActive=!0,this.isMultiAction&&this.toggleEl.setAttribute("aria-expanded","true");var t=document.createEvent("Event");return t.initEvent("spark.visible-children",!0,!0),this.contentEl.dispatchEvent(t),this._updateAttributes(),this.focusableElements&&this.focusableElements.length>0&&this.firstPopoverFocusableEl.focus(),(e.complete||_)(),(this.onOpen||_)(),this}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.affix?(this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null),this._removeWindowEventListeners(),this.isActive=!1,this.isMultiAction&&this.toggleEl.setAttribute("aria-expanded","false"),this._updateAttributes(),this.closeTimer=(0,o.default)((function(){e._finishClose(t)}),250),this):this}},{key:"toggle",value:function(){return this[this.isActive?"close":"open"]()}},{key:"setContent",value:function(e,t){return t=t||{},(0,y.default)(this.contentEl,e.length?e:[e],!t.append),this}},{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._addEventListeners(),this.affix&&this.affix.update(),this}},{key:"parseFocusableElements",value:function(){var e=this.contentEl.querySelectorAll('a[href]:not([tabindex="-1"]), area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');e.length>0&&(this.focusableElements=(0,s.default)(Array.prototype).call(e),this.firstPopoverFocusableEl=this.focusableElements[0],this.lastPopoverFocusableEl=this.focusableElements[this.focusableElements.length-1])}},{key:"_cacheElements",value:function(e){this.contentEl&&(0,m.default)(this.contentEl,"spark-popover__content"),this.el=e,this.isActive=(0,g.default)(this.el,"popover-active"),this.toggleEl=this.el.querySelector('.spark-popover__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('.spark-popover__content, [class*="spark-popover__content--"]')||this._createContentEl(),this.caretEl=this.contentEl.querySelector(".spark-popover__caret")||this._createCaretEl(),this.isMultiAction=(0,g.default)(this.toggleEl,"spark-btn--multi-action")||(0,g.default)(this.toggleEl,"spark-btn-combo__secondary"),this.parseFocusableElements()}},{key:"_parseParams",value:function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,E.string)(this.contentEl,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,E.string)(this.contentEl,"data-anchor-x",null),this.anchorY||this.anchorX||((0,g.default)(this.contentEl,"spark-popover__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,g.default)(this.contentEl,"spark-popover__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,g.default)(this.contentEl,"spark-popover__content--top")?(this.anchorY="top",this.anchorX="center"):(this.anchorY="bottom",this.anchorX="center"))}},{key:"_checkFixedPosition",value:function(){for(var e=this.el;e&&e!==document;){if("fixed"===getComputedStyle(e).position)return this.isFixed=!0;e=e.parentNode}return this.isFixed=!1}},{key:"_updateAttributes",value:function(){(0,v.default)(this.el,"popover-active",this.isActive),(0,v.default)(this.contentEl,"active",this.isActive),(0,v.default)(this.toggleEl,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l;this._onTouchStartBound=(0,i.default)(e=this._onTouchStart).call(e,this),this._onTouchEndBound=(0,i.default)(t=this._onTouchEnd).call(t,this),this._onClickBound=(0,i.default)(n=this._onClick).call(n,this),this._onKeydownBound=(0,i.default)(a=this._onKeydown).call(a,this),this._onContentClickBound=(0,i.default)(r=this._onContentClick).call(r,this),this._onWindowClickBound=(0,i.default)(s=this._onWindowClick).call(s,this),this._onWindowKeyupBound=(0,i.default)(o=this._onWindowKeyup).call(o,this),this._onWindowKeydownBound=(0,i.default)(l=this._onWindowKeydown).call(l,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound),this.contentEl.addEventListener("click",this._onContentClickBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.contentEl.removeEventListener("click",this._onContentClickBound)}},{key:"_addWindowEventListeners",value:function(){this._removeWindowEventListeners(),window.addEventListener("click",this._onWindowClickBound),window.addEventListener("keyup",this._onWindowKeyupBound),window.addEventListener("keydown",this._onWindowKeydownBound),window.addEventListener("touchstart",this._onTouchStartBound),window.addEventListener("touchend",this._onTouchEndBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("click",this._onWindowClickBound),window.removeEventListener("keyup",this._onWindowKeyupBound),window.removeEventListener("keydown",this._onWindowKeydownBound),window.removeEventListener("touchstart",this._onTouchStartBound),window.removeEventListener("touchend",this._onTouchEndBound)}},{key:"_onTouchStart",value:function(e){e.target===this.el||e.target===this.contentEl||(0,b.default)(e.target,this.el)||(0,b.default)(e.target,this.contentEl)||(this._tapStart=e.target)}},{key:"_onTouchEnd",value:function(e){e.target===this._tapStart&&this.close(),this._tapStart=void 0}},{key:"_createContentEl",value:function(){var e=document.createElement("div");return(0,m.default)(e,"spark-popover__content"),e.setAttribute("role","tooltip"),e}},{key:"_createCaretEl",value:function(){var e=document.createElement("div");return e.className="spark-popover__caret",this.contentEl.appendChild(e),e}},{key:"_finishClose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closeTimer=null,this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,(e.complete||_)(),(this.onClose||_)()}},{key:"_onClick",value:function(e){if(e.target===this.el||!e.target.hasAttribute("disabled")&&!(0,C.default)(e.target,".spark-popover__toggle",this.toggleEl).hasAttribute("disabled"))return e.target===this.toggleEl||(0,b.default)(e.target,this.toggleEl)?(e.preventDefault(),void this.toggle()):void 0}},{key:"_onKeydown",value:function(e){var t=e.target.nodeName.toLowerCase();if("a"!==t&&"button"!==t)return 13===e.keyCode&&e.target===this.toggleEl?(e.preventDefault(),e.stopPropagation(),void this.toggle()):void 0}},{key:"_onWindowKeyup",value:function(e){27===e.keyCode&&(this.close(),this.toggleEl.focus())}},{key:"_onWindowKeydown",value:function(e){9===e.keyCode&&(1===this.focusableElements.length&&e.preventDefault(),e.shiftKey?this._onBackwardTab(e):this._onForwardTab(e)),13===e.keyCode&&(e.target===document.querySelector(".spark-popover__close")||(0,C.default)(e.target,".spark-popover__close",this.contentEl))&&(e.preventDefault(),this.close(),this.toggleEl.focus())}},{key:"_onBackwardTab",value:function(e){document.activeElement===this.firstPopoverFocusableEl&&(e.preventDefault(),this.lastPopoverFocusableEl.focus())}},{key:"_onForwardTab",value:function(e){document.activeElement===this.lastPopoverFocusableEl&&(e.preventDefault(),this.firstPopoverFocusableEl.focus())}},{key:"_onContentClick",value:function(e){((0,C.default)(e.target,".spark-popover__list-link",this.contentEl)||(0,C.default)(e.target,".spark-popover__close",this.contentEl))&&this.close()}},{key:"_onWindowClick",value:function(e){e.target===this.el||e.target===this.contentEl||(0,b.default)(e.target,this.el)||(0,b.default)(e.target,this.contentEl)||this.close()}}]),a}(f.default);P.prototype._whitelistedParams=["anchorX","anchorY","toggleEl","contentEl","onOpen","onClose"],P.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,affix:null,isActive:!1,isMultiAction:!1,isPaused:!1,isFixed:!1,anchorX:null,anchorY:null,closeTimer:null,focusableElements:null,onOpen:null,onClose:null,_onClickBound:null,_onContentClickBound:null,_onKeydownBound:null,_onWindowKeyupBound:null,_onWindowKeydownBound:null,_onWindowClickBound:null,_onWindowResizeBound:null,_onWindowScrollBound:null};var S=P;t.default=S,e.exports=t.default},function(e,t,n){var a=n(329),r=n(61);e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),a(e,t,{leading:i,maxWait:t,trailing:s})}},function(e,t,n){var a=n(1287);e.exports=a("navigator","userAgent")||""},function(e,t){e.exports=function(){}},function(e,t,n){var a=n(1563);e.exports=function(e,t){if(null==e)return{};var n,r,i=a(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1265)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1257)),f=a(n(1247)),m=a(n(1248)),g=a(n(1251));function v(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(v()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"open",value:function(){return this.onBeforeOpen.call(this),this.isActive=!0,document.activeElement&&(this.focusedElBeforeOpen=document.activeElement),this._addWindowEventListeners(),this._updateClasses(),(0,f.default)(document.body,"spark-modal-open"),this.focusableElements&&this.focusableElements.length>0&&this.firstModalFocusableEl.focus(),this.onAfterOpen.call(this),this}},{key:"close",value:function(){return this.onBeforeClose.call(this),this.isActive=!1,this.focusedElBeforeOpen&&this.focusedElBeforeOpen.focus(),this._removeWindowEventListeners(),this._updateClasses(),(0,m.default)(document.body,"spark-modal-open"),this.onAfterClose.call(this),this}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),this._cacheElements(e||this.el,t),this._addEventListeners(),this._updateClasses(),this._removeWindowEventListeners(),this.isActive&&this._addWindowEventListeners(),this}},{key:"parseFocusableElements",value:function(){var e=this.modalEl.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');e.length>0&&(this.focusableElements=(0,s.default)(Array.prototype).call(e),this.firstModalFocusableEl=this.focusableElements[0],this.lastModalFocusableEl=this.focusableElements[this.focusableElements.length-1])}},{key:"_cacheElements",value:function(e,t){var n=(0,g.default)(e,"spark-modal"),a=t.modalEl;n?this.modalEl=e:(this.el=e,this.modalEl=a||document.querySelector(e.getAttribute("data-modal"))),this.scrollEl=this.modalEl.querySelector(".spark-modal__scroll")||this.modalEl,this.isActive=(0,g.default)(this.modalEl,"active"),this.parseFocusableElements()}},{key:"_updateClasses",value:function(){(0,h.default)(this.modalEl,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onKeyupBound=(0,i.default)(t=this._onKeyup).call(t,this),this._onKeydownBound=(0,i.default)(n=this._onKeydown).call(n,this),this._onModalClickBound=(0,i.default)(a=this._onModalClick).call(a,this),this._onMouseDownBound=(0,i.default)(r=this._onMouseDown).call(r,this)}},{key:"_addEventListeners",value:function(){this.el&&this.el.addEventListener("click",this._onClickBound),this.modalEl&&(this.modalEl.addEventListener("click",this._onModalClickBound),this.modalEl.addEventListener("mousedown",this._onMouseDownBound))}},{key:"_removeEventListeners",value:function(){this.el&&this.el.removeEventListener("click",this._onClickBound),this.modalEl&&(this.modalEl.removeEventListener("click",this._onModalClickBound),this.modalEl.removeEventListener("mousedown",this._onMouseDownBound))}},{key:"_addWindowEventListeners",value:function(){this._removeWindowEventListeners(),window.addEventListener("keyup",this._onKeyupBound),window.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("keyup",this._onKeyupBound),window.removeEventListener("keydown",this._onKeydownBound)}},{key:"_onClick",value:function(){this.open()}},{key:"_onMouseDown",value:function(e){this._mouseDownTargetEl=e.target}},{key:"_onModalClick",value:function(e){(this._mouseDownTargetEl===e.target&&this._mouseDownTargetEl===this.modalEl||(0,g.default)(this._mouseDownTargetEl,"spark-modal__close")||(0,g.default)(this._mouseDownTargetEl,"spark-modal__scroll"))&&this.close()}},{key:"_onBackwardTab",value:function(e){document.activeElement===this.firstModalFocusableEl&&(e.preventDefault(),this.lastModalFocusableEl.focus())}},{key:"_onForwardTab",value:function(e){document.activeElement===this.lastModalFocusableEl&&(e.preventDefault(),this.firstModalFocusableEl.focus())}},{key:"_onKeyup",value:function(e){27===e.keyCode&&this.close()}},{key:"_onKeydown",value:function(e){9===e.keyCode&&(1===this.focusableElements.length&&e.preventDefault(),e.shiftKey?this._onBackwardTab(e):this._onForwardTab(e)),13===e.keyCode&&(e.target!==document.querySelector(".spark-modal__close")&&e.target!==document.querySelector(".spark-modal__dismiss")||(e.preventDefault(),this.close()))}}]),a}(p.default);y.prototype._whitelistedParams=["onBeforeOpen","onAfterOpen","onBeforeClose","onAfterClose"],y.prototype.defaults={el:null,modalEl:null,scrollEl:null,isActive:!1,focusableElements:null,onBeforeOpen:function(){},onAfterOpen:function(){},onBeforeClose:function(){},onAfterClose:function(){},_onClickBound:null,_onKeyupBound:null,_onKeydownBound:null,_onModalClickBound:null};var b=y;t.default=b,e.exports=t.default},,,,function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(39)),l=n.n(o),c=function(e){var t=e.className,n=e.initial,a=e.isLight,i=e.size,o=e.ariaLabel,c=e.notification,u=e.notificationAriaLabel,d=e.notificationType,p=l()("ducp-component-initial-circle",t,i,{light:a});return s.a.createElement("span",{className:p,"aria-hidden":r()(o),"aria-label":o},n,c&&s.a.createElement("span",{className:l()("spark-badge--notification",d),"aria-label":u},c))};c.defaultProps={className:void 0,initial:"",isLight:!0,size:"",ariaLabel:void 0,notification:void 0,notificationAriaLabel:void 0,notificationType:"neutral"};var u=c;t.a=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n;document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),n.eventName=t,e.dispatchEvent(n)):((n=document.createEventObject()).eventType=t,n.eventName=t,e.fireEvent("on"+n.eventType,n))};t.default=a,e.exports=t.default},function(e,t,n){e.exports=n(1773)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1278)),i=a(n(1263)),s=["-webkit-","-moz-","-o-","-ms-",""];var o=function(e,t){var n="";return(0,i.default)(s,(function(a){if("object"===(0,r.default)(t))for(var i in n+=a+"transform: ",t)n+=i+"("+t[i]+"); ";else n+=a+"transform: "+e+"("+t+"); "})),n};t.default=o,e.exports=t.default},function(e,t,n){e.exports=n(1781)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260)),i=a(n(1263)),s=["marginTop","marginBottom","borderTop","borderBottom"];var o=function(e,t){t=t||window.getComputedStyle(e);var n=e.clientHeight;return(0,i.default)(s,(function(e){n+=(0,r.default)(t[e]||0,10)})),n};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1354)),h=a(n(1257)),f=a(n(1251)),m=a(n(1267));function g(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(){},y=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(g()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,c.default)(t)):(0,c.default)(t)}return(0,o.default)(a,[{key:"expand",value:function(){(this.onBeforeExpand||v)(),(0,p.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||v)(),this}},{key:"collapse",value:function(){return(this.onBeforeCollapse||v)(),(0,p.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||v)(),this}},{key:"toggle",value:function(){return this[this.isExpanded?"collapse":"expand"]()}},{key:"_cacheElements",value:function(e){this.el=e,this.isExpanded=(0,f.default)(this.el,"expanded"),this.accordionHeading=this.el.querySelector('[role="heading"]'),this.accordionContent=this.el.querySelector(".spark-panel__content"),this.panelContent=this.el.querySelector(".spark-expand__content"),this.panelCollapsedButton=this.el.querySelector(".spark-expand__hide--expanded"),this.panelExpandedButton=this.el.querySelector(".spark-expand__show--expanded")}},{key:"_updateClasses",value:function(){(0,h.default)(this.el,"expanded",this.isExpanded),this._updateAriaAttributes()}},{key:"_updateAriaAttributes",value:function(){this.isExpanded?(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","true"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","false"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","false"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","true"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","false")):(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","false"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","true"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","true"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","false"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","true"))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onKeydownBound=(0,i.default)(t=this._onKeydown).call(t,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)}},{key:"_onClick",value:function(e){(0,m.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(e.stopImmediatePropagation(),e.preventDefault(),this.toggle())}},{key:"_onKeydown",value:function(e){if((0,m.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var t=e.keyCode||e.which;32!==t&&13!==t||(e.stopImmediatePropagation(),e.preventDefault(),this.toggle())}}}]),a}(d.default);y.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],y.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null};var b=y;t.default=b,e.exports=t.default},function(e,t,n){e.exports=n(1835)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1309)),o=a(n(1265)),l=a(n(1326)),c=a(n(1400)),u=a(n(1240)),d=a(n(1311)),p=a(n(1341)),h=a(n(1310)),f=a(n(1238)),m=a(n(1239)),g=a(n(1258)),v=a(n(1244)),y=a(n(1245)),b=a(n(1241)),C=a(n(1242)),E=a(n(1353)),k=a(n(1247)),O=a(n(1248)),_=a(n(1266)),P=a(n(1843)),S=a(n(1844)),N=a(n(1845)),w=a(n(1263)),A=a(n(1846)),T=a(n(1261)),I=a(n(1273)),D=a(n(1275));function x(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var j=document.createEvent("Event"),L=document.createEvent("Event"),F=document.createEvent("Event");j.initEvent("type",!0,!0),L.initEvent("valid",!0,!0),F.initEvent("invalid",!0,!0);var B={amex:{name:"American Express",length:15,cvv:4,prefix:[34,37],pattern:[4,6,5]},china:{name:"China UnionPay",length:[16,19],cvv:3,prefix:62,pattern:[[4,4,4,4],[6,13]]},discover:{name:"Discover",length:16,cvv:3,prefix:[6011,[622126,622925],[644,649],65],pattern:[4,4,4,4]},jcb:{name:"JCB",length:16,cvv:3,prefix:[[3528,3589]],pattern:[4,4,4,4]},mc:{name:"MasterCard",length:16,cvv:3,prefix:[[51,55]],pattern:[4,4,4,4]},uatp:{name:"UATP",length:15,cvv:3,prefix:1,pattern:[4,5,6]},dc:{name:"Diners Club International",length:14,cvv:3,prefix:[[300,305],309,36,[38,39]],pattern:[4,6,4]},visa:{name:"Visa",length:[16,19],cvv:3,prefix:[4,4026,417500,4405,4508,4844,4913,4917],pattern:[[4,4,4,4],[6,4,8,1]]}},R=function(){this.el.dataset.cardType=this.type,this.multiPattern=!1,this.type="",this._initTypeAhead()},M=function(e){(0,v.default)(a,e);var t,n=(t=a,function(){var e,n=(0,b.default)(t);if(x()){var a=(0,b.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,y.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t._initTypeAhead(),t}return(0,m.default)(a,[{key:"_parseParams",value:function(){if(this.disableCardDefaults){var e,t=this.disableCardDefaults,n={},a=(0,h.default)(e=(0,p.default)(B)).call(e,(function(e){return!(0,d.default)(t).call(t,(function(t){return t===e}))}));(0,w.default)(a,(function(e){return n[e]=(0,P.default)({},B[e])})),this._cardTypes=(0,P.default)(n,this.cardTypes||{})}else this._cardTypes=(0,P.default)(B,this.cardTypes||{})}},{key:"_cacheElements",value:function(e){this.el=e,this.inputEl=e.querySelector("input"),this.inputEl.value&&(0,k.default)(this.el,"active"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,_.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._onInputBound=(0,u.default)(e=this._onInput).call(e,this),this._onCardTypeBound=(0,u.default)(t=this._onCardType).call(t,this),this._onBlurBound=(0,u.default)(n=this._onBlur).call(n,this),this._onFocusBound=(0,u.default)(a=this._onFocus).call(a,this),this._onInvalidBound=(0,u.default)(r=this._onInvalid).call(r,this),this._onValidBound=(0,u.default)(i=this._onValid).call(i,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("type",this._onCardTypeBound,!1),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("invalid",this._onInvalidBound,!1),this.inputEl.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("input",this._onInputBound,!1),this.inputEl.removeEventListener("type",this._onCardTypeBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("focus",this._onFocusBound,!1),this.inputEl.removeEventListener("invalid",this._onInvalidBound,!1),this.inputEl.removeEventListener("valid",this._onValidBound,!1)}},{key:"_onInvalid",value:function(){this.onInvalid.call(this)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"_onBlur",value:function(){this.inputEl.value||(0,O.default)(this.el,"active"),this.onBlur.call(this),this.inputEl.hasAttribute("data-novalidate")&&this.inputEl.removeAttribute("data-novalidate"),this.valid||this.inputEl.dispatchEvent(F)}},{key:"_onFocus",value:function(){(0,k.default)(this.el,"active"),this.onFocus.call(this)}},{key:"_onCardType",value:function(){if(this.type){var e,t=this._cardTypes[this.type];this.multiPattern=(0,d.default)(e=t.pattern).call(e,(function(e){return(0,c.default)(e)})),this.activePattern!==this.previousPattern&&this._initTypeAhead()}else this.multiPattern=!1;this.onCardType.call(this)}},{key:"_initTypeAhead",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.inputEl&&this.type){var t,n=this._cardTypes[this.type],a=this.multiPattern?n.pattern[e]:n.pattern,r=(0,l.default)(a).call(a,(function(e){return(0,S.default)("\\d",e)})).join(" ");if(this.inputEl.setAttribute("placeholder",(0,l.default)(t=(0,o.default)(a).call(a,0)).call(t,(function(e){return(0,S.default)("0",e)})).join(" ")),this.inputEl.dataset.typeaheadFormat=r,this.multiPattern&&0===e?(this.inputEl.setAttribute("minlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("maxlength",this.inputEl.placeholder.length+4),this.inputEl.dataset.typeaheadFormat+=" \\d\\d\\d"):(this.inputEl.setAttribute("minlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("maxlength",this.inputEl.placeholder.length)),this.multiPattern?e>0?this.inputEl.setAttribute("pattern","(\\d\\s?){"+n.length[e]+"}"):this.inputEl.setAttribute("pattern",r+"\\s?"):this.inputEl.setAttribute("pattern",r),this.typeahead){this.typeahead.remove(!0);var i=this.el.querySelector(".spark-input__placeholder");i.parentNode.removeChild(i)}this.typeahead=new E.default(this.el)}else this.inputEl&&(this.multiPattern=!1,this.inputEl.setAttribute("placeholder","0000 0000 0000 0000"),this.inputEl.setAttribute("minlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("maxlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("pattern","\\d\\d\\d\\d ?\\d\\d\\d\\d ?\\d\\d\\d\\d ?\\d\\d\\d\\d"),this.inputEl.dataset.typeaheadFormat="\\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d",this.typeahead?(this.typeahead.format=this.typeahead._parseFormat("\\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d"),this.typeahead.updateValue(),this.typeahead.run()):this.typeahead=new E.default(this.el))}},{key:"_onInput",value:function(){if(this.value){var e;(0,k.default)(this.el,"active");var t=(0,p.default)(this._cardTypes),n=!1;(0,w.default)(t,(0,u.default)(e=function(e){var t=this._cardTypes[e];if((0,A.default)(t.prefix)){if((0,N.default)(this.value,t.prefix.toString()))return e!==this.type&&(this.type=e),void(n=!0);var a;(0,w.default)(t.prefix,(0,u.default)(a=function(t){if((0,A.default)(t)){if((0,N.default)(this.value,t.toString()))return e!==this.type&&(this.type=e),void(n=!0)}else{var a=t[0].toString().length,r=this.value.substr(0,a);if(r.length<a)return;if(r>=t[0]&&r<=t[1])return e!==this.type&&(this.type=e),void(n=!0)}}).call(a,this))}else{var r;(0,w.default)(t.prefix,(0,u.default)(r=function(t){if((0,A.default)(t)){if((0,N.default)(this.value,t.toString()))return e!==this.type&&(this.type=e),void(n=!0)}else{var a=t[0].toString().length,r=this.value.substr(0,a);if(r.length<a)return;if(r>=t[0]&&r<=t[1])return e!==this.type&&(this.type=e),void(n=!0)}}).call(r,this))}}).call(e,this)),(!n||!this.type&&this.el.dataset.cardType)&&R.call(this)}else this.el.dataset.cardType&&(R.call(this),this.type="",this.el.removeAttribute("data-card-type"));var a;this.multiPattern&&(0,s.default)(a=this._cardTypes[this.type].length).call(a,(function(e,t,n){var a=this.value;a.length===e?(this._initTypeAhead(t),this.typeahead.setValue(a)):a.length>e&&n[t+1]?(this._initTypeAhead(t+1),this.typeahead.setValue(a)):t>0&&a.length<n[t-1]&&(this._initTypeAhead(t-1),this.typeahead.setValue(a))}),this);this.onInput.call(this),this._checkValidity()}},{key:"_checkValidity",value:function(){this.inputEl.hasAttribute("data-novalidate")||this.inputEl.dispatchEvent(this.valid?L:F)}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"validate",value:function(){return this.validatePattern&&this.inputEl.setAttribute("pattern",this.validatePattern),"function"==typeof this.onValidate&&this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,k.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,O.default)(this.el,"active"),this}},{key:"setValue",value:function(e){return this.value=e,e?this.show():this.hide(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.value="",this}},{key:"disable",value:function(){return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return(0,g.default)((0,b.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return(0,g.default)((0,b.default)(a.prototype),"update",this).call(this,e)}},{key:"type",get:function(){if(this.activeCardType)return this.activeCardType},set:function(e){e&&e!==this.activeCardType?(this.previousPattern=this.activePattern,this.activePattern=this._cardTypes[e].pattern,this.activeCardType=e,this.el.dataset.cardType="cc-"+e,this.inputEl&&this.inputEl.dispatchEvent(j)):e||(this.previousPattern=this.activePattern,this.activePattern=void 0,this.activeCardType="",this.multiPattern=!1)}},{key:"value",get:function(){return this.inputEl.value.replace(/\D/g,"")},set:function(e){this.typeahead?this.typeahead.setValue(e):this.inputEl.value=e}},{key:"valid",get:function(){var e=this.value;if(/[^0-9-\s]+/.test(e))return!1;for(var t=0,n=0,a=!1,r=(e=e.replace(/\D/g,"")).length-1;r>=0;r--){var s=e.charAt(r);n=(0,i.default)(s,10),a&&(n*=2)>9&&(n-=9),t+=n,a=!a}var o=this.inputEl,l=new RegExp(o.getAttribute("pattern"));return o.willValidate&&o.value.length>=o.getAttribute("minlength")&&l.test(o.value)&&t%10==0}}]),a}(C.default);M.prototype._whitelistedParams=["cardTypes","disableCardDefaults","onInput","onBlur","onFocus","onValidate","validate","validatePattern","onInvalid","onValid","onCardType"],M.prototype.defaults={el:null,inputEl:null,type:null,cardTypes:null,disableCardDefaults:null,validatePattern:null,onInput:function(){},onBlur:function(){},onFocus:function(){},onValidate:function(){},onInvalid:function(){},onValid:function(){},onCardType:function(){}},(0,T.default)(M.prototype,I.default,D.default);var V=M;t.default=V,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1325)),s=a(n(1265)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1353)),m=a(n(1261)),g=a(n(1247)),v=a(n(1248)),y=a(n(1257)),b=a(n(1266)),C=a(n(1273)),E=a(n(1275));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=document.createEvent("Event"),_=document.createEvent("Event");O.initEvent("valid",!0,!0),_.initEvent("invalid",!0,!0);var P=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(k()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t._initTypeahead(),t}return(0,c.default)(a,[{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=e?e.querySelector("input"):void 0,!this.el||!this.inputEl)throw new Error("CardExpiration markup missing");this.inputEl.value&&(0,g.default)(this.el,"active"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,b.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onBlurBound=(0,o.default)(e=this._onBlur).call(e,this),this._onFocusBound=(0,o.default)(t=this._onFocus).call(t,this),this._onInputBound=(0,o.default)(n=this._onInput).call(n,this),this._onInvalidBound=(0,o.default)(a=this._onInvalid).call(a,this),this._onValidBound=(0,o.default)(r=this._onValid).call(r,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("invalid",this._onInvalidBound,!1),this.inputEl.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("input",this._onInputBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("focus",this._onFocusBound,!1),this.inputEl.removeEventListener("invalid",this._onInvalidBound,!1),this.inputEl.removeEventListener("valid",this._onValidBound,!1)}},{key:"_initTypeahead",value:function(){this.inputEl&&(this.inputEl.dataset.typeaheadFormat="\\d\\d - \\d\\d",this.typeahead=new f.default(this.el))}},{key:"_onBlur",value:function(){this.inputEl.value||(0,v.default)(this.el,"active"),this.onBlur.call(this),this.inputEl.hasAttribute("data-novalidate")&&this.inputEl.removeAttribute("data-novalidate"),this.valid||this.inputEl.dispatchEvent(_)}},{key:"_onFocus",value:function(){(0,g.default)(this.el,"active"),this.onFocus.call(this)}},{key:"_onInput",value:function(){var e=this.inputEl?this.inputEl.value:0;switch((0,g.default)(this.el,"active"),e.length){case 0:this.month=void 0,this.year=void 0;break;case 1:if(e>1){var t="0".concat(this.inputEl.value," - ");this.inputEl.value=t,this.typeahead.setValue(t),this.typeahead.placeholderEl.innerHTML="&nbsp;&nbsp; - YY",this.typeahead.moveCaret(5),this.month=(0,s.default)(e).call(e,0,2),this.year=void 0}else this.year=void 0;break;case 5:var n,a=(0,s.default)(e).call(e,0,2);if(a>=1&&a<=12)this.month=a,this.typeahead.moveCaret(5);else this.typeahead.setValue(a.charAt(0)),this.typeahead.moveCaret(1),this.inputEl.value=a.charAt(0),this.typeahead.placeholderEl.innerHTML="&nbsp;"+(0,s.default)(n=this.inputEl.placeholder).call(n,1);this.year=void 0;break;case 6:this.month=(0,s.default)(e).call(e,0,2),this.year=void 0;break;case 7:this.month=(0,s.default)(e).call(e,0,2),this.year=e.substr(-2)}this.onInput.call(this),this._checkValidity()}},{key:"_checkValidity",value:function(){this.inputEl.hasAttribute("data-novalidate")||this.inputEl.dispatchEvent(this.valid?O:_)}},{key:"_onInvalid",value:function(){this.onInvalid.call(this)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"valueOf",value:function(){return this.inputEl.value.replace(/\D/g,"")}},{key:"validate",value:function(){return this.validatePattern&&this.inputEl.setAttribute("pattern",this.validatePattern),this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,g.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,v.default)(this.el,"active"),this}},{key:"setValue",value:function(e){return this.value=e,e?this.show():this.hide(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.value=void 0,this}},{key:"disable",value:function(){return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"month",get:function(){if(void 0===this._month&&this.inputEl.value&&this.inputEl.value.length>=2){var e,t=(0,s.default)(e=this.inputEl.value).call(e,0,2);return t>=1&&t<=12?t:this._month}return this._month},set:function(e){var t;if(e&&e>=1&&e<=12?(e=e.toString(),this._month=2===e.length?e:"0".concat(e)):this._month=void 0,this._month&&2===this._month.length)switch(this.inputEl.value.length){case 0:case 1:(0,g.default)(this.el,"active"),this.value=this._month;break;case 2:(0,g.default)(this.el,"active"),this.value=this._month,this.inputEl===document.activeElement&&this.typeahead.moveCaret(5);break;default:this.value=this._month+(0,s.default)(t=this.inputEl.value).call(t,2)}else this._month=void 0,this._year=void 0,this.typeahead.clearValue()}},{key:"year",get:function(){return void 0===this._year&&this.inputEl.value&&7===this.inputEl.value.length?this.inputEl.value.substr(-2):this._year},set:function(e){var t;if(e>=0&&e<=99?(e=e.toString(),this._year=2===e.length?e:"0".concat(e)):this._year=void 0,this._year&&2===this._year.length)switch(this.inputEl.value.length){case 0:case 1:this._year=void 0;break;default:var n;if(this._month)this.value=(0,i.default)(n=this._month).call(n," - ",this._year)}else this.value=(0,s.default)(t=this.inputEl.value).call(t,0,5)}},{key:"value",get:function(){return this.valid?{month:this.month,year:this.year}:void 0},set:function(e){e?e.hasOwnProperty("year")||e.hasOwnProperty("month")?(this.month=e.month||this.month,this.year=e.year||this.year):this.typeahead&&e&&"string"==typeof e&&this.typeahead.setValue(e):(this._month=void 0,this._year=void 0,this.inputEl&&(this.inputEl.value=""),this.typeahead&&(this.typeahead.clearValue(),this.typeahead.placeholderEl.innerText=this.inputEl.placeholder)),this.inputEl===document.activeElement?(0,g.default)(this.el,"active"):(0,y.default)(this.el,"active",this.inputEl.value)}},{key:"valid",get:function(){var e=new RegExp(this.inputEl.getAttribute("pattern"));return!(!this.month||!this.year)&&(this.inputEl.willValidate&&e.test(this.inputEl.value))}}]),a}(h.default);P.prototype._whitelistedParams=["onInput","onBlur","onFocus","onInvalid","onValid","onValidate","validate","validatePattern"],P.prototype.defaults={el:null,inputEl:null,validate:null,validatePattern:null,onInput:function(){},onBlur:function(){},onFocus:function(){},onInvalid:function(){},onValid:function(){},onValidate:function(){}},(0,m.default)(P.prototype,C.default,E.default);var S=P;t.default=S,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1258)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1384)),f=a(n(1261)),m=a(n(1247)),g=a(n(1248)),v=a(n(1266)),y=a(n(1273)),b=a(n(1275));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var E=document.createEvent("Event"),k=document.createEvent("Event");E.initEvent("valid",!0,!0),k.initEvent("invalid",!0,!0);var O=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(C()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,o.default)(a,[{key:"_cacheElements",value:function(e,t){if(this.el=e,this.inputEl=e?e.querySelector("input"):void 0,t.info&&(this.infoPopoverEl=document.querySelector(t.info)),!this.el||!this.inputEl)throw new Error("SecurityCode markup missing");if(this.inputEl.value&&(0,m.default)(this.el,"active"),this.infoPopoverEl){var n,a,r=this.el.querySelector(".spark-payment__info--toggle");r?this.infoEl=r:(this.infoToggleAriaLabel=t.infoToggleAriaLabel||"Show Card Security Code instructions",this.infoEl=(0,v.default)('<button aria-label="'+this.infoToggleAriaLabel+'" class="spark-payment__info--toggle spark-icon-question-mark-circle spark-icon--md"></button>'),this.el.appendChild(this.infoEl)),this.infoPopover=new h.default(this.infoPopoverEl,{anchorX:"center",anchorY:"bottom",toggleEl:this.infoEl,onOpen:(0,i.default)(n=function(){(0,m.default)(this.infoEl,"spark-icon--fill")}).call(n,this),onClose:(0,i.default)(a=function(){(0,g.default)(this.infoEl,"spark-icon--fill"),this.infoEl.focus()}).call(a,this)})}this.messageEl=this.el.querySelector(".spark-input__message")||(0,v.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s;this._onBlurBound=(0,i.default)(e=this._onBlur).call(e,this),this._onFocusBound=(0,i.default)(t=this._onFocus).call(t,this),this._onInputBound=(0,i.default)(n=this._onInput).call(n,this),this._onInfoBound=(0,i.default)(a=this._onInfo).call(a,this),this._onInvalidBound=(0,i.default)(r=this._onInvalid).call(r,this),this._onValidBound=(0,i.default)(s=this._onValid).call(s,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("invalid",this._onInvalidBound,!1),this.inputEl.addEventListener("valid",this._onValidBound,!1),this.infoEl&&(this.infoEl.addEventListener("click",this._onInfoBound,!1),this.infoEl.addEventListener("blur",this._onInfoBlurBound,!1))}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("input",this._onInputBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("focus",this._onFocusBound,!1),this.inputEl.removeEventListener("invalid",this._onInvalidBound,!1),this.inputEl.removeEventListener("valid",this._onValidBound,!1),this.infoEl&&(this.infoEl.removeEventListener("click",this._onInfoBound,!1),this.infoEl.removeEventListener("blur",this._onInfoBlurBound,!1))}},{key:"_onBlur",value:function(){this.value||this.hide(),this.onBlur.call(this),this.inputEl.hasAttribute("data-novalidate")&&this.inputEl.removeAttribute("data-novalidate"),this.valid||this.inputEl.dispatchEvent(k)}},{key:"_onFocus",value:function(){this.show(),this.onFocus.call(this)}},{key:"_onInput",value:function(){if(this.value=this.toString().replace(/\D/g,""),this.value&&this.show(),this.onInput.call(this),!this.inputEl.hasAttribute("data-novalidate")){var e=this.valid?E:k;this.inputEl.dispatchEvent(e)}}},{key:"_onInfo",value:function(e){e.preventDefault(),e.stopPropagation(),this.infoPopover&&this.infoPopover.open({affixTo:this.infoEl})}},{key:"_onInvalid",value:function(){this.onInvalid.call(this)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"toString",value:function(){return this.inputEl.value}},{key:"validate",value:function(){return this.validatePattern&&this.inputEl.setAttribute("pattern",this.validatePattern),this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,m.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,g.default)(this.el,"active"),this}},{key:"setValue",value:function(e){return this.value=e,e?this.show():this.hide(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.value="",this}},{key:"disable",value:function(){return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return(0,l.default)((0,d.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return(0,l.default)((0,d.default)(a.prototype),"update",this).call(this,e)}},{key:"value",get:function(){return this.inputEl?this.inputEl.value:void 0},set:function(e){this.inputEl&&(isNaN(e)?""!==e&&null!=e||((0,g.default)(this.el,"active"),this.inputEl.value=""):((0,m.default)(this.el,"active"),this.inputEl.value=e))}},{key:"maxLength",set:function(e){this.inputEl.maxLength=e&&e>=3&&e<=4?e:4}},{key:"valid",get:function(){return this.inputEl.willValidate&&this.inputEl.value.length>=this.inputEl.getAttribute("minlength")&&this.inputEl.value.length<=this.inputEl.getAttribute("maxlength")}}]),a}(p.default);O.prototype._whitelistedParams=["onInput","onBlur","onFocus","onInvalid","onValid","validate","onValidate","validatePattern"],O.prototype.defaults={el:null,inputEl:null,validatePattern:null,validate:null,onInput:function(){},onBlur:function(){},onFocus:function(){},onInvalid:function(){},onValid:function(){},onValidate:function(){}},(0,f.default)(O.prototype,y.default,b.default);var _=O;t.default=_,e.exports=t.default},function(e,t,n){e.exports=n(1855)},function(e,t,n){e.exports=n(1864)},function(e,t,n){"use strict";var a=n(1285),r=function(e){var t,n;this.promise=new e((function(e,a){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=a})),this.resolve=a(t),this.reject=a(n)};e.exports.f=function(e){return new r(e)}},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=(n(6),n(1)),f=n.n(h),m=n(39),g=n.n(m),v=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={error:!1},n}return p()(t,e),s()(t,[{key:"onError",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.src,r=t.errorSrc,i=t.alt,s=t.width,o=t.height;return f.a.createElement("img",{className:g()("dxp-image",n),onError:function(){return e.onError()},width:s,height:o,src:this.state.error?r:a,alt:i})}}]),t}(h.Component);v.defaultProps={alt:"",width:void 0,height:void 0,className:"",errorSrc:""};var y=v;n.d(t,"a",(function(){return y}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),r=n.n(a),i=n(2),s=n.n(i),o=n(215),l=n.n(o),c=n(0),u=n.n(c),d=n(11);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h=function(e,t){return s()(e)?t:e};function f(e,t){var n=u()(t,"location.query",{}),a=e.metadata.get("pnrQueryRequiredParameters",Object(d.Map)()).reduce((function(t,a,r){var i,s,o,l,c,u,p;return a&&(t[r]=n[r]||(s=(i=e).tripDetails,o=void 0===s?Object(d.Map)():s,l=i.sessionStorage,c=(void 0===l?Object(d.Map)():l).get("pnrQuery",Object(d.Map)()),u=o.getIn(["passengers","0"],Object(d.Map)()),p={pnr:function(){return c.get("pnr")||o.get("pnr")},firstName:function(){return h(c.get("firstName"),u.getIn(["passengerDetails","firstName"],""))},lastName:function(){return h(c.get("lastName"),u.getIn(["passengerDetails","lastName"],""))},email:function(){return h(c.get("email"),u.getIn(["passengerInfo","emails","0"],""))}},function(e){return p[e]()})(r)),t}),{});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{pnr:l()(a.pnr),carReservation:n.carReservation,hotelReservation:n.hotelReservation})}},,,function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"LEFT",(function(){return w})),n.d(a,"RIGHT",(function(){return A})),n.d(a,"TOP",(function(){return T})),n.d(a,"BOTTOM",(function(){return I}));var r={};n.r(r),n.d(r,"LEFT",(function(){return D})),n.d(r,"RIGHT",(function(){return x})),n.d(r,"TOP",(function(){return j})),n.d(r,"BOTTOM",(function(){return L}));var i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(539),y=n.n(v),b=n(122),C=n.n(b),E=n(1),k=n.n(E),O=(n(6),n(39)),_=n.n(O),P=n(111),S=n(1455),N=n.n(S),w="left",A="right",T="top",I="bottom",D={anchorY:"middle",anchorX:"left"},x={anchorY:"middle",anchorX:"right"},j={anchorY:"top",anchorX:"center"},L={anchorY:"bottom",anchorX:"center"};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var B=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.createToolTip()}},{key:"componentDidUpdate",value:function(){this.sparkInstance&&(this.sparkInstance.remove(!0),this.createToolTip())}},{key:"componentWillUnmount",value:function(){this.sparkInstance&&this.sparkInstance._removeEventListeners()}},{key:"createToolTip",value:function(){if(this.tooltip){var e=Object(P.j)(),t=this.props.position;e&&(t===w?t=A:t===A&&(t=w)),this.sparkInstance=new N.a(this.tooltip,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r[y()(t)],{contentEl:this.tooltipContent,caretEl:this.tooltipCaret}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.innerClassName,r=t.tooltip,i=t.id,s=t.ariaLabel,o=t.ariaControls,l=t.disabled,c=t.onClick,u=t.onMouseDown,d=_()("ducp-component-tooltip","spark-tooltip spark-tooltip__toggle",n);return r?k.a.createElement("button",{type:"button",ref:function(t){e.tooltip=t},"aria-describedby":i,"aria-label":s,className:d,disabled:l,"aria-controls":o,onClick:c,onMouseDown:u},this.props.children,k.a.createElement("span",{ref:function(t){e.tooltipContent=t},id:i,className:_()("spark-tooltip__content",g()({},"".concat(a||n,"-content"),a||n)),role:"tooltip"},r,k.a.createElement("span",{ref:function(t){e.tooltipCaret=t},className:"spark-tooltip__caret"}))):this.props.children||!1}}]),t}(E.Component);g()(B,"POSITION",a),g()(B,"defaultProps",{tooltip:void 0,className:void 0,innerClassName:void 0,children:void 0,position:B.POSITION.LEFT,ariaLabel:void 0,ariaControls:void 0,disabled:!1,onClick:C.a,onMouseDown:C.a}),n.d(t,"a",(function(){return a}));t.b=B},function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=n(50),l=n(12),c=(n(2091),n(2092),{SUCCESS:o.a.CHECK,ERROR:o.a.BAN,WARNING:o.a.ALERT_TRIANGLE,INFO:o.a.NOTE,TAGS:o.a.TAGS}),u=function(e){var t=e.className,n=e.type,a=e.title,i=e.children,u=e.size,d=e.id,p=s()("dxp-inline-message",n,t);return r.a.createElement("div",{className:p,id:d},r.a.createElement(o.c,{name:c[n.toUpperCase()],fill:!0,className:"icon",size:u}),r.a.createElement("div",{className:"title-content",role:"note"},a&&r.a.createElement("b",{className:"title"},Object(l.a)(a)),i))};u.defaultProps={title:"",children:"",className:"",id:"",size:"sm"};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(17),r=n.n(a),i=n(155);function s(e){var t=function(e){return[{price:[[e.carPaymentSummary.totalPrice]],label:o(e)}]}(e),n=function(e){return[[e.carPaymentSummary.totalPrice]]}(e);return{label:i.a.CARS,breakdownElements:t,total:n}}function o(e){var t=r()(e.pickupDateTime);return r()(e.dropOffDateTime).diff(t.add(1,"minutes"),"days")+1}},,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(1388),s=n.n(i),o=n(26),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(22),g=n.n(m),v=n(30),y=n.n(v),b=n(3),C=n.n(b),E=n(1),k=n.n(E),O=(n(6),n(39)),_=n.n(O),P=function(e){function t(e){var n;return l()(this,t),(n=u()(this,p()(t).call(this,e))).state=t.extractPropsForState(e),n.onChange=n.onChange.bind(f()(n)),n.onFocus=n.onFocus.bind(f()(n)),n.onBlur=n.onBlur.bind(f()(n)),n}return y()(t,e),g()(t,null,[{key:"extractPropsForState",value:function(e){return{checked:e.defaultValue||e.checked||!1,focused:e.focused||!1,indeterminate:e.indeterminate||!1}}}]),g()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.syncStateWithProp&&this.setState(t.extractPropsForState(e))}},{key:"onChange",value:function(){var e=this,t=this.props,n=t.disabled,a=t.loading,r=t.onChange,i=this.state.checked;return!n&&!a&&this.setState({checked:!i,indeterminate:!1},(function(){return r&&r({target:e.input,isChecked:!i,value:!i,state:"success"})}))}},{key:"onFocus",value:function(e){var t=this.props,n=t.disabled,a=t.loading;return!n&&!a&&(this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e))}},{key:"onBlur",value:function(e){var t=this.props,n=t.disabled,a=t.loading;return!n&&!a&&(this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e))}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled,i=t.id,o=t.label,l=t.loading,c=t.children,u=t.ariaProps,d=(t.onBlur,t.onChange,t.onFocus,t.syncStateWithProp,t.indeterminate,s()(t,["className","disabled","id","label","loading","children","ariaProps","onBlur","onChange","onFocus","syncStateWithProp","indeterminate"])),p=a||l,h=_()("ducp-component-checkbox","spark-checkbox",n,{"spark-progress":l,indeterminate:this.state.indeterminate,checked:this.state.checked,focused:this.state.focused},"Checkbox");return k.a.createElement("label",{className:h,htmlFor:i},k.a.createElement("input",r()({},d,{ref:function(t){e.input=t,t&&(e.input.indeterminate=e.state.indeterminate)},id:i,type:"checkbox",className:"spark-checkbox__input",disabled:p,checked:this.state.checked,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur},u)),k.a.createElement("span",{className:"spark-checkbox__box"}),o&&k.a.createElement("span",{className:"spark-label"},o),c)}}]),t}(E.Component);C()(P,"defaultProps",{className:void 0,label:void 0,disabled:!1,loading:!1,onFocus:void 0,onBlur:void 0,id:void 0,children:void 0,syncStateWithProp:!0,ariaProps:void 0,indeterminate:void 0,onChange:void 0});t.a=P},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=n(17),l=n.n(o),c=n(12);var u=function(e){var t=e.duration,n=s()("dxp-duration",e.className),a=function(e){var t=e.hours?e:l.a.duration(e),n="P";return n+=Math.floor(t.asHours())?"".concat(t.hours(),"H"):"",n+=t.minutes()?"".concat(t.minutes(),"M"):""}(t),i=t.asHours?t:l.a.duration(t);return r.a.createElement("time",{className:n,dateTime:a,dir:"ltr"},Object(c.a)("app.duration",{hours:Math.floor(i.asHours()),minutes:i.minutes()}))};u.defaultProps={className:""};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){var a=n(1269),r=n(1254),i=n(1379);e.exports=!a&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var a=n(1268),r=n(1277),i=n(1380).indexOf,s=n(1329);e.exports=function(e,t){var n,o=r(e),l=0,c=[];for(n in o)!a(s,n)&&a(o,n)&&c.push(n);for(;t.length>l;)a(o,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var a=n(1255),r=n(1622),i=a["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=i},function(e,t,n){"use strict";var a=n(1285),r=n(1259),i=[].slice,s={},o=function(e,t,n){if(!(t in s)){for(var a=[],r=0;r<t;r++)a[r]="a["+r+"]";s[t]=Function("C,a","return new C("+a.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=a(this),n=i.call(arguments,1),s=function(){var a=n.concat(i.call(arguments));return this instanceof s?o(t,a.length,a):t.apply(e,a)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){var a=n(1367);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){"use strict";var a=n(1246),r=n(1624),i=n(1332),s=n(1428),o=n(1299),l=n(1276),c=n(1318),u=n(1253),d=n(1302),p=n(1288),h=n(1426),f=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v=function(){return this};e.exports=function(e,t,n,u,h,y,b){r(n,t,u);var C,E,k,O=function(e){if(e===h&&w)return w;if(!m&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},_=t+" Iterator",P=!1,S=e.prototype,N=S[g]||S["@@iterator"]||h&&S[h],w=!m&&N||O(h),A="Array"==t&&S.entries||N;if(A&&(C=i(A.call(new e)),f!==Object.prototype&&C.next&&(d||i(C)===f||(s?s(C,f):"function"!=typeof C[g]&&l(C,g,v)),o(C,_,!0,!0),d&&(p[_]=v))),"values"==h&&N&&"values"!==N.name&&(P=!0,w=function(){return N.call(this)}),d&&!b||S[g]===w||l(S,g,w),p[t]=w,h)if(E={values:O("values"),keys:y?w:O("keys"),entries:O("entries")},b)for(k in E)!m&&!P&&k in S||c(S,k,E[k]);else a({target:t,proto:!0,forced:m||P},E);return E}},function(e,t,n){"use strict";var a,r,i,s=n(1332),o=n(1276),l=n(1268),c=n(1253),u=n(1302),d=c("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(r=s(s(i)))!==Object.prototype&&(a=r):p=!0),null==a&&(a={}),u||l(a,d)||o(a,d,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var a=n(1254);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var a=n(1270),r=n(1626);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return a(n),r(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){n(1256)("iterator")},function(e,t,n){var a=n(1421),r=n(1364).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},function(e,t,n){e.exports=n(1682)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;var r=function(e){return e.replace(a,"")};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1257)),h=a(n(1261)),f=a(n(1273)),m=a(n(1275)),g=a(n(1266));function v(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(v()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,c.default)(t)):(0,c.default)(t)}return(0,o.default)(a,[{key:"getValue",value:function(){return this.selectEl.value}},{key:"setValue",value:function(e){e+="";for(var t=0,n=this.selectEl.children.length;t<n;t++)if(this.selectEl.children[t].value===e)return this.selectEl.children[t].selected=!0,this._updateClass(),this.onChange.call(this,e,this),this;return this}},{key:"clearValue",value:function(){for(var e=0,t=this.selectEl.children.length;e<t;e++)if(!0===this.selectEl.children[e].selected)return this.selectEl.children[e].selected=!1,this._updateClass(),this.onChange.call(this,"",this),this;return this}},{key:"setOptions",value:function(e){for(var t=0,n=e.length,a="",r=this.selectEl.selectedIndex;t<n;t++)a+="<option "+(void 0!==e[t].value?'value="'+(e[t].value||"")+'"':"")+">"+(e[t].text||"")+"</option>";return this.selectEl.innerHTML=a,this.selectEl.selectedIndex=Math.min(n-1,r),this}},{key:"setLabel",value:function(e){return this.labelEl?(this.labelEl.innerHTML=e,this):this}},{key:"disable",value:function(){return this.selectEl.setAttribute("disabled",""),this}},{key:"enable",value:function(){return this.selectEl.removeAttribute("disabled"),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.selectEl=this.el.querySelector("select"),this.labelEl=this.el.querySelector(".spark-label"),this.messageEl=this.el.querySelector(".spark-select__message")||(0,g.default)('<span class="spark-select__message"></span>'),!this.selectEl)throw new Error("A <select> element must be present!",this.el);this._updateClass()}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onFocusBound=(0,i.default)(e=this._onFocus).call(e,this),this._onBlurBound=(0,i.default)(t=this._onBlur).call(t,this),this._onInputBound=(0,i.default)(n=this._onInput).call(n,this),this._onKeydownBound=(0,i.default)(a=this._onKeydown).call(a,this),this._onClickBound=(0,i.default)(r=this._onClick).call(r,this)}},{key:"_addEventListeners",value:function(){this.selectEl.addEventListener("focus",this._onFocusBound),this.selectEl.addEventListener("blur",this._onBlurBound),this.selectEl.addEventListener("input",this._onInputBound),this.selectEl.addEventListener("keydown",this._onKeydownBound),this.selectEl.addEventListener("click",this._onClickBound)}},{key:"_removeEventListeners",value:function(){this.selectEl.removeEventListener("focus",this._onFocusBound),this.selectEl.removeEventListener("blur",this._onBlurBound),this.selectEl.removeEventListener("input",this._onInputBound),this.selectEl.removeEventListener("keydown",this._onKeydownBound),this.selectEl.removeEventListener("click",this._onClickBound)}},{key:"_updateClass",value:function(){this.hasValue=!!this.selectEl.value,(0,p.default)(this.el,"has-value",this.hasValue),(0,p.default)(this.el,"active",this.isActive)}},{key:"_onFocus",value:function(){this.isActive=!0,this._updateClass();var e=this.getValue();this.onFocus.call(this,e,this)}},{key:"_onBlur",value:function(){this.isActive=!1,this._updateClass();var e=this.getValue();this.onBlur.call(this,e,this)}},{key:"_onInput",value:function(){this._updateClass();var e=this.getValue();e!==this.previousValue&&(this.previousValue=e,this.onChange.call(this,e,this))}},{key:"_onKeydown",value:function(e){var t=this.getValue();this.onKeydown.call(this,e,t,this)}},{key:"_onClick",value:function(e){var t=this.getValue();this.onClick.call(this,e,t,this)}}]),a}(d.default);y.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur","onKeydown","onClick"],y.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,hasValue:!1,isActive:!1,onChange:function(){},onFocus:function(){},onBlur:function(){},onKeydown:function(){},onClick:function(){},previousValue:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onKeydownBound:null},(0,h.default)(y.prototype,f.default,m.default);var b=y;t.default=b,e.exports=t.default},,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(5),g=n.n(m),v=n(1),y=n.n(v),b=n(6),C=n.n(b),E=n(39),k=n.n(E),O=n(1693),_=n.n(O),P=n(1264),S=n(31),N=n.n(S),w=n(102),A=n.n(w),T=n(1297),I=n.n(T),D=n(12),x=n(1389),j=n.n(x),L=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i))),f()(N()(n),"onClose",(function(e){return e&&e.preventDefault(),n.close(),n.props.onClose()})),f()(N()(n),"onKeyDown",(function(e){(I.a.isEventKey(e,"enter")||I.a.isEventKey(e,"space")||I.a.isEventKey(e,"escape"))&&n.onClose(e)})),n}return p()(t,e),u()(t,[{key:"componentDidMount",value:function(){t.currentModal&&t.currentModal.onClose(),this.sparkInstance=new j.a(this.modal),this.sparkInstance.open(),this.props.removeDefaultCloseListeners&&(this.sparkInstance._removeEventListeners(),this.sparkInstance._removeWindowEventListeners()),t.currentModal=this}},{key:"componentWillUnmount",value:function(){return this.close()}},{key:"close",value:function(){this.sparkInstance.close(),t.currentModal=void 0}},{key:"renderCloseButton",value:function(){return y.a.createElement("a",{role:"button",tabIndex:"0",className:"spark-modal__close spark-icon-close",onClick:this.onClose,onKeyDown:this.onKeyDown,"aria-label":Object(D.i)(["DucpComponentModal","closeModal"])},y.a.createElement("span",null,Object(D.i)(["DucpComponentModal","closeModal"])))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.ariaLabelledBy,r=t.ariaLabel,i=t.ariaDescribedBy,s=k()("spark-modal",n,"ducp-component-modal"),o=this.props.contentClassName||"col-xs-12 col-sm-10 col-md-7 col-lg-6 col-xl-5";return A.a.createPortal(y.a.createElement("div",{ref:function(t){e.modal=t},className:s},y.a.createElement("div",{className:"spark-modal__scroll"},y.a.createElement("div",{role:"dialog","aria-labelledby":a,className:k()("spark-modal__content",o),"aria-label":r,"aria-describedby":i,"aria-modal":!0},y.a.createElement("div",{className:"spark-modal__body"},!this.props.isCloseHidden&&this.renderCloseButton(),this.props.children)))),document.body)}}]),t}(v.Component);f()(L,"currentModal",void 0),f()(L,"defaultProps",{className:void 0,children:void 0,isCloseHidden:!1,contentClassName:void 0,onClose:function(){},removeDefaultCloseListeners:!0,ariaLabelledBy:void 0,ariaLabel:void 0,ariaDescribedBy:void 0});var F=L,B=function(e){function t(e){var n;return r()(this,t),(n=s()(this,l()(t).call(this,e))).state={activeTrap:!e.deactivateFocusTrap},n}return p()(t,e),u()(t,null,[{key:"propTypes",get:function(){return{className:C.a.string,header:C.a.node,messageBody:C.a.node,children:C.a.node,messageType:C.a.string,buttons:C.a.arrayOf(C.a.shape({label:C.a.node,className:C.a.string,isSecondaryButton:C.a.bool,onClick:C.a.func})),ariaLabel:C.a.string,onClose:C.a.func,deactivateFocusTrap:C.a.bool,showCloseIcon:C.a.bool,initialFocus:C.a.oneOfType([C.a.func,C.a.string])}}}]),u()(t,[{key:"closePopup",value:function(){this.modal&&this.modal.close(),this.setState({activeTrap:!1}),this.props.onClose&&this.props.onClose()}},{key:"renderButtons",value:function(){return y.a.createElement("div",{className:"button-container"},g()(this.props.buttons,(function(e,t){return y.a.createElement(P.a,{key:t,onClick:e.onClick,className:k()("modal-button",e.className),"aria-label":e.label,isSecondaryButton:e.isSecondaryButton},e.label)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.messageBody,r=t.messageType,i=void 0===r?"info":r,s=t.header,o=t.ariaLabel,l=t.showCloseIcon,c=t.children,u=t.initialFocus,d=k()("MessagePopup",n),p=c||a,h=u?{initialFocus:u}:void 0;return y.a.createElement(_.a,{active:this.state.activeTrap,focusTrapOptions:h},y.a.createElement(F,{isCloseHidden:!l,contentClassName:d,ref:function(t){e.modal=t},onClose:function(){return e.closePopup()},ariaLabelledBy:!o&&"".concat("ducp-component-message-popup",s?"-header":"-message-body"),ariaLabel:o,ariaDescribedBy:s&&p?"".concat("ducp-component-message-popup","-message-body"):void 0},y.a.createElement("div",{className:k()("modal-container",i)},y.a.createElement("div",{className:"modal-content"},y.a.createElement("div",{className:"modal-content-main"},s&&y.a.createElement("h4",{className:"modal-heading"},y.a.createElement("i",{className:k()("modal-message","modal-icon")}),y.a.createElement("span",{id:"".concat("ducp-component-message-popup","-header"),className:"model-heading-text"},s)),p&&y.a.createElement("div",{id:"".concat("ducp-component-message-popup","-message-body")},p)))),this.renderButtons()))}}]),t}(v.Component);f()(B,"defaultProps",{className:void 0,header:void 0,messageBody:void 0,messageType:void 0,buttons:[],ariaLabel:void 0,onClose:void 0,deactivateFocusTrap:!1,showCloseIcon:!1,children:void 0,initialFocus:void 0});t.a=B},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(12),s=n(1415);n(2161);var o=function(){return r.a.createElement("div",{className:"note"},r.a.createElement(s.a,{type:"info",title:"app.fieldsNote"},Object(i.a)("app.fieldsRequired")))};n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";t.a={BASE_FARE:"baseFare",SEATS:"seats",ANCILLARIES:"ancillaries",CAR_PRICE:"carPrice",SURCHARGES:"surcharges",DISCOUNT:"discount",TAXES:"taxes",ORIGINAL_BOOKING_TOTAL:"originalBookingTotal",REFUNDABLE_ITEMS:"refundableItems",NON_REFUNDABLE_ITEMS:"nonRefundableItems",NON_REFUNDABLE_AMOUNT:"nonRefundableAmount",CHANGE_FEES:"changeFees",FEES:"fees",UPGRADES:"upgrades",WAITLISTED_UPGRADES:"waitListedUpgrades",VCR_REFUND_AMOUNT:"vcrRefundAmount",EMD_REFUND_AMOUNT:"emdRefundAmount",CANCELLATION_FEE:"cancellationFee",PAYMENT_SURCHARGE:"paymentSurcharge"}},function(e,t,n){var a=n(1254),r=/#|\.prototype\./,i=function(e,t){var n=o[s(e)];return n==c||n!=l&&("function"==typeof t?a(t):!!t)},s=i.normalize=function(e){return String(e).replace(r,".").toLowerCase()},o=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){e.exports=n(1616)},function(e,t,n){n(1617);var a=n(1252).Object,r=e.exports=function(e,t,n){return a.defineProperty(e,t,n)};a.defineProperty.sham&&(r.sham=!0)},function(e,t,n){var a=n(1287);e.exports=a("document","documentElement")},function(e,t,n){"use strict";var a=n(1246),r=n(1254),i=n(1314),s=n(1259),o=n(1272),l=n(1284),c=n(1340),u=n(1381),d=n(1317),p=n(1253),h=n(1382),f=p("isConcatSpreadable"),m=h>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=d("concat"),v=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)};a({target:"Array",proto:!0,forced:!m||!g},{concat:function(e){var t,n,a,r,i,s=o(this),d=u(s,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?s:arguments[t],v(i)){if(p+(r=l(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,p++)n in i&&c(d,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,p++,i)}return d.length=p,d}})},function(e,t,n){"use strict";var a=n(1277),r=n(1387),i=n(1288),s=n(1337),o=n(1425),l=s.set,c=s.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:a(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,a=e.index++;return!t||a>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:a,done:!1}:"values"==n?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var a=n(1422),r=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return r.call(e)}),e.exports=a.inspectSource},function(e,t,n){var a=n(1313),r="["+n(1383)+"]",i=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),o=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:o(1),end:o(2),trim:o(3)}},function(e,t){},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(1687);var a=n(1252).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1296)),c=a(n(1689)),u=a(n(1274)),d=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),this.el=n.el,this.targetEl=n.targetEl,this.caretEl=n.caretEl,this.anchorY=n.anchorY||"top",this.anchorX=n.anchorX||"center",this.isFixed=n.isFixed||!1,this._addEventListeners(),this._insertEl(),this._setPosition(),this._updateDebounced=(0,u.default)((0,i.default)(t=this.update).call(t,this),500)}return(0,o.default)(e,[{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.keepEl||this._removeEl(),this._removeEventListeners(),this}},{key:"update",value:function(){return this._setPosition(),this}},{key:"_addEventListeners",value:function(){var e,t;this._onResizeBound=(0,i.default)(e=this._onResize).call(e,this),this._onScrollBound=(0,i.default)(t=this._onScroll).call(t,this),window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound)}},{key:"_insertEl",value:function(){this.el.setAttribute("data-affixed",""),this._getRootEl().appendChild(this.el)}},{key:"_removeEl",value:function(){this.el.parentNode.removeChild(this.el),this.el.removeAttribute("data-affixed")}},{key:"_setPosition",value:function(){this.el.style.setProperty("position",this.isFixed?"fixed":"absolute","important");var e=(0,l.default)(this.targetEl,this.isFixed),t=e.top,n=e.left,a=this.targetEl.offsetWidth,r=this.targetEl.offsetHeight,i=this.el.offsetWidth,s=this.el.offsetHeight,o=document.documentElement.offsetHeight,c=document.documentElement.offsetWidth,u=this._calculatePosition({anchorX:this.anchorX,anchorY:this.anchorY,targetTop:t,targetLeft:n,elHeight:s,elWidth:i,targetHeight:r,targetWidth:a,minX:0,minY:0,maxX:c-i,maxY:Math.max(o-s,0)}),d=u.elTop,p=u.elLeft,h=this._positionCaret({elLeft:p,elTop:d,elWidth:i,elHeight:s,targetHeight:r,targetWidth:a,targetLeft:n,targetTop:t}),f=h.extraLeft,m=h.extraTop;this.el.style.left=p+f+"px",this.el.style.top=d+m+"px"}},{key:"_calculatePosition",value:function(e){e.previousAttempts=(e.previousAttempts||0)+1,e.previousChecks=e.previousChecks||[];var t,n,a=e.previousAttempts>3;switch(e.anchorY){case"bottom":t=e.targetTop+e.targetHeight;break;case"middle":t=e.targetTop-(e.elHeight-e.targetHeight)/2;break;default:t=e.targetTop-e.elHeight}if(t<e.minY){var i;if(!a&&-1===(0,r.default)(i=e.previousChecks).call(i,"overY"))return e.previousChecks.push("underY"),e.anchorY=this._getNewAnchorY(!0,e.anchorY,e.anchorX),this._calculatePosition(e);t=e.minY}switch(e.anchorX){case"right":n=e.targetLeft+("middle"===e.anchorY||e.isOverlapping?e.targetWidth:0);break;case"center":n=e.targetLeft-(e.elWidth-e.targetWidth)/2;break;default:n=e.targetLeft-e.elWidth+("middle"!==e.anchorY?e.targetWidth:0)}if(n<e.minX){var s;if(!a&&-1===(0,r.default)(s=e.previousChecks).call(s,"overX"))return e.previousChecks.push("underX"),e.anchorX=this._getNewAnchorX(!0,e.anchorX,e.anchorY),this._calculatePosition(e);n=e.minX}if(n>e.maxX){var o;if(!a&&-1===(0,r.default)(o=e.previousChecks).call(o,"underX"))return e.previousChecks.push("overX"),e.anchorX=this._getNewAnchorX(!1,e.anchorX,e.anchorY),this._calculatePosition(e);n=e.maxX}if("overlap"===(0,c.default)({width:e.elWidth,height:e.elHeight,left:n,top:t},{width:e.targetWidth,height:e.targetHeight,left:e.targetLeft,top:e.targetTop})){if(e.isOverlapping=!0,!1!==e.repositionY)return e.repositionY=!e.repositionY,e.anchorY=this._getNewAnchorY(e.repositionY,"middle",e.anchorX),e.previousAttempts--,this._calculatePosition(e);if(!1!==e.repositionX)return e.repositionX=!e.repositionX,e.anchorX=this._getNewAnchorX(e.repositionX,"center",e.anchorY),e.previousAttempts--,this._calculatePosition(e)}return{elTop:t,elLeft:n,anchorX:e.anchorX,anchorY:e.anchorY}}},{key:"_getNewAnchorY",value:function(e,t,n){return"center"===n||"middle"===t?e?"bottom":"top":"middle"}},{key:"_getNewAnchorX",value:function(e,t,n){return"middle"===n||"center"===t?e?"left":"right":"center"}},{key:"_positionCaret",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.caretEl){var t=(0,c.default)({width:e.elWidth,height:e.elHeight,left:e.elLeft,top:e.elTop},{width:e.targetWidth,height:e.targetHeight,left:e.targetLeft,top:e.targetTop}),n=this.caretEl.getBoundingClientRect(),a=n.width,r=n.height,i=Math.min(e.elWidth,Math.max(0,e.targetLeft-e.elLeft+e.targetWidth/2)),s=Math.min(e.elHeight,Math.max(0,e.targetTop-e.elTop+e.targetHeight/2));this.caretEl.style.left=Math.round(i)+"px",this.caretEl.style.top=Math.round(s)+"px";var o=0,l=0;switch(this.caretEl.setAttribute("data-position",t),t){case"above":l=-a/2;break;case"below":l=a/2;break;case"left":o=-r/2;break;default:o=r/2}return{extraLeft:o,extraTop:l}}}},{key:"_getRootEl",value:function(){var e=document.querySelector("body > form");return e&&null===e.getAttribute("data-affixed")?e:document.body}},{key:"_onResize",value:function(){this.update()}},{key:"_onScroll",value:function(){this._updateDebounced()}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1258)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1247)),f=a(n(1248)),m=a(n(1251)),g=a(n(1257)),v=a(n(1295)),y=n(1271),b=a(n(1454)),C=a(n(1266));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(E()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,o.default)(a,[{key:"open",value:function(){return this.affix||(this.affix=new b.default({el:this.contentEl,targetEl:this.toggleEl,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY}),(0,h.default)(this.contentEl,"active"),this.isActive=!0,this.toggleEl.setAttribute("aria-expanded","true")),this}},{key:"close",value:function(){return this.affix?((0,f.default)(this.contentEl,"active"),this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,this.isActive=!1,this.toggleEl.setAttribute("aria-expanded","false"),this):this}},{key:"toggle",value:function(){return this[this.isActive?"close":"open"]()}},{key:"update",value:function(e){return this.affix&&this.affix.update(),this._removeEventListeners(),this._cacheElements(e||this.el),this._addEventListeners(),this}},{key:"remove",value:function(e){return this.close(),(0,f.default)(this.el,"tooltip-initialized"),(0,l.default)((0,d.default)(a.prototype),"remove",this).call(this,e)}},{key:"_cacheElements",value:function(e){this.el=e,this.toggleEl=this.el.querySelector('.spark-tooltip__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('[class*="spark-tooltip__content--"]')||this._createContentEl(),this.caretEl=this.el.querySelector(".spark-tooltip__caret")||this._createCaretEl(),(0,v.default)(this.caretEl,this.contentEl)||this.contentEl.appendChild(this.caretEl),this.isActive=(0,m.default)(this.toggleEl,"tooltip-active"),(0,h.default)(this.el,"tooltip-initialized")}},{key:"_parseParams",value:function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,y.string)(this.el,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,y.string)(this.el,"data-anchor-x",null),this.anchorY||this.anchorX||((0,m.default)(this.contentEl,"spark-tooltip__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,m.default)(this.contentEl,"spark-tooltip__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,m.default)(this.contentEl,"spark-tooltip__content--top")?(this.anchorY="top",this.anchorX="center"):(0,m.default)(this.contentEl,"spark-tooltip__content--bottom")&&(this.anchorY="bottom",this.anchorX="center"))}},{key:"_updateAttributes",value:function(){(0,g.default)(this.el,"tooltip-active",this.isActive),(0,g.default)(this.contentEl,"tooltip-active",this.isActive),(0,g.default)(this.toggleEl,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onMouseoverBound=(0,i.default)(e=this._onMouseover).call(e,this),this._onMouseoutBound=(0,i.default)(t=this._onMouseout).call(t,this),this._onWindowMouseoverBound=(0,i.default)(n=this._onWindowMouseover).call(n,this),this._onFocusBound=(0,i.default)(a=this._onFocus).call(a,this),this._onBlurBound=(0,i.default)(r=this._onBlur).call(r,this)}},{key:"_addEventListeners",value:function(){this.toggleEl.addEventListener("mouseover",this._onMouseoverBound),this.toggleEl.addEventListener("mouseout",this._onMouseoutBound),this.toggleEl.addEventListener("focus",this._onFocusBound),this.toggleEl.addEventListener("blur",this._onBlurBound)}},{key:"_removeEventListeners",value:function(){this.toggleEl.removeEventListener("mouseover",this._onMouseoverBound),this.toggleEl.removeEventListener("mouseout",this._onMouseoutBound),this.toggleEl.removeEventListener("focus",this._onFocusBound),this.toggleEl.removeEventListener("blur",this._onBlurBound)}},{key:"_addWindowEventListeners",value:function(){window.addEventListener("mouseover",this._onWindowMouseoverBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("mouseover",this._onWindowMouseoverBound)}},{key:"_createContentEl",value:function(){return(0,C.default)('<div class="spark-tooltip__content"></div>')}},{key:"_createCaretEl",value:function(){return(0,C.default)('<div class="spark-tooltip__caret"></div>')}},{key:"_onMouseover",value:function(){this._addWindowEventListeners(),this.open()}},{key:"_onMouseout",value:function(){this._removeWindowEventListeners(),this.close()}},{key:"_onFocus",value:function(){this._addWindowEventListeners(),this.open()}},{key:"_onBlur",value:function(){this._removeWindowEventListeners(),this.close()}},{key:"_onWindowMouseover",value:function(e){e.target===this.el||(0,v.default)(e.target,this.el)||this._onMouseout()}}]),a}(p.default);k.prototype._whitelistedParams=["anchorY","anchorX","contentEl","toggleEl"],k.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,isActive:!1,affix:null,anchorY:null,anchorX:null,_onMouseoverBound:null,_onMouseoutBound:null,_onFocusBound:null,_onBlurBound:null,_onWindowMouseoverBound:null};var O=k;t.default=O,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"j",(function(){return V})),n.d(t,"i",(function(){return U})),n.d(t,"f",(function(){return H})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return G})),n.d(t,"c",(function(){return K})),n.d(t,"h",(function(){return z})),n.d(t,"g",(function(){return Y})),n.d(t,"b",(function(){return Q}));var a=n(562),r=n.n(a),i=n(43),s=n.n(i),o=n(110),l=n.n(o),c=n(79),u=n.n(c),d=(n(13),n(336),n(156),n(15),n(98),n(137)),p=n.n(d),h=n(4),f=n.n(h),m=n(5),g=n.n(m),v=(n(49),n(115),n(77),n(2),n(23)),y=n.n(v),b=(n(21),n(52),n(0)),C=n.n(b),E=n(76),k=n.n(E),O=n(1939),_=n.n(O),P=n(82),S=n.n(P),N=n(18),w=n.n(N),A=n(34),T=n.n(A),I=n(546),D=n.n(I),x=n(1),j=n.n(x),L=n(12),F=n(50),B=function(e){return p()(e,(function(e){return C()(e,"pricedItineraryExchangeCharge.priceDifferenceWaived",!1)?0:D()(f()(e.total,(function(e,t){return e.push(C()(t,"0.amount",1/0)),e}),[]))}))},R=function(e){var t=e.brands,n=e.displayBrandSoldOut,a=e.sortBrandsByPrice,r=e.currencySymbol,i=T()(function(e){return f()(e,(function(e,t){return u()(e,C()(t,"offers",[]))}),[])}(t)).filter((function(e){return!e.sold||n})).filter((function(e){return!S()(e)&&!C()(e,"pricedItineraryExchangeCharge.priceDifferenceWaived",!1)}));a||(i=B(i)),k()(i,(function(e,t){w()(e,{currencySymbol:_()(r,t+1)})}));var s=l()(i,"brandId"),o=f()(s,(function(e,n,a){var r=C()(t,a);return e[a]={offers:n,soldOut:r.soldOut,class:r.class},e}),{});return w()(t,o)};function M(e){var t="@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarned.Miles.None"===e?"||@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarnedAward.None":e;return g()(t.split("||"),(function(e){return Object(L.a)(e)}))}function V(e){var t="@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarned.Miles.None"===e?"||@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarnedAward.None":e;return g()(t.split("||"),(function(e){return Object(L.i)(e)}))}function U(e){return g()(e.split("||"),(function(e){return Object(L.i)(e)}))}function q(e,t,n,a){return j.a.createElement("span",{className:"amenity-value"},j.a.createElement("span",null,"string"==typeof e&&"Yes"===X(e,a)&&j.a.createElement("div",{classname:"check-icon-wrapper"},j.a.createElement(F.c,{className:"check-mark",srOnlyText:"Yes"})),"string"==typeof e&&"No"===X(e,a)&&j.a.createElement("div",{classname:"cross-icon-wrapper"},j.a.createElement(F.c,{className:"cross-mark",srOnlyText:"No"})),"string"==typeof e&&"Yes"!=X(e,a)&&"No"!=X(e,a)&&Object(L.i)(e),e.codeshare&&t&&M(e.codeshare),e.etihad&&!t&&M(e.etihad)),e.changeable&&"Yes"===X(e.changeable,a)&&j.a.createElement("div",{classname:"check-icon-wrapper"},j.a.createElement(F.c,{className:"check-mark",srOnlyText:"Yes"})),e.changeable&&"No"===X(e.changeable,a)&&j.a.createElement("div",{classname:"cross-icon-wrapper"},j.a.createElement(F.c,{className:"cross-mark",srOnlyText:"No"})),e.refundable&&"Yes"===X(e.refundable,a)&&j.a.createElement("div",{classname:"check-icon-wrapper"},j.a.createElement(F.c,{className:"check-mark",srOnlyText:"Yes"})),e.refundable&&"No"===X(e.refundable,a)&&j.a.createElement("div",{classname:"cross-icon-wrapper"},j.a.createElement(F.c,{className:"cross-mark",srOnlyText:"No"})),e.charge&&(r=e.charge,g()(r.split("||"),(function(e){return Object(L.a)(e)}))));var r}var H=function(e,t,n){var a=e[C()(Object.keys(e),[0],{cabin:""})].cabin;return r()(p()(f()(C()(t,[0]),(function(e,t,n){return C()(t,"isEnabled[".concat(a,"]"),!1)&&e.push({title:n,position:C()(t,"attributePosition",0)}),e}),[]),(function(e){return e.position})))},W=function(e,t,n,a,r){var i=H(e,t,0);return f()(i,(function(a,i){return a[i.title]=function(e,t,n,a,r){return g()(e,(function(e,i){var s=C()(n,"".concat(i.toLowerCase(),"Values"),"-");return{brandId:i,icon:t.icon,key:t.title,title:Object(L.i)("brandComparison.legend.".concat(t.title)),value:q(s,a,0,r)}}))}(e,i,C()(t,"[".concat(0,"][",i.title,"]"),""),n,r),a}),{})},G=function(e,t,n,a,r){var i=H(e,n,0);return g()(i,(function(e){var i=C()(n,"[0]".concat(e.title,".").concat(t.toLowerCase(),"Values"),"-");return{icon:"",key:e.title,title:Object(L.a)("brandComparison.legend.".concat(e.title)),value:q(i,a,0,r)}}))},K=function(e,t,n,a,r,i){var s=H(e,n,0),o=C()(n,"[0]".concat(r,".").concat(t.toLowerCase(),"Values"),"-");return g()(s,(function(e){return{icon:"",key:e.title,title:Object(L.a)("brandComparison.legend.".concat(e.title)),value:q(o,a)}}))};function z(){return j.a.createElement("div",{className:"dxp-price"},j.a.createElement("span",{className:"big-price"},Object(L.a)("app.free")))}function Y(e){return j.a.createElement("div",{className:"dxp-price"},j.a.createElement("span",{className:"big-price"},e))}function Q(e){return s()(e,(function(e){return C()(e,"pricedItineraryExchangeCharge.priceDifferenceWaived")}))}function X(e,t){var n=y()(e)?e.join("."):e,a=C()(t,n);return void 0===a?n:a}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(31),p=n.n(d),h=n(28),f=n.n(h),m=n(339),g=n.n(m),v=n(30),y=n.n(v),b=n(3),C=n.n(b),E=n(67),k=n.n(E),O=n(16),_=n.n(O),P=n(0),S=n.n(P),N=n(18),w=n.n(N),A=n(2),T=n.n(A),I=n(6),D=n.n(I),x=n(1),j=n.n(x),L=n(244),F=n(1725),B=n(17),R=n.n(B),M=n(197),V=n.n(M),U=n(39),q=n.n(U),H=n(12),W=n(50),G=function(e,t){return L.a.is(L.a.code.special.enter,e.which)&&t},K=function(e){var t=e.onPrev,n=e.onNext,a=e.colspan,r=e.viewName,i=e.onChange,s=e.children;return j.a.createElement("div",{className:"dp-header"},j.a.createElement("div",{className:"dp-nav-table"},j.a.createElement("div",{className:"dp-row"},j.a.createElement("button",{type:"button",className:"dp-prev-nav dp-nav-cell dp-cell",onClick:t,onKeyPress:function(e){return G(e,t(e))}},j.a.createElement(W.c,{name:W.a.ARROW_CHEVRON_LEFT,srOnlyText:Object(H.i)("datePicker.".concat(r,".prevText"))})),j.a.createElement("button",{type:"button",className:"dp-nav-view dp-cell",title:Object(H.i)("datePicker.headerInstruction"),colSpan:a,onClick:i,onKeyPress:function(e){return G(e,i(e))}},s),j.a.createElement("button",{type:"button",className:"dp-next-nav dp-nav-cell dp-cell",onClick:n,onKeyPress:function(e){return G(e,n(e))}},j.a.createElement(W.c,{name:W.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(H.i)("datePicker.".concat(r,".nextText"))})))))},z=n(35),Y=n.n(z),Q=n(145),X=n.n(Q),J=n(23),$=n.n(J),Z=n(5),ee=n.n(Z),te=n(79),ne=n.n(te),ae=n(176),re=n.n(ae),ie=function(e){function t(){return s()(this,t),u()(this,f()(t).apply(this,arguments))}return y()(t,e),l()(t,[{key:"getDaysInMonth",value:function(e){var t=this.props,n=t.toMoment,a=t.weekStartDay,r=n(e).startOf("month"),i=n(e).startOf("month").add(-1,"days"),s=n(r).day(a);return!i.isBefore(s)||!this.props.alwaysShowPrevWeek&&s.isSame(r)||s.add(-1,"weeks"),re()(42,(function(){var e=n(s);return s.add(1,"days"),e}))}},{key:"getWeekDayNames",value:function(){var e=this.props,t=e.weekDayNames,n=e.weekStartDay,a=e.locale;if(V()(t))return t(n,a);if($()(t)){var r=[].concat(t);return re()(n,r.push(r.shift())),r}return t}},{key:"handleClick",value:function(e,t,n){var a=this.props,r=a.minDate,i=a.maxDate,s=a.onChange;r&&t<r||i&&t>i||(n.preventDefault(),n.target.value=e,s&&s(e,n))}},{key:"renderDay",value:function(e,t){var n=this,a=this.props,r=a.format,i=a.dayFormat,s=a.maxDate,o=a.minDate,l=a.toMoment,c=a.highlightWeekends,u=r.day(t,i),d=l(t,null,{locale:this.props.locale}).format("MMMM"),p=+t,h=o&&t<o,f=s&&t>s,m=l(t),g=m.day(),v={key:u,text:u,date:m,moment:m,className:q()("dp-cell dp-day",{"dp-current":p===e.today,"dp-prev":p<e.monthFirst,"dp-next":p>e.monthLast,"dp-before-min":h,"dp-after-max":f,"dp-disabled":h||f,"dp-value":p===e.moment,"dp-weekend":0===g||6===g,"dp-weekend-highlight":c&&(0===g||6===g)}),children:j.a.createElement("button",{type:"button",disabled:h||f,className:"dp-cell-btn",onKeyPress:function(e){return L.a.is(L.a.code.special.enter,e.which)&&n.handleClick(t,p,e)},"aria-pressed":p===e.moment,onClick:function(e){return n.handleClick(t,p,e)}},u,j.a.createElement("span",{className:"sr-only"}," ",d)),beforeMinDate:h,afterMaxDate:f};V()(this.props.onRenderDay)&&(v=this.props.onRenderDay(v));var y=j.a.createElement("td",Y()(v,"beforeMinDate","afterMaxDate")),b=this.props.renderDay||y;return this.props.renderDay&&b(v)||y}},{key:"renderDays",value:function(e){var t=this,n=this.props,a=n.weekNumbers,r=n.date,i=n.viewDate,s=n.toMoment,o=s(i,n.dateFormat),l={monthFirst:+s(o).startOf("month"),monthLast:+s(o).endOf("month"),today:+s().startOf("day"),moment:+s(r).startOf("day")},c=ee()(e,(function(e){return t.renderDay(l,e)})),u=Math.ceil(e.length/7),d=ee()(X()(u),(function(n){var r=7*n,i=7*(n+1);return ne()([a&&t.renderWeekNumber(e.slice(r,i))],c.slice(r,i))}));return ee()(d,(function(e,t){return j.a.createElement("tr",{key:"row".concat(t),className:"dp-week dp-row"},e)}))}},{key:"renderWeekDayNames",value:function(){var e=this.props.weekNumbers?[this.props.weekNumberName]:[],t=ne()(e,this.getWeekDayNames());return j.a.createElement("tr",{className:"dp-row dp-week-day-names"},ee()(t,(function(e,t){return j.a.createElement("th",{key:t,className:"dp-cell dp-week-day-name",scope:"col"},e)})))}},{key:"renderWeekNumber",value:function(e,t){var n=t[0],a=n.weeks(),r={key:"week",className:"dp-cell dp-weeknumber",week:a,days:t,date:n,children:a};return this.props.renderWeekNumber&&this.props.renderWeekNumber(r)||j.a.createElement("div",r)}},{key:"render",value:function(){var e=this.props,t=e.viewDate,n=(0,e.toMoment)(t,e.dateFormat);return j.a.createElement("table",{className:"dp-table dp-month-view"},j.a.createElement("thead",{className:"dp-table-header"},this.renderWeekDayNames()),j.a.createElement("tbody",{className:"dp-table-body"},this.renderDays(this.getDaysInMonth(n))))}}]),t}(x.Component);C()(ie,"defaultProps",{weekNumbers:void 0,weekNumberName:void 0,highlightWeekends:!1,onRenderDay:void 0,renderDay:void 0,renderWeekNumber:void 0,alwaysShowPrevWeek:!1,weekDayNames:void 0,onChange:void 0});var se=function(e){function t(){return s()(this,t),u()(this,f()(t).apply(this,arguments))}return y()(t,e),l()(t,[{key:"handleClick",value:function(e,t){t.target.value=e,this.props.onSelect&&this.props.onSelect(e,t)}},{key:"renderMonth",value:function(e,t){var n=this,a=this.props,r=a.format,i=a.monthFormat,s=r.month(t,i),o=+t,l=q()("dp-cell dp-month",{"dp-value":o===e}),c=function(e){return n.handleClick(t,e)};return j.a.createElement("td",{className:l,key:s},j.a.createElement("button",{type:"button",className:"month-button",onKeyPress:function(e){return G(e,c(e))},onClick:c,"aria-pressed":o===e},s))}},{key:"renderMonths",value:function(e){var t=this,n=this.props.date&&+R()(this.props.date).startOf("month"),a=ee()(e,(function(e){return t.renderMonth(n,e)})),r=Math.ceil(e.length/4),i=ee()(X()(r),(function(e){return a.slice(4*e,4*(e+1))}));return ee()(i,(function(e,t){return j.a.createElement("tr",{key:"row".concat(t),className:"dp-row"},e)}))}},{key:"render",value:function(){var e=t.getMonthsInYear(R()(this.props.viewDate));return j.a.createElement("table",{className:"dp-table dp-year-view"},j.a.createElement("tbody",{className:"dp-table-body"},this.renderMonths(e)))}}],[{key:"getMonthsInYear",value:function(e){var t=R()(e).startOf("year");return ee()(X()(12),(function(){var e=R()(t);return t.add(1,"month"),e}))}}]),t}(x.Component);C()(se,"defaultProps",{onSelect:void 0});var oe=function(e){function t(){return s()(this,t),u()(this,f()(t).apply(this,arguments))}return y()(t,e),l()(t,[{key:"handleClick",value:function(e,t){t.target.value=e,this.props.onSelect&&this.props.onSelect(e,t)}},{key:"renderYear",value:function(e,t,n,a){var r=this,i=this.props,s=i.format,o=i.yearFormat,l=s.year(t,o),c=+t,u=q()("dp-cell dp-year",{"dp-value":c===e,"dp-prev":!n,"dp-next":n===a.length-1}),d=function(e){return r.handleClick(t,e)};return j.a.createElement("td",{className:u,key:l},j.a.createElement("button",{type:"button",className:"year-button",onClick:d,onKeyPress:function(e){return G(e,d(e))},"aria-pressed":c===e},l))}},{key:"renderYears",value:function(e){var t=this,n=this.props.date&&+R()(this.props.date).startOf("year"),a=ee()(e,(function(e,a,r){return t.renderYear(n,e,a,r)})),r=Math.ceil(e.length/4),i=ee()(X()(r),(function(e){return a.slice(4*e,4*(e+1))}));return ee()(i,(function(e,t){return j.a.createElement("tr",{key:"row".concat(t),className:"dp-row"},e)}))}},{key:"render",value:function(){var e=t.getYearsInDecade(R()(this.props.viewDate));return j.a.createElement("table",{className:"dp-table dp-decade-view"},j.a.createElement("tbody",{className:"dp-table-body"},this.renderYears(e)))}}],[{key:"getYearsInDecade",value:function(e){var t=R()(e).get("year");t=t-t%10-1;var n=R()(t,"YYYY").startOf("year");return ee()(X()(12),(function(){var e=R()(n);return n.add(1,"year"),e}))}}]),t}(x.Component);C()(oe,"defaultProps",{date:void 0,onSelect:void 0});n(2098),n(2099);var le=function(e){function t(e){var n;return s()(this,t),(n=u()(this,f()(t).call(this,e))).state={view:e.defaultView,viewDate:e.defaultViewDate,defaultDate:e.defaultDate},n}return y()(t,e),l()(t,null,[{key:"getWeekDayNames",value:function(e,t){var n,a=1*R()().startOf("week").format("d");if(t){var r=R.a.localeData(t);n=r&&r._weekdaysShort?r._weekdaysShort:void 0}n=(n||R.a.weekdaysShort()).concat();for(var i=null===e?a:e;i>0;)n.push(n.shift()),i-=1;return n}}]),l()(t,[{key:"getDate",value:function(){var e=S()(this.props,"date",this.state.defaultDate);return e?this.toMoment(e):e}},{key:"getHeaderElement",value:function(e,t){return j.a.createElement("div",{className:"dp-header-text"},j.a.createElement("span",{className:"sr-only"},Object(H.a)("datePicker.".concat(e,".header"))),j.a.createElement("span",{"aria-live":"polite"},this.getHeaderText(e,t)))}},{key:"getHeaderText",value:function(e,t){if("month"===e)return this.toMoment(t,null,{locale:this.props.locale}).format("MMMM YYYY");if("year"===e)return this.toMoment(t,null,{locale:this.props.locale}).format("YYYY");if("decade"===e){var n=R()(t).get("year");return"".concat(n=n-n%10-1," - ").concat(n+11)}return""}},{key:"getNextViewName",value:function(){return this.getViewOrder()[this.addViewIndex(1)]}},{key:"getPrevViewName",value:function(){return this.getViewOrder()[this.addViewIndex(-1)]}},{key:"getProps",value:function(){var e=this,n=this.getDate(),a={day:function(t,n){return e.toMoment(t).format(n||e.props.dayFormat)},month:function(t,n){return e.toMoment(t).format(n||e.props.monthFormat)},year:function(t,n){return e.toMoment(t).format(n||e.props.yearFormat)}},r=R.a.localeData(this.props.locale);return _()({},this.props,{date:n,viewDate:this.getViewDate(),style:_()({},this.props.defaultStyle,this.props.style),dateString:n?n.format(this.props.dateFormat):"",toMoment:function(t){return e.toMoment(t)},format:a,weekDayNames:t.getWeekDayNames,weekStartDay:this.props.weekStartDay||(r._week?r._week.dow:null),onChange:function(t,n){return e.handleChange(t,n)},onSelect:function(t,n){return e.handleSelect(t,n)}})}},{key:"getView",value:function(){var e=this.props.views||t.Views;return e[this.getViewName()]||e.month}},{key:"getViewColspan",value:function(){return S()({month:5,year:2,decade:2},this.getViewName())}},{key:"getViewDate",value:function(){var e=this.props.viewDate||this.state.viewDate||this.getDate()||new Date;return R.a.isMoment(e)&&(e=+e),this.toMoment(e)}},{key:"getViewFactory",value:function(){var e=this.getView();return j.a.createFactory&&e&&e.prototype&&V()(e.prototype.render)&&(e.factory=e.factory||j.a.createFactory(e),e=e.factory),e}},{key:"getViewMomentByDirection",value:function(e){var t=this,n=this.getViewDate();return{month:function(){return t.toMoment(n).add(1*e,"month")},year:function(){return t.toMoment(n).add(1*e,"year")},decade:function(){return t.toMoment(n).add(10*e,"year")}}[this.getViewName()]()}},{key:"getViewName",value:function(){return(null!==this.props.view?this.props.view:this.state.view)||"month"}},{key:"getViewOrder",value:function(){return this.props.viewOrder||["month","year","decade"]}},{key:"setView",value:function(e){this.props.onViewChange&&this.props.onViewChange(e),this.props.view||this.setState({view:e})}},{key:"setViewDate",value:function(e){var t=this.toMoment(e);this.props.onViewDateChange&&this.props.onViewDateChange(t.format(this.props.dateFormat),t,this.getViewName()),this.props.viewDate||this.setState({viewDate:t})}},{key:"addViewIndex",value:function(e){var t=this.getViewName(),n=this.getViewOrder();return(n.indexOf(t)+e)%n.length}},{key:"gotoDate",value:function(e){this.setView("month"),this.setViewDate(e)}},{key:"handleChange",value:function(e,t){t.preventDefault();var n=this.toMoment(e);if(this.props.navOnDateClick){var a=this.toMoment(this.getViewDate()).format("YYYY-MM"),r=n.format("YYYY-MM");r>a?this.handleNavigation(1,t):r<a&&this.handleNavigation(-1,t)}var i=n.format(this.props.dateFormat);this.props.date||this.setState({defaultDate:i}),this.props.onChange&&this.props.onChange(i,n,t)}},{key:"handleNavigation",value:function(e,t){var n=this.getViewMomentByDirection(e);if(this.setViewDate(n),V()(this.props.onNav)){var a=n.format(this.props.dateFormat),r=this.getViewName();this.props.onNav(a,n,r,e,t)}}},{key:"handleSelect",value:function(e,t){t.preventDefault();var n={decade:"year",year:"month"}[this.getViewName()],a=e.get(n),r=this.toMoment(this.getViewDate()).set(n,a),i=this.getPrevViewName();if(this.setViewDate(r),this.setView(i),this.container&&this.container.focus(),V()(this.props.onSelect)){var s=r.format(this.props.dateFormat);this.props.onSelect(s,r,i,t)}}},{key:"handleViewChange",value:function(){this.setView(this.getNextViewName())}},{key:"toMoment",value:function(e){var t=this.props,n=t.dateFormat,a=t.locale;return"string"==typeof e?R()(e,n,a):R()(e||new Date,void 0,a)}},{key:"renderFooter",value:function(){var e=this;if(this.props.hideFooter)return null;var t={todayText:Object(H.a)("datePicker.todayText"),gotoSelectedText:Object(H.a)("datePicker.gotoSelectedText"),gotoToday:function(t){return t.preventDefault(),e.gotoDate(+new Date)},gotoSelected:function(t){return t.preventDefault(),e.gotoDate(e.props.date||+new Date)},date:this.props.date,viewDate:this.getViewDate()};return this.props.footerFactory&&this.props.footerFactory(t)||j.a.createElement("div",{className:"dp-footer"},j.a.createElement("button",{type:"button",className:"dp-footer-today",onClick:t.gotoToday},t.todayText),j.a.createElement("button",{type:"button",className:"dp-footer-selected",onClick:t.gotoSelected},t.gotoSelectedText))}},{key:"renderHeader",value:function(){var e=this;if(this.props.hideHeader)return null;var t=this.getViewName(),n=this.getHeaderElement(t,this.getViewDate()),a=this.getViewColspan();return K({onPrev:function(t){t.preventDefault(),e.handleNavigation(-1)},onNext:function(t){t.preventDefault(),e.handleNavigation(1)},colspan:a,viewName:t,onChange:function(t){t.preventDefault(),e.handleViewChange()},children:n},this.context)}},{key:"render",value:function(){var e=this,t=this.getViewFactory(),n=this.getProps();return j.a.createElement("div",{className:q()("date-picker",this.props.className,{"open-up":this.props.renderDatepickerOnTop}),style:n.style},this.renderHeader(),j.a.createElement("div",{className:"dp-body",tabIndex:"-1",ref:function(t){e.container=t},style:{flex:1}},t(n)),this.renderFooter())}}]),t}(x.Component);C()(le,"defaultProps",{navOnDateClick:!0,defaultStyle:{boxSizing:"border-box"},dateFormat:"YYYY-MM-DD",weekStartDay:null,dayFormat:"D",monthFormat:"MMMM",yearFormat:"YYYY",locale:null,view:null,date:null,viewDate:null,onChange:void 0,onNav:void 0,onSelect:void 0,viewOrder:void 0,defaultView:void 0,onViewDateChange:void 0,onViewChange:void 0,footerFactory:void 0,defaultViewDate:void 0,defaultDate:void 0,className:"",hideHeader:!1,hideFooter:!1,views:void 0,style:void 0}),C()(le,"Views",{month:ie,year:se,decade:oe});var ce=n(1890),ue=n(550),de=n(441),pe=n(439),he=n(153),fe=n(1289),me=n(553);n(2100);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ve=["ar-AE","hi-IN","km-KM"],ye=function(e){function t(e,n){var a;if(s()(this,t),a=u()(this,f()(t).call(this,e,n)),C()(p()(a),"name","field-date"),C()(p()(a),"handleKeyPress",(function(e){e.preventDefault(),e.key===F.b&&a.onComponentClick()})),C()(p()(a),"onDatePickerClose",(function(e){("click"===e.type||L.a.is(L.a.code.special.esc,e.which))&&(e.preventDefault(),a.setState({isDatePickerOpen:!1},(function(){return a.setFocusToTheInput()})))})),C()(p()(a),"onComponentClick",(function(){var e={status:"active"};a.props.isDatePickerDisabled||(a.state.isDatePickerOpen?e.status="default":e.isDatePickerOpen=!0),a.setState(e)})),a.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.state,{status:"default",isDatePickerOpen:!1,isExpanded:!1,validators:e.validators||[]}),!T()(e.defaultValue)){var r=R()(e.defaultValue,a.props.dateFormat),i=null;Object(fe.m)(r)&&a.isInRange(r)&&(i=r),a.value=i||r}return a}return y()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){g()(f()(t.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e),e.isDatePickerDisabled||void 0===e.value&&void 0===e.defaultValue||this.setValue(e.value||e.defaultValue)}},{key:"componentDidMount",value:function(){this.wrapMaskedInput()}},{key:"getValue",value:function(){return this.value?k()(this.value)?this.value:this.value.format(this.getFormat()):""}},{key:"setValue",value:function(e){var t=e;R.a.isMoment(e)||(t=R()(e,this.getFormat())),T()(e)&&(this.value=e),Object(fe.m)(t)&&this.isInRange(t)&&(this.value=t,this.inputRef.value=this.getDisplayValue(t,this.getFormat()))}},{key:"renderChildren",value:function(){var e=this.getElementId("input");return(this.props.children||[]).concat([this.renderLabel(e),this.renderInput(e)])}},{key:"renderInput",value:function(e){var t=this,n=this.isDOBOrExpirationDate();return this.isMobile()?j.a.createElement("div",{className:"dxp-field-date",role:"button",ref:function(e){t.fieldInput=e},key:this.getKey("input"),"aria-label":Object(me.a)(Object(H.i)(this.props.label)),tabIndex:n?void 0:0},j.a.createElement("div",{className:"dxp-field-date-field-container"},j.a.createElement("div",{className:"dxp-field-date-value"},this.renderDateInput(e),this.shouldRenderDatePicker()&&this.renderDatePicker()))):j.a.createElement("div",{className:"dxp-field-date",role:"button","aria-label":Object(H.i)(this.props.label),ref:function(e){t.fieldInput=e},onClick:this.onComponentClick,onKeyPress:function(e){t.handleKeyPress(e)},key:this.getKey("input"),tabIndex:n?-1:0,onFocus:n?function(){return t.setState({status:"active"})}:null},!this.props.isDatePickerDisabled&&j.a.createElement("button",{type:"button",className:"dxp-field-date-icon","aria-expanded":this.state.isDatePickerOpen,onClick:this.onComponentClick},j.a.createElement(W.c,{name:W.a.CALENDAR,srOnlyText:Object(H.i)(this.props.srLabel)})),j.a.createElement("div",{className:"dxp-field-date-field-container"},j.a.createElement("div",{className:"dxp-field-date-value"},this.renderDateInput(e),this.shouldRenderDatePicker()&&this.renderDatePicker())))}},{key:"isDOBOrExpirationDate",value:function(){return"dateOfBirth"===this.props.keyProp||"expirationDate"===this.props.keyProp}},{key:"renderLabel",value:function(e){var t=this,n=this.props.id?"".concat(e,"-").concat(this.props.id):e;return j.a.createElement("label",{className:"field-label dxp-field-date-label",htmlFor:n,key:this.getKey("label")},this.getLabel(),j.a.createElement("span",{className:"field-label-optional-indicator",ref:function(e){t.labelOptionalIndicator=e},hidden:!this.props.isOptional,"aria-hidden":!this.props.isOptional},Object(H.a)("app.optional")))}},{key:"shouldRenderDatePicker",value:function(){return!this.props.isDatePickerDisabled&&this.state.isDatePickerOpen}},{key:"renderDatePicker",value:function(){var e=this,t=S()(this.props,"renderDatepickerOnTop",!1);return j.a.createElement(ue.a,{onOutsideClick:this.onDatePickerClose,onKeyPress:this.onDatePickerClose},j.a.createElement(le,{key:"".concat(this.props.keyProp,"DatePicker"),date:this.value,locale:this.props.defaultLocale,weekStartDay:this.props.weekStartDay,maxDate:this.props.maxDate,minDate:this.props.minDate,onChange:function(t,n){return e.onDatePickerChange(n)},renderDatepickerOnTop:t}))}},{key:"isMobile",value:function(){return this.context.isMobile||this.context.isTablet}},{key:"isSupportedLanguage",value:function(){var e=this.context.language;return-1===ve.indexOf(e)}},{key:"getFormat",value:function(){return(this.isMobile()||!this.isSupportedLanguage())&&!this.isDOBOrExpirationDate()?"YYYY-MM-DD":this.props.dateFormat||"YYYY-MM-DD"}},{key:"getDisplayValue",value:function(e,t){var n=this.props.isDatePickerDisabled||this.isSupportedLanguage()?this.context.language:"en-US",a=R()(e,t).locale(n);return Object(fe.m)(a)?a.format(t):""}},{key:"renderDateInput",value:function(e){var t=this,n=this.getFormat(),a=this.props,i=a.minDate,s=a.maxDate,o=this.props.id?"".concat(e,"-").concat(this.props.id):e,l={ref:function(e){t.maskedInputRef=e,t.inputRef=e?e.input:void 0},type:this.isMobile()?"date":"text",className:"field-input dxp-field-date-input",placeholder:n,mask:n.replace(/[a-zA-Z]/g,"1"),id:o,value:this.getDisplayValue(this.value,n),onChange:function(e){return t.onChange(e)},key:this.props.keyProp,onBlur:function(e){return t.onInputChange(e,n)},min:this.getDisplayValue(i,n),max:this.getDisplayValue(s,n)};if(T()(this.props.disabled)&&!this.props.disabled||this.isMobile()||(l=w()(l,{disabled:this.props.disabled})),this.isMobile()||!this.isSupportedLanguage()){var c={ref:function(e){t.maskedInputRef=e,t.inputRef=e},type:"text",defaultValue:this.getDisplayValue(this.value,n),className:"field-input dxp-field-date-input",placeholder:this.props.dateFormat||"YYYY-MM-DD",id:o,key:this.props.keyProp};return this.isDOBOrExpirationDate()?(c=_()({},c,{onChange:function(e){return t.onChange(e)},onBlur:function(e){return t.onInputChange(e,t.props.dateFormat||"YYYY-MM-DD")}}),j.a.createElement("input",c)):(c=_()({},c,{type:"date",min:this.getDisplayValue(this.props.minDate,n),max:this.getDisplayValue(this.props.maxDate,n),onChange:function(e){return t.onInputChange(e,n)}}),T()(this.props.disabled)&&!this.props.disabled||this.isMobile()||(c=w()(c,{disabled:this.props.disabled})),j.a.createElement("input",c))}return j.a.createElement(ce.a,r()({},l,{"data-test-id":this.props.keyProp}))}},{key:"isInRange",value:function(e){var t=this.props,n=t.minDate,a=void 0!==n&&n,r=t.maxDate,i=void 0!==r&&r,s=t.dateFormat,o=t.defaultLocale;if(a){var l=R()(a,s).locale(o);if(Object(fe.m)(l)&&e&&e.isBefore(l,"day"))return!1}if(i){var c=R()(i,s).locale(o);if(Object(fe.m)(c)&&e&&e.isAfter(c,"day"))return!1}return!0}},{key:"isValid",value:function(){var e=Object(he.e)(this.state.validators,this.getValue(),this.getFormat()),t=this.value?R()(this.value):this.value;return e.isValid&&!this.isInRange(t)&&(e.isValid=!1,e.error=this.getInvalidRangeErrorLabel()),this.setComponentState(e.isValid?"success":"error",e.error,e.isValid),e.isValid||T()(this.getInput())||this.getInput().focus(),e.isValid}},{key:"markAsValid",value:function(){this.setComponentState("success",void 0,!0)}},{key:"markAsInvalid",value:function(e){this.setComponentState("error",e,!1)}},{key:"onInputChange",value:function(e,t){if(T()(e.target.value))this.value=e.target.value,this.onInactive();else{var n=R()(e.target.value,t,!0).locale(this.props.defaultLocale);this.value=n,n.isValid()?this.isInRange(n)?(this.markAsValid(),this.onInactive()):this.markAsInvalid(this.getInvalidRangeErrorLabel()):this.markAsInvalid("passengers.dob.isDate")}this.onChange()}},{key:"wrapMaskedInput",value:function(){var e=this,t=this.maskedInputRef.onChange;this.maskedInputRef.onChange=function(n){return e.isMobile()?e.onInputChange(n,e.getFormat()):t(n)}}},{key:"onDatePickerChange",value:function(e){var t=this;this.setState({isDatePickerOpen:!1},(function(){return t.setFocusToTheInput()})),T()(e)||(this.isInRange(e)?(this.markAsValid(),this.value=e,this.onInactive()):this.markAsInvalid(this.getInvalidRangeErrorLabel())),this.inputRef.value=this.getDisplayValue(e,this.getFormat()),this.onChange()}},{key:"onChange",value:function(e){R()(S()(e,"target.value")).isValid()&&this.props.onChange&&this.props.onChange(this.value)}},{key:"getElementId",value:function(e){return[t.name,this.props.keyProp,this.props.index,e].join("-")}},{key:"getInput",value:function(){return this.inputRef}},{key:"getLabel",value:function(){return this.state.error&&this.props.useLabelFeedback?Object(H.a)(this.state.error):Object(H.a)(this.props.label)||Object(H.a)("baseWidgets.date.label")}},{key:"isOverlayNeeded",value:function(){return"active"===this.state.status&&this.props.isDatePickerDisabled}},{key:"isFieldHasValue",value:function(){return!T()(this.getValue()||this.props.defaultValue||this.getFormat())}},{key:"validate",value:function(){var e=this,t=Object(he.e)(this.state.validators,this.getValue(),this.getFormat());return new Promise((function(n){return e.setState({status:t.isValid?"success":"error",isValid:t.isValid,error:t.error,field:e.getInput()},n)}))}},{key:"onInactive",value:function(){var e=this,t=this;return new Promise((function(n){T()(t.getValue())&&t.props.isOptional?e.setComponentState("success",void 0,!0):T()(t.props.validators)?e.setComponentState("default",void 0,void 0):t.validate().then(n).then((function(){e.isInRange(e.value)||e.setComponentState("error",e.getInvalidRangeErrorLabel(),!1)}))}))}},{key:"setComponentState",value:function(e,t,n){this.setState({status:e,error:t,isValid:n})}},{key:"getInvalidRangeErrorLabel",value:function(){return this.props.invalidRangeErrorLabel?this.props.invalidRangeErrorLabel:"baseWidgets.date.isInvalid"}}]),t}(de.a);C()(ye,"propTypes",{label:D.a.string,defaultValue:D.a.oneOfType([D.a.number,D.a.string,D.a.shape({})]),minDate:D.a.oneOfType([D.a.number,D.a.shape({}),D.a.string]),maxDate:D.a.oneOfType([D.a.number,D.a.shape({}),D.a.string]),isDatePickerDisabled:D.a.bool,defaultLocale:D.a.string,weekStartDay:D.a.number,index:D.a.number,type:D.a.string,renderDatepickerOnTop:D.a.bool,invalidRangeErrorLabel:D.a.string,disabled:D.a.oneOfType([D.a.bool,D.a.string]),onChange:D.a.func,srLabel:D.a.string}),C()(ye,"defaultProps",{type:void 0,isDatePickerDisabled:!1,defaultLocale:pe.a,disabled:!1,srLabel:"baseWidgets.date.pickDate"}),C()(ye,"contextTypes",{isMobile:D.a.bool,isTablet:D.a.bool,language:D.a.string}),n.d(t,"a",(function(){return ye}))},,function(e,t,n){"use strict";var a=n(19),r=n.n(a),i=n(35),s=n.n(i),o=n(5),l=n.n(o),c=n(334),u=n.n(c),d=n(76),p=n.n(d),h=n(0),f=n.n(h),m=n(17),g=n.n(m),v=n(11),y=n(125),b=n(1607),C=n(60),E=n(1492),k=-1;n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return P})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return T}));var O=function(e){var t=[];return p()(e,(function(e){if(e.subjectToGovernmentApproval){var n="".concat(f()(e,"flight.airlineCode")).concat(f()(e,"flight.flightNumber"));n&&t.push(n)}})),t},_=function(e){return"".concat(f()(e,"flight.airlineCode")).concat(f()(e,"flight.flightNumber"))},P=function(e,t,n){for(var a=e.clone();a.diff(t)<0;){if(a.hour()>=n.starts||a.hour()<n.ends)return!0;a.add(5,"m")}return!1},S=function(e,t){var n=g()(t).startOf("day"),a=g()(e).startOf("day");return n.diff(a,"days")},N=function(e,t){return e.clone().startOf("day").diff(t.clone().startOf("day"),"days")},w=function(e){return f()(e,"defaultSortEnabled",!1)?{field:e.defaultSortColumn,direction:e.defaultSortOrder,operatingCarrierSortPriority:e.operatingCarrierDefaultSortPriority,operatingCarrierSortOrder:k,operatingCarrierSortSecondarySort:e.operatingCarrierDefaultSortSecondarySort}:{}};var A=function(e){return e.length>1?function(e){return r()(e,(function(e){return 1===e.length}))}(e):e},T=function(e,t,n,a,r,i,o){var c="true"===f()(n,"awardBooking"),d=u()(l()(s()(n.passengers,y.a.INF),(function(e){return e}))),p=f()(n,"itineraryParts",[]).length,h=(1===e.size||c&&o.size<1||e.size!==p?e:e.slice(0,e.size-1)).reduce((function(e,n,r){var i=Object(b.a)(Object(b.b)(n.cabins,t.get(r)));if(i.hasMultipleOffers){var s=function(e,t){return t===E.a.LOWEST?f()(e,"brandPriceMin"):f()(e,"brandPriceMax")}(i,a);return A(Object(C.c)(e,s))}return A(Object(C.c)(e,i.brandPriceTotal))}),[]);return r&&!c||i&&c?Object(v.fromJS)(Object(C.p)(h,d)):Object(v.fromJS)(h)}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var a="marketing",r="./images/airlines/default.png",i=["BUS","TRN"]},,,,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=function(e){var t=e.className,n=e.name,a=e.code,i=e.showStacked,o=s()("ducp-component-airport",t,{stacked:i});return r.a.createElement("span",{className:o,"data-code":a},n||a)};o.defaultProps={className:void 0,code:"",name:void 0,showStacked:!1};var l=o;t.a=l},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(15),C=n.n(b),E=n(23),k=n.n(E),O=n(67),_=n.n(O),P=n(35),S=n.n(P),N=n(1),w=n.n(N),A=n(6),T=n.n(A),I=n(39),D=n.n(I),x=n(1297),j=n.n(x),L=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onClick",(function(e){n.props.onClick&&n.props.onClick(e,n.props)})),y()(f()(n),"onKeyPress",(function(e){return j.a.isEventKey(e,"enter")?n.onClick(e):null})),n}return g()(t,e),l()(t,[{key:"getTitle",value:function(){var e=this;if(!(_()(this.props.children)&&this.props.title===this.props.children||k()(this.props.children)&&C()(this.props.children,(function(t){return _()(t)&&t===e.props.title}))))return this.props.title}},{key:"render",value:function(){var e=this.props.className,n=D()("ducp-component-link",e,"spark-link--underline"),a=S()(this.props,Object.keys(t.propTypes)),i=this.getTitle();return w.a.createElement("a",r()({id:this.props.id,href:this.props.href,title:i,className:n,onClick:this.onClick,onKeyPress:this.onKeyPress},a),this.props.children)}}],[{key:"propTypes",get:function(){return{className:T.a.string,href:T.a.string,onClick:T.a.func,title:T.a.string,id:T.a.string,children:T.a.oneOfType([T.a.array,T.a.string,T.a.element,T.a.arrayOf(T.a.element)])}}}]),t}(N.Component);y()(L,"defaultProps",{className:void 0,children:void 0,onClick:void 0,title:void 0,id:void 0,href:void 0});t.a=L},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=n(50),l=n(524),c=(n(2085),{SUCCESS:o.a.CHECK,ERROR:o.a.BAN,WARNING:o.a.ALERT_TRIANGLE,INFO:o.a.NOTE,"SUCCESS-PROFILE":o.a.USER,"NO-RESULTS":o.a.BRIEFCASE}),u=function(e){var t=e.className,n=e.type,a=e.title,i=e.children,u=e.icon,d=s()("dxp-container-message",n,t);return r.a.createElement(l.a,null,r.a.createElement("div",{className:d},r.a.createElement("span",{className:"icon-container"},r.a.createElement(o.c,{name:u||c[n.toUpperCase()],fill:!0,className:"icon"})),r.a.createElement("span",{className:"content"},r.a.createElement("span",null,r.a.createElement("b",{className:"title"},a)),r.a.createElement("span",{className:"description"},i))))};u.defaultProps={title:void 0,className:void 0,icon:void 0,children:void 0};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={LOWEST:"lowest",HIGHEST:"highest",RANGE:"range"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var a=n(3),r=n.n(a),i=n(49),s=n.n(i),o=n(15),l=n.n(o),c=n(5),u=n.n(c),d=n(2),p=n.n(d),h=n(23),f=n.n(h),m=n(0),g=n.n(m),v=n(11),y=n(442),b=n.n(y),C=n(150),E=n(131),k=n(60);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){var n=t.currencies,a=t.countries,r=g()(e,"currency",function(e,t){var n=C.a.get("country"),a=g()(e,"defaultCurrency");if(p()(n)||"undefined"===n)return a;var r=g()(t,"".concat(n,".currencies"),{});return l()(s()(r),(function(e){return r[e].isDefault}))||a}(n,a));return _({isPoints:r===E.b},g()(n,r,g()(n,"DEFAULT")),{currency:r})}function S(t,n,a){if(f()(t))return u()(t,(function(e){return S(e,n,a)}));var r=P(t,n);return _({},function(t,n,a){var r,i=t.amount<0?-1*t.amount:t.amount,s=n.localeForPriceDisplay,o=n.displayPriceBasedOnLocation,l=n.session,c=o?l.locale||s:void 0,u=Object(k.g)(i,a);return{integer:Object(k.h)(i,a),abbreviation:b()(i).format("0.0a"),intlAmount:e.Intl.NumberFormat(c,{style:"decimal"}).format(i),displayLocalePrice:o,isNegative:t.amount<0,showDecimal:(r=a,r.currency===E.b?r.ffCurrencyShowDecimal:r.decimalPlaceDisplay),decimal:u,value:i}}(t,n,r),{},r,{showAbbreviation:a.showAbbreviation})}function N(e,t,n){return S(Object(v.isImmutable)(e)?e.toJS():e,t,n)}}).call(this,n(41))},function(e,t,n){e.exports=n(1765)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260)),i=a(n(1250)),s=a(n(1496)),o=a(n(1327)),l={d:"day",m:"month",y:"year","-":"divider","/":"divider"," ":"space"};var c=function(e){for(var t=e.toLowerCase(),n=0,a=t.length,c={parts:[]};n<a;n++)l[t[n]]&&c.parts.length&&c.parts[c.parts.length-1].name===l[t[n]]?(c.parts[c.parts.length-1].length++,c.parts[c.parts.length-1].value+=e[n]):c.parts.push({name:l[t[n]]?l[t[n]]:"",value:e[n],length:1});return c.getValues=function(e){return function(t){for(var n=0,a=0,s=e.length,l={};n<s;n++){var c;if(-1!==(0,i.default)(c=["day","month","year"]).call(c,e[n].name)){if(t.length<a+e[n].length)return;l[e[n].name]=(0,r.default)(t.substr(a,e[n].length),10)}a+=e[n].length}return o.default.create(l)}}(c.parts),c.getString=function(e){return function(t){for(var n=0,a=e.length,r="";n<a;n++)t[e[n].name]?r+=(0,s.default)(t[e[n].name],e[n].length):r+=e[n].value;return r}}(c.parts),c};t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1296)),i=a(n(1771));var s=function(e){var t,n,a,s=(e=e||{}).target||window,o=s!==window?s.scrollLeft:s.pageXOffset,l=s!==window?s.scrollTop:s.pageYOffset;e instanceof HTMLElement?(n=(t=(0,r.default)(e)).left,a=t.top,e=arguments[1]||{}):(n=e.x||0,a=e.y||0),(0,i.default)({target:s,prop:"scrollTo",start:[o,l],end:[n,a],duration:e.duration,callback:e.callback})};t.default=s,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(;e=e.previousElementSibling;)if((0,r.default)(e,t))return e;return null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(;e=e.nextElementSibling;)if((0,r.default)(e,t))return e;return null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(var n=[],a=0,i=e.children.length;a<i;a++)(0,r.default)(e.children[a],t)&&n.push(e.children[a]);return n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1267));var i=function(e,t,n){for(var a=[];e=(0,r.default)(e.parentNode,t,n);)a.push(e);return a};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1778));var i=function(){var e=!1;try{var t=(0,r.default)({},"passive",{get:function(){return e=!0,!1}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1282)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1354)),f=a(n(1396)),m=a(n(1247)),g=a(n(1248)),v=a(n(1251)),y=a(n(1295)),b=a(n(1267)),C=a(n(1501)),E=a(n(1789)),k=a(n(1790));function O(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(){},P=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(O()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._checkAnimation(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,this.toggleEl=this.el.querySelector(".spark-menu__toggle")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._onClickBound=(0,s.default)(e=this._onClick).call(e,this),this._onFocusBound=(0,s.default)(t=this._onFocus).call(t,this),this._onBlurBound=(0,s.default)(n=this._onBlur).call(n,this),this._onKeydownBound=(0,s.default)(a=this._onKeydown).call(a,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.el.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("keydown",this._onKeydownBound)}},{key:"_toggleItem",value:function(e){(0,v.default)(e,"open")?this._closeItem(e):this._openItem(e)}},{key:"_toggleAriaCheckedState",value:function(e){if(e.hasAttribute("aria-checked")){var t="true"===e.getAttribute("aria-checked");e.setAttribute("aria-checked",String(!t))}}},{key:"_checkAnimation",value:function(){this.el.querySelector(".spark-menu__list-next")&&(this.cachedList=this.cachedList||[],this._createMenuAnimationWrapper(),this._animateListChange())}},{key:"_createMenuAnimationWrapper",value:function(){if(!this.wrapperEl){var e=document.createElement("div");(0,m.default)(e,"spark-menu__animation-wrapper"),(0,k.default)(this.el.querySelector(".spark-menu__list"),e),this.wrapperEl=e}}},{key:"_animateListChange",value:function(e){var t;(e&&(0,m.default)(this.wrapperEl,"no-animate"),this.wrapperEl.setAttribute("style",(0,f.default)("translateX","-"+100*this.cachedList.length+"%")),e)&&(0,i.default)((0,s.default)(t=function(){(0,g.default)(this.wrapperEl,"no-animate")}).call(t,this),1)}},{key:"_appendList",value:function(e,t){this._createMenuAnimationWrapper();var n=e.cloneNode(!0);(0,m.default)(n,"nestedList"),n.setAttribute("data-nested-list-id",n.getAttribute("id")),n.removeAttribute("id"),this.wrapperEl&&(this.wrapperEl.appendChild(n),this.cachedList.push(n),this._animateListChange(t))}},{key:"_removeLastList",value:function(){if(this.cachedList.length){var e=this.cachedList.pop();this.wrapperEl&&this._animateListChange(),window.setTimeout((function(){e.parentNode.removeChild(e)}),250)}}},{key:"_removeAllCachedLists",value:function(){if(this.cachedList)for(;this.cachedList.length;)this._removeLastList()}},{key:"_getNextList",value:function(e){return e.querySelector(".spark-menu__list-next")?document.querySelector(e.querySelector(".spark-menu__list-next").getAttribute("data-menu")):null}},{key:"_openItem",value:function(e){(0,v.default)(e,"open")||((0,h.default)({el:e,toggleEl:".spark-menu__list"}),(0,m.default)(e,"open"))}},{key:"_closeItem",value:function(e){(0,v.default)(e,"open")&&((0,h.default)({el:e,toggleEl:".spark-menu__list",toggleValue:"none",action:"collapse"}),(0,g.default)(e,"open"))}},{key:"_activateItem",value:function(e){if(!(0,v.default)(e,"active")){var t=(0,C.default)(e,".spark-menu__list",this.el);this._deactivateItems(t[t.length-1]),this._deactivateItemSiblings(e),(0,m.default)(e,"active"),this._activateItemParents(e,this.el)}}},{key:"_activateItemParents",value:function(e,t){for(var n=(0,C.default)(e.parentNode,'[class*="list-item"]',t),a=n.length,r=0;r<a;r++)this._openItem(n[r]),(0,m.default)(n[r],"child-active")}},{key:"_deactivateItemParents",value:function(e){for(var t=e.querySelectorAll('[class*="list-item"].child-active'),n=t.length,a=0;a<n;a++)(0,g.default)(t.item(a),"child-active")}},{key:"_deactivateItems",value:function(e){for(var t=e.querySelectorAll('[class*="list-item"].active'),n=t.length,a=0;a<n;a++)(0,g.default)(t.item(a),"active");this._deactivateItemParents(e)}},{key:"_deactivateItemSiblings",value:function(e){for(var t=e.parentNode.querySelectorAll('[class*="list-item"].child-active'),n=t.length,a=0;a<n;a++)(0,g.default)(t[a],"child-active"),(0,g.default)(t[a],"open")}},{key:"_openActiveParents",value:function(){var e=this.el.querySelector(".active");if(e)for(var t,n,a=(0,C.default)(e,".spark-menu__list-item",this.el),r=a.length-1;r>=0;r--)(t=(0,E.default)(a[r],".spark-menu__list-links"))&&t.querySelector(".spark-menu__list-next")?(n=this._getNextList(a[r]))&&!this._cachedListContainsID(n.getAttribute("id"))&&this._appendList(n,!0):(0,m.default)(a[r],"open")}},{key:"_cachedListContainsID",value:function(e){for(var t=this.cachedList.length;t--;)if(this.cachedList[t].getAttribute("data-nested-list-id")===e)return!0;return!1}},{key:"_onClick",value:function(e){if(!(0,b.default)(e.target,"form",this.el)&&"UL"!==e.target.nodeName.toUpperCase()){if(e.target===this.toggleEl||(0,y.default)(e.target,this.toggleEl))return(this.onToggle||_)(e,this);var t=(0,b.default)(e.target,".spark-menu__list-expand",this.el),n=(0,b.default)(e.target,".spark-menu__list-item",this.el);if(n&&!(0,b.default)(e.target,".spark-menu__ignore",this.el)){if(t)return this._toggleAriaCheckedState(t),this._toggleItem(n);if(n&&!(0,y.default)(e.target,document.querySelector(".spark-header--visible"))){var a=this._getNextList(n);if(a&&(0,v.default)(e.target,"spark-menu__list-next"))return this._activateItem(n),void this._appendList(a);if((0,b.default)(e.target,".spark-menu__list-back",n)&&(0,v.default)(e.target,"spark-menu__list-back"))return void this._removeLastList()}this._activateItem(n)}}}},{key:"_onKeydown",value:function(e){var t=e.keyCode||e.which;if(!(0,b.default)(e.target,"form",this.el)){if((e.target===this.toggleEl||(0,y.default)(e.target,this.toggleEl))&&(32===t||13===t))return(this.onToggle||_)(e,this);var n=(0,b.default)(e.target,".spark-menu__list-expand",this.el),a=(0,b.default)(e.target,".spark-menu__list-item",this.el);if(a&&!(0,b.default)(e.target,".spark-menu__ignore",this.el)){if(n&&(32===t||13===t))return e.preventDefault(),this._toggleAriaCheckedState(n),this._toggleItem(a);if(a&&!(0,y.default)(e.target,document.querySelector(".spark-header--visible"))){var r=this._getNextList(a);if(r&&(0,v.default)(e.target,"spark-menu__list-next")&&(32===t||13===t))return e.preventDefault(),this._activateItem(a),void this._appendList(r);if((0,b.default)(e.target,".spark-menu__list-back",a)&&(0,v.default)(e.target,"spark-menu__list-back")&&(32===t||13===t))return e.preventDefault(),void this._removeLastList()}32!==t&&13!==t||this._activateItem(a),this.onKeydown.call(this,e,this)}}}},{key:"_onFocus",value:function(e){for(var t=e.target,n=t;t&&(t=(0,b.default)(n.parentNode,".spark-menu__list-item",this.el))&&t!==n;)(0,m.default)(t,"has-focus"),n=t}},{key:"_onBlur",value:function(e){for(var t=e.target,n=t;t&&(t=(0,b.default)(n.parentNode,".spark-menu__list-item",this.el))&&t!==n;)(0,g.default)(t,"has-focus"),n=t}}]),a}(p.default);P.prototype._whitelistedParams=["onToggle","onKeydown"],P.prototype.defaults={cachedList:null,el:null,toggleEl:null,wrapperEl:null,onToggle:function(){},onKeydown:function(){},_onClickBound:null,_onFocusBound:null,_onBlurBound:null,_onKeydownBound:null};var S=P;t.default=S,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260));var i=function(e,t){if(e=Number(e),(t=Number(t))<=0)return NaN;var n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=n>a?n:a,s=(0,r.default)(e.toFixed(i).replace(".","")),o=(0,r.default)(t.toFixed(i).replace(".",""));return(s%o+o)%o/Math.pow(10,i)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1355)),o=a(n(1260)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1353)),g=a(n(1257)),v=a(n(1261)),y=a(n(1273)),b=a(n(1275)),C=a(n(1266));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(){},O=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(E()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._createTypeahead(),t.inputEl.value&&(t.show(),t._onInput()),(0,p.default)(t)):(0,p.default)(t)}return(0,c.default)(a,[{key:"show",value:function(){return this.isActive=!0,this._updateClass(),this}},{key:"hide",value:function(){return this.isActive=!1,this._updateClass(),this}},{key:"setValue",value:function(e){return this.typeahead?this.typeahead.setValue(e):(this.inputEl.value=e,e?this.show():this.hide()),this}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"clearValue",value:function(){return this.typeahead?this.typeahead.clear():this.inputEl.value="",this}},{key:"disable",value:function(){return this.typeahead?this.typeahead.disable():this.inputEl.setAttribute("disabled",""),this}},{key:"enable",value:function(){return this.typeahead?this.typeahead.enable():this.inputEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return this.typeahead&&this.typeahead.remove(e),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return this.typeahead&&this.typeahead.remove(),(0,u.default)((0,h.default)(a.prototype),"update",this).call(this,e)}},{key:"_createTypeahead",value:function(){!0!==this.typeahead&&null===this.inputEl.getAttribute("data-typeahead")||(this.typeahead=new m.default(this.el,{onBlur:this._onBlurBound}))}},{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=this.el.querySelector("input, textarea"),this.passwordToggleEl=this.el.querySelector(".spark-input__password-toggle"),!this.inputEl)throw new Error("No <input> or <textarea> element present in input container!",this.el);this.messageEl=this.el.querySelector(".spark-input__message")||(0,C.default)('<span class="spark-input__message"></span>'),this.clearEl=this.el.querySelector(".spark-input__clear")}},{key:"_parseParams",value:function(){this.validatePattern=this.validatePattern||this.inputEl.getAttribute("data-validate"),this.type=this.inputEl.getAttribute("type")||"text",this.showCharacters=null!==this.el.getAttribute("data-characters"),this.showCharactersRemaining=null!==this.el.getAttribute("data-characters-remaining"),this.maxlength=this.inputEl.getAttribute("maxlength")||this.inputEl.getAttribute("data-maxlength-soft")||null,this.isTextarea="textarea"===this.inputEl.nodeName.toLowerCase(),this.isActive=!!this.inputEl.value}},{key:"_setCharactersCount",value:function(){if(this.showCharacters)this.el.setAttribute("data-characters",this.inputEl.value.length);else if(this.showCharactersRemaining){var e=this.maxlength-this.inputEl.value.length;this.el.setAttribute("data-characters-remaining",e),e<1?this.el.setAttribute("data-characters-remaining-danger",!0):this.el.removeAttribute("data-characters-remaining-danger")}}},{key:"_setTextareaHeight",value:function(){var e=window.getComputedStyle(this.inputEl),t=(0,o.default)(e.borderTopWidth,10)+(0,o.default)(e.borderBottomWidth,10);this.inputEl.style.height=null;var n,a=this.inputEl.scrollHeight;a||(n=this.inputEl.innerHTML.split("\n"),a=Math.max((0,s.default)(e.lineHeight))*n.length+(0,s.default)(e.paddingTop)+(0,s.default)(e.paddingBottom)),this.inputEl.style.height=a+t+"px"}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onFocusBound=(0,i.default)(e=this._onFocus).call(e,this),this._onBlurBound=(0,i.default)(t=this._onBlur).call(t,this),this._onInputBound=(0,i.default)(n=this._onInput).call(n,this),this._onTogglePasswordViewHideBound=(0,i.default)(a=this._onTogglePasswordViewHide).call(a,this),this._onClearClickBound=(0,i.default)(r=this._onClearClick).call(r,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("focus",this._onFocusBound),this.inputEl.addEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.addEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.addEventListener("click",this._onClearClickBound)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.removeEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.removeEventListener("click",this._onClearClickBound)}},{key:"_updateClass",value:function(){(0,g.default)(this.el,"active",this.isActive)}},{key:"_onFocus",value:function(){document.activeElement===this.inputEl&&(this.show(),this._setCharactersCount(),(0,g.default)(this.el,"focus",!0),(this.onFocus||k)(this.inputEl.value,this))}},{key:"_onBlur",value:function(){this.inputEl.value||this.hide(),(0,g.default)(this.el,"focus",!1),(this.onBlur||k)(this.inputEl.value,this)}},{key:"_onInput",value:function(){this.validate(),this._setCharactersCount(),this.isTextarea&&this._setTextareaHeight(),(this.onChange||k)(this.inputEl.value,this)}},{key:"_onClearClick",value:function(){this.inputEl.value="",this.hide(),(this.onChange||k)(this.inputEl.value,this)}},{key:"_onTogglePasswordViewHide",value:function(e){e.preventDefault(),this.inputEl.setAttribute("type","password"===this.inputEl.getAttribute("type")?"text":"password")}}]),a}(f.default);O.prototype._whitelistedParams=["validate","validatePattern","onValidate","onChange","onFocus","onBlur"],O.prototype.defaults={el:null,messageEl:null,inputEl:null,passwordToggleEl:null,clearEl:null,isActive:!1,isTextarea:!1,validatePattern:!1,type:null,showCharacters:!1,showCharactersRemaining:!1,maxlength:null,typeahead:null,onValidate:k,onChange:k,onFocus:k,onBlur:k,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onTogglePasswordViewHideBound:null,_onClearClickBound:null},(0,v.default)(O.prototype,y.default,b.default);var _=O;t.default=_,e.exports=t.default},function(e,t,n){n(1821);var a=n(1252);e.exports=a.Array.isArray},function(e,t,n){n(1342),n(1825);var a=n(1252);e.exports=a.Array.from},function(e,t,n){var a=n(1270);e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&a(i.call(e)),t}}},function(e,t,n){var a=n(1253),r=n(1288),i=a("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[i]===e)}},function(e,t,n){var a=n(1304),r=n(1288),i=n(1253)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[a(e)]}},function(e,t,n){var a=n(1253)("iterator"),r=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){r=!0}};s[a]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i={};i[a]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1260)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1247)),m=a(n(1248)),g=a(n(1398)),v=a(n(1251)),y=a(n(1274)),b=n(1283),C=n(1271);function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(E()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addListeners(),t._setPanelLocation(),(0,d.default)(t)):(0,d.default)(t)}return(0,c.default)(a,[{key:"_parseParams",value:function(){this.hideOnScroll=this.hideOnScroll||(0,C.boolean)(this.el,"data-hide-on-scroll",!1),this.fixToBottom=this.fixToBottom||(0,C.boolean)(this.el,"data-fixed-to-bottom",!1),this.condenseOnScroll=this.condenseOnScroll||(0,C.boolean)(this.el,"data-condense",!1),this.unlockBreakPoint=this.unlockBreakPoint||(0,C.string)(this.el,"data-breakpoint",null),this.documentBody=document.querySelector("body"),null!==this.headerEl?this.foreignHeader=!0:(this.headerEl=document.querySelector(".spark-header:not(.spark-header__placeholder)"),this.headerEl&&(this.headerHideOnScroll=(0,C.boolean)(this.headerEl,"data-hide-on-scroll",!1)))}},{key:"_addListeners",value:function(){window.addEventListener("scroll",this._onScrollBound),window.addEventListener("resize",this._onResizeBound),this.headerEl&&""!==window.getComputedStyle(this.headerEl).getPropertyValue("transition")&&this.headerEl.addEventListener("transitionend",this._onResizeBound)}},{key:"_removeListeners",value:function(){window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("resize",this._onResizeBound),this.headerEl&&""!==window.getComputedStyle(this.headerEl).getPropertyValue("transition")&&this.headerEl.removeEventListener("transitionend",this._onResizeBound)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onScrollBound=(0,o.default)(e=this._onScroll).call(e,this),this._onResizeBound=(0,y.default)((0,o.default)(t=this._onResize).call(t,this),100)}},{key:"_cacheElements",value:function(e){this.el=e}},{key:"_setPanelLocation",value:function(){this.currentScrollPosition=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,this._getPanelDimensions(),this.fixToBottom?this.documentBody&&(this.documentBody.style["padding-bottom"]=this.panelHeight+"px"):this.headerEl&&(this.pageContent=this.el.nextSibling.nextSibling),this.headerPositionFixed&&(this.headerEl.appendChild(this.el),this.headerEl.parentNode.style["margin-top"]=(0,g.default)(this.headerEl)+this.panelHeight+24+"px",this.headerHideOnScroll&&this.scrolledToEl?((0,f.default)(this.el,"fix-to-fixed-header"),(0,f.default)(this.headerEl,"hide-top-show-panel")):this.headerHideOnScroll&&this.hideOnScroll&&(0,f.default)(this.headerEl,"hide-top-with-panel"))}},{key:"_checkBreakPoint",value:function(){var e=window.innerWidth,t=(0,b.get)(e);return this.unlockBreakPoint!==t&&(("sm"!==this.unlockBreakPoint||"xs"!==t)&&(("md"!==this.unlockBreakPoint||"sm"!==t&&"xs"!==t)&&(("lg"!==this.unlockBreakPoint||"md"!==t&&"sm"!==t&&"xs"!==t)&&"xl"!==this.unlockBreakPoint)))}},{key:"_fixToTopViewport",value:function(){var e=this._checkBreakPoint();this.currentScrollPosition>this.headerHeight?e&&((0,v.default)(this.el,"is-fixed-top")||((0,f.default)(this.el,"is-fixed-top"),this.pageContent.style["margin-top"]=this.panelHeight+"px"),this.condensePanel()):(0!==this.headerHeight&&(0,v.default)(this.el,"is-fixed-top")&&((0,m.default)(this.el,"is-fixed-top"),this.pageContent.style["margin-top"]="0px"),this.extendPanel())}},{key:"_showPanelOnScroll",value:function(){var e=this.headerHeight+this.panelHeight;this.currentScrollPosition>e&&(this.currentScrollPosition<this.previousScrollPosition?this.showPanel():this.currentScrollPosition>=this.previousScrollPosition&&this.hidePanel())}},{key:"showPanel",value:function(){this.fixToBottom?(0,m.default)(this.el,"hide-panel-bottom"):(0,m.default)(this.el,"hide-panel-top")}},{key:"hidePanel",value:function(){this.fixToBottom?(0,f.default)(this.el,"hide-panel-bottom"):(0,f.default)(this.el,"hide-panel-top")}},{key:"condensePanel",value:function(){this.condenseOnScroll&&(this.customCondenseClass?(0,f.default)(this.el,this.customCondenseClass):(0,f.default)(this.el,"spark-panel--condensed"))}},{key:"extendPanel",value:function(){this.condenseOnScroll&&(this.customCondenseClass?(0,m.default)(this.el,this.customCondenseClass):(0,m.default)(this.el,"spark-panel--condensed"))}},{key:"_getPanelDimensions",value:function(){if(this.panelHeight=this.el.getBoundingClientRect().height,this.fixToBottom)(0,f.default)(this.el,"is-fixed-bottom");else if(this.headerEl){this.headerTop=this.headerEl.getBoundingClientRect().top+this.currentScrollPosition,this.headerBottom=this.headerEl.getBoundingClientRect().bottom+this.currentScrollPosition,this.headerHeight=this.headerTop+(0,g.default)(this.headerEl);var e=(0,v.default)(this.headerEl,"spark-header--fixed")?"fixed":window.getComputedStyle(this.headerEl,null).getPropertyValue("position"),t=this._checkBreakPoint();"fixed"===e?this.headerPositionFixed=!0:this.headerHeight=(0,g.default)(this.headerEl)+this.headerTop,t||((0,m.default)(this.el,"is-fixed-top"),this.pageContent&&(this.pageContent.style["margin-top"]=0))}else{this._checkBreakPoint()&&((0,f.default)(this.el,"is-fixed-top"),this.el.style["margin-bottom"]=this.panelHeight+"px",this.headerHeight=0)}}},{key:"_updatePanels",value:function(){this.fixToBottom&&(this.documentBody.style["padding-bottom"]=this.panelHeight+"px");var e=this._checkBreakPoint();this.headerEl||this.fixToBottom||!e||((0,f.default)(this.el,"is-fixed-top"),this.documentBody.style["padding-top"]=this.panelHeight+"px"),this.headerPositionFixed&&(this.headerEl.parentNode.style["margin-top"]=(0,g.default)(this.headerEl)+this.panelHeight+24+"px")}},{key:"_onResize",value:function(){this._getPanelDimensions(),this.panelHeight=this.el.getBoundingClientRect().height,this.pageContent&&(0,s.default)(this.pageContent.style["margin-top"])>0&&(this.pageContent.style["margin-top"]=this.panelHeight+"px"),this._updatePanels()}},{key:"_onScroll",value:function(){this.previousScrollPosition=this.currentScrollPosition,this.currentScrollPosition=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,this._getPanelDimensions(),this.fixToBottom?this.condenseOnScroll&&this._condensePanelonScroll():this.headerPositionFixed?this.condenseOnScroll&&(this.foreignHeader?this._condensePanelonScroll():this._onHeaderCondense()):this.headerPositionFixed||(this.hideOnScroll?(this._showPanelOnScroll(),this._fixToTopViewport()):this._fixToTopViewport()),this._showUntilElement()}},{key:"_condensePanelonScroll",value:function(){this.currentScrollPosition>this.panelHeight?this.condensePanel():this.extendPanel()}},{key:"_showUntilElement",value:function(){var e;if(this.scrolledToEl&&!this.fixToBottom)if(e=this.headerEl&&(0,v.default)("spark-header--fixed")?this.scrolledToEl.getBoundingClientRect().top+window.pageYOffset-((0,g.default)(this.el)+(0,g.default)(this.headerEl)):this.scrolledToEl.getBoundingClientRect().top+window.pageYOffset-(0,g.default)(this.el),this.currentScrollPosition>=e&&this.currentScrollPosition>0){if(this.transitionComplete&&this.hidePanel(),this.transitionComplete&&this.headerHideOnScroll&&this.scrolledToEl&&this.headerEl.contains(this.el)){this.transitionComplete=!1;var t=this;window.addEventListener("transitionend",(function e(n){!n||t.el.getBoundingClientRect().bottom>=0||(t.headerEl.parentNode.insertBefore(t.el,t.headerEl.nextElementSibling),t.transitionComplete=!0,this.window.removeEventListener("transitionend",e,!1),t.currentScrollPosition>0||t.showPanel())}),!1)}}else if(this.transitionComplete&&this.showPanel(),this.transitionComplete&&this.headerHideOnScroll&&this.scrolledToEl&&!this.headerEl.contains(this.el)){this.transitionComplete=!1;var n=this;window.addEventListener("transitionend",(function t(a){var r;!a||n.el.getBoundingClientRect().top<0||(n.headerEl.appendChild(n.el),(0,i.default)(r=this.navigator.userAgent).call(r,"Edge")>-1&&this.addEventListener("transitionstart",(function t(a){!a||n.el.getBoundingClientRect().top>=e||(n.el.style.transform="none",n.el.style.transition="0s",this.addEventListener("transitionend",(function e(t){t&&(n.el.removeAttribute("style"),this.removeEventListener("transitionend",e,!1))}),!1),this.removeEventListener("transitionstart",t,!1))}),!1),n.transitionComplete=!0,this.window.removeEventListener("transitionend",t,!1))}),!1)}}},{key:"_onHeaderCondense",value:function(){(0,v.default)(this.headerEl,"spark-header--condensed")?this.condensePanel():this.extendPanel()}}]),a}(h.default);k.prototype._whitelistedParams=["headerEl","scrolledToEl","unlockBreakPoint","hideOnScroll","condenseOnScroll","fixToBottom","customCondenseClass"],k.prototype.defaults={el:null,scrolledToEl:null,headerEl:null,headerPosition:null,headerHeight:null,headerTop:null,headerPositionFixed:null,previousScrollPosition:null,currentScrollPosition:null,hideOnScroll:null,condenseOnScroll:null,fixToBottom:null,unlockBreakPoint:null,customCondenseClass:null,foreignHeader:null,panelHeight:null,transitionComplete:!0,documentBody:null,_onScrollBound:null,_onResizeBound:null};var O=k;t.default=O,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1247)),f=a(n(1248)),m=a(n(1274)),g=a(n(1251)),v=a(n(1837)),y=a(n(1296)),b=n(1283);function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(C()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),t=n.call(this,e,r),e?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initCarousel(),t):(0,u.default)(t)}return(0,l.default)(a,[{key:"_addControls",value:function(){this._forwards=document.createElement("div"),(0,h.default)(this._forwards,"spark-panel-carousel__forwards"),this._forwards.innerHTML='<button type="button" aria-label='+this.nextLabel+'><i class="spark-icon-arrow-chevron-right spark-icon--fill"></i></button>',this._backwards=document.createElement("div"),(0,h.default)(this._backwards,"spark-panel-carousel__backwards"),this._backwards.innerHTML='<button type="button" aria-label='+this.previousLabel+'><i class="spark-icon-arrow-chevron-left spark-icon--fill"></i></button>',this.el.appendChild(this._backwards),this.el.appendChild(this._forwards),!0===this._hasTabs&&(this._forwards.querySelector("button").setAttribute("tabIndex",-1),this._backwards.querySelector("button").setAttribute("tabIndex",-1),this._panelCarouselList.addEventListener("click",this._onTabListClickBound)),(0,h.default)(this._backwards,"spark-panel-carousel__limit")}},{key:"_removeEventListeners",value:function(){this._forwards.removeEventListener("click",this._onControlClickBound),this._backwards.removeEventListener("click",this._onControlClickBound),this._panelCarouselList.removeEventListener("touchstart",this._onMoveStartBound),this.el.removeEventListener("mousedown",this._onMoveStartBound),this._panelCarouselList.removeEventListener("keyup",this._onKeyUpBound),window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("resize",this._onResizeBound)}},{key:"_addCarouselListeners",value:function(){var e,t,n,a,r;this._onKeyUpBound=(0,s.default)(e=this._onKeyUp).call(e,this),this._onControlClickBound=(0,s.default)(t=this._onControlClick).call(t,this),this._onMoveStartBound=(0,s.default)(n=this._onMoveStart).call(n,this),this._onMoveBound=(0,s.default)(a=this._onMove).call(a,this),this._onMoveEndBound=(0,s.default)(r=this._onMoveEnd).call(r,this),this._forwards.addEventListener("click",this._onControlClickBound),this._backwards.addEventListener("click",this._onControlClickBound),this._panelCarouselList.addEventListener("touchstart",this._onMoveStartBound),this.el.addEventListener("mousedown",this._onMoveStartBound),this._panelCarouselList.addEventListener("keyup",this._onKeyUpBound)}},{key:"_removeCarouselListeners",value:function(){this._forwards.removeEventListener("click",this._onControlClickBound),this._backwards.removeEventListener("click",this._onControlClickBound),this.el.removeEventListener("mousedown",this._onMoveStartBound),this._panelCarouselList.removeEventListener("keyup",this._onKeyUpBound)}},{key:"_addMoveListeners",value:function(e){e.touches?(this._panelCarouselList.addEventListener("touchmove",this._onMoveBound),this._panelCarouselList.addEventListener("touchend",this._onMoveEndBound)):(window.addEventListener("mouseup",this._onMoveEndBound),window.addEventListener("mousemove",this._onMoveBound))}},{key:"_removeMoveListeners",value:function(e){e.touches?(this._panelCarouselList.removeEventListener("touchmove",this._onMoveBound),this._panelCarouselList.removeEventListener("touchend",this._onMoveEndBound)):(window.removeEventListener("mouseup",this._onMoveEndBound),window.removeEventListener("mousemove",this._onMoveBound))}},{key:"_addEventListeners",value:function(){window.addEventListener("scroll",this._onScrollBound),window.addEventListener("resize",this._onResizeBound),this.el.addEventListener("scroll",(function(e){return 0!==this.scrollLeft&&(this.scrollLeft=0),e.stopImmediatePropagation(),e.preventDefault(),!1}))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onScrollBound=(0,s.default)(e=this._onScroll).call(e,this),this._onResizeBound=(0,m.default)((0,s.default)(t=this._onResize).call(t,this),90)}},{key:"_cacheElements",value:function(e){this.el=e,this._panelCarouselList=this.el.querySelector(".spark-panel-carousel__list"),this._panelCarouselItems=this.el.querySelectorAll(".spark-panel-carousel__item"),this.listTransitionDuration=window.getComputedStyle(this._panelCarouselList).getPropertyValue("transition-duration")||"800ms"}},{key:"_calcWidth",value:function(){this._panelCarouselWidth=(0,v.default)(this._panelCarouselList),this._panelCarouselItemsWidth=0;for(var e=this._panelCarouselItems.length-1;e>-1;e--)this._panelCarouselItemsWidth+=(0,v.default)(this._panelCarouselItems[e]),this._panelCarouselItems.offsetWidth;this.maxX=this._panelCarouselWidth-this._panelCarouselItemsWidth,this._panelCarouselItemsWidth>this._panelCarouselWidth||this._panelCarouselWidth<=0?(this._overflow=!0,this.el.setAttribute("data-overflow",!0)):(this._overflow=!1,this.el.removeAttribute("data-overflow"))}},{key:"_calcBreakpoint",value:function(){this.currentBreakpoint=(0,b.get)(window.innerWidth);var e=["xs","sm","md","lg","xl"],t=(0,i.default)(e).call(e,this.currentBreakpoint),n=(0,i.default)(e).call(e,this.noCarouselBreakPoint),a=(0,i.default)(e).call(e,this.controlBreakPoint);this._useCarousel=!(t<=n&&-1!==n),this._useControls=!(t<=a)}},{key:"_initCarousel",value:function(){this.currentBreakpoint=(0,b.get)(window.innerWidth),this._calcWidth(),this._calcBreakpoint(),this._addControls(),this._showControls(),this._addCarouselListeners()}},{key:"_onScroll",value:function(){this.isFixed!==(0,g.default)(this.el,"is-fixed-top")&&((0,g.default)(this.el,"is-fixed-top")?this.isFixed=!0:this.isFixed=!1,this._calcWidth(),!0===this._forwardLimit&&this._updateCarousel(this.maxX))}},{key:"_onKeyUp",value:function(e){var t=e.target;9===e.keyCode&&(this._panelCarouselList.style["transition-duration"]="0s",!0===e.shiftKey?(0,y.default)(t).left<=(0,v.default)(this._backwards)?this._backwards.click():(0,y.default)(t).left>(0,v.default)(this._panelCarouselList)&&(this._forwardLimit=!0,this._calcWidth(),this._updateCarousel(this.maxX)):(0,y.default)(t).left+(0,v.default)(t)>(0,v.default)(this._panelCarouselList)-(0,v.default)(this._forwards)?!0!==this._forwardLimit&&this._forwards.click():(0,y.default)(t).left+(0,v.default)(t)<0&&(this._backwardLimit=!0,this._updateCarousel(0)),this._panelCarouselList.style["transition-duration"]=this.listTransitionDuration)}},{key:"_onResize",value:function(){this._calcWidth(),this._calcBreakpoint(),this._updateCarousel(0),this._calcWidth()}},{key:"_onMoveEnd",value:function(e){var t,n=this._startX;t=e.changedTouches?(n=e.changedTouches[0].screenX)-this._startX+this._positionX:(n=e.screenX)-this._startX+this._positionX,this._moving=!1,this._removeMoveListeners(e),this._panelCarouselList.style["transition-duration"]=this.listTransitionDuration,!1!==this._useCarousel&&0!==Math.round(n-this._startX)&&(t>this._positionX?this._backwards.click():this._forwards.click())}},{key:"_onMove",value:function(e){var t;!1!==this._moving&&(t=e.changedTouches?e.changedTouches[0].screenX-this._startX+this._positionX:e.screenX-this._startX+this._positionX,!1!==this._useCarousel&&(t>0&&(t=0),t<this.maxX&&(t=this.maxX),this._panelCarouselList.style["transition-duration"]="0s",this._panelCarouselList.style.transform="translateX("+t+"px)",e&&e.preventDefault()))}},{key:"_onMoveStart",value:function(e){!1!==this._useCarousel&&(this._moving=!0,this._addMoveListeners(e),e.changedTouches?(this._startX=e.changedTouches[0].screenX,this._startY=e.changedTouches[0].screenY):(this._startX=e.screenX,this._startY=e.screenY),this._elRect=this.el.getBoundingClientRect(),!0===this._useControls?this.maxX=-(this._panelCarouselItemsWidth-this._elRect.width+(0,v.default)(this._forwards)+(0,v.default)(this._backwards)):this.maxX=this._elRect.width-this._panelCarouselItemsWidth,this.maxX=Math.round(this.maxX))}},{key:"_updateCarousel",value:function(e){e===this.maxX?this._forwardLimit=!0:this._forwardLimit=!1,this._backwardLimit=0===e,this._panelCarouselList.style.transform="translateX("+e+"px)",this._positionX=e,this._showControls()}},{key:"_onControlClick",value:function(e){e.preventDefault();var t=e.currentTarget,n=0;if((0,g.default)(t,"spark-panel-carousel__forwards"))n=!1===this.singleCarouselAdvance&&!0===this._useControls?this._setForwardClick(e):this._singleForwardClick(e);else{if(!(0,g.default)(t,"spark-panel-carousel__backwards"))return;n=!1===this.singleCarouselAdvance&&!0===this._useControls?this._setBackwardClick(e):this._singleBackwardClick(e)}this._updateCarousel(Math.round(n)),e.preventDefault()}},{key:"_setForwardClick",value:function(e){var t=e.currentTarget,n=(0,y.default)(t).left,a=(0,v.default)(t),r=(0,y.default)(this._panelCarouselItems[0]).left,i=(0,v.default)(this._panelCarouselList),s=n,o=0,l=0;this._backwardLimit=!1;for(var c=0;c<this._panelCarouselItems.length;c++)l+=(0,v.default)(this._panelCarouselItems[c]);this.maxX=Math.round(-l+i),o=this.maxX;for(var u=0;u<this._panelCarouselItems.length;u++)if((0,y.default)(this._panelCarouselItems[u]).left+(0,v.default)(this._panelCarouselItems[u])-a>s){-(o=r-((0,y.default)(this._panelCarouselItems[u]).left-a))>l-i&&(o=-l+i,this.maxX=Math.round(o));break}return this.maxX===o&&(this._forwardLimit=!0),o}},{key:"_setBackwardClick",value:function(e){var t=e.currentTarget,n=(0,v.default)(this._panelCarouselList);this._forwardLimit=!1;for(var a=this._panelCarouselItems.length-1;a>-1;a--)(0,y.default)(this._panelCarouselItems[a]).left<=(0,y.default)(this.el).left&&(n-=(0,v.default)(this._panelCarouselItems[a]));return(n-=(0,v.default)(t))>=-(0,v.default)(t)&&(n=0),n}},{key:"_showControls",value:function(){!0===this._overflow&&!0===this._useCarousel?(!0===this._backwardLimit?(0,h.default)(this._backwards,"spark-panel-carousel__limit"):(0,f.default)(this._backwards,"spark-panel-carousel__limit"),!0===this._forwardLimit?(0,h.default)(this._forwards,"spark-panel-carousel__limit"):(0,f.default)(this._forwards,"spark-panel-carousel__limit"),!1===this._useControls?((0,h.default)(this._backwards,"spark-panel-carousel-no-controls"),(0,h.default)(this._forwards,"spark-panel-carousel-no-controls")):((0,f.default)(this._backwards,"spark-panel-carousel-no-controls"),(0,f.default)(this._forwards,"spark-panel-carousel-no-controls"))):((0,h.default)(this._backwards,"spark-panel-carousel__limit"),(0,h.default)(this._forwards,"spark-panel-carousel__limit"))}},{key:"_singleBackwardClick",value:function(e){for(var t=e.currentTarget,n=(0,v.default)(t),a=(0,y.default)(t).left,r=(0,y.default)(this._panelCarouselList).left,i=0,s=this._panelCarouselItems.length-1;s>0;s--)if((0,y.default)(this._panelCarouselItems[s]).left<a+n){(i=r-(0,y.default)(this._panelCarouselItems[s]).left+n)>n-2&&(i=0);break}return i}},{key:"_singleForwardClick",value:function(e){var t=e.currentTarget,n=0,a=(0,v.default)(t),r=this._panelCarouselWidth+(0,y.default)(this.el).left,i=0;!0===this._useControls&&(r-=a),n=r;for(var s=(0,y.default)(this._panelCarouselItems[0]).left-(0,y.default)(this.el).left,o=0;o<this._panelCarouselItems.length;o++)i+=(0,v.default)(this._panelCarouselItems[o]);this.maxX=Math.round(-i+this._panelCarouselWidth),n=this.maxX;for(var l=0;l<this._panelCarouselItems.length;l++){var c=(0,y.default)(this._panelCarouselItems[l]).left+(0,v.default)(this._panelCarouselItems[l]);if(c>r){n=r-c+s,void 0===this._panelCarouselItems[l+1]&&(!0===this._useControls&&(n+=a),this.maxX=Math.round(n));break}}return this.maxX===n&&(this._forwardLimit=!0),n}}]),a}(p.default);E.prototype._whitelistedParams=["singleCarouselAdvance","noCarouselBreakPoint","controlBreakPoint","nextLabel","previousLabel","hasTabs"],E.prototype.defaults={el:null,singleCarouselAdvance:!1,noCarouselBreakPoint:null,controlBreakPoint:"xs",nextLabel:"Show next",previousLabel:"Show previous",_useControls:!0,_panelCarouselItemsWidth:0,_panelCarouselWidth:0,_positionX:0,_forwardLimit:!1,_backwardLimit:!0,_overflow:!1,_hasTabs:!1};var k=E;t.default=k,e.exports=t.default},function(e,t,n){e.exports=n(1848)},function(e,t,n){e.exports=n(1854)},function(e,t,n){var a=n(1255);e.exports=a.Promise},function(e,t,n){var a=n(1270),r=n(1509),i=n(1284),s=n(1316),o=n(1510),l=n(1508),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var p,h,f,m,g,v,y,b=s(t,n,u?2:1);if(d)p=e;else{if("function"!=typeof(h=o(e)))throw TypeError("Target is not iterable");if(r(h)){for(f=0,m=i(e.length);m>f;f++)if((g=u?b(a(y=e[f])[0],y[1]):b(e[f]))&&g instanceof c)return g;return new c(!1)}p=h.call(e)}for(v=p.next;!(y=v.call(p)).done;)if("object"==typeof(g=l(p,b,y.value,u))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var a=n(1270),r=n(1285),i=n(1253)("species");e.exports=function(e,t){var n,s=a(e).constructor;return void 0===s||null==(n=a(s)[i])?t:r(n)}},function(e,t,n){var a,r,i,s=n(1255),o=n(1254),l=n(1291),c=n(1316),u=n(1446),d=n(1379),p=n(1520),h=s.location,f=s.setImmediate,m=s.clearImmediate,g=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,C={},E=function(e){if(C.hasOwnProperty(e)){var t=C[e];delete C[e],t()}},k=function(e){return function(){E(e)}},O=function(e){E(e.data)},_=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};f&&m||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return C[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(b),b},m=function(e){delete C[e]},"process"==l(g)?a=function(e){g.nextTick(k(e))}:y&&y.now?a=function(e){y.now(k(e))}:v&&!p?(i=(r=new v).port2,r.port1.onmessage=O,a=c(i.postMessage,i,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||o(_)?a="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),E(e)}}:function(e){setTimeout(k(e),0)}:(a=_,s.addEventListener("message",O,!1))),e.exports={set:f,clear:m}},function(e,t,n){var a=n(1386);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},function(e,t,n){var a=n(1270),r=n(1259),i=n(1406);e.exports=function(e,t){if(a(e),r(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1405)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1881)),h=a(n(1242)),f=a(n(1247)),m=a(n(1251)),g=a(n(1266)),v=a(n(1248)),y=a(n(1257)),b=a(n(1261)),C=a(n(1356));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(E()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)(this,a),a.instance?(a.instance.config=t,(0,u.default)(e,a.instance)):((e=n.call(this,void 0,t))._cacheElements(),e._bindEventListenerCallbacks(),e._addEventListeners(),e.style=t.style?t.style:"dark",void 0!==t.interactive&&(e.interactive=t.interactive),void 0!==t.display&&(e.display=t.display),e.animate=!1,(0,u.default)(e))}return(0,l.default)(a,[{key:"_cacheElements",value:function(){a.instance=this,this.el=document.getElementById("spark-underlay"),this.el||(this.el=(0,g.default)('<div id="spark-underlay" data-interactive hidden></div>'),document.body.appendChild(this.el))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._onMouseDownBound=(0,s.default)(e=this._onMouseDown).call(e,this),this._onTouchMoveBound=(0,s.default)(t=this._onTouchMove).call(t,this),this._onClickBound=(0,s.default)(n=this._onClick).call(n,this),this._onDismissBound=(0,s.default)(a=this._onDismiss).call(a,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("mousedown",this._onMouseDownBound,!0),this.el.addEventListener("touchmove",this._onTouchMoveBound,!0),this.el.addEventListener("click",this._onClickBound,!0),this.el.addEventListener("dismiss",this._onDismissBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("mousedown",this._onMouseDownBound,!0),this.el.removeEventListener("touchmove",this._onTouchMoveBound,!0),this.el.removeEventListener("click",this._onClickBound,!0),this.el.removeEventListener("dismiss",this._onDismissBound,!0)}},{key:"_onMouseDown",value:function(e){if(!this.interactive)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_onTouchMove",value:function(e){(0,m.default)(document.body,"spark-no-scroll")&&e.preventDefault()}},{key:"_onClick",value:function(e){this.interactive?this.trigger("dismiss"):(e.preventDefault(),e.stopPropagation())}},{key:"_onDismiss",value:function(){this.hide().then((function(){a.instance.trigger("change",{display:a.instance.display})})).catch((function(){}))}},{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.default((function(t,n){void 0!==e.animate&&(a.instance.animate=e.animate),void 0!==e.interactive&&(a.instance.interactive=e.interactive),void 0!==e.display&&e.style!==a.instance.style?e.display?(a.instance.style=e.style,a.instance.show().then(t).catch((function(){n(new Error("Underlay not visible"))}))):a.instance.hide().then((function(){a.instance.style=e.style,t()})).catch((function(){n(new Error("Underlay is visible"))})):(e.style&&(a.instance.style=e.style),void 0!==e.display&&!1===e.display?a.instance.hide().then(t).catch((function(){n(new Error("Underlay is visible"))})):!0===e.display&&a.instance.show().then(t).catch((function(){n(new Error("Underlay not visible"))})),t())}))}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.default((function(t,n){a.instance.el.hidden||!(0,m.default)(a.instance.el,"no-animate")&&(0,m.default)(a.instance.el,"hide")?(a.instance.trigger("reveal"),void 0!==e.animate&&(a.instance.animate=e.animate),a.instance.animate&&a.instance.el.addEventListener("animationend",(function e(r){a.instance.el.removeEventListener("animationend",e),"reveal-underlay"===r.animationName?(a.instance.trigger("show"),t()):n(new Error("Underlay was hidden"))})),e.style&&(a.instance.style=e.style),void 0!==e.interactive&&(a.instance.interactive=e.interactive),(0,f.default)(document.body,"spark-no-scroll"),(0,f.default)(document.body,"spark-no-select"),a.instance.el.hidden=!1,a.instance.animate||(a.instance.trigger("show"),t())):t()}))}},{key:"hide",value:function(){return new i.default((function(e,t){a.instance.el.hidden||(0,m.default)(a.instance.el,"hide")?e():a.instance.animate?(a.instance.el.addEventListener("animationend",(function n(r){a.instance.el.removeEventListener("animationend",n),"dismiss-underlay"===r.animationName?((0,v.default)(document.body,"spark-no-scroll"),(0,v.default)(document.body,"spark-no-select"),a.instance.el.hidden=!0,(0,v.default)(a.instance.el,"hide"),a.instance.trigger("hide"),e()):t(new Error("Underlay was shown"))})),(0,f.default)(a.instance.el,"hide")):((0,v.default)(document.body,"spark-no-scroll"),(0,v.default)(document.body,"spark-no-select"),a.instance.el.hidden=!0,a.instance.trigger("hide"),e())}))}},{key:"disable",value:function(){return a.instance.el.hasAttribute("data-interactive")&&(a.instance.el.removeAttribute("data-interactive"),a.instance.trigger("change",{interactive:!1})),i.default.resolve()}},{key:"enable",value:function(){return a.instance.el.hasAttribute("data-interactive")||(a.instance.el.attributes.setNamedItem(document.createAttribute("data-interactive")),a.instance.trigger("change",{interactive:!0})),i.default.resolve()}},{key:"config",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.configure(e).catch((function(){}))},get:function(){return{animate:this.animate,display:this.display,interactive:this.interactive,style:this.style}}},{key:"animate",get:function(){return!(0,m.default)(this.el,"no-animate")},set:function(e){(0,y.default)(this.el,"no-animate",!0)}},{key:"display",get:function(){return!this.el.hidden},set:function(e){e&&this.el.hidden?this.show().then((function(){a.instance.trigger("change",{display:!0})})).catch((function(){})):this.el.hidden||this.hide().then((function(){a.instance.trigger("change",{display:!1})})).catch((function(){}))}},{key:"interactive",get:function(){return this.el.hasAttribute("data-interactive")},set:function(e){e?this.enable():this.disable()}},{key:"style",get:function(){return this.el.dataset.style||"dark"},set:function(e){e&&e!==this.el.dataset.style?(this.el.dataset.style=e,a.instance.trigger("change",{style:e})):this.el.removeAttribute("data-style")}},{key:"active",get:function(){return"block"===window.getComputedStyle(a.instance.el).display}}]),a}(h.default);(0,p.default)(k,"instance",void 0),(0,b.default)(k.prototype,C.default);var O=k;t.default=O,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b}));var a=n(286),r=n.n(a),i=n(27),s=n.n(i),o=n(565),l=n.n(o),c=n(2),u=n.n(c),d=n(52),p=n.n(d),h=n(24),f=n(1305),m=n(14),g=function(e,t){return t===e||e===h.a.B2C?"/".concat(t):"/".concat(e,"/").concat(t)},v=function(e,t){return u()(e.get(t))},y=function(e,t,n,a){return e===t?f.a.ACTIVE:e!==t&&l()(p()(a,e),n)?f.a.COMPLETED:f.a.DISABLED},b=function(e,t){for(var n=[],a=e.size,i=e.get("start");i&&n.length<a&&!v(e,i);)n.push(i),i=e.get(i);return t&&s()(n)!==m.a.HOME?r()(n.unshift(m.a.HOME),m.a.DATE_SELECTION,m.a.MATRIX):r()(n,m.a.DATE_SELECTION,m.a.MATRIX),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(66),r=function(e,t){return function(n){n(Object(a.c)("URL_UPDATE_HASH",e,t))}}},function(e,t,n){"use strict";var a=n(14),r=n(174),i=n(60);t.a=function(e,t){var n=e.shoppingCart.getIn(["data","total"]);if(Object(r.b)(e,t)===a.a.PAYMENT){var s=e.payment.get("totalSurcharge");return Object(i.b)(n,s)}return n}},,,,,,,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(2),s=n.n(i),o=n(9),l=n(114),c=n(45),u=n(1718),d=n(1737),p=n(1911),h=n(36),f=n.n(h),m=n(128),g=n.n(m),v=n(0),y=n.n(v),b=function(e){return 1===e.length},C=function(e){if(2!==e.length)return!1;var t=y()(g()(e),"segments",[]),n=y()(f()(e),"segments",[]),a=y()(g()(t),"origin"),r=y()(f()(t),"destination"),i=y()(g()(n),"origin");return a===y()(f()(n),"destination")&&r===i},E=function(e){return!s()(e)&&!b(e)&&!C(e)},k=function(e){return{isRoundTrip:C(e),isOneWayTrip:b(e),isMultiCityTrip:E(e)}},O=n(5),_=n.n(O),P=n(17),S=n.n(P),N=function(e){return _()(e,(function(e){var t=function(e){var t=y()(e,"fareBasis","");return f()(t.split("/"))}(e);return{origin:e.origin,destination:e.destination,departure:S()(e.departure),arrival:S()(e.arrival),flight:e.flight,duration:S.a.duration(e.duration,"minute"),equipment:e.equipment,fareBasis:e.fareBasis,brandId:t,cabinClass:e.cabinClass}}))},w=function(e){return _()(e,(function(e){var t=y()(e,"segments",[]);return{origin:y()(g()(t),"origin"),destination:y()(f()(t),"destination"),departure:S()(y()(g()(t),"departure")),arrival:S()(y()(f()(t),"arrival")),stops:y()(e,"stops"),duration:y()(e,"totalDuration"),connectionInfo:y()(e,"connectionInformations"),segments:N(e.segments)}}))},A=n(37),T=n.n(A),I=n(1538);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){var t=c.a;if(t.get(e)&&"undefined"!==t.get(e))return JSON.parse(t.get(e))}function j(e,t){s()(e)||s()(t)||c.a.set(e,JSON.stringify(t))}n.d(t,"e",(function(){return L})),n.d(t,"d",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return R})),n.d(t,"f",(function(){return M})),n.d(t,"c",(function(){return V}));var L=function(e){!function(e){s()(e)||c.a.remove(e)}(Object(u.a)(e))},F=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=Object(u.a)(e);if(n){var d=x(c);if(!s()(d))return Promise.resolve(d)}var h="".concat(Object(o.l)("pnr"),"?").concat(Object(l.l)(e));return Object(o.g)(h,o.b,{ignoreExecKey:n}).then((function(e){var n=Object(p.a)(e,t,a,r,i);return j(c,n),n}))},B=function(e){var t=e.pnr,n=e.firstName,a=e.lastName,r=e.email,i="".concat(Object(o.l)("bnplPNR"),"?").concat(Object(l.l)({pnr:t,firstName:n,lastName:a,email:r}));return Object(o.g)(i,"GET").then((function(e){return function(e){var t=e.pnr.itinerary.itineraryParts;return{pnr:e.pnr.reloc,itineraryType:k(t),itinerary:{itineraryParts:w(t)},pnrInfo:e.pnr}}(e)}))},R=function(e,t,n,a,i){var c=Object(u.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{flow:a}));if(n)L(c);else{var d=x(c);if(!s()(d))return Promise.resolve(d)}var p="".concat(Object(o.l)(t,a),"?").concat(Object(l.l)(e));return Object(o.g)(p,o.b,{clearExecKey:n}).then((function(e){var t=i?i(e):e;return j(c,t),t}))},M=function(e,t){var n=Object(o.l)("exchangeIropConfirmAll").concat("?").concat(Object(l.l)(e));return Object(o.g)(n.toString(),o.c).then((function(e){return function(e,t){return T()(Object(I.a)(e,t),{pnrInfo:e.pnr})}(e,t)}))},V=function(e,t,n){return F(e,t,n).then((function(e){return Object(d.a)(e)}))}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(56),g=n.n(m),v=n(2),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(39)),k=n.n(E),O=n(50),_=(n(1292),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.separator,a=e.tag,r=e.children,i=e.separatorAriaLabel;if(y()(r)||g()(r)<=1)return!1;var s=k()("ducp-component-from-to",t);return C.a.createElement(a,{className:s},C.a.createElement("div",{className:"from left-content"},r[0]),C.a.createElement("div",{className:"right-content"},C.a.createElement("div",{className:"separator","aria-label":i},n),C.a.createElement("div",{className:"to"},r[1])))}}]),t}(b.PureComponent));f()(_,"defaultProps",{separatorAriaLabel:"to",className:void 0,separator:C.a.createElement(O.c,{name:O.a.ARROW_BASIC_RIGHT}),tag:"div"}),f()(_,"TYPES",{ONWARD:O.a.AIRPLANE_ROUTE,RETURN:O.a.AIRPLANE_ROUTE_RETURN,ROUND:O.a.AIRPLANE_ROUTE_ROUND});t.a=_},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),C=n(1286),E=n(84),k=n(14),O=n(1305),_=n(1360),P=n(1320),S=n(1374),N=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(S.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PAYMENT})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(_.a,{pageName:k.a.PAYMENT,flowName:E.a.B2C})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(S.a,{crumbState:O.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PAYMENT})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.PAYMENT,".").concat(O.a.HOVER));return y.a.createElement(P.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(C.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onPaymentCrumbClick(e.props.url)},className:"dxp-breadcrumb-item payment-breadcrumb-item"})}}]),t}(v.Component);n.d(t,"a",(function(){return N}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),C=n.n(b),E=n(12),k=n(78),O=n(88),_=n(341),P=(n(2047),function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={active:!1},n.deactivate=n.deactivate.bind(p()(n)),n}return f()(t,e),s()(t,[{key:"onToggle",value:function(e){e&&e.preventDefault(),this.setState((function(e){return{active:!e.active}}))}},{key:"deactivate",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.position,a=t.children,r=t.trigger,i=t.hasCloseButton,s=t.id,o=t.className,l=this.state.active;return y.a.createElement(_.a,{active:l,closeOnEsc:!0,focusOnOpen:!1,onClick:this.deactivate,onCloseTrigger:this.deactivate},y.a.createElement("div",{id:s,className:C()("dxp-popover",{"popover-active":l},o)},y.a.createElement(k.a,{className:"trigger ".concat(s,"-trigger"),id:"".concat(s,"-trigger"),onClick:function(t){return e.onToggle(t)},"aria-describedby":"".concat(s,"-content")},r),y.a.createElement("div",{className:C()("dxp-popover-content-".concat(n)),id:"".concat(s,"-content"),role:"tooltip"},a,i&&y.a.createElement(O.a,{className:"medium primary",onClick:function(t){t.preventDefault(),e.onToggle()}},Object(E.a)("app.ok")),y.a.createElement("span",{className:"dxp-popover-caret"}))))}}]),t}(v.Component));g()(P,"defaultProps",{position:void 0,children:void 0,trigger:void 0,hasCloseButton:void 0,id:void 0,className:""}),n.d(t,"a",(function(){return P}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(122),s=n.n(i),o=n(2),l=n.n(o),c=n(1),u=n.n(c),d=n(39),p=n.n(d),h=n(123),f=(n(6),n(1558)),m=n(2065),g=n(1281),v=n(536),y=n(1944),b=n(1542);n(2248),n(2249);function C(e){var t=e.title,n=e.children,a=e.className,i=e.isCartEnabled,s=e.location,o=e.authorableAttributes,c=e.background,d=e.id,h=e.currentFlow,b=e.breadcrumbs,C=e.onCartItemRemove,E=function(e,t,n,a,r,i,s,o){var c=p()("left-side-panel",i,{"is-cart-enabled":a}),d=p()("dxp-breadcrumbs-container",i);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:d,id:Object(y.a)(i),key:"breadcrumb-container"},s),u.a.createElement("div",{className:"main-content centered-content",key:"main-content"},u.a.createElement("div",{className:"title-wrapper"},!l()(e)&&u.a.createElement(g.a,{className:"dxp-view-title",tag:"h2",title:e}),!l()(t)&&u.a.createElement("p",{className:"dxp-view-subtitle"},t)),u.a.createElement("div",{className:c},u.a.createElement(f.a,null),n),a&&u.a.createElement("div",{className:"cart"},u.a.createElement(m.a,{location:r,onCartItemRemove:o,id:"dxp-shopping-cart"}))))}(t,e.subtitle,n,i,s,h,b,C);return u.a.createElement("div",r()({className:p()("dxp-view",a),role:"main"},o,{id:d}),l()(c)?E:function(e,t){return u.a.createElement(v.a,e,t)}(c,E))}C.defaultProps={className:"",background:{},children:[],authorableAttributes:{},title:"",subtitle:void 0,isCartEnabled:!0,breadcrumbs:void 0,onCartItemRemove:s.a};var E=Object(h.b)(b.a)(C);n.d(t,"a",(function(){return E}))},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(34),s=n.n(i),o=n(77),l=n.n(o),c=n(344),u=n.n(c),d=n(533),p=n.n(d),h=n(36),f=n.n(h),m=n(51),g=n.n(m),v=n(541),y=n.n(v),b=n(98),C=n.n(b),E=n(58),k=n.n(E),O=n(15),_=n.n(O),P=n(1739),S=n.n(P),N=n(27),w=n.n(N),A=n(5),T=n.n(A),I=n(4),D=n.n(I),x=n(13),j=n.n(x),L=n(19),F=n.n(L),B=n(2),R=n.n(B),M=n(0),V=n.n(M),U=n(17),q=n.n(U),H=n(47),W=n(530),G=n(1375),K=n(1482),z=n(1719),Y=n(11),Q=n(1484),X=n(63),J=n(558),$=n(85),Z=n(117),ee=n(1361),te=n(330),ne=n(1416),ae=n(54),re=n.n(ae),ie=n(176),se=n.n(ie),oe=function(e){return{hotelName:e.hotelName,checkinDate:e.checkinDate,checkoutDate:e.checkoutDate,hotelRoomType:{rooms:se()(e.roomCount,Number)},total:e.totalPrice}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=e.pnr,n=e.messages,a=[];if(_()(t.payments,(function(e){return"BPC"===e.paymentCode}))&&a.push({type:"BPC",data:V()(t,"timeToTicket")}),t.fraudCheckResult&&V()(t,"fraudCheckResult.fraudCheckStatus")===z.a.REJECT&&V()(t,"fraudCheckResult.shouldPresentCard")){var r=R()(V()(t,"reloc",""));a.push({type:W.d.INFO,code:H.b.FRAUDCHECK,hardFail:r,data:"fraudCheckReject"})}var i=F()(n,(function(e){return"warn"===e.level}));R()(i)||j()(i,(function(e){a.push({type:W.d.WARNING,data:e.code})}));var s=F()(n,(function(e){return"error"===e.level}));R()(s)||j()(s,(function(e){a.push({type:W.d.ERROR,data:e.code})}));var o=_()(n,(function(e){return"accountCreated"===e.code}));return R()(o)||a.push({type:"accountCreated"}),a}function de(e){return T()(e,(function(e){var t,n,a=ce({},e);return R()(V()(e,"price"))||(a.price=(t=e.price,1===(n=k()(t.alternatives)).length?w()(n):[n])),R()(V()(e,"subElements"))||(a.subElements=de(e.subElements)),a}))}function pe(e){return{origin:e.origin,destination:e.destination,departure:q()(e.departure),arrival:q()(e.arrival),flight:e.flight,duration:q.a.duration(e.duration,"minute"),equipment:e.equipment,segmentStatusCode:e.segmentStatusCode,fareBasis:e.fareBasis}}function he(e){return D()(e,(function(e,t){return"EMD"===V()(t,"documentDetails.documentType")&&T()(V()(t,"documentDetails.additionalDetails",[]),(function(t){var n=V()(t,"subCode"),a=V()(t,"quantity");n&&a&&e.push({code:n,quantity:a})})),e}),[])}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=V()(e.flightAncillaries,"flightAncillary",[]).map((function(e){return{name:e.id,icon:n.get("".concat(e.subCode),Object(Y.fromJS)({icon:"icon-".concat(e.subCode)})).get("icon")}}));return y()(a.concat(T()(t,(function(e){return{icon:e.get("icon"),name:e.get("name")}}))),"name")}function me(e,t,n){return T()(e,(function(e){var a=t.get("displayCarrierLogo")===Q.b?e.flight.airlineCode:e.flight.operatingAirlineCode;a=Q.c.includes(e.equipment)?e.equipment:a;var r=t.get("displayLogo");return{logoPath:r?Object(X.a)("./images/airlines/".concat(a,".png")):void 0,defaultImagePath:r?Object(X.a)(Q.a):void 0,airlineCode:e.flight.airlineCode,flightNumber:"".concat(e.flight.flightNumber),flightEquipment:n?e.equipment:void 0,operatedBy:t.get("alwaysDisplayOperatingCarrier")&&e.flight.operatingAirlineCode?e.flight.operatingAirlineCode:void 0}}))}n.d(t,"a",(function(){return Ce}));function ge(e,t,n,a,r,i,s){return T()(e,(function(e,o){var l,c=e.origin,u=e.destination,d=e.departure,h=e.arrival,f=e.duration,m=e.segmentOfferInformation,g=e.cabinClass,v=e.bookingClass,y=t&&t[o]&&t[o].duration,b=s&&function(e){if(e.status===G.a.CONFIRMED||e.status===G.a.WAITLISTED)return{status:e.status,bookingClass:e.bookingClass,oldBookingClass:e.segment.bookingClass}}(s[o]),C="P"===v?"Residence":g;return{operatingAirline:n[o],origin:c,destination:u,departureTime:q()(d).format(a),departureTimeUnFormatted:d,arrivalTime:q()(h).format(a),arrivalTimeUnFormatted:h,duration:f,fareBasis:e.fareBasis,stopAirports:(l=V()(e.flight,"stopAirports",[]),T()(l,(function(e){return ce({},e,{duration:q.a.duration(q()(e.departure).diff(q()(e.arrival)))||void 0})}))),cabin:p()(C),upgradeCabinLabel:b,layOver:y,amenities:fe(m,r,i),flightHash:Object(ee.a)({origin:c,destination:u,flightNumber:V()(n[o],"flightNumber"),departureTime:d})}}))}function ve(e){var t=[];e.length>1?t=function(e){return D()(e,(function(e,t){return e.push({code:t.origin}),t.flight.stopAirports.forEach((function(t){return e.push({code:t.airport})})),e}),[])}(u()(e)):V()(e,["0","flight","stopAirports"],[]).forEach((function(e){return t.push({code:e.airport})}));return t.length>0?{stops:t,locationsLabel:"".concat(t.map((function(e){return e.code})).join(","))}:{stops:t}}function ye(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,s=r?e.cancelledSegments:e.segments,o=t.get("timeFormat"),c=t.get("dateFormat"),u=w()(s).origin,d=f()(s).destination,p=w()(s).departure,h=q()(p),m=q()(f()(s).arrival),v=me(s,t.get("operatedBy"),t.get("displayFlightSummaryAircraftType")),b=ge(s,e.connectionInformations,v,o,g()(t.get("amenities"),"toArray"),n,i),C=_()(a,(function(e){return l()(e.segmentKey,{origin:u,destination:w()(s).destination,departure:p,arrival:w()(s).arrival})}));return{departure:{date:h.format(c),time:h.format(o),code:u},arrival:{date:m.format(c),time:m.format(o),code:d},operatingAirlines:v,amenities:y()(D()(b,(function(e,t){return e.concat(t.amenities)}),[]),"name"),duration:{totalDuration:e.totalDuration,value:"".concat(Math.floor(q.a.duration(e.totalDuration,"minute").asHours())," ").concat(q.a.duration(e.totalDuration,"minute").minutes()),nightFlight:Object(K.g)(h,m,t.get("nightTime"))},stopInfo:ve(s),flightSegmentDetail:b,classToDisplay:C&&C.description?C.description.replace("/",""):void 0}}function be(e,t){return V()(w()(e),["passengers",t.passengerIndex-1,"eticketNumber"],"")}function Ce(e,t){var n,a,r,i=e.pnr,o=i.priceBreakdown,l=i.reloc,c=i.itinerary,u=i.passengers,d=i.travelPartsAdditionalDetails,p=i.payments,h=i.insuranceInformation,m=i.documents,g=i.carReservationSummary,v=i.hotelReservationSummary,y=i.upgradeInfo,b=i.businessLoyalty,E=v?(n=V()(o,"price.alternatives"),a=v.totalPrice,[[].concat(re()(w()(n)),[a])]):V()(o,"price.alternatives"),k=V()(h,"policyNumber"),O=function(e){return T()(e,(function(e){var t={};return t.segments=e.segments.map((function(e){return pe(e)})),e.cancelledSegments&&(t.cancelledSegments=e.cancelledSegments.map((function(e){return pe(e)}))),t}))}(c.itineraryParts),P=function(e,t,n,a){var r=t.flightDetails,i=t.ancillaryMap,o=a&&s()(a);return T()(e,(function(e){var t={},a=o&&o.segmentUpgradeInfos.splice(0,e.segments.length);return t.flightSegments=e.segments.length>0?ye(e,r,i,n,!1,a):{},e.cancelledSegments&&(t.cancelledFlightSegments=ye(e,r,i,n,!0,a)),t}))}(c.itineraryParts,t,F()(e.pnr.specialServiceRequests,{code:H.l}),y),N=g?[Object(ne.a)(g)]:[],A=(r=o.subElements,D()(r,(function(e,t){var n=V()(t,"price.alternatives",[]),a=V()(t,"subElements",[]);return e.push({label:t.label,breakdownElements:de(a),total:n}),e}),[])),I=Object(J.a)(Object(Y.fromJS)(O)),x=function(e){var t=w()(e);return R()(t.segments)?w()(t.cancelledSegments).origin:w()(t.segments).origin}(c.itineraryParts),j=function(e,t){var n=f()(e),a=R()(n.segments)?n.cancelledSegments:n.segments;return t===$.a.ROUND_TRIP?w()(a).origin:f()(a).destination}(O,I),L=t.ancillaryMap,B=Object(te.a)({passengers:u}),M=F()(d,(function(e){return V()(e,["travelPart","@type"])===Z.a.ITINERARY_PART})),U=F()(d,(function(e){return V()(e,["travelPart","@type"])===Z.a.SEGMENT})),q=F()(d,(function(e){return V()(e,["travelPart","@type"])===Z.a.ITINERARY}));return{pnr:l,totalPaid:E,itineraryParts:O,flights:P,origin:x,tripType:I,destination:j,paymentOptionsDetails:p,policyNumber:k,cart:{products:C()(A,N),hotelProduct:v?oe(v):void 0,total:E,paymentCompleted:l,passengerTypeCount:B},passengers:T()(u,(function(e){return ce({},e,{eticketNumber:be(U,e),standAloneAncillaries:V()(q.find((function(e){return e.passengers}),S()({passenger:e})),"passengers[".concat(e.passengerIndex-1,"].ancillaries"),[]),flights:c.itineraryParts.map((function(t){var n=C()(V()(t,"segments",[]),V()(t,"cancelledSegments",[])),a=e.passengerIndex,r=w()(n).origin,i=f()(n).destination,s=_()(M,(function(e){return e.travelPart===t&&e.passengers}),S()({passenger:e}));return{origin:r,destination:i,ancillaries:V()(s,"passengers[".concat(a-1,"].ancillaries"),[]),segments:n.map((function(t){var n=_()(U,(function(e){return e.travelPart===t&&e.passengers}),S()({passenger:e})),r=V()(n,"passengers[".concat(a-1,"].ancillaries"),[]),i=V()(n,"passengers[".concat(a-1,"].seat"),[]);return{origin:t.origin,destination:t.destination,departure:t.departure,ancillaries:r,seat:i,airlineCode:V()(n,"travelPart.flight.airlineCode",""),flightNumber:V()(n,"travelPart.flight.flightNumber","")}})),ancillaryMap:L,eticketNumber:be(U,e)}}))})})),EMDs:he(m),alerts:ue(e),carReservationSummary:g,businessLoyalty:b}}},function(e,t,n){"use strict";var a=n(1590);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1250)),o=a(n(1817)),l=a(n(1326)),c=a(n(1240)),u=a(n(1238)),d=a(n(1239)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1247)),v=a(n(1248)),y=a(n(1251)),b=a(n(1267)),C=a(n(1274));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(){},O=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(E()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._calculateStyle(),(0,h.default)(t)):(0,h.default)(t)}return(0,d.default)(a,[{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this._calculateStyle(),this}},{key:"_cacheElements",value:function(e){this.el=e,this.containerEl=this.containerEl||e.parentNode,this._body=this.el.querySelector(".spark-step-indicator__body"),this._list=this.el.querySelector(".spark-step-indicator__list"),this._items=this._list.querySelectorAll(".spark-step-indicator__item"),this._checkPadding()}},{key:"_parseParams",value:function(){this.type=null!==this.type?this.type:this.el.attributes["data-type"]&&this.el.attributes["data-type"].value,this.el.attributes["data-dropdownlabel"]&&this.el.attributes["data-dropdownlabel"].value&&(this.dropdownLabel=this.el.attributes["data-dropdownlabel"].value),this.el.attributes["data-stepprogressionlabel"]&&this.el.attributes["data-stepprogressionlabel"].value&&(this.stepProgressionLabel=this.el.attributes["data-stepprogressionlabel"].value),this.el.attributes["data-currentlabel"]&&this.el.attributes["data-currentlabel"].value&&(this.currentLabel=this.el.attributes["data-currentlabel"].value),this.el.attributes["data-completedlabel"]&&this.el.attributes["data-completedlabel"].value&&(this.completedLabel=this.el.attributes["data-completedlabel"].value)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;(this._onResizeBound=(0,c.default)(e=this._onResize).call(e,this),this._onVisibleBound=(0,c.default)(t=this._onVisible).call(t,this),this._toggleDropdownBound=(0,c.default)(n=this._toggleDropdown).call(n,this),this._onKeydownBound=(0,C.default)((0,c.default)(a=this._onKeydown).call(a,this),100),"function"==typeof this.onStepClick)&&this.bindStepClickCallback((0,l.default)(r=(0,o.default)(new Array(this._items.length))).call(r,(function(e,t){return t})),this.onStepClick)}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),this.el.addEventListener("keydown",this._onKeydownBound),document.addEventListener("spark.step-indicator",this._toggleDropdownBound,!0)}},{key:"_removeEventListeners",value:function(){var e;(window.removeEventListener("resize",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),document.removeEventListener("click",this._toggleDropdownBound),this.el.removeEventListener("keydown",this._onKeydownBound),document.removeEventListener("spark.step-indicator",this._toggleDropdownBound,!0),"function"==typeof this.onStepClick)&&this.removeStepClickCallback((0,l.default)(e=(0,o.default)(new Array(this._items.length))).call(e,(function(e,t){return t})),this.onStepClick)}},{key:"_resetStepState",value:function(e){if(!(e<0||e>=this._items.length)){var t=this._items[e].querySelector(".spark-step-indicator__icon");(0,v.default)(this._items[e],["spark-step-indicator__item--completed","spark-step-indicator__item--current","spark-step-indicator__item--disabled"]),this._items[e].removeAttribute("tabindex"),t.setAttribute("aria-hidden",!0),t.removeAttribute("aria-label")}}},{key:"setStepState",value:function(e,t){if(e<0||e>=this._items.length)return this;var n,a,r=this._items[e].querySelector(".spark-step-indicator__icon");switch(t){case"completed":this._resetStepState(e),(0,g.default)(this._items[e],"spark-step-indicator__item--completed"),r.removeAttribute("aria-hidden"),r.setAttribute("aria-label",this.completedLabel);break;case"current":a=(n=this._list.querySelector(".spark-step-indicator__item--current")).querySelector(".spark-step-indicator__icon"),(0,v.default)(n,"spark-step-indicator__item--current"),(0,y.default)(n,"spark-step-indicator__item--completed")?a.setAttribute("aria-label",this.completedLabel):(a.setAttribute("aria-hidden",!0),a.removeAttribute("aria-label")),(0,g.default)(this._items[e],"spark-step-indicator__item--current"),r.removeAttribute("aria-hidden"),(0,y.default)(this._items[e],"spark-step-indicator__item--completed")?r.setAttribute("aria-label",this.completedLabel+", "+this.currentLabel):r.setAttribute("aria-label",this.currentLabel);break;case"disabled":this._resetStepState(e),(0,g.default)(this._items[e],"spark-step-indicator__item--disabled"),this._items[e].setAttribute("tabindex","-1");break;case"incomplete":(0,v.default)(this._items[e],["spark-step-indicator__item--completed","spark-step-indicator__item--disabled"]),this._items[e].removeAttribute("tabindex")}return this._calculateStyle(),this}},{key:"_onKeydown",value:function(e){if((0,b.default)(e.target,".spark-step-indicator__list",this.el)||(0,b.default)(e.target,".spark-step-indicator__body--dropdown",this.el)){var t=e.keyCode||e.which;13===t&&(0,y.default)(e.target,"spark-step-indicator__item--dropdown__header")&&(e.preventDefault(),this._toggleDropdown(e)),9===t&&!1===(0,y.default)(document.activeElement,"spark-step-indicator__item")&&!0===this._dropdownExpand&&this._toggleDropdown(e)}}},{key:"bindStepClickCallback",value:function(e,t){t=t||k;for(var n=0;n<e.length;n++)this._items[e[n]].addEventListener("click",(0,c.default)(t).call(t,this._items[e[n]],e[n],this));return this}},{key:"removeStepClickCallback",value:function(e,t){t=t||k;for(var n=0;n<e.length;n++)this._items[e[n]].removeEventListener("click",t);return this}},{key:"_isOverWidth",value:function(){for(var e=this._list.offsetWidth,t=this._listPaddingTotal,n=0;n<this._items.length;n++)t+=this._items[n].offsetWidth;return e<t}},{key:"_calculateStyle",value:function(){switch(this._switchFromDropdown(),this.type){case"standard-dropdown":this._calculateRespStyle();break;case"large":this._calculateLargeStyle();break;case"condensed":this._calculateCondensedStyle();break;case"dropdown":this._calculateDropdownStyle();break;default:this._calculateStandardStyle()}!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))&&this._addItemWidth()}},{key:"_addItemWidth",value:function(){if((0,y.default)(this._list,"spark-step-indicator__list--condensed")||(0,y.default)(this._body,"spark-step-indicator__body--dropdown"))this._switchWidthForIe11(0,!1);else{for(var e=this._list.offsetWidth,t=this._listPaddingTotal,n=0;n<this._items.length;n++)t+=this._items[n].offsetWidth;e-t>2?this._switchWidthForIe11(0,!0):this._switchWidthForIe11(0,!1)}}},{key:"_switchWidthForIe11",value:function(e,t){for(var n=e;n<this._items.length;n++)this._items[n].style.width=t?"100%":""}},{key:"_calculateLargeStyle",value:function(){this._list.style["flex-wrap"]="wrap";for(var e=this._list.offsetWidth,t=this._listPaddingTotal,n=0;n<this._items.length;n++)(0,v.default)(this._items[n],"noline"),e<(t+=this._items[n].offsetWidth)&&n>0&&((0,g.default)(this._items[n-1],"noline"),t=this._items[n].offsetWidth+this._listPaddingTotal)}},{key:"_calculateCondensedStyle",value:function(){(0,g.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()}},{key:"_calculateDropdownStyle",value:function(){this._switchToDropdown()}},{key:"_calculateStandardStyle",value:function(){this._list.style.visibility="hidden";for(var e=0;e<this._items.length;e++)(0,v.default)(this._items[e],"noline");(0,v.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,g.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()),this._list.style.visibility="visible"}},{key:"_calculateRespStyle",value:function(){this._list.style.visibility="hidden",(0,v.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,g.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,v.default)(this._list,"spark-step-indicator__list--condensed"),this._switchToDropdown())),this._list.style.visibility="visible"}},{key:"_createDropdownHeader",value:function(){var e=document.createElement("a"),t=this._list.querySelector(".spark-step-indicator__item--current");t||(t=this._items[0]),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false");var n=null!==this._list.getAttribute("id")&&""!==this._list.getAttribute("id")?this._list.getAttribute("id"):"";e.setAttribute("aria-controls",n),e.innerHTML=t.innerHTML,e.innerHTML+='<span class="spark-step-indicator__notice">'+this.dropdownLabel+"</span>";var a=document.createElement("span"),r=(0,s.default)(Array.prototype).call(this._items,t)+1,i=this._items.length;a.innerHTML=this.stepProgressionLabel.replace("{current}",r).replace("{total}",i),a.className="spark-step-indicator__label--dropdown",e.appendChild(a),e.className=t.className,e.setAttribute("tabindex","0"),(0,g.default)(e,"spark-step-indicator__item--dropdown__header"),this._dropdownHeader=e}},{key:"_switchToDropdown",value:function(){(0,g.default)(this._body,"spark-step-indicator__body--dropdown"),this._createDropdownHeader(),this._list.parentNode.insertBefore(this._dropdownHeader,this._list),document.removeEventListener("click",this._toggleDropdownBound),document.addEventListener("click",this._toggleDropdownBound),(0,g.default)(this._list,"collapse");for(var e=0;e<this._items.length;e++)(0,y.default)(this._items[e],"spark-step-indicator__item--disabled")||this._items[e].setAttribute("tabindex","-1")}},{key:"_switchFromDropdown",value:function(){(0,v.default)(this._body,"spark-step-indicator__body--dropdown");var e=this._list.parentNode.querySelector(".spark-step-indicator__item--dropdown__header");document.removeEventListener("click",this._toggleDropdownBound),e&&this._list.parentNode.removeChild(e),(0,v.default)(this._list,"collapse");for(var t=0;t<this._items.length;t++)(0,y.default)(this._items[t],"spark-step-indicator__item--disabled")||this._items[t].removeAttribute("tabindex")}},{key:"toggle",value:function(){if(this._dropdownHeader){var e=document.createEvent("Event");e.initEvent("spark.step-indicator",!0,!0),this._dropdownHeader.dispatchEvent(e)}}},{key:"_toggleDropdown",value:function(e){var t=e.target||e.srcElement;if(this._dropdownHeader.contains(t))if(this._dropdownExpand){(0,g.default)(this._list,"collapse"),(0,v.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1,this._dropdownHeader.setAttribute("aria-expanded","false");for(var n=0;n<this._items.length;n++)(0,y.default)(this._items[n],"spark-step-indicator__item--disabled")||this._items[n].setAttribute("tabindex","-1")}else{(0,v.default)(this._list,"collapse"),(0,g.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!0,this._dropdownHeader.setAttribute("aria-expanded","true");for(var a=0;a<this._items.length;a++)(0,y.default)(this._items[a],"spark-step-indicator__item--disabled")||this._items[a].removeAttribute("tabindex")}else{(0,g.default)(this._list,"collapse"),(0,v.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1,this._dropdownHeader.setAttribute("aria-expanded","false");for(var r=0;r<this._items.length;r++)(0,y.default)(this._items[r],"spark-step-indicator__item--disabled")||this._items[r].setAttribute("tabindex","-1")}if(this._list.offsetHeight>0)for(var i=0,s=0;s<this._items.length;s++){if((0,y.default)(this._items[s],"spark-step-indicator__item--current")){this._list.scrollTop=i;break}i+=this._items[s].offsetHeight}}},{key:"_onResize",value:function(){this._checkPadding(),this._calculateStyle()}},{key:"_checkPadding",value:function(){var e=getComputedStyle(this._list),t=(0,i.default)(e.getPropertyValue("padding-left"),10),n=(0,i.default)(e.getPropertyValue("padding-right"),10);this._listPaddingTotal=t+n}},{key:"_onVisible",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,c.default)(t=function(){this._calculateStyle()}).call(t,this),0)}}]),a}(m.default);O.prototype._whitelistedParams=["type","dropdownLabel","stepProgressionLabel","currentLabel","completedLabel","onStepClick"],O.prototype.defaults={el:null,containerEl:null,dropdownLabel:"Select a Step",type:null,stepProgressionLabel:"{current} of {total}",completedLabel:"Completed",currentLabel:"Current",onStepClick:null,_body:null,_list:null,_listPaddingTotal:0,_dropdownExpand:!1,_dropdownHeader:null,_items:null,_onResizeBound:null,_onVisibleBound:null};var _=O;t.default=_,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(7);function r(){return function(e){return e({type:a.Ub})}}},function(e,t,n){"use strict";var a=n(42),r=n(174),i=n(531);t.a=function(){return Object(a.b)({background:Object(i.a)(),currentPage:r.b,currentFlow:r.a})}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(1),s=n.n(i),o=n(194),l=n.n(o),c=n(39),u=n.n(c),d=n(57),p=n.n(d),h=n(23),f=n.n(h),m=n(5),g=n.n(m),v=n(51),y=n.n(v),b=n(21),C=n.n(b),E=n(36),k=n.n(E),O=n(12),_=n(319),P=n(564),S=n(530),N=(n(1543),function(e){var t=e.level,n=e.code,a=t.toLowerCase(),r=k()(n.split(".")),i=C()(P.a,r)?"fnf":a;return s.a.createElement(_.a,{type:a,title:"flightAdvisory.".concat(i),className:r},Object(O.a)("flightAdvisory.".concat(r)))});N.defaultProps={level:S.d.WARNING,code:""};var w=N,A=function(e){var t=e.advisories,n=e.direction,a=function(e){return y()(e,"toJS",[])}(t),r=g()(a,(function(e,t){return f()(e)?parseInt(n,10)===t?g()(e,(function(e){return s.a.createElement(w,p()({},e,{key:t}))})):"":s.a.createElement(w,p()({},e,{key:t}))}));return s.a.createElement("span",null,r)},T=n(1916);function I(e,t,n){return s.a.createElement("div",{className:u()("dxp-advisory-container",t)},s.a.createElement(A,{advisories:e,direction:n}))}var D=function(e){var t=e.advisories,n=e.isFareAdvisories,a=e.className,r=e.direction,i=null;return 0!==t.size&&(i=n?function(e){return s.a.createElement("div",{className:"fare-advisories"},s.a.createElement(T.a,{advisories:e}))}(t):I(t,a,r)),i};D.propTypes={advisories:Object(a.oneOfType)([l.a.list,r.a.array]).isRequired,isFareAdvisories:r.a.bool,className:r.a.string,direction:r.a.number},D.defaultProps={isFareAdvisories:!1,className:"",direction:0};var x=D;n.d(t,"a",(function(){return x}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(321),g=n.n(m),v=n(1),y=n.n(v),b=n(11),C=n(123),E=(n(6),n(194),n(12)),k=n(1541),O=n(319),_=n(530),P=n(42),S=(n(1979),{info:_.d.INFO,warn:_.d.WARNING,error:_.d.ERROR}),N=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"componentWillUnmount",value:function(){this.props.clearViewMessages()}},{key:"render",value:function(){var e=this.props.messages;return 0===e.size?null:y.a.createElement("div",{className:"dxp-messages-container"},e.map((function(e){return t.renderMessage(e)})))}}],[{key:"getMessageBody",value:function(e){var n=e.toObject(),a=n.level,r=n.descriptionKey,i=n.descriptionElement,s=n.descriptionElementProps,o=n.isValidationError,l=n.details,c=void 0===l?Object(b.Map)():l;return i?y.a.createElement(i,s):o&&!c.isEmpty()?t.createValidationErrorDescription(c,a):Object(E.a)(r)}},{key:"renderMessage",value:function(e){var n=e.toObject(),a=n.titleKey,r=n.level;return y.a.createElement(O.a,{key:t.getItemKey(e.code,r),className:"dxp-view-message",type:S[r],title:a},t.getMessageBody(e))}}]),t}(v.Component);f()(N,"createValidationErrorDescription",(function(e,t){return e.reduce((function(e,n,a){return e.concat(y.a.createElement("ul",{className:"".concat(t,"-description"),key:N.getItemKey(a,"list")},n.map((function(e){return y.a.createElement("li",{key:N.getItemKey(a,e)},Object(E.a)(a)," ",Object(E.a)(e))}))))}),[])})),f()(N,"getItemKey",(function(e,t){return g()("".concat(e,"-").concat(t))})),f()(N,"defaultProps",{messages:Object(b.List)()});var w=Object(C.b)((function(){return Object(P.b)({messages:function(e){return e.view.get("messages")}})}),{clearViewMessages:k.a})(N);n.d(t,"a",(function(){return w}))},,function(e,t,n){"use strict";var a=n(51),r=n.n(a),i=n(2),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(11),d=n(17),p=n.n(d),h=n(45),f=n(1718);function m(e){var t=Object(f.a)({pnr:e.get("pnr"),firstName:e.get("firstName"),lastName:e.get("lastName")});if(h.a.get(t))return JSON.parse(h.a.get(t))}var g=n(214),v=Object(c.a)(Object(g.a)(),(function(e){return e})),y=Object(c.a)((function(e){return l()(e,"changeFlight",Object(u.Map)())}),(function(e){return s()(e.get("reservation"))?{}:r()(e.getIn(["reservation","itineraryType"]),"toJS")})),b=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.isOneWay||e.isRoundTrip?e.itineraryParts[0].destination:e.itineraryParts[e.itineraryParts.length-1].destination})),C=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.itineraryParts[0].origin})),E=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.itineraryParts[0].date})),k=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.itineraryParts[e.itineraryParts.length-1].date})),O=function(e){var t=m(e.sessionStorage.get("pnrQuery")||Object(u.Map)())||{};return{origin:t.origin,destination:t.destination,tripType:t.tripType}},_=function(e){var t=m(e.sessionStorage.get("pnrQuery")||Object(u.Map)()),n=l()(t,"itineraryParts");if(!t||s()(n))return{};var a=l()(n,[0,"segments",0,"departure"]),r=l()(n,[n.length-1,"segments"]),i=l()(r,[r.length-1,"departure"]);return{originDate:p()(a),destinationDate:p()(i)}};t.a=function(){return Object(c.b)({origin:C,destination:b,destinationDate:k,originDate:E,reservationTripType:y,reservationRoute:O,reservationDates:_})}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=n(12),l=function(e){var t=e.showPageLoadingMessage,n=e.isModalSpinner,a=e.id,i=e.className,l=e.loadingMessage,c=r.a.createElement("div",{className:s()("page-loading-message",{"spark-assistive-text":!t}),role:"alert","aria-busy":"true"},Object(o.a)(l||"spinner.defaultMessage")),u=s()("dxp-spinner",i,{"dxp-modal-spinner":n});return r.a.createElement("div",null,r.a.createElement("div",{className:u,id:a},r.a.createElement("span",{className:"bounce1"}),r.a.createElement("span",{className:"bounce2"}),r.a.createElement("span",{className:"bounce3"})),c)};l.defaultProps={id:"dxp-spinner",className:"",loadingMessage:"",showPageLoadingMessage:!1,isModalSpinner:!1};var c=l;t.a=c},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1812)),i=a(n(1350)),s=a(n(1240)),o=a(n(1341)),l=a(n(1250)),c=a(n(1238)),u=a(n(1239)),d=a(n(1274)),p=a(n(1263)),h=a(n(1247)),f=a(n(1251)),m=a(n(1248)),g=n(1271),v=a(n(1267)),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.default)(this,e),t&&(this.setParams(this.defaults||{},!0),this.setParams(n),this._init(t),this._windowInnerWidth=window.innerWidth)}return(0,u.default)(e,[{key:"setParams",value:function(e,t){var n=this;return(0,p.default)(e,(function(e,a){var r;(-1!==(0,l.default)(r=n._whitelistedParams).call(r,e)||t)&&(n[e]=a)})),this}},{key:"unsetParams",value:function(e,t){return e=e instanceof Array?e:(0,o.default)(e),t=t||this,(0,p.default)(e,(function(e){delete t[e]})),this}},{key:"change",value:function(){if(!this.el)return this;this._closeAll(),(0,m.default)(this.el,["ready","show-more","measured"]);for(var e=document.createDocumentFragment(),t=0;t<this.items.length;t++)e.appendChild(this.items[t].el);return this.visibleContainer.appendChild(e),this._initItems(),(0,h.default)(this.el,"measured"),this._calculateStyles(),(0,h.default)(this.el,"ready"),this}},{key:"update",value:function(e){return e?(this.remove(!0),this._init(e)):this.change(),this}},{key:"remove",value:function(e){this._removeListeners(),delete this.el.sparktoolbarcon,delete this.showMoreButton.sparktoolbarshowmore;for(var t=0;t<this.items.length;t++)this.items[t].remove();return!e&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=void 0),this}},{key:"toolbarItem",value:function(e,t,n){var a={};return a.parent=e,a.el=t,a.priority=a.el.attributes["data-priority"]?a.el.attributes["data-priority"].value:0,a.order=a.el.attributes["data-order"]?a.el.attributes["data-order"].value:n,a.hasContent=!!a.el.querySelector(".spark-toolbar__item--content"),a.helper=a.el.querySelector(".spark-toolbar__item-helper"),a.label=!!a.el.attributes.label&&a.el.attributes.label.value,a.closeOnClick=(0,f.default)(a.el,"spark-toolbar__item--close-more-on-click"),a.width=a.el.offsetWidth,a.height=a.el.offsetHeight,a.dropdown=t.querySelector(".spark-toolbar__item--content"),a.dropdown&&(a.dropdown.sparktoolbardropdown=!0),a.toggleDropdown=function(e){if(void 0!==e?!e:a.toggleDropdown.open)a.toggleDropdown.open=!1,(0,m.default)(a.el,"animate"),window.setTimeout((function(){(0,m.default)(a.el,"open")}),100);else if(a.hasContent){a.toggleDropdown.open=!0,(0,h.default)(a.el,"open"),a.positionDropdown();var t=document.createEvent("Event");t.initEvent("spark.visible-children",!0,!0),a.dropdown.dispatchEvent(t),window.setTimeout((function(){(0,h.default)(a.el,"animate")}),0)}else a.parent._toggleShowMore(!1)},a.handleClick=function(e){if((0,g.boolean)(a.el,"disabled"))e.preventDefault();else if(a.toggleDropdown.open)if(e.target===a.el||e.target===a.helper)a.toggleDropdown();else for(var t=e.target;t!==a.el;){if((0,f.default)(t,"spark-toolbar__item--close-on-click")){a.toggleDropdown(!1),a.parent._toggleShowMore(!1);break}t=t.parentElement}else a.toggleDropdown(!0)},a.positionDropdown=function(){if(a.dropdown){a.dropdown.style.left="",a.dropdown.style.right="";var e=a.dropdown.getBoundingClientRect(),t=window.pageXOffset,n=window.pageXOffset+document.documentElement.clientWidth;e.right>n&&(a.dropdown.style.left="inherit",a.dropdown.style.right=0),e.left<t&&(a.dropdown.style.left=0,a.dropdown.style.right="inherit")}},a.remove=function(){a.el&&delete a.el.sparktoolbar,a.dropdown&&delete a.dropdown.sparktoolbardropdown},a.el.sparktoolbar=a,a}},{key:"_closeAll",value:function(){this._closeItems(),this._toggleShowMore(!1)}},{key:"_getOpenItems",value:function(){for(var e=[],t=0;t<this.items.length;t++)this.items[t].toggleDropdown.open&&e.push(this.items[t]);return e}},{key:"_closeItems",value:function(e){e=void 0===e?this._getOpenItems():e;for(var t=0;t<e.length;t++)e[t].toggleDropdown(!1)}},{key:"_init",value:function(e){this.el=e,this.el.sparktoolbarcon=this,this.visibleContainer=this.el.querySelector(".spark-toolbar__container--visible"),this.hiddenContainer=this.el.querySelector(".spark-toolbar__container--hidden"),this.showMoreButton=this.el.querySelector(".spark-toolbar__show-more"),this.showMoreButton.sparktoolbarshowmore=!0,this.isOpen=!1,this.isFocus=!1,this._setupListeners(),this.el.style.width="100%",this._initItems(),(0,h.default)(this.el,"measured"),this._calculateStyles(),this.tabindex=this.el.attributes.tabindex?this.el.attributes.tabindex.value:0,(0,h.default)(this.el,"ready")}},{key:"_initItems",value:function(){var e=this.el.querySelectorAll(".spark-toolbar__item");this.items=[];for(var t=0;t<e.length;t++)this.items[t]=new this.toolbarItem(this,e[t],t)}},{key:"_onTouchStart",value:function(e){this.el.contains(e.target)||(this._tapStart=e.target)}},{key:"_onTouchEnd",value:function(e){e.target===this._tapStart&&this._closeAll(),this._tapStart=void 0}},{key:"_setupListeners",value:function(){var e,t,n,a,r,i,o,l;this._handleWindowClick=(0,s.default)(e=this._handleWindowClickH).call(e,this),document.addEventListener("click",this._handleWindowClick),this._onTouchStartBound=(0,s.default)(t=this._onTouchStart).call(t,this),document.addEventListener("touchstart",this._onTouchStartBound,!0),this._onTouchEndBound=(0,s.default)(n=this._onTouchEnd).call(n,this),document.addEventListener("touchend",this._onTouchEndBound,!0),this._handleResize=(0,d.default)((0,s.default)(a=this._handleResizeH).call(a,this),100),window.addEventListener("resize",this._handleResize),this._handleKeyDown=(0,s.default)(r=this._handleKeyDownH).call(r,this),this.el.addEventListener("keydown",this._handleKeyDown),this._handleFocus=(0,s.default)(i=this._handleFocusH).call(i,this),document.addEventListener("focus",this._handleFocus,!0),this._handleBlur=(0,s.default)(o=this._handleBlurH).call(o,this),document.addEventListener("blur",this._handleBlur,!0),this._handleVisibleChildren=(0,s.default)(l=this._handleVisibleChildrenH).call(l,this),document.addEventListener("spark.visible-children",this._handleVisibleChildren,!0)}},{key:"_removeListeners",value:function(){document.removeEventListener("click",this._handleWindowClick),document.removeEventListener("touchstart",this._onTouchStartBound,!0),document.removeEventListener("touchend",this._onTouchEndBound,!0),window.removeEventListener("resize",this._handleResize),this.el.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("blur",this._handleBlur,!0),document.removeEventListener("focus",this._handleFocus,!0),document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0)}},{key:"_handleBlurH",value:function(e){this.el.contains(e.target)&&(this.el.attributes.tabindex.value=this.tabindex)}},{key:"_handleFocusH",value:function(e){if(this.el.contains(e.target)){if(this.el.attributes.tabindex.value=-1,e.target.sparktoolbarcon)return void this._focusLast();if(e.target.sparktoolbar)return void e.target.sparktoolbar.el.focus();for(var t=e.target;!t.sparktoolbarcon&&!t.sparktoolbar;){if(t.sparktoolbardropdown)return void(this.el.attributes.tabindex.value=this.tabindex);t=t.parentElement}}else this._closeAll(),this.el.attributes.tabindex.value=this.tabindex}},{key:"_focusLast",value:function(){if(!this._lastFocus){var e=this.visibleContainer.querySelector(".spark-toolbar__item")||this.hiddenContainer.querySelector(".spark-toolbar__item");this._lastFocus=e.sparktoolbar}this.hiddenContainer.contains(this._lastFocus.el)&&this._toggleShowMore(!0),this._lastFocus.el.focus()}},{key:"_handleKeyDownH",value:function(e){for(var t=e.target;!t.sparktoolbarcon&&!t.sparktoolbar;){if(t.sparktoolbardropdown)return;t=t.parentElement}if(t.sparktoolbar)switch(e.keyCode){case 37:case 38:t.previousSibling&&t.previousSibling.sparktoolbar?(this._lastFocus=t.previousSibling.sparktoolbar,t.previousSibling.focus()):this.visibleContainer.querySelector(".spark-toolbar__item")!==t.sparktoolbar.el&&(t=this.visibleContainer.querySelector(".spark-toolbar__item:last-of-type"))&&(this._toggleShowMore(!1),this._lastFocus=t.sparktoolbar,t.focus()),this._closeItems(),e.preventDefault();break;case 39:case 40:t.nextSibling&&t.nextSibling.sparktoolbar?(this._lastFocus=t.nextSibling.sparktoolbar,t.nextSibling.focus()):this.hiddenContainer.querySelector(".spark-toolbar__item:last-of-type")!==t.sparktoolbar.el&&(t=this.hiddenContainer.querySelector(".spark-toolbar__item"))&&(this._toggleShowMore(!0),this._lastFocus=t.sparktoolbar,t.focus()),this._closeItems(),e.preventDefault();break;case 32:e.preventDefault(),e.target.sparktoolbar&&e.target.sparktoolbar.el.click();break;case 13:e.target.sparktoolbar&&e.target.sparktoolbar.el.click()}}},{key:"_handleVisibleChildrenH",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,s.default)(t=function(){this.change()}).call(t,this),0)}},{key:"_handleWindowClickH",value:function(e){if((0,g.boolean)(e.target,"disabled"))e.preventDefault();else if(this.el.contains(e.target)){var t=e.target,n=(0,f.default)(t,"spark-toolbar__item")?t:(0,v.default)(t,".spark-toolbar__item",this.el);if(n&&this.onClick.call(this,n,this),t===this.visibleContainer||t===this.el)return e.stopPropagation(),void e.preventDefault();for(;t!==this.el;){if(t.sparktoolbar){var a=this._getOpenItems();return(0,l.default)(a).call(a,t.sparktoolbar)>=0&&(0,i.default)(a).call(a,(0,l.default)(a).call(a,t.sparktoolbar),1),this._closeItems(a),this.hiddenContainer.contains(e.target)||this._toggleShowMore(!1),t.sparktoolbar.handleClick(e)}if(t.sparktoolbarshowmore)return this._closeItems(),void this._toggleShowMore();t=t.parentElement}this._closeAll()}else this._closeItems(),this._toggleShowMore(!1)}},{key:"_toggleShowMore",value:function(e){var t,n;(void 0!==e?!e:this.isOpen)?((0,m.default)(this.el,"animate"),window.setTimeout((0,s.default)(t=function(){(0,m.default)(this.el,"open"),this.isOpen=!1}).call(t,this),100)):(this.isOpen=!0,(0,h.default)(this.el,"open"),this._positionShowMore(),window.setTimeout((0,s.default)(n=function(){(0,h.default)(this.el,"animate")}).call(n,this),0))}},{key:"_positionShowMore",value:function(){this.hiddenContainer.style.right="0px";var e=this.hiddenContainer.getBoundingClientRect(),t=window.pageXOffset,n=window.pageXOffset+document.documentElement.clientWidth;e.right>n&&(this.hiddenContainer.style.right="calc("+(e.right-n)+"px + 1rem)"),e.left<t&&(this.hiddenContainer.style.right="calc("+(e.left-t)+"px - 1rem)")}},{key:"_handleResizeH",value:function(){this.el&&this._windowInnerWidth!==window.innerWidth&&(this._windowInnerWidth=window.innerWidth,this._closeAll(),this._calculateStyles())}},{key:"_calculateStyles",value:function(e){var t;this.el.style.width="100%",(e=void 0!==e&&e)||(0,m.default)(this.el,"show-more");var n,a=[],i=[];(0,r.default)(t=this.items).call(t,this._prioritySort);var s=this.visibleContainer.clientWidth;for(n=0;n<this.items.length;n++)if(s-this.items[n].width>0)a.push(this.items[n]),s-=this.items[n].width;else{if(!e)return(0,h.default)(this.el,"show-more"),this._calculateStyles(!0);i.push(this.items[n])}(0,r.default)(a).call(a,this._orderSort),(0,r.default)(i).call(i,this._orderSort);var o=document.createDocumentFragment(),l=document.createDocumentFragment();for(n=0;n<a.length;n++)o.appendChild(a[n].el);for(n=0;n<i.length;n++)l.appendChild(i[n].el);this.visibleContainer.appendChild(o),this.hiddenContainer.appendChild(l),this.el.style.width=""}},{key:"_prioritySort",value:function(e,t){return t.priority-e.priority}},{key:"_orderSort",value:function(e,t){return e.order-t.order}}]),e}();y.prototype._whitelistedParams=["onClick"],y.prototype.defaults={el:null,onClick:function(){},_windowInnerWidth:0};var b=y;t.default=b,e.exports=t.default},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){var a=n(147),r=n(126);e.exports=function(e){return!0===e||!1===e||r(e)&&"[object Boolean]"==a(e)}},function(e,t,n){e.exports=n(1941)},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c}));var a=function(e){return"".concat(e,"-selected-flights")},r=function(e){return"".concat(e,"-passengers")},i=function(e){return"".concat(e,"-travel-extras")},s=function(e){return"".concat(e,"-trip-total-cost")},o="shopping-cart-selected-car-offer",l="shopping-cart-selected-hotel-offer",c="terms-agree"},function(e,t,n){"use strict";var a=n(51),r=n.n(a),i=n(42),s=n(11),o=n(10),l=n(101),c=[o.G,o.H],u=Object(i.b)({seatsTotal:function(e){var t=e.shoppingCart.getIn(["data","products"],Object(s.Map)()).find((function(e){return c.includes(e.get("label").toUpperCase())}));if(t)return t.get("seatsTotal")},hasSeats:function(e){return e.shoppingCart.getIn(["data","cartHasProduct","seat"])>0},seatsOnExtrasPageConfig:function(e,t){return r()(e.metadata.getIn(["seatsOnExtrasPage",Object(l.a)(t.location.pathname)]),"toJS")}});t.a=u},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(9),r=n(45),i=n(14),s=n(37),o=n.n(s),l=n(36),c=n.n(l),u=n(27),d=n.n(u),p=n(338),h=n.n(p),f=n(4),m=n.n(f),g=n(0),v=n.n(g),y=function(e){return"".concat(e.origin,"-").concat(e.destination)};function b(e){return m()(v()(e,"passengerBaggageDisclosure"),(function(e,t){var n=v()(t,["checkedInBaggage","freeBaggageAllowance"],{}),a=parseInt(v()(n,"totalUnits",0),10),r=v()(n,"totalWeight");return e[t.passengerType]={totalUnits:a,totalWeight:r},e}),{})}function C(e){var t=e.segmentDisclosure,n=e.passengerAllowance,a=m()(t,(function(e,t){return e[y(t.segment)]={disclosure:b(t)},e}),{}),r=m()(n,(function(e,t){var n=function(e){return m()(e.passengerBaggageInfo,(function(e,t){var n=h()(v()(t,["checkedInBaggage","baggageAllowanceDefinition"],0),(function(e){return"OVERRIDE"===e.baggageAllowanceType?0:parseInt(e.totalUnits,10)}));return e[t.passengerIndex]={totalUnits:n},e}),{})}(t),a={origin:d()(t.segments).origin,destination:c()(t.segments).destination};return e[y(a)]={passengerAllowance:n},e}),{});return o()({},a,r)}var E=function(e,t){return t===i.a.CONFIRMATION?new Promise((function(e){e(JSON.parse(r.a.get("bagFee")))})):Object(a.g)(Object(a.l)("bags",e),a.b).then((function(e){return r.a.set("bagFee",JSON.stringify(e)),e})).catch((function(){return JSON.parse(r.a.get("bagFee"))}))},k=function(e){return Object(a.g)(Object(a.l)("bags",e),a.b).then((function(e){return C(e)}))},O=n(7);n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return P}));var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){return n({type:O.l}),E(e,t).then((function(e){return n({type:O.m,results:e})}))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c";return function(t){return t({type:O.n}),k(e).then((function(e){return t({type:O.o,bagAllowance:e})}))}}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),C=n(1286),E=n(50),k=n(14),O=n(1305),_=n(1320),P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){var e=n.props.breadcrumbConfiguration.getIn(["flowIcons","home"]);return y.a.createElement(E.c,{name:e})})),g()(p()(n),"getCrumbTitle",(function(){return n.props.hideTitle?y.a.createElement("span",{className:"sr-only"},Object(b.i)("breadcrumbsFlows.postBookingHomeButtonTitle")):y.a.createElement("span",{className:"dxp-breadcrumb-title-container"},y.a.createElement("span",{className:"dxp-breadcrumb-header"},Object(b.i)("breadcrumbsFlows.postBookingHomeButtonTitle")))})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.HOME,".").concat(O.a.HOVER));return y.a.createElement(_.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(C.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onHomeCrumbClick(e.props.url)},className:"dxp-home-breadcrumb-item"})}}]),t}(v.Component);g()(P,"defaultProps",{hideTitle:!1}),n.d(t,"a",(function(){return P}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(21),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(194),n(12)),k=n(11),O=n(1286),_=n(84),P=n(14),S=n(1305),N=n(1360),w=n(1320),A=n(1374),T=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbCompletedData",(function(){var e=n.props.seatsCrumbData,t=e.passengers,a=e.seatSelectionSkipped;if(0===t.size&&!a)return"";var r=n.props.seatsCrumbData,i=r.passengersExcludedFromSeatSelection,s=r.selectedSeats,o=t.count((function(e){return!y()(i,e.get("passengerInfo").get("type"))})),l=(s.size?s.groupBy((function(e){return e.getIn(["segmentKey","departure"])})):Object(k.OrderedMap)()).filter((function(e){return e.size===o})).size;return Object(E.i)("summaryBar.flowCrumbs.".concat(P.a.SEAT_SELECTION,".").concat(S.a.COMPLETED),{flightsWithAllSeatsSelectedCount:l,flightsCount:n.props.seatsCrumbData.flightsCount})})),g()(p()(n),"getCrumbIcon",(function(){return C.a.createElement(A.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:P.a.SEAT_SELECTION})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props.crumbState===S.a.COMPLETED?n.getCrumbCompletedData():"";return C.a.createElement(w.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return C.a.createElement(N.a,{pageName:P.a.SEAT_SELECTION,flowName:_.a.B2C,breadCrumbTitleOverride:n.props.breadCrumbTitleOverride})})),g()(p()(n),"getHoverIcon",(function(){return C.a.createElement(A.a,{crumbState:S.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:P.a.SEAT_SELECTION})})),g()(p()(n),"getHoverSubTitle",(function(){var e=Object(E.i)("summaryBar.flowCrumbs.".concat(P.a.SEAT_SELECTION,".").concat(S.a.HOVER));return C.a.createElement(w.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return C.a.createElement(O.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubTitle(),onClick:function(){return e.props.onSeatSelectionCrumbClick(e.props.url)},className:"dxp-breadcrumb-item seat-selection-breadcrumb-item"})}}]),t}(b.Component);g()(T,"defaultProps",{seatsCrumbData:{passengers:Object(k.List)(),passengersExcludedFromSeatSelection:[],seats:Object(k.Map)(),seatSelectionSkipped:!1},breadCrumbTitleOverride:void 0}),n.d(t,"a",(function(){return T}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(36),g=n.n(m),v=n(19),y=n.n(v),b=n(122),C=n.n(b),E=n(2),k=n.n(E),O=n(145),_=n.n(O),P=n(5),S=n.n(P),N=n(0),w=n.n(N),A=n(73),T=n.n(A),I=n(1),D=n.n(I),x=n(6),j=n(1720),L=n.n(j),F=n(1721),B=n.n(F),R=n(123),M=n(50),V=n(136),U=n(1370),q=n(521),H=n(195),W=n(12),G=n(1491),K=n(1456),z=n(16),Y=n.n(z),Q=n(51),X=n.n(Q),J=n(324),$=n(101),Z=n(1592);n(2086),n(2087);var ee=/(\r\n|\n\r|\r|\n)/g,te=function(e){function t(){var e;return r()(this,t),(e=s()(this,l()(t).call(this))).state={selectedRule:0},e}return p()(t,e),u()(t,null,[{key:"getRules",value:function(e){return w()(e,"fareRules",[]).map((function(e){return[D.a.createElement("h3",null,e.ruleCode),D.a.createElement("p",null,B()({text:t.newLinesToBR(e.ruleText)}))]}))}},{key:"newLinesToBR",value:function(e){return e.split(ee).map((function(e){return e.match(ee)?D.a.createElement("br",null):D.a.createElement("span",null,e)}))}},{key:"renderNoFareRulesWarning",value:function(){return D.a.createElement(G.a,{type:"warning"},Object(W.a)("fareRules.warning.description"))}},{key:"getTabLabel",value:function(e){return S()(e,(function(t,n){return D.a.createElement("span",{key:t,className:"airport-code"},t,e.length-1!==n&&D.a.createElement(M.c,{name:M.a.ARROW_CHEVRON_RIGHT,className:"dxp-fare-rules-tab-icon"}))}))}},{key:"newLinesToBR",value:function(e){return e.split(ee).map((function(e){return e.match(ee)?D.a.createElement("br",null):D.a.createElement("span",null,e)}))}},{key:"renderNoFareRulesWarning",value:function(){return D.a.createElement(G.a,{type:"warning"},Object(W.a)("fareRules.warning.description"))}},{key:"getFee",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=w()(e,"".concat(t,"Values"),{isChangeable:!1,isRefundable:!1,charge:""}),a=""===n.charge?n.charge:Object(K.i)(n.charge),r=Object(W.i)("fareRules.notAllowed",{value:a,spacer:""===a?"":" / "});return(n.isChangeable||n.isRefundable)&&(r=Object(W.i)("fareRules.allowed",{value:a,spacer:""===a?"":" / "})),r}},{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(K.i)(w()(e,"".concat(t,"Values"),""))}},{key:"getMiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return Object(K.j)(w()(e,"".concat(t,"Values.").concat(n?"codeshare":"etihad"),""))}}]),u()(t,[{key:"componentDidMount",value:function(){this.props.fetchFareRules(this.props.currentFlow,this.props.currentPage,this.props.itineraryParts)}},{key:"getRulesCategories",value:function(e){var t=this;return w()(e,"fareRules",[]).map((function(e,n){return D.a.createElement("span",{className:"category-title ".concat(t.state.selectedRule===n?"selected":""),onClick:function(){return t.selectRule(n)}},e.ruleCode)}))}},{key:"getRules",value:function(e){var n=w()(e,"fareRules[".concat(this.state.selectedRule,"]"),{ruleText:""});return D.a.createElement("p",null,D.a.createElement("h3",null,n.ruleCode),B()({text:t.newLinesToBR(n.ruleText)}))}},{key:"selectRule",value:function(e){this.setState({selectedRule:e}),L()(document.getElementsByClassName("fare-rules-content"),"scroll",{container:document.getElementsByClassName("dxp-fare-rules-tabs-tab-panel"),offset:0,easing:"ease-in-out"})}},{key:"getElementKey",value:function(e){for(var t=this.props.segments[e],n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return T()([].concat(a,[t]).join(" "))}},{key:"getTabs",value:function(){return D.a.createElement(U.c,{className:"dxp-fare-rules-tabs"},D.a.createElement(U.e,{className:"dxp-fare-rules-tabs-tabs-list"},this.getTabsList(this.props.segments)),D.a.createElement(U.d,null,this.getTabsPanels(this.props.segments.length,this.props.rules,this.props.selectedBrands)))}},{key:"getTabsList",value:function(e){var n=this;return e.map((function(e,a){return D.a.createElement(U.a,{key:n.getElementKey(a,"tab"),className:"dxp-fare-rules-tabs-tab"},t.getTabLabel(e))}))}},{key:"getTabsPanels",value:function(e,t,n){var a=this;return S()(_()(e),(function(e){return D.a.createElement(U.b,{key:a.getElementKey(e,"panel"),className:"dxp-fare-rules-tabs-tab-panel"},a.renderFareRulesMini(t[e].fareBasis,e,n[e]),D.a.createElement("div",{className:"fare-rules"},D.a.createElement("div",{className:"fare-rules-categories"},a.getRulesCategories(t[e])),D.a.createElement("div",{className:"fare-rules-content"},a.getRules(t[e]))))}))}},{key:"getSelectedBrands",value:function(e,t){var n=e.includes("/")&&g()(e.split("/")).toLowerCase();return k()(t)||"DEFAULT"===t?n||null:t}},{key:"renderFareRulesMini",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=w()(this.props.fareRulesMini,0,{}),i=!k()(this.getSelectedBrands(e,a))&&this.getSelectedBrands(e,a).toLowerCase(),s=y()(w()(this.props.selectedFlights,"".concat(n,".operatingAirlines"),[]),(function(e){return"EY"!==e})).length>0,o=k()(t.getMiles(r.milesEarned,i,s)[0])?t.getMiles(r.milesEarned,i,s)[1]:t.getMiles(r.milesEarned,i,s);return D.a.createElement("p",{className:"fare-rules-mini"},D.a.createElement("h4",null,Object(W.a)("fareRules.fareBasis",{fareBasis:e})," ",i&&Object(W.a)("brand.".concat(i.toUpperCase()))),!k()(i)&&D.a.createElement("div",{className:"rules-table"},D.a.createElement("div",{className:"rules-column"},r.changeTravel&&Object(W.a)("fareRules.changesFees.beforeFee",{value:t.getFee(r.changeTravel,i)}),r.changeNoShow&&Object(W.a)("fareRules.changesFees.afterFee",{value:t.getFee(r.changeNoShow,i)}),r.refund&&Object(W.a)("fareRules.refundFees.beforeFee",{value:t.getFee(r.refund,i)})),D.a.createElement("div",{className:"rules-column"},r.refundNoShow&&Object(W.a)("fareRules.refundFees.afterFee",{value:t.getFee(r.refundNoShow,i)}),r.baggage&&Object(W.a)("fareRules.baggage",{value:t.getValue(r.baggage,i)}),r.milesEarned&&Object(W.a)("fareRules.milesEarned",{value:o}))),!k()(i)&&D.a.createElement("div",{className:"disclaimers"},Object(W.a)("brandComparison.shoppingDisclaimer"),Object(W.a)("brandComparison.shoppingDisclaimerNote")))}},{key:"renderModal",value:function(){return D.a.createElement(V.a,{className:"dxp-fare-rules",onCloseClick:this.props.onCloseClick},this.renderFareRules())}},{key:"renderFareRules",value:function(){return D.a.createElement("div",null,D.a.createElement("h2",null,Object(W.a)("fareRules.title")),D.a.createElement("p",null,Object(W.a)("fareRules.description")),(this.props.isFetching||this.props.isFetchingMini)&&D.a.createElement(q.a,{className:"dark"}),!(this.props.isFetching||this.props.isFetchingMini)&&k()(this.props.rules)&&t.renderNoFareRulesWarning(),!(this.props.isFetching||this.props.isFetchingMini)&&!k()(this.props.rules)&&this.getTabs())}},{key:"render",value:function(){var e=Object(H.a)(this.props.isAuthorable,"fareRules");return D.a.createElement("div",e,this.props.renderWithinModal?this.renderModal():D.a.createElement("div",{className:"dxp-fare-rules"},this.renderFareRules()))}}]),t}(I.Component);f()(te,"defaultProps",{isFetching:!1,currentPage:void 0,isFetchingMini:!1,fareRulesMini:Object(x.shape)({}),selectedFlightIds:[],segments:[],rules:[],isAuthorable:!0,currentFlow:void 0,onCloseClick:C.a,titleTag:"h2",renderWithinModal:!0});t.a=Object(R.b)((function(e,t){var n=Object($.a)(Object($.c)(window.location.href)),a=Object($.b)(Object($.c)(window.location.href));return Y()({currentFlow:t.currentFlow||n,currentPage:t.currentPage||a,itineraryParts:w()(X()(e,"shoppingCart.toJS"),"data.itineraryPartAirports",[]),selectedFlights:w()(X()(e,"flightSelection.toJS"),"selectedFlights",[]),selectedBrands:w()(X()(e,"flightSelection.toJS"),"selectedBrands",[])},Object(J.c)(e),X()(e,"fareRules.toJS"))}),(function(e){return{fetchFareRules:function(t,n,a){e(Object(Z.a)(t,n,a))}}}))(te)},function(e,t,n){"use strict";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1734),r=n(7);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return function(i,s){i({type:r.sc}),Object(a.a)(e,t).then((function(e){i({type:r.rc,response:e})})).catch((function(){return i({type:r.nc})})),i({type:r.pc}),Object(a.b)(n,s().metadata).then((function(e){i({type:r.qc,fareRulesMini:e})})).catch((function(){return i({type:r.oc})}))}}},function(e,t,n){"use strict";var a=n(115),r=n.n(a),i=n(4),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(569);t.a=function(){var e=Object(c.a)(Object(u.a)(),(function(e){return e}));return Object(c.a)((function(e,t){return l()(t,"location.query",{})}),e,(function(e,t){return s()(t,(function(t,n,a){var i="flight".concat(a>0?a:""),s=parseInt(e[i],10);return r()(s)&&t.push(s),t}),[])}))}},,,,,,,function(e,t,n){"use strict";var a=n(54),r=n.n(a),i=n(3),s=n.n(i),o=n(82),l=n.n(o),c=n(21),u=n.n(c),d=n(222),p=n.n(d),h=n(79),f=n.n(h),m=n(38),g=n.n(m),v=n(16),y=n.n(v),b=n(36),C=n.n(b),E=n(27),k=n.n(E),O=n(128),_=n.n(O),P=n(56),S=n.n(P),N=n(19),w=n.n(N),A=n(2),T=n.n(A),I=n(76),D=n.n(I),x=n(83),j=n.n(x),L=n(15),F=n.n(L),B=n(4),R=n.n(B),M=n(5),V=n.n(M),U=n(0),q=n.n(U),H=n(11),W=n(131),G=n(1442),K=n(10),z=n(60),Y=n(117),Q=n(47),X=n(43),J=n.n(X),$=function(e){return J()(e,(function(e){return!T()(e)&&J()(e,(function(e){return q()(e,["passenger","seatNumber"])&&T()(q()(e,["passenger","price"],[]))}))}))};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"e",(function(){return re})),n.d(t,"f",(function(){return ie})),n.d(t,"u",(function(){return se})),n.d(t,"t",(function(){return le})),n.d(t,"q",(function(){return ce})),n.d(t,"s",(function(){return de})),n.d(t,"k",(function(){return pe})),n.d(t,"p",(function(){return he})),n.d(t,"a",(function(){return fe})),n.d(t,"w",(function(){return me})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return be})),n.d(t,"d",(function(){return Ce})),n.d(t,"o",(function(){return Ee})),n.d(t,"A",(function(){return Se})),n.d(t,"z",(function(){return Ne})),n.d(t,"m",(function(){return we})),n.d(t,"i",(function(){return Ae})),n.d(t,"y",(function(){return Te})),n.d(t,"x",(function(){return Ie})),n.d(t,"g",(function(){return De})),n.d(t,"j",(function(){return xe})),n.d(t,"h",(function(){return je})),n.d(t,"n",(function(){return Le})),n.d(t,"l",(function(){return Fe})),n.d(t,"r",(function(){return Be})),n.d(t,"v",(function(){return Re})),n.d(t,"B",(function(){return Me}));var te=function(e,t){var n=R()(e.flights,(function(e,t){return e.concat(t.segments)}),[]);return F()(n,(function(e){return e.origin===t.origin&&e.destination===t.destination&&e.departure===t.departure}))};function ne(e,t,n){var a=q()(e,"breakdownElements",[]),r=F()(a,(function(e){var a=function(e,t){return"ItineraryPart"===e["@type"]?(e.segments||[]).find((function(e){return e.origin===t.origin&&e.destination===t.destination&&e.departure===t.departure}))||{}:e}(q()(e,"breakdownElementAssignment.travelPart",{}),t),r=q()(e,"breakdownElementAssignment.passenger",{});return e.label===K.I&&a.origin===t.origin&&a.destination===t.destination&&a.departure===t.departure&&r.passengerIndex===n.passengerIndex}));if(r){if(r.subElements){var i=r.subElements.find((function(e){return e.label===K.g||e.label===K.f}));return i?i.price:r.price}return r.price}return[]}var ae=function(e){return{label:q()(e,"label"),price:q()(e,"total",[]),subElements:q()(e,"breakdownElements",[])}},re=function(e,t,n,a){var r=ae(e),i=ae(t);return{breakdownElements:f()(r,i,{label:K.g,subElements:n}),label:K.a,total:a}},ie=function(e,t,n){var a=[],r=R()(f()(e,t,n),(function(e,t){var n=F()(k()(q()(t,["total"])),(function(e){return e.currency!==W.b})),a=q()(n,"amount",0);return{totalAmountInCurrency:e.totalAmountInCurrency+a,maxDecimalPointsInCurrency:e.maxDecimalPointsInCurrency<Object(z.f)(a)?Object(z.f)(a):e.maxDecimalPointsInCurrency,priceCurrency:T()(e.priceCurrency)?q()(n,"currency",void 0):e.priceCurrency,totalAmountInFFCurrency:e.totalAmountInFFCurrency+q()(F()(k()(q()(t,["total"])),(function(e){return e.currency===W.b})),"amount",0)}}),{totalAmountInCurrency:0,totalAmountInFFCurrency:0,maxDecimalPointsInCurrency:0,priceCurrency:void 0});return 0!==r.totalAmountInFFCurrency&&a.push({amount:r.totalAmountInFFCurrency,currency:W.b}),0===r.totalAmountInCurrency||T()(r.priceCurrency)||a.push({amount:p()(r.totalAmountInCurrency,r.maxDecimalPointsInCurrency),currency:r.priceCurrency}),[a]},se=function(e){return R()(e,(function(e,t){return e.concat(function(e){var t=T()(e.segments)?e.cancelledSegments:e.segments;return V()(t,(function(e){return ee({airlineCode:q()(e,"flight.airlineCode")},g()(e,["origin","destination","departure"]))}))}(t))}),[])},oe=function(e,t,n){var a=e.origin,r=e.destination;return w()(t,(function(e){var t=function(e){var t=q()(e,["breakdownElementAssignment","travelPart","@type"]),n=q()(e,["breakdownElementAssignment","travelPart"]);return{origin:t===Y.a.SEGMENT?q()(n,"origin"):q()(k()(q()(n,"segments",[])),"origin"),destination:t===Y.a.SEGMENT?q()(e,["breakdownElementAssignment","travelPart","destination"]):q()(C()(q()(n,"segments",[])),"destination")}}(e),i=t.origin,s=t.destination,o=q()(e,["breakdownElementAssignment","passenger","passengerIndex"]);return i===a&&s===r&&o===n.passengerIndex}))},le=function(e,t,n){return R()(e,(function(e,a,r){var i=R()(t,(function(e,t){var r=te(t,a);return r&&e.push({passenger:ee({passenger:g()(t,["passengerDetails","passengerIndex","passengerInfo","preferences"])},g()(a,["origin","destination","departure"]),{seatNumber:q()(r,"seat.seatCode"),price:ne(n,a,t)})}),e}),[]);return e["".concat(a.origin).concat(a.destination).concat(r)]=i,e}),{})},ce=function(e,t,n){return R()(e,(function(e,a,r){var i=R()(t,(function(e,t){var r=te(t,a),i=oe(r,q()(n,"breakdownElements",[]),t),s=Oe(i);if(r){var o=k()(i)&&k()(i).subElements?k()(i).subElements:i;e.push({passenger:ee({passenger:g()(t,["passengerDetails","passengerIndex","passengerInfo","preferences"])},g()(a,["origin","destination","departure"]),{seatNumber:q()(r,"seat.seatCode"),price:s,subElements:q()(r,"seat.seatCode")?o:[]})})}return e}),[]);return e["".concat(a.origin).concat(a.destination).concat(r)]=i,e}),{})};function ue(e,t){var n=q()(e,"breakdownElements",[]);return k()(w()(n,(function(e){return u()(t,e.label)})))}function de(e,t){var n=ue(e,t),a=q()(n,"subElements");if(a){var r=F()(a,(function(e){return e.label===K.f}));if(r)return r.label=q()(n,"label",r.label),{label:K.K,breakdownElements:[r],total:q()(r,"price",[])}}return{label:K.K,breakdownElements:n?[n]:[],total:q()(n,"price",[])}}function pe(e){return e||Object(H.Map)()}function he(e,t){var n=q()(e,"breakdownElements",[]),a=ue(e,t),r=k()(w()(n,(function(e){return void 0===q()(e,["breakdownElementAssignment","travelPart"])&&e.label===K.e}))),i=w()(f()(a,r),(function(e){return void 0!==e}));return{label:K.K,breakdownElements:i,total:T()(i)?[]:Oe(i)}}function fe(e){var t=q()(e,"breakdownElements",[]);return w()(t,(function(e){return q()(e,["breakdownElementAssignment","travelPart","@type"])===Y.a.ITINERARY}))}function me(e,t){var n=q()(e,"breakdownElements",[]);return R()(n,(function(e,n){var a=q()(n,"breakdownElementAssignment",{}),r=a.passenger,i=a.travelPart;return!r||i||u()(t,n.label)||e.push(ee({},n,{},n.breakdownElementAssignment)),e}),[])}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=q()(t,"breakdownElements",[]),r=w()(a,(function(e){return q()(e,["breakdownElementAssignment","travelPart","@type"])===Y.a.ITINERARY_PART}));return ve(e,r,n)}function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return R()(e,(function(e,a,r){var i=w()(t,(function(e){var t=k()(e.breakdownElementAssignment.travelPart.segments).origin,n=C()(e.breakdownElementAssignment.travelPart.segments).destination;return t===a.origin&&n===a.destination}));return e["".concat(a.origin).concat(a.destination).concat(r)]=i.map((function(e){return ye(e,n)})),e}),{})}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y()(ee({label:e.label,price:Object(H.fromJS)([[ee({},e.price)]])},e.breakdownElementAssignment));if(e.subElements)if(t){var a=q()(F()(q()(e,"subElements",[]),(function(e){return e.label===K.f})),"price",{});y()(n,{price:Object(H.fromJS)([[ee({},a)]])})}else y()(n,{subElements:e.subElements});return n}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=q()(t,"breakdownElements",[]),r=w()(a,(function(e){return e.breakdownElementAssignment.travelPart&&e.breakdownElementAssignment.travelPart["@type"]===Y.a.SEGMENT}));return R()(e,(function(e,t,a){var i=w()(r,(function(e){var n=e.breakdownElementAssignment.travelPart.origin,a=e.breakdownElementAssignment.travelPart.destination;return n===t.origin&&a===t.destination}));return e["".concat(t.origin).concat(t.destination).concat(a)]=i.map((function(e){return ye(e,n)})),e}),{})}var Ce=function(e,t){var n=j()(R()(e,(function(e,t){var n=ee({},e),a=t.passengerInfo,r=n[a.type];return n[a.type]=r?ee({},r,{breakdownElementAssignment:ee({},r.breakdownElementAssignment,{quantity:r.breakdownElementAssignment.quantity+1})}):{breakdownElementAssignment:{passengerType:a.type,quantity:1},label:a.type},n}),{})),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakdownElements,n=void 0===t?[]:t;return R()(n,(function(e,t){var n=t.label,a=t.breakdownElementAssignment.passengerType;return n===K.f&&(e[a]?e[a]=[].concat(r()(e[a]),[t]):e[a]=[t]),e}),{})}(t);return n.map((function(e){return ee({},e,{price:Oe(a[e.label])})}))},Ee=function(e,t){var n=t.reduce((function(e,t){return e.concat(function(e){return e.passengerUpgradePrices.map((function(t){return{label:K.P,price:q()(t,["upgradePrice","alternatives"],{}),breakdownElementAssignment:{travelPart:{segments:[e.segment],bookingClass:e.bookingClass,departure:q()(e,"segment.departure")},passenger:t.passenger,passengerType:t.passenger.passengerInfo.type}}}))}(t))}),[]);return{label:G.a.WAITLISTED_UPGRADES,breakdownElements:n,total:e.totalWaitlistedSegmentsUpgradePrice.alternatives}};function ke(e){return R()(e,(function(e,t){return{amount:t.price.amount+e.amount,currency:t.price.currency}}),{amount:0,currency:""})}function Oe(e){var t=[],n=[];D()(e,(function(e){var a=q()(e,"price",[]);if(a.length>0&&!T()(k()(k()(a))))t.push(ee({},e,{price:F()(k()(a),(function(e){return e.currency===W.b}))})),n.push(ee({},e,{price:F()(k()(a),(function(e){return e.currency!==W.b}))}));else{var r=q()(e,"price.currency");l()(r)||l()(q()(e,"price.amount"))||(r===W.b?t.push(e):n.push(e))}}));var a=S()(t)>0?[ke(t)]:[],r=S()(n)>0?[ke(n)]:[];return T()(a)&&T()(r)?[]:[[].concat(a,r)]}function _e(e,t){return R()(q()(e,"breakdownElements",[]),(function(e,n){if(n.subElements){var a=F()(n.subElements,(function(e){return e.label===t}));a&&e.push(a)}else n.label===t&&e.push(n);return e}),[])}function Pe(e){return e&&e.total?(_()(e.total)||[]).map((function(e){return{price:e}})):[]}var Se=function(e,t,n,a){var i=_e(t,K.J),s=_e(n,K.e),o=_e(a,K.d),l=[].concat(r()(q()(e,"breakdownElements",[])),r()(i),r()(s),r()(o)),c=T()(q()(e,"breakdownElements",Pe(e)))?Pe(e):q()(e,"breakdownElements",Pe(e));return ee({},e,{breakdownElements:l,total:Oe([].concat(r()(c),r()(i),r()(s),r()(o)))})},Ne=function(e,t){return{total:Oe(_e(e,k()(q()(e,"breakdownElements"))&&k()(q()(e,"breakdownElements")).subElements?K.f:K.I)),label:K.p,breakdownElements:$(t)?t:q()(e,"breakdownElements",[])}},we=function(e,t){return ee({},e,{subElements:q()(e,"breakdownElements",[]),breakdownElements:$(t)?t:q()(e,"breakdownElements",[])})},Ae=function(e,t){var n=q()(e,"breakdownElements",[]),a=k()(w()(n,(function(e){return void 0===q()(e,["breakdownElementAssignment","travelPart"])&&e.label===K.e})))?w()(n,(function(e){return void 0!==q()(e,["breakdownElementAssignment","travelPart"])})):w()(n,(function(e){return!u()(t,e.label)}));return{label:q()(e,"label"),subElements:q()(e,"breakdownElements",[]),total:Oe(a),breakdownElements:a}},Te=function(e){return e?{breakdownElements:q()(e,"breakdownElements"),label:K.n,total:q()(e,"total")}:Object(H.Map)()},Ie=function(e,t){var n=q()(e,"breakdownElements",[]),a=[],r=w()(n,(function(e){return e.label!==K.e&&!u()(t,e.label)}));return D()(r,(function(e){if(e.subElements){var t=F()(e.subElements,(function(e){return e.label===K.f}));t?a.push(t):a.push(e)}else a.push(e)})),{label:q()(e,"label",K.k),breakdownElements:a,total:Oe(a)}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ee({},e,{breakdownElements:e.breakdownElements?e.breakdownElements:[]})},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=q()(e,"breakdownElements",[]),n=w()(t,(function(e){return e.label!==K.e&&!u()(e.label,K.L)}));return{label:e.label,total:e.total,breakdownElements:n}},je=function(e){if(!e)return null;var t=e.breakdownElements.map((function(e){var t=q()(e,["breakdownElementAssignment","travelPart"]);return!t.departure&&t.segments&&(t.departure=q()(k()(t.segments),"departure")),ee({price:e.price,label:e.label},e.breakdownElementAssignment,{travelPart:t})}));return ee({},e,{breakdownElements:t})},Le=function(e){if(!e)return null;var t=w()(q()(e,"breakdownElements",[]),(function(e){return e.label!==K.d&&!T()(e)}));if(t&&t.length>0){var n={label:K.r,breakdownElements:t,total:e.total};return je(n)}return null},Fe=function(e){if(!e)return null;var t=q()(e,["total","0","0"]),n=q()(e,"breakdownElements");return t&&T()(n)?ee({},e,{breakdownElements:[{label:K.y,price:{alternatives:[[t]]}}]}):e},Be=function(e,t){return R()(t,(function(t,n){var a=q()(n,"segments",[]),r=q()(a,["0","origin"]),i=q()(a,["0","departure"]),s=F()(e,(function(e){return e.origin===r&&e.departure===i}));return s?t.push(ee({},n,{brand:q()(s,"brand")})):t.push(ee({},n)),t}),[])},Re=function(e){return R()(w()(e,(function(e){return e.code===Q.l})),(function(e,t){return T()(t.description)||e.push(ee({brand:t.description.replace(/[^A-Za-z-0-9-]/g,"")},t.segmentKey)),e}),[])},Me=function(e,t,n){var a=ae(n),r=f()(a,{label:K.g,breakdownElements:Ce(e,t)});return{label:K.a,breakdownElements:r,total:t.total||[]}}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(0),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(50)),k=n(39),O=n.n(k),_=n(12),P=n(63),S=n(1409),N=n(1484),w=n(51),A=n.n(w),T=n(5),I=n.n(T),D=function(e){var t=e.advisories,n=t.length>1?"li":"div",a=I()(t,(function(e){return C.a.createElement(n,{className:"flight-advisory",key:"flight-advisory-".concat(e.level)},C.a.createElement(E.c,{name:E.a.INFO_CIRCLE,size:"sm",fill:!0}),C.a.createElement("span",{className:O()("advisory-message",A()(e,"level.toLoweCase"))},Object(_.i)(e.code)))}));return"li"===n?C.a.createElement("ul",{className:"flight-advisories"},a):a},x=(n(2097),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.tag=this.props.tag}},{key:"render",value:function(){var e=this.props,n=e.className,a=e.segment,r=e.id,i=e.flightProps,s=e.displayFlightAdvisories,o=e.operatedBy,l=y()(a,"flight",i),c="marketing"===y()(o,"displayCarrierLogo")?l.airlineCode:l.operatingAirlineCode;c=N.c.includes(a.equipment)?a.equipment:c;var u=y()(a,"flight.advisories",[]),d=y()(a,"aircraftLeaseText",void 0),p={airline:Object(_.i)("airlines.".concat(l.operatingAirlineCode))};return d&&o.displayAircraftLeaseText&&(p.airline=d),C.a.createElement(this.tag,{className:O()("dxp-operated-by",n),id:r},C.a.createElement("span",{className:O()("flight-number",{"fits-row":o.displayAircraft})},o.displayLogo&&C.a.createElement(S.a,{alt:Object(_.i)("airlines.".concat(l.operatingAirlineCode)),src:Object(P.a)("./images/airlines/".concat(c,".png")),errorSrc:Object(P.a)("./images/airlines/default.png"),className:"logo"}),C.a.createElement("span",{className:"airlines-code"},l.airlineCode),C.a.createElement("span",{className:"airline-flight-number"},l.flightNumber),o.displayAircraft&&C.a.createElement("span",{className:"airline-flight-equipment"},Object(_.i)("aircrafts.".concat(a.equipment)))),t.displayOperatingAirlineCode(l,o)&&C.a.createElement("span",{className:"name"},d&&o.displayAircraftLeaseText&&C.a.createElement(E.c,{name:E.a.DOCUMENTS,size:"sm",fill:!0}),Object(_.a)("flightSelection.operatedBy",p)),!g()(u)&&s&&C.a.createElement(D,{advisories:u}))}}],[{key:"displayOperatingAirlineCode",value:function(e,t){return e.airlineCode!==e.operatingAirlineCode||y()(t,"alwaysDisplayOperatingCarrier")}}]),t}(b.Component));f()(x,"defaultProps",{id:void 0,tag:"div",className:"",displayFlightAdvisories:!1,flightProps:{},operatedBy:{alwaysDisplayOperatingCarrier:!1,displayAircraftLeaseText:!0,displayCarrierLogo:"marketing",displayLogo:!0,displayAircraft:!1}}),n.d(t,"a",(function(){return x}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(145),y=n.n(v),b=n(43),C=n.n(b),E=n(19),k=n.n(E),O=n(65),_=n.n(O),P=n(15),S=n.n(P),N=n(2),w=n.n(N),A=n(95),T=n.n(A),I=n(73),D=n.n(I),x=n(61),j=n.n(x),L=n(23),F=n.n(L),B=n(321),R=n.n(B),M=n(35),V=n.n(M),U=n(4),q=n.n(U),H=n(5),W=n.n(H),G=n(0),K=n.n(G),z=(n(6),n(1)),Y=n.n(z),Q=n(123),X=n(39),J=n.n(X),$=n(1371),Z=n(50),ee=n(1348),te=n(12),ne=n(136),ae=n(1370),re=n(1249),ie=n(521),se=n(114),oe=n(195),le=n(37),ce=n.n(le),ue=n(51),de=n.n(ue),pe=n(324),he=n(1586);n(2088);var fe="checkedInBaggage",me="carryOnBaggage",ge="none",ve=function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"state",{accordionExpansionState:fe}),g()(u()(n),"onAccordionToggle",(function(e){return function(){n.setState((function(t){return{accordionExpansionState:t.accordionExpansionState===e?ge:e}}))}})),g()(u()(n),"calculateTotalUnits",(function(e){var t=K()(e,"freeBaggageAllowance");return w()(t)?0:K()(t,"totalUnits",1)})),g()(u()(n),"renderTabs",(function(e,a){return Y.a.createElement(ae.c,{className:"dxp-fare-rules-tabs dxp-bagfee-tabs"},Y.a.createElement(ae.e,{className:"tabs-list"},t.renderTabList(e)),Y.a.createElement(ae.d,{dir:"auto"},n.renderTabsPanels(e,a)))})),g()(u()(n),"renderBagIcons",(function(e,t){return 0===e?Y.a.createElement(Z.c,{name:Z.a.MATH_SUBTRACT,size:"lg",key:"".concat(t,"-unavailable")}):W()(y()(e),(function(e){return Y.a.createElement(Z.c,{name:Z.a.SUITCASE,size:"lg",key:"".concat(t,"-").concat(e)})}))})),e.fetch(e.currentFlow,e.currentPage),n}return f()(t,e),p()(t,null,[{key:"renderEmbargoInformationRestrictionList",value:function(e){var t=e.airlineIataCode,n=e.restrictionList,a=Object(te.i)(["airlines",t]);return Y.a.createElement("div",{className:"embargo-restriction-list-container"},Y.a.createElement("h4",{className:"title"},Object(te.a)("bagfee.embargoInformation",{airline:a})),Y.a.createElement("ul",{className:"embargo-restriction-list"},W()(n,(function(e,t){return Y.a.createElement("li",{className:"embargo-restriction",key:"embargo-".concat(t)},e)}))))}},{key:"renderItem",value:function(e,t){return Y.a.createElement("li",{className:J()("li","item",R()(t)),key:t},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.".concat(t),{value:e})))}},{key:"renderTabList",value:function(e){return W()(e,(function(e,t){return Y.a.createElement(ae.a,{key:["tab",t].join("-"),className:"tab"},Y.a.createElement("div",{className:"tab-nav-item-container"},Y.a.createElement("span",null,K()(e,"segment.origin")),Y.a.createElement(Z.c,{name:Z.a.ARROW_CHEVRON_RIGHT,className:"icon bagfee-icon"}),Y.a.createElement("span",null,K()(e,"segment.destination"))))}))}}]),p()(t,[{key:"onCloseClick",value:function(e){return this.props.onCloseClick&&this.props.onCloseClick(e)}},{key:"getCarryOnBaggageSegmentDisclosures",value:function(){var e=K()(this,"props.results.segmentDisclosure",[]),t=K()(this,"props.results.segments",[]);return W()(t,(function(t){return S()(e,{segment:{origin:t.origin,destination:t.destination}})}))}},{key:"getCheckedInBaggageSegmentDisclosures",value:function(){var e=K()(this,"props.results.segmentDisclosure",[]);return k()(e,(function(e){return C()(e.passengerBaggageDisclosure,(function(e){return _()(e,"checkedInBaggage")}))}))}},{key:"renderCollection",value:function(e,n){var a=this,r=V()(e,"segment");return F()(e)||j()(e)||(r=[e]),q()(r,(function(e,r,i){var s="".concat(D()(T()(["render",n,i])));return Object(se.g)(r,n)?"function"==typeof a[s]?(e.push(a[s](r,i)),e):F()(r)?(e.concat(a.renderCollection(r,i)),e):j()(r)?(e.push(a.renderGroup(r,i)),e):("additionalInfo"===i?e.push(t.renderAdditionalInfo(r,i)):e.push(t.renderItem(r,i)),e):e}),[])}},{key:"renderContent",value:function(){return!this.props.isLoading&&this.renderAccordion()}},{key:"renderEmbargoInformation",value:function(e,t){return Object(se.g)(e,t)?Y.a.createElement("div",{className:R()(t),key:t},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},this.renderCollection(e,t))):null}},{key:"renderExcessBaggage",value:function(e,t){var n=this;return W()(e,(function(e){var a=K()(e,"bagPrice.alternatives"),r=V()(K()(e,"baggageRestriction"),"@type");return Y.a.createElement("li",{className:J()("li",R()(t)),key:t},Y.a.createElement("div",{className:"excess-baggage-title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},a&&Y.a.createElement("li",{className:"li price"},Object(te.a)("bagfee.excessBaggagePrice")," ",Y.a.createElement(re.a,{price:a})),!w()(r)&&n.renderCollection(r,"baggageRestriction")))}))}},{key:"renderFreeBaggageAllowanceBaggageRestrictions",value:function(e,t){return this.renderBaggageRestrictions(e,t)}},{key:"renderGroup",value:function(e,t){return Y.a.createElement("li",{className:J()("li","group",R()(t)),key:t},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},this.renderCollection(e,t)))}},{key:"renderBaggageRestrictions",value:function(e,t){var n=this;return W()(e,(function(e,a){var r=V()(e,"@type");return Y.a.createElement("li",{className:J()("li",R()(a)),key:"li-".concat(t,"-").concat(a)},Y.a.createElement("ul",{className:"ul restriction",key:"ul-".concat(t,"-").concat(a)},n.renderCollection(r,a)))}))}},{key:"renderPassengerBaggageDisclosure",value:function(e,t){var n=q()(e,(function(e,t,n){return Object(se.g)(V()(t,"passengerType",n))&&(e[n]=t),e}),[]);return Object(se.g)(n,t)?Y.a.createElement("div",{className:R()(t),key:t},this.renderPassengerBaggageDisclosureForAllPassengers(n,t)):null}},{key:"renderPassengerBaggageDisclosureForAllPassengers",value:function(e,t){var n=this;return Y.a.createElement("ul",{className:J()("ul",R()(t))},W()(e,(function(e,a){if(Object(se.g)(e,a)){var r=V()(e,"passengerType");return Y.a.createElement("li",{className:J()("li",R()(a)),key:a},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.passengerType",{value:Object(te.i)("passengerType.codes.".concat(K()(e,"passengerType")))})),Y.a.createElement("ul",{className:"ul"},n.renderCollection(r,t)))}return null})))}},{key:"renderSpinner",value:function(){return this.props.isLoading&&Y.a.createElement(ie.a,{className:"dark"})}},{key:"renderCheckedInBaggage",value:function(e){return Y.a.createElement($.a,{title:Object(te.a)("bagfee.checkedInBaggage"),isControlled:!0,isExpanded:this.state.accordionExpansionState===fe,onToggle:this.onAccordionToggle(fe),titleTag:"h3",id:"accordion-checkedIn-baggage"},Y.a.createElement("h4",null,Object(te.a)("bagfee.accordionHeader.checkedInBaggage")),this.renderTabs(e,fe))}},{key:"renderCarryOnBaggage",value:function(e){return Y.a.createElement($.a,{title:Object(te.a)("bagfee.carryOnBaggage"),isControlled:!0,isExpanded:this.state.accordionExpansionState===me,onToggle:this.onAccordionToggle(me),titleTag:"h3",id:"accordion-carryOn-baggage"},Y.a.createElement("h4",null,Object(te.a)("bagfee.accordionHeader.carryOnBaggage")),this.renderTabs(e,me))}},{key:"renderAccordion",value:function(){var e=this.getCheckedInBaggageSegmentDisclosures(),t=this.getCarryOnBaggageSegmentDisclosures();return Y.a.createElement("div",null,!w()(e)&&this.renderCheckedInBaggage(e),!w()(t)&&this.renderCarryOnBaggage(t))}},{key:"renderPassengerDisclosure",value:function(e,t){var n=e[t];if(w()(n))return null;var a=e.passengerType,r=parseInt(this.calculateTotalUnits(n),10);return Y.a.createElement(ee.b,{className:"carousel-item-container",key:"".concat(t,"-").concat(a)},Y.a.createElement("div",{className:"passenger-type"},Object(te.a)("bagfee.passengerType",{value:Object(te.i)("passengerType.codes.".concat(a))})),Y.a.createElement("div",{className:"bags-icon-container"},this.renderBagIcons(r,"".concat(t,"-").concat(a))),0===r&&Y.a.createElement("div",{className:"no-free-bag-allowance"},Object(te.a)("bagfee.noFreeBagAllowance")),Y.a.createElement("ul",{className:"passenger-baggage-info"},this.renderCollection(n)))}},{key:"renderSegment",value:function(e,n){var a=this,r=e.passengerBaggageDisclosure,i=e.embargoInformation;return Y.a.createElement("div",{className:"segment-container"},Y.a.createElement("div",{className:"passenger-disclosure-container"},W()(r,(function(e){return a.renderPassengerDisclosure(e,n)}))),!w()(i)&&t.renderEmbargoInformationRestrictionList(i))}},{key:"renderTabsPanels",value:function(e,t){var n=this;return W()(e,(function(e,a){return Y.a.createElement(ae.b,{key:["panel",a].join("-"),className:"panel"},n.renderSegment(e,t))}))}},{key:"render",value:function(){var e=this,t=Object(oe.a)(this.props.isAuthorable,"bagFee");return Y.a.createElement("div",t,Y.a.createElement(ne.a,{className:"dxp-bagfee",onCloseClick:function(t){return e.onCloseClick(t)}},Y.a.createElement("h2",null,Object(te.a)("bagfee.title")),Y.a.createElement("p",null,Object(te.a)("bagfee.description")),this.renderSpinner(),this.renderContent()))}}],[{key:"renderAdditionalInfo",value:function(e,t){return Y.a.createElement("li",{className:J()("li","item",R()(t)),key:t},Y.a.createElement("div",{className:"additional-info-title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},e))}}]),t}(z.Component);g()(ve,"defaultProps",{isLoading:!1,isAuthorable:!0,onCloseClick:function(){},currentPage:""});var ye=Object(Q.b)((function(e){var t=de()(e.metadata.get("bagfee"),"toJS"),n=K()(e,"bagfee"),a=de()(n,"toJS",n);return ce()(t,a,Object(pe.c)(e))}),(function(e){return{fetch:function(t,n){return e(Object(he.b)(t,n))}}}))(ve);n.d(t,"a",(function(){return ye}))},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),C=n.n(b),E=(n(2095),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isFocused:!1}),g()(p()(n),"onBlur",(function(){n.setState({isFocused:!1})})),g()(p()(n),"onChange",(function(e){return n.props.onChange&&n.props.onChange(e,n.getInputRef())})),g()(p()(n),"onFocus",(function(){n.setState({isFocused:!0})})),n}return f()(t,e),s()(t,[{key:"getInputRef",value:function(){return this.radioRef}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.id,r=t.name,i=t.value,s=t.disabled,o=t.checked,l=C()("radio-button-box",{"is-focused":this.state.isFocused});return y.a.createElement("label",{className:C()("dxp-radio-button",n,l),htmlFor:a},y.a.createElement("input",{className:"radio-button-input",id:a,ref:function(t){e.radioRef=t},type:"radio",name:r,value:i,disabled:s,checked:o,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),y.a.createElement("span",{className:"radio-button-box"}),this.props.children&&y.a.createElement("span",{className:"radio-button-label"},this.props.children))}}]),t}(v.PureComponent));g()(E,"defaultProps",{className:void 0,disabled:void 0,onChange:void 0,checked:void 0,children:void 0,name:void 0}),n.d(t,"a",(function(){return E}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(128),r=n.n(a),i=n(0),s=n.n(i),o=n(13),l=n.n(o),c=function(e,t){var n={};return l()(e,(function(e){return l()(e.offers,(function(e,a){a===t&&(n=e)}))})),n},u=function(e){return{brandPriceTotal:s()(r()(e.offers),"total"),brandPriceTotalWithoutDiscount:s()(r()(e.offers),"totalWithoutDiscount"),brandPriceMin:s()(e.minOffer,"total"),brandPriceMax:s()(e.maxOffer,"total"),hasMultipleOffers:e.offers.length>1,offerToShow:e.offers.length>1?e.minOffer:r()(e.offers),brandMaxOffer:s()(e,"maxOffer"),brandMinOffer:s()(e,"minOffer"),firstBrandOffer:r()(e.offers)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a="dxp-page-navigation-continue-button",r="dxp-passenger-view-skip",i="dxp-page-navigation-back-button",s="dxp-page-cancel-action-button"},function(e,t,n){var a=n(1610);e.exports=a},function(e,t,n){n(1611);var a=n(1252);e.exports=a.Object.keys},function(e,t,n){var a=n(1246),r=n(1272),i=n(1335);a({target:"Object",stat:!0,forced:n(1254)((function(){i(1)}))},{keys:function(e){return i(r(e))}})},function(e,t,n){var a=n(1613);e.exports=a},function(e,t,n){var a=n(1614),r=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===r||e instanceof Array&&t===r.indexOf?a:t}},function(e,t,n){n(1615);var a=n(1262);e.exports=a("Array").indexOf},function(e,t,n){"use strict";var a=n(1246),r=n(1380).indexOf,i=n(1321),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,l=i("indexOf");a({target:"Array",proto:!0,forced:o||l},{indexOf:function(e){return o?s.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1445);e.exports=a},function(e,t,n){var a=n(1246),r=n(1269);a({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(1279).f})},function(e,t,n){var a=n(1619);e.exports=a},function(e,t,n){n(1620);var a=n(1252);e.exports=a.Reflect.construct},function(e,t,n){var a=n(1246),r=n(1287),i=n(1285),s=n(1270),o=n(1259),l=n(1330),c=n(1423),u=n(1254),d=r("Reflect","construct"),p=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!u((function(){d((function(){}))})),f=p||h;a({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){i(e),s(t);var n=arguments.length<3?e:i(arguments[2]);if(h&&!p)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(c.apply(e,a))}var r=n.prototype,u=l(o(r)?r:Object.prototype),f=Function.apply.call(e,u,t);return o(f)?f:u}})},function(e,t,n){var a=n(1269),r=n(1279),i=n(1270),s=n(1335);e.exports=a?Object.defineProperties:function(e,t){i(e);for(var n,a=s(t),o=a.length,l=0;o>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var a=n(1255),r=n(1276);e.exports=function(e,t){try{r(a,e,t)}catch(n){a[e]=t}return t}},function(e,t,n){var a=n(1255),r=n(1449),i=a.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},function(e,t,n){"use strict";var a=n(1426).IteratorPrototype,r=n(1330),i=n(1308),s=n(1299),o=n(1288),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(a,{next:i(1,n)}),s(e,c,!1,!0),o[c]=l,e}},function(e,t,n){"use strict";var a=n(1368),r=n(1304);e.exports=a?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){var a=n(1259);e.exports=function(e){if(!a(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var a=n(1629);e.exports=a},function(e,t,n){n(1630);var a=n(1252);e.exports=a.parseInt},function(e,t,n){var a=n(1246),r=n(1631);a({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){var a=n(1255),r=n(1450).trim,i=n(1383),s=a.parseInt,o=/^[+-]?0[Xx]/,l=8!==s(i+"08")||22!==s(i+"0x16");e.exports=l?function(e,t){var n=r(String(e));return s(n,t>>>0||(o.test(n)?16:10))}:s},function(e,t,n){var a=n(1633);e.exports=a},function(e,t,n){var a=n(1634),r=Array.prototype;e.exports=function(e){var t=e.slice;return e===r||e instanceof Array&&t===r.slice?a:t}},function(e,t,n){n(1635);var a=n(1262);e.exports=a("Array").slice},function(e,t,n){"use strict";var a=n(1246),r=n(1259),i=n(1314),s=n(1339),o=n(1284),l=n(1277),c=n(1340),u=n(1317),d=n(1253)("species"),p=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!u("slice")},{slice:function(e,t){var n,a,u,f=l(this),m=o(f.length),g=s(e,m),v=s(void 0===t?m:t,m);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(f,g,v);for(a=new(void 0===n?Array:n)(h(v-g,0)),u=0;g<v;g++,u++)g in f&&c(a,u,f[g]);return a.length=u,a}})},function(e,t,n){var a=n(1637);e.exports=a},function(e,t,n){var a=n(1638),r=Function.prototype;e.exports=function(e){var t=e.bind;return e===r||e instanceof Function&&t===r.bind?a:t}},function(e,t,n){n(1639);var a=n(1262);e.exports=a("Function").bind},function(e,t,n){n(1246)({target:"Function",proto:!0},{bind:n(1423)})},function(e,t,n){e.exports=n(1641)},function(e,t,n){var a=n(1642);e.exports=a},function(e,t,n){n(1429),n(1342),n(1322);var a=n(1369);e.exports=a.f("iterator")},function(e,t,n){var a=n(1336),r=n(1313),i=function(e){return function(t,n){var i,s,o=String(r(t)),l=a(n),c=o.length;return l<0||l>=c?e?"":void 0:(i=o.charCodeAt(l))<55296||i>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?e?o.charAt(l):i:e?o.slice(l,l+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){e.exports=n(1645)},function(e,t,n){var a=n(1646);n(1664),n(1665),n(1666),n(1667),n(1668),e.exports=a},function(e,t,n){n(1447),n(1451),n(1647),n(1649),n(1650),n(1651),n(1652),n(1429),n(1653),n(1654),n(1655),n(1656),n(1657),n(1658),n(1659),n(1660),n(1661),n(1662),n(1663);var a=n(1252);e.exports=a.Symbol},function(e,t,n){"use strict";var a=n(1246),r=n(1255),i=n(1287),s=n(1302),o=n(1269),l=n(1367),c=n(1424),u=n(1254),d=n(1268),p=n(1314),h=n(1259),f=n(1270),m=n(1272),g=n(1277),v=n(1328),y=n(1308),b=n(1330),C=n(1335),E=n(1430),k=n(1648),O=n(1452),_=n(1312),P=n(1279),S=n(1377),N=n(1276),w=n(1318),A=n(1365),T=n(1331),I=n(1329),D=n(1366),x=n(1253),j=n(1369),L=n(1256),F=n(1299),B=n(1337),R=n(1306).forEach,M=T("hidden"),V=x("toPrimitive"),U=B.set,q=B.getterFor("Symbol"),H=Object.prototype,W=r.Symbol,G=i("JSON","stringify"),K=_.f,z=P.f,Y=k.f,Q=S.f,X=A("symbols"),J=A("op-symbols"),$=A("string-to-symbol-registry"),Z=A("symbol-to-string-registry"),ee=A("wks"),te=r.QObject,ne=!te||!te.prototype||!te.prototype.findChild,ae=o&&u((function(){return 7!=b(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=K(H,t);a&&delete H[t],z(e,t,n),a&&e!==H&&z(H,t,a)}:z,re=function(e,t){var n=X[e]=b(W.prototype);return U(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},se=function(e,t,n){e===H&&se(J,t,n),f(e);var a=v(t,!0);return f(n),d(X,a)?(n.enumerable?(d(e,M)&&e[M][a]&&(e[M][a]=!1),n=b(n,{enumerable:y(0,!1)})):(d(e,M)||z(e,M,y(1,{})),e[M][a]=!0),ae(e,a,n)):z(e,a,n)},oe=function(e,t){f(e);var n=g(t),a=C(n).concat(de(n));return R(a,(function(t){o&&!le.call(n,t)||se(e,t,n[t])})),e},le=function(e){var t=v(e,!0),n=Q.call(this,t);return!(this===H&&d(X,t)&&!d(J,t))&&(!(n||!d(this,t)||!d(X,t)||d(this,M)&&this[M][t])||n)},ce=function(e,t){var n=g(e),a=v(t,!0);if(n!==H||!d(X,a)||d(J,a)){var r=K(n,a);return!r||!d(X,a)||d(n,M)&&n[M][a]||(r.enumerable=!0),r}},ue=function(e){var t=Y(g(e)),n=[];return R(t,(function(e){d(X,e)||d(I,e)||n.push(e)})),n},de=function(e){var t=e===H,n=Y(t?J:g(e)),a=[];return R(n,(function(e){!d(X,e)||t&&!d(H,e)||a.push(X[e])})),a};(l||(w((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===H&&n.call(J,e),d(this,M)&&d(this[M],t)&&(this[M][t]=!1),ae(this,t,y(1,e))};return o&&ne&&ae(H,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return q(this).tag})),w(W,"withoutSetter",(function(e){return re(D(e),e)})),S.f=le,P.f=se,_.f=ce,E.f=k.f=ue,O.f=de,j.f=function(e){return re(x(e),e)},o&&(z(W.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),s||w(H,"propertyIsEnumerable",le,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),R(C(ee),(function(e){L(e)})),a({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=String(e);if(d($,t))return $[t];var n=W(t);return $[t]=n,Z[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(Z,e))return Z[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!o},{create:function(e,t){return void 0===t?b(e):oe(b(e),t)},defineProperty:se,defineProperties:oe,getOwnPropertyDescriptor:ce}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ue,getOwnPropertySymbols:de}),a({target:"Object",stat:!0,forced:u((function(){O.f(1)}))},{getOwnPropertySymbols:function(e){return O.f(m(e))}}),G)&&a({target:"JSON",stat:!0,forced:!l||u((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,n){for(var a,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(a=t,(h(t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ie(t))return t}),r[1]=t,G.apply(null,r)}});W.prototype[V]||N(W.prototype,V,W.prototype.valueOf),F(W,"Symbol"),I[M]=!0},function(e,t,n){var a=n(1277),r=n(1430).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(a(e))}},function(e,t,n){n(1256)("asyncIterator")},function(e,t){},function(e,t,n){n(1256)("hasInstance")},function(e,t,n){n(1256)("isConcatSpreadable")},function(e,t,n){n(1256)("match")},function(e,t,n){n(1256)("matchAll")},function(e,t,n){n(1256)("replace")},function(e,t,n){n(1256)("search")},function(e,t,n){n(1256)("species")},function(e,t,n){n(1256)("split")},function(e,t,n){n(1256)("toPrimitive")},function(e,t,n){n(1256)("toStringTag")},function(e,t,n){n(1256)("unscopables")},function(e,t,n){n(1299)(Math,"Math",!0)},function(e,t,n){var a=n(1255);n(1299)(a.JSON,"JSON",!0)},function(e,t,n){n(1256)("asyncDispose")},function(e,t,n){n(1256)("dispose")},function(e,t,n){n(1256)("observable")},function(e,t,n){n(1256)("patternMatch")},function(e,t,n){n(1256)("replaceAll")},function(e,t,n){e.exports=n(1670)},function(e,t,n){var a=n(1671);e.exports=a},function(e,t,n){n(1672);var a=n(1252).Object,r=e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)};a.getOwnPropertyDescriptor.sham&&(r.sham=!0)},function(e,t,n){var a=n(1246),r=n(1254),i=n(1277),s=n(1312).f,o=n(1269),l=r((function(){s(1)}));a({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(i(e),t)}})},function(e,t,n){e.exports=n(1674)},function(e,t,n){var a=n(1675);e.exports=a},function(e,t,n){n(1676);var a=n(1252);e.exports=a.Reflect.get},function(e,t,n){var a=n(1246),r=n(1259),i=n(1270),s=n(1268),o=n(1312),l=n(1332);a({target:"Reflect",stat:!0},{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return i(t)===u?t[n]:(a=o.f(t,n))?s(a,"value")?a.value:void 0===a.get?void 0:a.get.call(u):r(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){var a=n(1241);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}},function(e,t,n){e.exports=n(1679)},function(e,t,n){var a=n(1680);e.exports=a},function(e,t,n){n(1681);var a=n(1252);e.exports=a.Object.getPrototypeOf},function(e,t,n){var a=n(1246),r=n(1254),i=n(1272),s=n(1332),o=n(1427);a({target:"Object",stat:!0,forced:r((function(){s(1)})),sham:!o},{getPrototypeOf:function(e){return s(i(e))}})},function(e,t,n){var a=n(1683);e.exports=a},function(e,t,n){n(1684);var a=n(1252);e.exports=a.Object.setPrototypeOf},function(e,t,n){n(1246)({target:"Object",stat:!0},{setPrototypeOf:n(1428)})},function(e,t,n){e.exports=n(1686)},function(e,t,n){var a=n(1453);e.exports=a},function(e,t,n){n(1246)({target:"Object",stat:!0,sham:!n(1269)},{create:n(1330)})},function(e,t,n){var a=n(1431);function r(t,n){return e.exports=r=a||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.left+e.width,a=e.top+e.height,r=t.left+t.width,i=t.top+t.height;return n<=t.left?"left":e.left>=r?"right":a<=t.top?"above":e.top>=i?"below":"overlap"},e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1355)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1251)),f=a(n(1273)),m=a(n(1261)),g=a(n(1275)),v=a(n(1266)),y=a(n(1247)),b=a(n(1248));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(){},k=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(C()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"getValue",value:function(){return(0,s.default)(this.inputEl.value)}},{key:"setValue",value:function(e){isNaN(e)&&(e=this._getMin());var t=this._getConformedNumber(e);return t!==this.inputEl.value&&(this.inputEl.value=t,(this.onChange||E)(t,this)),this}},{key:"clearValue",value:function(){return this.setValue(0)}},{key:"increment",value:function(){return this.setValue(this.getValue()+this._getStep())}},{key:"decrement",value:function(){return this.setValue(this.getValue()-this._getStep())}},{key:"_countDecimals",value:function(e){return!e||isNaN(e)||Math.floor(e)===e?0:e.toString().split(".")[1].length||0}},{key:"enable",value:function(){for(var e=this.el.querySelectorAll("button"),t=e.length,n=0;n<t;n++)e[n].removeAttribute("disabled");return this.inputEl.removeAttribute("disabled"),this}},{key:"disable",value:function(){for(var e=this.el.querySelectorAll("button"),t=e.length,n=0;n<t;n++)e[n].attributes.setNamedItem(document.createAttribute("disabled"));return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=e.querySelector("input"),this.incrementButton=e.querySelector(".spark-number-selector__up"),this.decrementButton=e.querySelector(".spark-number-selector__down"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,v.default)('<span class="spark-input__message"></span>'),!this.inputEl||!this.incrementButton||!this.decrementButton)throw new Error("NumberSelector missing a require element!")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onInputChangeBound=(0,i.default)(t=this._onInputChange).call(t,this),this._onInputFocusBound=(0,i.default)(n=this._onInputFocus).call(n,this),this._onInputBlurBound=(0,i.default)(a=this._onInputBlur).call(a,this),this._onInputInputBound=(0,i.default)(r=this._onInputInput).call(r,this),this._onKeyPressBound=(0,i.default)(s=this._onKeyPress).call(s,this),this._onButtonKeyPressBound=(0,i.default)(o=this._onButtonKeyPress).call(o,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("change",this._onInputChangeBound),this.el.addEventListener("focus",this._onInputFocusBound),this.el.addEventListener("blur",this._onInputBlurBound),this.inputEl.addEventListener("input",this._onInputInputBound),this.inputEl.addEventListener("keydown",this._onKeyPressBound),this.inputEl.addEventListener("keyup",this._onKeyPressBound),this.incrementButton.addEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.addEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.addEventListener("keyup",this._onButtonKeyPressBound),this.incrementButton.addEventListener("keyup",this._onButtonKeyPressBound)}},{key:"_onButtonKeyPress",value:function(e){13===e.keyCode&&("keydown"===e.type?(0,h.default)(e.target,"spark-number-selector__up")?(0,y.default)(this.incrementButton,"active"):(0,y.default)(this.decrementButton,"active"):(0,h.default)(e.target,"spark-number-selector__up")?(0,b.default)(this.incrementButton,"active"):(0,b.default)(this.decrementButton,"active"))}},{key:"_onKeyPress",value:function(e){"keydown"===e.type?40===e.keyCode?(0,y.default)(this.el.querySelector("button:first-of-type"),"active"):38===e.keyCode&&(0,y.default)(this.el.querySelector("button:last-of-type"),"active"):40===e.keyCode?(0,b.default)(this.el.querySelector("button:first-of-type"),"active"):38===e.keyCode&&(0,b.default)(this.el.querySelector("button:last-of-type"),"active")}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onInputChangeBound),this.el.removeEventListener("focus",this._onInputFocusBound),this.el.removeEventListener("blur",this._onInputBlurBound),this.inputEl.removeEventListener("input",this._onInputInputBound),this.inputEl.removeEventListener("keydown",this._onKeyPressBound),this.inputEl.removeEventListener("keyup",this._onKeyPressBound),this.incrementButton.removeEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.removeEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.removeEventListener("keyup",this._onButtonKeyPressBound),this.incrementButton.removeEventListener("keyup",this._onButtonKeyPressBound)}},{key:"_getMin",value:function(){return this._getInputPropAsNumber("min")}},{key:"_getMax",value:function(){return this._getInputPropAsNumber("max")}},{key:"_getStep",value:function(){return this._getInputPropAsNumber("step")||1}},{key:"_getInputPropAsNumber",value:function(e){return(0,s.default)(this.inputEl.getAttribute(e))}},{key:"_getConformedNumber",value:function(e){var t=this._getMax(),n=this._getMin(),a=this._getStep();if(a){var r=e%a;e=r>=a/2?e+(a-r):e-r;var i=this._countDecimals(this._getStep());if(i>0){var s=Math.abs(e),o=i+(s>1?s.toString().split(".")[0].length:0);e="number"==typeof e&&isFinite(e)&&Math.floor(e)===e?e:e.toPrecision(o)}}return void 0!==t&&e>t?t:void 0!==n&&e<n?n:e}},{key:"_onClick",value:function(e){e.target.hasAttribute("disabled")||((0,h.default)(e.target,"spark-number-selector__up")?(e.preventDefault(),this.increment()):(0,h.default)(e.target,"spark-number-selector__down")&&(e.preventDefault(),this.decrement()))}},{key:"_onInputChange",value:function(){this.setValue((0,s.default)(this.inputEl.value))}},{key:"_onInputFocus",value:function(){this.onFocus&&this.onFocus(this.getValue(),this)}},{key:"_onInputBlur",value:function(){this.onBlur&&this.onBlur(this.getValue(),this)}},{key:"_onInputInput",value:function(){this.onInput&&this.onInput(this.getValue(),this)}}]),a}(p.default);k.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur","onInput"],k.prototype.defaults={el:null,inputEl:null,onValidate:null,onChange:null,onFocus:null,onBlur:null,onInput:null,_onInputChangeBound:null,_onClickBound:null},(0,m.default)(k.prototype,f.default,g.default);var O=k;t.default=O,e.exports=t.default},function(e,t,n){(function(t){for(var a=n(1884),r="undefined"==typeof window?t:window,i=["moz","webkit"],s="AnimationFrame",o=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],c=0;!o&&c<i.length;c++)o=r[i[c]+"Request"+s],l=r[i[c]+"Cancel"+s]||r[i[c]+"CancelRequest"+s];if(!o||!l){var u=0,d=0,p=[];o=function(e){if(0===p.length){var t=a(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return o.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=o,e.cancelAnimationFrame=l}}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n.n(a),i=n(12);function s(e){return r()(e,(function(e){return{value:e,label:Object(i.i)("flightSearch.airportFormat",{code:e,name:Object(i.i)("airports.".concat(e))})}}))}},function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=n(1),i=n(102),s=n(1694),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setFocusTrapElement=function(e){n.focusTrapElement=e},"undefined"!=typeof document&&(n.previouslyFocusedElement=document.activeElement),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.focusTrapOptions,t={returnFocusOnDeactivate:!1};for(var n in e)e.hasOwnProperty(n)&&"returnFocusOnDeactivate"!==n&&(t[n]=e[n]);var a=i.findDOMNode(this.focusTrapElement);this.focusTrap=this.props._createFocusTrap(a,t),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()}},{key:"componentDidUpdate",value:function(e){if(e.active&&!this.props.active){var t={returnFocus:this.props.focusTrapOptions.returnFocusOnDeactivate||!1};this.focusTrap.deactivate(t)}else!e.active&&this.props.active&&this.focusTrap.activate();e.paused&&!this.props.paused?this.focusTrap.unpause():!e.paused&&this.props.paused&&this.focusTrap.pause()}},{key:"componentWillUnmount",value:function(){this.focusTrap.deactivate(),!1!==this.props.focusTrapOptions.returnFocusOnDeactivate&&this.previouslyFocusedElement&&this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus()}},{key:"render",value:function(){var e=this,t=r.Children.only(this.props.children);return r.cloneElement(t,{ref:function(n){e.setFocusTrapElement(n),"function"==typeof t.ref&&t.ref(n)}})}}]),t}(r.Component);o.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:s},e.exports=o},function(e,t,n){var a,r=n(1695),i=n(1696),s=(a=[],{activateTrap:function(e){if(a.length>0){var t=a[a.length-1];t!==e&&t.pause()}var n=a.indexOf(e);-1===n||a.splice(n,1),a.push(e)},deactivateTrap:function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1),a.length>0&&a[a.length-1].unpause()}});function o(e){return setTimeout(e,0)}e.exports=function(e,t){var n=document,a="string"==typeof e?n.querySelector(e):e,l=i({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),c={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},u={activate:function(e){if(c.active)return;C(),c.active=!0,c.paused=!1,c.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:l.onActivate;t&&t();return p(),u},deactivate:d,pause:function(){if(c.paused||!c.active)return;c.paused=!0,h()},unpause:function(){if(!c.paused||!c.active)return;c.paused=!1,p()}};return u;function d(e){if(c.active){h(),c.active=!1,c.paused=!1,s.deactivateTrap(u);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:l.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:l.returnFocusOnDeactivate)&&o((function(){E(c.nodeFocusedBeforeActivation)})),u}}function p(){if(c.active)return s.activateTrap(u),C(),o((function(){E(m())})),n.addEventListener("focusin",v,!0),n.addEventListener("mousedown",g,!0),n.addEventListener("touchstart",g,!0),n.addEventListener("click",b,!0),n.addEventListener("keydown",y,!0),u}function h(){if(c.active)return n.removeEventListener("focusin",v,!0),n.removeEventListener("mousedown",g,!0),n.removeEventListener("touchstart",g,!0),n.removeEventListener("click",b,!0),n.removeEventListener("keydown",y,!0),u}function f(e){var t=l[e],a=t;if(!t)return null;if("string"==typeof t&&!(a=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(a=t()))throw new Error("`"+e+"` did not return a node");return a}function m(){var e;if(!(e=null!==f("initialFocus")?f("initialFocus"):a.contains(n.activeElement)?n.activeElement:c.firstTabbableNode||f("fallbackFocus")))throw new Error("You can't have a focus-trap without at least one focusable element");return e}function g(e){a.contains(e.target)||(l.clickOutsideDeactivates?d({returnFocus:!r.isFocusable(e.target)}):e.preventDefault())}function v(e){a.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),E(c.mostRecentlyFocusedNode||m()))}function y(e){if(!1!==l.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void d();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(C(),e.shiftKey&&e.target===c.firstTabbableNode)return e.preventDefault(),void E(c.lastTabbableNode);if(!e.shiftKey&&e.target===c.lastTabbableNode)e.preventDefault(),E(c.firstTabbableNode)}(e)}function b(e){l.clickOutsideDeactivates||a.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function C(){var e=r(a);c.firstTabbableNode=e[0]||m(),c.lastTabbableNode=e[e.length-1]||m()}function E(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),c.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):E(m()))}}},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],a=n.join(","),r="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function i(e,t){t=t||{};var n,i,o,l=[],d=[],h=new p(e.ownerDocument||e),f=e.querySelectorAll(a);for(t.includeContainer&&r.call(e,a)&&(f=Array.prototype.slice.apply(f)).unshift(e),n=0;n<f.length;n++)s(i=f[n],h)&&(0===(o=c(i))?l.push(i):d.push({documentOrder:n,tabIndex:o,node:i}));return d.sort(u).map((function(e){return e.node})).concat(l)}function s(e,t){return!(!o(e,t)||function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||c(e)<0)}function o(e,t){return t=t||new p(e.ownerDocument||e),!(e.disabled||function(e){return d(e)&&"hidden"===e.type}(e)||t.isUntouchable(e))}i.isTabbable=function(e,t){if(!e)throw new Error("No node provided");return!1!==r.call(e,a)&&s(e,t)},i.isFocusable=function(e,t){if(!e)throw new Error("No node provided");return!1!==r.call(e,l)&&o(e,t)};var l=n.concat("iframe").join(",");function c(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function u(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"INPUT"===e.tagName}function p(e){this.doc=e,this.cache=[]}p.prototype.hasDisplayNone=function(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=function(e,t){for(var n=0,a=e.length;n<a;n++)if(t(e[n]))return e[n]}(this.cache,(function(t){return t===e}));if(n)return n[1];var a=!1;return"none"===(t=t||this.doc.defaultView.getComputedStyle(e)).display?a=!0:e.parentNode&&(a=this.hasDisplayNone(e.parentNode)),this.cache.push([e,a]),a},p.prototype.isUntouchable=function(e){if(e===this.doc.documentElement)return!1;var t=this.doc.defaultView.getComputedStyle(e);return!!this.hasDisplayNone(e,t)||"hidden"===t.visibility},e.exports=i},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];for(var r in a)n.call(a,r)&&(e[r]=a[r])}return e};var n=Object.prototype.hasOwnProperty},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(61),r=n.n(a),i=n(2),s=n.n(i),o=n(15),l=n.n(o),c=function(e){var t=e.left,n=e.right,a=e.keys;return void 0===a?t!==n:!!l()(a,(function(e){return!(r()(t[e])&&r()(n[e])&&s()(t[e])&&s()(n[e]))&&t[e]!==n[e]}))},u=n(77),d=n.n(u);function p(e){var t=e.left,n=e.right,a=e.keys;return void 0===a?!d()(t,n):!!l()(a,(function(e){return!d()(t[e],n[e])}))}n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return p}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=(n(1292),function(e){var t=e.className,n=e.type,a=e.text,i=e.isSmall,o=e.children,l=s()("ducp-component-badge",t);return r.a.createElement("div",{className:l},r.a.createElement("span",{className:s()("spark-badge",{"spark-badge--sm":i},"spark-badge--".concat(n))},a||o))});o.defaultProps={type:"neutral",isSmall:!0,text:void 0,className:void 0,children:void 0},o.TYPES={NEUTRAL:"neutral",WARNING:"warning",CRITICAL:"critical",SUCCESS:"success"};var l=o;t.a=l},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),i=n(2),s=n.n(i),o=n(19),l=n.n(o);function c(e){var t=e.pnr,n=e.firstName,a=e.lastName,i=e.email,o=e.flow;return r()(l()([t,n,a,i,o],(function(e){return!s()(e)})),(function(e){return e.toUpperCase()})).join("_")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={REJECT:"REJECT",REVIEW:"REVIEW",OK:"OK",ACCEPT:"ACCEPT"}},function(e,t,n){var a,r;!function(e){"use strict";if(!e.jQuery){var t=function(e,n){return new t.fn.init(e,n)};t.isWindow=function(e){return e&&e===e.window},t.type=function(e){return e?"object"==typeof e||"function"==typeof e?a[i.call(e)]||"object":typeof e:e+""},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isPlainObject=function(e){var n;if(!e||"object"!==t.type(e)||e.nodeType||t.isWindow(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(n in e);return void 0===n||r.call(e,n)},t.each=function(e,t,n){var a=0,r=e.length,i=l(e);if(n){if(i)for(;a<r&&!1!==t.apply(e[a],n);a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===t.apply(e[a],n))break}else if(i)for(;a<r&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===t.call(e[a],a,e[a]))break;return e},t.data=function(e,a,r){if(void 0===r){var i=e[t.expando],s=i&&n[i];if(void 0===a)return s;if(s&&a in s)return s[a]}else if(void 0!==a){var o=e[t.expando]||(e[t.expando]=++t.uuid);return n[o]=n[o]||{},n[o][a]=r,r}},t.removeData=function(e,a){var r=e[t.expando],i=r&&n[r];i&&(a?t.each(a,(function(e,t){delete i[t]})):delete n[r])},t.extend=function(){var e,n,a,r,i,s,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[l]||{},l++),"object"!=typeof o&&"function"!==t.type(o)&&(o={}),l===c&&(o=this,l--);l<c;l++)if(i=arguments[l])for(r in i)i.hasOwnProperty(r)&&(e=o[r],o!==(a=i[r])&&(u&&a&&(t.isPlainObject(a)||(n=t.isArray(a)))?(n?(n=!1,s=e&&t.isArray(e)?e:[]):s=e&&t.isPlainObject(e)?e:{},o[r]=t.extend(u,s,a)):void 0!==a&&(o[r]=a)));return o},t.queue=function(e,n,a){if(e){n=(n||"fx")+"queue";var r,i,s,o=t.data(e,n);return a?(!o||t.isArray(a)?o=t.data(e,n,(s=i||[],(r=a)&&(l(Object(r))?function(e,t){for(var n=+t.length,a=0,r=e.length;a<n;)e[r++]=t[a++];if(n!=n)for(;void 0!==t[a];)e[r++]=t[a++];e.length=r}(s,"string"==typeof r?[r]:r):[].push.call(s,r)),s)):o.push(a),o):o||[]}},t.dequeue=function(e,n){t.each(e.nodeType?[e]:e,(function(e,a){n=n||"fx";var r=t.queue(a,n),i=r.shift();"inprogress"===i&&(i=r.shift()),i&&("fx"===n&&r.unshift("inprogress"),i.call(a,(function(){t.dequeue(a,n)})))}))},t.fn=t.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],n=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position.toLowerCase();)t=t.offsetParent;return t||document}(e),a=this.offset(),r=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:t(n).offset();return a.top-=parseFloat(e.style.marginTop)||0,a.left-=parseFloat(e.style.marginLeft)||0,n.style&&(r.top+=parseFloat(n.style.borderTopWidth)||0,r.left+=parseFloat(n.style.borderLeftWidth)||0),{top:a.top-r.top,left:a.left-r.left}}};var n={};t.expando="velocity"+(new Date).getTime(),t.uuid=0;for(var a={},r=a.hasOwnProperty,i=a.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),o=0;o<s.length;o++)a["[object "+s[o]+"]"]=s[o].toLowerCase();t.fn.init.prototype=t.fn,e.Velocity={Utilities:t}}function l(e){var n=e.length,a=t.type(e);return"function"!==a&&!t.isWindow(e)&&(!(1!==e.nodeType||!n)||("array"===a||0===n||"number"==typeof n&&n>0&&n-1 in e))}}(window),function(i){"use strict";"object"==typeof e.exports?e.exports=i():void 0===(r="function"==typeof(a=i)?a.call(t,n,t,e):a)||(e.exports=r)}((function(){"use strict";return function(e,t,n,a){var r,i=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}(),s=(r=0,t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){var t,n=(new Date).getTime();return t=Math.max(0,16-(n-r)),r=n+t,setTimeout((function(){e(n+t)}),t)}),o=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}();var l=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var a=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=a),this.slice)return e.call(this,t,n);var r,i=[],s=t>=0?t:Math.max(0,a+t),o=(n<0?a+n:Math.min(n,a))-s;if(o>0)if(i=new Array(o),this.charAt)for(r=0;r<o;r++)i[r]=this.charAt(s+r);else for(r=0;r<o;r++)i[r]=this[s+r];return i}}}(),c=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}};function u(e){return p.isWrapped(e)?e=l.call(e):p.isNode(e)&&(e=[e]),e}var d,p={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&p.isNumber(e.length)&&!p.isString(e)&&!p.isFunction(e)&&!p.isNode(e)&&(0===e.length||p.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},h=!1;if(e.fn&&e.fn.jquery?(d=e,h=!0):d=t.Velocity.Utilities,i<=8&&!h)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(i<=7)){var f={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),isAndroid:/Android/i.test(t.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(t.navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(t.navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:d,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:void 0,complete:void 0,progress:void 0,display:void 0,visibility:void 0,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){d.data(e,"velocity",{isSVG:p.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:2},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();d.each(f.State.calls,(function(t,n){if(n){if(void 0!==e&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}})),d.each(f.State.delayedElements,(function(e,n){n&&E(n,t)}))},resumeAll:function(e){var t=(new Date).getTime();d.each(f.State.calls,(function(t,n){if(n){if(void 0!==e&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}})),d.each(f.State.delayedElements,(function(e,n){n&&k(n,t)}))}};void 0!==t.pageYOffset?(f.State.scrollAnchor=t,f.State.scrollPropertyLeft="pageXOffset",f.State.scrollPropertyTop="pageYOffset"):(f.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,f.State.scrollPropertyLeft="scrollLeft",f.State.scrollPropertyTop="scrollTop");var m=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,a){var r={x:t.x+a.dx*n,v:t.v+a.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,a){var r={dx:n.v,dv:e(n)},i=t(n,.5*a,r),s=t(n,.5*a,i),o=t(n,a,s),l=1/6*(r.dx+2*(i.dx+s.dx)+o.dx),c=1/6*(r.dv+2*(i.dv+s.dv)+o.dv);return n.x=n.x+l*a,n.v=n.v+c*a,n}return function e(t,a,r){var i,s,o,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0;for(t=parseFloat(t)||500,a=parseFloat(a)||20,r=r||null,l.tension=t,l.friction=a,s=(i=null!==r)?(u=e(t,a))/r*.016:.016;o=n(o||l,s),c.push(1+o.x),u+=16,Math.abs(o.x)>1e-4&&Math.abs(o.v)>1e-4;);return i?function(e){return c[e*(c.length-1)|0]}:u}}();f.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},d.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(e,t){f.Easings[t[0]]=_.apply(null,t[1])}));var g=f.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<g.Lists.colors.length;e++){var t="color"===g.Lists.colors[e]?"0 0 0 1":"255 255 255 1";g.Hooks.templates[g.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,a,r;if(i)for(n in g.Hooks.templates)if(g.Hooks.templates.hasOwnProperty(n)){r=(a=g.Hooks.templates[n])[0].split(" ");var s=a[1].match(g.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),s.push(s.shift()),g.Hooks.templates[n]=[r.join(" "),s.join(" ")])}for(n in g.Hooks.templates)if(g.Hooks.templates.hasOwnProperty(n))for(var o in r=(a=g.Hooks.templates[n])[0].split(" "))if(r.hasOwnProperty(o)){var l=n+r[o],c=o;g.Hooks.registered[l]=[n,c]}},getRoot:function(e){var t=g.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&c(g.Lists.units)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,(function(e,t,n){return g.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+g.Lists.colorNames[n]+(t?"":",1)"):t+n}))},cleanRootPropertyValue:function(e,t){return g.RegEx.valueUnwrap.test(t)&&(t=t.match(g.RegEx.valueUnwrap)[1]),g.Values.isCSSNullValue(t)&&(t=g.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=g.Hooks.registered[e];if(n){var a=n[0],r=n[1];return(t=g.Hooks.cleanRootPropertyValue(a,t)).toString().match(g.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var a=g.Hooks.registered[e];if(a){var r,i=a[0],s=a[1];return(r=(n=g.Hooks.cleanRootPropertyValue(i,n)).toString().match(g.RegEx.valueSplit))[s]=t,r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var a;return a=g.RegEx.wrappedValueAlreadyExtracted.test(n)?n:(a=n.toString().match(g.RegEx.valueUnwrap))?a[1].replace(/,(\s+)?/g," "):n;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return f.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(n);if(!a&&0!==a){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=r?r[1]:0}return a;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(i<=8)switch(e){case"name":return"filter";case"extract":var a=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){i&&!(i>9)||f.State.isGingerbread||(g.Lists.transformsBase=g.Lists.transformsBase.concat(g.Lists.transforms3D));for(var e=0;e<g.Lists.transformsBase.length;e++)!function(){var t=g.Lists.transformsBase[e];g.Normalizations.registered[t]=function(e,n,a){switch(e){case"name":return"transform";case"extract":return void 0===C(n)||void 0===C(n).transformCache[t]?/^scale/i.test(t)?1:0:C(n).transformCache[t].replace(/[()]/g,"");case"inject":var r=!1;switch(t.substr(0,t.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":f.State.isAndroid&&void 0===C(n).transformCache[t]&&a<1&&(a=1),r=!/(\d)$/i.test(a);break;case"skew":case"rotate":r=!/(deg|\d)$/i.test(a)}return r||(C(n).transformCache[t]="("+a+")"),C(n).transformCache[t]}}}();for(var t=0;t<g.Lists.colors.length;t++)!function(){var e=g.Lists.colors[t];g.Normalizations.registered[e]=function(t,n,a){switch(t){case"name":return e;case"extract":var r;if(g.RegEx.wrappedValueAlreadyExtracted.test(a))r=a;else{var s,o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?s=void 0!==o[a]?o[a]:o.black:g.RegEx.isHex.test(a)?s="rgb("+g.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(s=o.black),r=(s||a).toString().match(g.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!i||i>8)&&3===r.split(" ").length&&(r+=" 1"),r;case"inject":return/^rgb/.test(a)?a:(i<=8?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(i<=8?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();function n(e,t,n){if("border-box"===g.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var a,r,i=0,s="width"===e?["Left","Right"]:["Top","Bottom"],o=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(a=0;a<o.length;a++)r=parseFloat(g.getPropertyValue(t,o[a])),isNaN(r)||(i+=r);return n?-i:i}return 0}function a(e,t){return function(a,r,i){switch(a){case"name":return e;case"extract":return parseFloat(i)+n(e,r,t);case"inject":return parseFloat(i)-n(e,r,t)+"px"}}}g.Normalizations.registered.innerWidth=a("width",!0),g.Normalizations.registered.innerHeight=a("height",!0),g.Normalizations.registered.outerWidth=a("width"),g.Normalizations.registered.outerHeight=a("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(i||f.State.isAndroid&&!f.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(f.State.prefixMatches[e])return[f.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,a=t.length;n<a;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,(function(e){return e.toUpperCase()})),p.isString(f.State.prefixElement.style[r]))return f.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a})),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(p.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(i<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(p.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(i<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,a,r){function s(e,n){var a=0;if(i<=8)a=d.css(e,n);else{var o=!1;/^(width|height)$/.test(n)&&0===g.getPropertyValue(e,"display")&&(o=!0,g.setPropertyValue(e,"display",g.Values.getDisplayType(e)));var l,c=function(){o&&g.setPropertyValue(e,"display","none")};if(!r){if("height"===n&&"border-box"!==g.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(g.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(g.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(g.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(g.getPropertyValue(e,"paddingBottom"))||0);return c(),u}if("width"===n&&"border-box"!==g.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(g.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(g.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(g.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(g.getPropertyValue(e,"paddingRight"))||0);return c(),p}}l=void 0===C(e)?t.getComputedStyle(e,null):C(e).computedStyle?C(e).computedStyle:C(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),""!==(a=9===i&&"filter"===n?l.getPropertyValue(n):l[n])&&null!==a||(a=e.style[n]),c()}if("auto"===a&&/^(top|right|bottom|left)$/i.test(n)){var h=s(e,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(n))&&(a=d(e).position()[n]+"px")}return a}var o;if(g.Hooks.registered[n]){var l=n,c=g.Hooks.getRoot(l);void 0===a&&(a=g.getPropertyValue(e,g.Names.prefixCheck(c)[0])),g.Normalizations.registered[c]&&(a=g.Normalizations.registered[c]("extract",e,a)),o=g.Hooks.extractValue(l,a)}else if(g.Normalizations.registered[n]){var u,p;"transform"!==(u=g.Normalizations.registered[n]("name",e))&&(p=s(e,g.Names.prefixCheck(u)[0]),g.Values.isCSSNullValue(p)&&g.Hooks.templates[n]&&(p=g.Hooks.templates[n][1])),o=g.Normalizations.registered[n]("extract",e,p)}if(!/^[\d-]/.test(o)){var h=C(e);if(h&&h.isSVG&&g.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{o=e.getBBox()[n]}catch(e){o=0}else o=e.getAttribute(n);else o=s(e,g.Names.prefixCheck(n)[0])}return g.Values.isCSSNullValue(o)&&(o=0),f.debug>=2&&console.log("Get "+n+": "+o),o},setPropertyValue:function(e,n,a,r,s){var o=n;if("scroll"===n)s.container?s.container["scroll"+s.direction]=a:"Left"===s.direction?t.scrollTo(a,s.alternateValue):t.scrollTo(s.alternateValue,a);else if(g.Normalizations.registered[n]&&"transform"===g.Normalizations.registered[n]("name",e))g.Normalizations.registered[n]("inject",e,a),o="transform",a=C(e).transformCache[n];else{if(g.Hooks.registered[n]){var l=n,c=g.Hooks.getRoot(n);r=r||g.getPropertyValue(e,c),a=g.Hooks.injectValue(l,a,r),n=c}if(g.Normalizations.registered[n]&&(a=g.Normalizations.registered[n]("inject",e,a),n=g.Normalizations.registered[n]("name",e)),o=g.Names.prefixCheck(n)[0],i<=8)try{e.style[o]=a}catch(e){f.debug&&console.log("Browser does not support ["+a+"] for ["+o+"]")}else{var u=C(e);u&&u.isSVG&&g.Names.SVGAttribute(n)?e.setAttribute(n,a):e.style[o]=a}f.debug>=2&&console.log("Set "+n+" ("+o+"): "+a)}return[o,a]},flushTransformCache:function(e){var t="",n=C(e);if((i||f.State.isAndroid&&!f.State.isChrome)&&n&&n.isSVG){var a=function(t){return parseFloat(g.getPropertyValue(e,t))},r={translate:[a("translateX"),a("translateY")],skewX:[a("skewX")],skewY:[a("skewY")],scale:1!==a("scale")?[a("scale"),a("scale")]:[a("scaleX"),a("scaleY")],rotate:[a("rotateZ"),0,0]};d.each(C(e).transformCache,(function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(t+=e+"("+r[e].join(" ")+") ",delete r[e])}))}else{var s,o;d.each(C(e).transformCache,(function(n){if(s=C(e).transformCache[n],"transformPerspective"===n)return o=s,!0;9===i&&"rotateZ"===n&&(n="rotate"),t+=n+s+" "})),o&&(t="perspective"+o+" "+t)}g.setPropertyValue(e,"transform",t)}};g.Hooks.register(),g.Normalizations.register(),f.hook=function(e,t,n){var a;return e=u(e),d.each(e,(function(e,r){if(void 0===C(r)&&f.init(r),void 0===n)void 0===a&&(a=g.getPropertyValue(r,t));else{var i=g.setPropertyValue(r,t,n);"transform"===i[0]&&f.CSS.flushTransformCache(r),a=i}})),a};var v=function(){var e;function a(){return r?y.promise||null:i}var r,i,s,o,l,h,m=arguments[0]&&(arguments[0].p||d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));p.isWrapped(this)?(r=!1,s=0,o=this,i=this):(r=!0,s=1,o=m?arguments[0].elements||arguments[0].e:arguments[0]);var y={promise:null,resolver:null,rejecter:null};if(r&&f.Promise&&(y.promise=new f.Promise((function(e,t){y.resolver=e,y.rejecter=t}))),m?(l=arguments[0].properties||arguments[0].p,h=arguments[0].options||arguments[0].o):(l=arguments[s],h=arguments[s+1]),o=u(o)){var b,O=o.length,_=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(l)&&!d.isPlainObject(h)){var w=s+1;h={};for(var A=w;A<arguments.length;A++)p.isArray(arguments[A])||!/^(fast|normal|slow)$/i.test(arguments[A])&&!/^\d/.test(arguments[A])?p.isString(arguments[A])||p.isArray(arguments[A])?h.easing=arguments[A]:p.isFunction(arguments[A])&&(h.complete=arguments[A]):h.duration=arguments[A]}switch(l){case"scroll":b="scroll";break;case"reverse":b="reverse";break;case"pause":var T=(new Date).getTime();return d.each(o,(function(e,t){E(t,T)})),d.each(f.State.calls,(function(e,t){var n=!1;t&&d.each(t[1],(function(e,a){var r=void 0===h?"":h;return!0!==r&&t[2].queue!==r&&(void 0!==h||!1!==t[2].queue)||(d.each(o,(function(e,r){if(r===a)return t[5]={resume:!1},n=!0,!1})),!n&&void 0)}))})),a();case"resume":return d.each(o,(function(e,t){k(t)})),d.each(f.State.calls,(function(e,t){var n=!1;t&&d.each(t[1],(function(e,a){var r=void 0===h?"":h;return!0!==r&&t[2].queue!==r&&(void 0!==h||!1!==t[2].queue)||(!t[5]||(d.each(o,(function(e,r){if(r===a)return t[5].resume=!0,n=!0,!1})),!n&&void 0))}))})),a();case"finish":case"finishAll":case"stop":d.each(o,(function(e,t){C(t)&&C(t).delayTimer&&(clearTimeout(C(t).delayTimer.setTimeout),C(t).delayTimer.next&&C(t).delayTimer.next(),delete C(t).delayTimer),"finishAll"!==l||!0!==h&&!p.isString(h)||(d.each(d.queue(t,p.isString(h)?h:""),(function(e,t){p.isFunction(t)&&t()})),d.queue(t,p.isString(h)?h:"",[]))}));var I=[];return d.each(f.State.calls,(function(e,t){t&&d.each(t[1],(function(n,a){var r=void 0===h?"":h;if(!0!==r&&t[2].queue!==r&&(void 0!==h||!1!==t[2].queue))return!0;d.each(o,(function(n,i){if(i===a)if((!0===h||p.isString(h))&&(d.each(d.queue(i,p.isString(h)?h:""),(function(e,t){p.isFunction(t)&&t(null,!0)})),d.queue(i,p.isString(h)?h:"",[])),"stop"===l){var s=C(i);s&&s.tweensContainer&&(!0===r||""===r)&&d.each(s.tweensContainer,(function(e,t){t.endValue=t.currentValue})),I.push(e)}else"finish"!==l&&"finishAll"!==l||(t[2].duration=1)}))}))})),"stop"===l&&(d.each(I,(function(e,t){N(t,!0)})),y.promise&&y.resolver(o)),a();default:if(!d.isPlainObject(l)||p.isEmptyObject(l)){if(p.isString(l)&&f.Redirects[l]){var D=(e=d.extend({},h)).duration,x=e.delay||0;return!0===e.backwards&&(o=d.extend(!0,[],o).reverse()),d.each(o,(function(t,n){parseFloat(e.stagger)?e.delay=x+parseFloat(e.stagger)*t:p.isFunction(e.stagger)&&(e.delay=x+e.stagger.call(n,t,O)),e.drag&&(e.duration=parseFloat(D)||(/^(callout|transition)/.test(l)?1e3:400),e.duration=Math.max(e.duration*(e.backwards?1-t/O:(t+1)/O),.75*e.duration,200)),f.Redirects[l].call(n,n,e||{},t,O,o,y.promise?y:void 0)})),a()}var j="Velocity: First argument ("+l+") was not a property map, a known action, or a registered redirect. Aborting.";return y.promise?y.rejecter(new Error(j)):t.console&&console.log(j),a()}b="start"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F=[];d.each(o,(function(e,t){p.isNode(t)&&V(t,e)})),(e=d.extend({},f.defaults,h)).loop=parseInt(e.loop,10);var B=2*e.loop-1;if(e.loop)for(var R=0;R<B;R++){var M={delay:e.delay,progress:e.progress};R===B-1&&(M.display=e.display,M.visibility=e.visibility,M.complete=e.complete),v(o,"reverse",M)}return a()}function V(e,a){var r,i,s=d.extend({},f.defaults,h),u={};switch(void 0===C(e)&&f.init(e),parseFloat(s.delay)&&!1!==s.queue&&d.queue(e,s.queue,(function(t,n){if(!0===n)return!0;f.velocityQueueEntryFlag=!0;var a=f.State.delayedElements.count++;f.State.delayedElements[a]=e;var r,i=(r=a,function(){f.State.delayedElements[r]=!1,t()});C(e).delayBegin=(new Date).getTime(),C(e).delay=parseFloat(s.delay),C(e).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:i}})),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=400;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}function m(i){var m,v;if(s.begin&&0===_)try{s.begin.call(o,o)}catch(e){setTimeout((function(){throw e}),1)}if("scroll"===b){var E,k,N,w=/^x$/i.test(s.axis)?"Left":"Top",A=parseFloat(s.offset)||0;s.container?p.isWrapped(s.container)||p.isNode(s.container)?(s.container=s.container[0]||s.container,N=(E=s.container["scroll"+w])+d(e).position()[w.toLowerCase()]+A):s.container=null:(E=f.State.scrollAnchor[f.State["scrollProperty"+w]],k=f.State.scrollAnchor[f.State["scrollProperty"+("Left"===w?"Top":"Left")]],N=d(e).offset()[w.toLowerCase()]+A),u={scroll:{rootPropertyValue:!1,startValue:E,currentValue:E,endValue:N,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:w,alternateValue:k}},element:e},f.debug&&console.log("tweensContainer (scroll): ",u.scroll,e)}else if("reverse"===b){if(!(m=C(e)))return;if(!m.tweensContainer)return void d.dequeue(e,s.queue);for(var T in"none"===m.opts.display&&(m.opts.display="auto"),"hidden"===m.opts.visibility&&(m.opts.visibility="visible"),m.opts.loop=!1,m.opts.begin=null,m.opts.complete=null,h.easing||delete s.easing,h.duration||delete s.duration,s=d.extend({},m.opts,s),v=d.extend(!0,{},m?m.tweensContainer:null))if(v.hasOwnProperty(T)&&"element"!==T){var I=v[T].startValue;v[T].startValue=v[T].currentValue=v[T].endValue,v[T].endValue=I,p.isEmptyObject(h)||(v[T].easing=s.easing),f.debug&&console.log("reverse tweensContainer ("+T+"): "+JSON.stringify(v[T]),e)}u=v}else if("start"===b){(m=C(e))&&m.tweensContainer&&!0===m.isAnimating&&(v=m.tweensContainer);var D=function(t,n){var r,i,o;return p.isFunction(t)&&(t=t.call(e,a,O)),p.isArray(t)?(r=t[0],!p.isArray(t[1])&&/^[\d-]/.test(t[1])||p.isFunction(t[1])||g.RegEx.isHex.test(t[1])?o=t[1]:p.isString(t[1])&&!g.RegEx.isHex.test(t[1])&&f.Easings[t[1]]||p.isArray(t[1])?(i=n?t[1]:P(t[1],s.duration),o=t[2]):o=t[1]||t[2]):r=t,n||(i=i||s.easing),p.isFunction(r)&&(r=r.call(e,a,O)),p.isFunction(o)&&(o=o.call(e,a,O)),[r||0,i,o]},x=function(a,i){var o,l=g.Hooks.getRoot(a),c=!1,h=i[0],y=i[1],b=i[2];if(m&&m.isSVG||"tween"===l||!1!==g.Names.prefixCheck(l)[1]||void 0!==g.Normalizations.registered[l]){(void 0!==s.display&&null!==s.display&&"none"!==s.display||void 0!==s.visibility&&"hidden"!==s.visibility)&&/opacity|filter/.test(a)&&!b&&0!==h&&(b=0),s._cacheValues&&v&&v[a]?(void 0===b&&(b=v[a].endValue+v[a].unitType),c=m.rootPropertyValueCache[l]):g.Hooks.registered[a]?void 0===b?(c=g.getPropertyValue(e,l),b=g.getPropertyValue(e,a,c)):c=g.Hooks.templates[l][1]:void 0===b&&(b=g.getPropertyValue(e,a));var C,E,k,O=!1,_=function(e,t){var n,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(e){return n=e,""})),n||(n=g.Values.getUnitType(e)),[a,n]};if(b!==h&&p.isString(b)&&p.isString(h)){o="";var P=0,S=0,N=[],w=[],A=0,T=0,I=0;for(b=g.Hooks.fixColors(b),h=g.Hooks.fixColors(h);P<b.length&&S<h.length;){var D=b[P],x=h[S];if(/[\d\.-]/.test(D)&&/[\d\.-]/.test(x)){for(var j=D,F=x,B=".",R=".";++P<b.length;){if((D=b[P])===B)B="..";else if(!/\d/.test(D))break;j+=D}for(;++S<h.length;){if((x=h[S])===R)R="..";else if(!/\d/.test(x))break;F+=x}var M=g.Hooks.getUnit(b,P),V=g.Hooks.getUnit(h,S);if(P+=M.length,S+=V.length,M===V)j===F?o+=j+M:(o+="{"+N.length+(T?"!":"")+"}"+M,N.push(parseFloat(j)),w.push(parseFloat(F)));else{var U=parseFloat(j),q=parseFloat(F);o+=(A<5?"calc":"")+"("+(U?"{"+N.length+(T?"!":"")+"}":"0")+M+" + "+(q?"{"+(N.length+(U?1:0))+(T?"!":"")+"}":"0")+V+")",U&&(N.push(U),w.push(0)),q&&(N.push(0),w.push(q))}}else{if(D!==x){A=0;break}o+=D,P++,S++,0===A&&"c"===D||1===A&&"a"===D||2===A&&"l"===D||3===A&&"c"===D||A>=4&&"("===D?A++:(A&&A<5||A>=4&&")"===D&&--A<5)&&(A=0),0===T&&"r"===D||1===T&&"g"===D||2===T&&"b"===D||3===T&&"a"===D||T>=3&&"("===D?(3===T&&"a"===D&&(I=1),T++):I&&","===D?++I>3&&(T=I=0):(I&&T<(I?5:4)||T>=(I?4:3)&&")"===D&&--T<(I?5:4))&&(T=I=0)}}P===b.length&&S===h.length||(f.debug&&console.error('Trying to pattern match mis-matched strings ["'+h+'", "'+b+'"]'),o=void 0),o&&(N.length?(f.debug&&console.log('Pattern found "'+o+'" -> ',N,w,"["+b+","+h+"]"),b=N,h=w,E=k=""):o=void 0)}o||(b=(C=_(a,b))[0],k=C[1],h=(C=_(a,h))[0].replace(/^([+-\/*])=/,(function(e,t){return O=t,""})),E=C[1],b=parseFloat(b)||0,h=parseFloat(h)||0,"%"===E&&(/^(fontSize|lineHeight)$/.test(a)?(h/=100,E="em"):/^scale/.test(a)?(h/=100,E=""):/(Red|Green|Blue)$/i.test(a)&&(h=h/100*255,E="")));if(/[\/*]/.test(O))E=k;else if(k!==E&&0!==b)if(0===h)E=k;else{r=r||function(){var a={myParent:e.parentNode||n.body,position:g.getPropertyValue(e,"position"),fontSize:g.getPropertyValue(e,"fontSize")},r=a.position===L.lastPosition&&a.myParent===L.lastParent,i=a.fontSize===L.lastFontSize;L.lastParent=a.myParent,L.lastPosition=a.position,L.lastFontSize=a.fontSize;var s={};if(i&&r)s.emToPx=L.lastEmToPx,s.percentToPxWidth=L.lastPercentToPxWidth,s.percentToPxHeight=L.lastPercentToPxHeight;else{var o=m&&m.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");f.init(o),a.myParent.appendChild(o),d.each(["overflow","overflowX","overflowY"],(function(e,t){f.CSS.setPropertyValue(o,t,"hidden")})),f.CSS.setPropertyValue(o,"position",a.position),f.CSS.setPropertyValue(o,"fontSize",a.fontSize),f.CSS.setPropertyValue(o,"boxSizing","content-box"),d.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(e,t){f.CSS.setPropertyValue(o,t,"100%")})),f.CSS.setPropertyValue(o,"paddingLeft","100em"),s.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(g.getPropertyValue(o,"width",null,!0))||1)/100,s.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(g.getPropertyValue(o,"height",null,!0))||1)/100,s.emToPx=L.lastEmToPx=(parseFloat(g.getPropertyValue(o,"paddingLeft"))||1)/100,a.myParent.removeChild(o)}return null===L.remToPx&&(L.remToPx=parseFloat(g.getPropertyValue(n.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(t.innerWidth)/100,L.vhToPx=parseFloat(t.innerHeight)/100),s.remToPx=L.remToPx,s.vwToPx=L.vwToPx,s.vhToPx=L.vhToPx,f.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s}();var H=/margin|padding|left|right|width|text|word|letter/i.test(a)||/X$/.test(a)||"x"===a?"x":"y";switch(k){case"%":b*="x"===H?r.percentToPxWidth:r.percentToPxHeight;break;case"px":break;default:b*=r[k+"ToPx"]}switch(E){case"%":b*=1/("x"===H?r.percentToPxWidth:r.percentToPxHeight);break;case"px":break;default:b*=1/r[E+"ToPx"]}}switch(O){case"+":h=b+h;break;case"-":h=b-h;break;case"*":h*=b;break;case"/":h=b/h}u[a]={rootPropertyValue:c,startValue:b,currentValue:b,endValue:h,unitType:E,easing:y},o&&(u[a].pattern=o),f.debug&&console.log("tweensContainer ("+a+"): "+JSON.stringify(u[a]),e)}else f.debug&&console.log("Skipping ["+l+"] due to a lack of browser support.")};for(var j in l)if(l.hasOwnProperty(j)){var B=g.Names.camelCase(j),R=D(l[j]);if(c(g.Lists.colors)){var M=R[0],V=R[1],U=R[2];if(g.RegEx.isHex.test(M)){for(var q=["Red","Green","Blue"],H=g.Values.hexToRgb(M),W=U?g.Values.hexToRgb(U):void 0,G=0;G<q.length;G++){var K=[H[G]];V&&K.push(V),void 0!==W&&K.push(W[G]),x(B+q[G],K)}continue}}x(B,R)}u.element=e}u.element&&(g.Values.addClass(e,"velocity-animating"),F.push(u),(m=C(e))&&(""===s.queue&&(m.tweensContainer=u,m.opts=s),m.isAnimating=!0),_===O-1?(f.State.calls.push([F,o,s,null,y.resolver,null,0]),!1===f.State.isTicking&&(f.State.isTicking=!0,S())):_++)}if(!1!==f.mock&&(!0===f.mock?s.duration=s.delay=1:(s.duration*=parseFloat(f.mock)||1,s.delay*=parseFloat(f.mock)||1)),s.easing=P(s.easing,s.duration),s.begin&&!p.isFunction(s.begin)&&(s.begin=null),s.progress&&!p.isFunction(s.progress)&&(s.progress=null),s.complete&&!p.isFunction(s.complete)&&(s.complete=null),void 0!==s.display&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=f.CSS.Values.getDisplayType(e))),void 0!==s.visibility&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&f.State.isMobile&&!f.State.isGingerbread,!1===s.queue)if(s.delay){var v=f.State.delayedElements.count++;f.State.delayedElements[v]=e;var E=(i=v,function(){f.State.delayedElements[i]=!1,m()});C(e).delayBegin=(new Date).getTime(),C(e).delay=parseFloat(s.delay),C(e).delayTimer={setTimeout:setTimeout(m,parseFloat(s.delay)),next:E}}else m();else d.queue(e,s.queue,(function(e,t){if(!0===t)return y.promise&&y.resolver(o),!0;f.velocityQueueEntryFlag=!0,m()}));""!==s.queue&&"fx"!==s.queue||"inprogress"===d.queue(e)[0]||d.dequeue(e)}y.promise&&(l&&h&&!1===h.promiseRejectEmpty?y.resolver():y.rejecter())};(f=d.extend(v,f)).animate=v;var y=t.requestAnimationFrame||s;if(!f.State.isMobile&&void 0!==n.hidden){var b=function(){n.hidden?(y=function(e){return setTimeout((function(){e(!0)}),16)},S()):y=t.requestAnimationFrame||s};b(),n.addEventListener("visibilitychange",b)}return e.Velocity=f,e!==t&&(e.fn.velocity=v,e.fn.velocity.defaults=f.defaults),d.each(["Down","Up"],(function(e,t){f.Redirects["slide"+t]=function(e,n,a,r,i,s){var o=d.extend({},n),l=o.begin,c=o.complete,u={},p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};void 0===o.display&&(o.display="Down"===t?"inline"===f.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),o.begin=function(){for(var n in 0===a&&l&&l.call(i,i),p)if(p.hasOwnProperty(n)){u[n]=e.style[n];var r=g.getPropertyValue(e,n);p[n]="Down"===t?[r,0]:[0,r]}u.overflow=e.style.overflow,e.style.overflow="hidden"},o.complete=function(){for(var t in u)u.hasOwnProperty(t)&&(e.style[t]=u[t]);a===r-1&&(c&&c.call(i,i),s&&s.resolver(i))},f(e,p,o)}})),d.each(["In","Out"],(function(e,t){f.Redirects["fade"+t]=function(e,n,a,r,i,s){var o=d.extend({},n),l=o.complete,c={opacity:"In"===t?1:0};0!==a&&(o.begin=null),o.complete=a!==r-1?null:function(){l&&l.call(i,i),s&&s.resolver(i)},void 0===o.display&&(o.display="In"===t?"auto":"none"),f(this,c,o)}})),f}function C(e){var t=d.data(e,"velocity");return null===t?void 0:t}function E(e,t){var n=C(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function k(e,t){var n=C(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function O(e){return function(t){return Math.round(t*e)*(1/e)}}function _(e,n,a,r){var i=4,s=.001,o=1e-7,l=10,c=11,u=1/(c-1),d="Float32Array"in t;if(4!==arguments.length)return!1;for(var p=0;p<4;++p)if("number"!=typeof arguments[p]||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var h=d?new Float32Array(c):new Array(c);function f(e,t){return 1-3*t+3*e}function m(e,t){return 3*t-6*e}function g(e){return 3*e}function v(e,t,n){return((f(t,n)*e+m(t,n))*e+g(t))*e}function y(e,t,n){return 3*f(t,n)*e*e+2*m(t,n)*e+g(t)}function b(t,n){for(var r=0;r<i;++r){var s=y(n,e,a);if(0===s)return n;n-=(v(n,e,a)-t)/s}return n}function C(){for(var t=0;t<c;++t)h[t]=v(t*u,e,a)}function E(t,n,r){var i,s,c=0;do{(i=v(s=n+(r-n)/2,e,a)-t)>0?r=s:n=s}while(Math.abs(i)>o&&++c<l);return s}function k(t){for(var n=0,r=1,i=c-1;r!==i&&h[r]<=t;++r)n+=u;--r;var o=n+(t-h[r])/(h[r+1]-h[r])*u,l=y(o,e,a);return l>=s?b(t,o):0===l?o:E(t,n,n+u)}var O=!1;function _(){O=!0,e===n&&a===r||C()}var P=function(t){return O||_(),e===n&&a===r?t:0===t?0:1===t?1:v(k(t),n,r)};P.getControlPoints=function(){return[{x:e,y:n},{x:a,y:r}]};var S="generateBezier("+[e,n,a,r]+")";return P.toString=function(){return S},P}function P(e,t){var n=e;return p.isString(e)?f.Easings[e]||(n=!1):n=p.isArray(e)&&1===e.length?O.apply(null,e):p.isArray(e)&&2===e.length?m.apply(null,e.concat([t])):!(!p.isArray(e)||4!==e.length)&&_.apply(null,e),!1===n&&(n=f.Easings[f.defaults.easing]?f.defaults.easing:"swing"),n}function S(e){if(e){var t=f.timestamp&&!0!==e?e:o.now(),n=f.State.calls.length;n>1e4&&(f.State.calls=function(e){for(var t=-1,n=e?e.length:0,a=[];++t<n;){var r=e[t];r&&a.push(r)}return a}(f.State.calls),n=f.State.calls.length);for(var a=0;a<n;a++)if(f.State.calls[a]){var r=f.State.calls[a],s=r[0],l=r[2],c=r[3],u=!c,h=null,m=r[5],v=r[6];if(c||(c=f.State.calls[a][3]=t-16),m){if(!0!==m.resume)continue;c=r[3]=Math.round(t-v-16),r[5]=null}v=r[6]=t-c;for(var b=Math.min(v/l.duration,1),E=0,k=s.length;E<k;E++){var O=s[E],_=O.element;if(C(_)){var P=!1;if(void 0!==l.display&&null!==l.display&&"none"!==l.display){if("flex"===l.display){d.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],(function(e,t){g.setPropertyValue(_,"display",t)}))}g.setPropertyValue(_,"display",l.display)}for(var w in void 0!==l.visibility&&"hidden"!==l.visibility&&g.setPropertyValue(_,"visibility",l.visibility),O)if(O.hasOwnProperty(w)&&"element"!==w){var A,T=O[w],I=p.isString(T.easing)?f.Easings[T.easing]:T.easing;if(p.isString(T.pattern)){var D=1===b?function(e,t,n){var a=T.endValue[t];return n?Math.round(a):a}:function(e,t,n){var a=T.startValue[t],r=T.endValue[t]-a,i=a+r*I(b,l,r);return n?Math.round(i):i};A=T.pattern.replace(/{(\d+)(!)?}/g,D)}else if(1===b)A=T.endValue;else{var x=T.endValue-T.startValue;A=T.startValue+x*I(b,l,x)}if(!u&&A===T.currentValue)continue;if(T.currentValue=A,"tween"===w)h=A;else{var j;if(g.Hooks.registered[w]){j=g.Hooks.getRoot(w);var L=C(_).rootPropertyValueCache[j];L&&(T.rootPropertyValue=L)}var F=g.setPropertyValue(_,w,T.currentValue+(i<9&&0===parseFloat(A)?"":T.unitType),T.rootPropertyValue,T.scrollData);g.Hooks.registered[w]&&(g.Normalizations.registered[j]?C(_).rootPropertyValueCache[j]=g.Normalizations.registered[j]("extract",null,F[1]):C(_).rootPropertyValueCache[j]=F[1]),"transform"===F[0]&&(P=!0)}}l.mobileHA&&void 0===C(_).transformCache.translate3d&&(C(_).transformCache.translate3d="(0px, 0px, 0px)",P=!0),P&&g.flushTransformCache(_)}}void 0!==l.display&&"none"!==l.display&&(f.State.calls[a][2].display=!1),void 0!==l.visibility&&"hidden"!==l.visibility&&(f.State.calls[a][2].visibility=!1),l.progress&&l.progress.call(r[1],r[1],b,Math.max(0,c+l.duration-t),c,h),1===b&&N(a)}}f.State.isTicking&&y(S)}function N(e,t){if(!f.State.calls[e])return!1;for(var n=f.State.calls[e][0],a=f.State.calls[e][1],r=f.State.calls[e][2],i=f.State.calls[e][4],s=!1,o=0,l=n.length;o<l;o++){var c=n[o].element;t||r.loop||("none"===r.display&&g.setPropertyValue(c,"display",r.display),"hidden"===r.visibility&&g.setPropertyValue(c,"visibility",r.visibility));var u=C(c);if(!0!==r.loop&&(void 0===d.queue(c)[1]||!/\.velocityQueueEntryFlag/i.test(d.queue(c)[1]))&&u){u.isAnimating=!1,u.rootPropertyValueCache={};var p=!1;d.each(g.Lists.transforms3D,(function(e,t){var n=/^scale/.test(t)?1:0,a=u.transformCache[t];void 0!==u.transformCache[t]&&new RegExp("^\\("+n+"[^.]").test(a)&&(p=!0,delete u.transformCache[t])})),r.mobileHA&&(p=!0,delete u.transformCache.translate3d),p&&g.flushTransformCache(c),g.Values.removeClass(c,"velocity-animating")}if(!t&&r.complete&&!r.loop&&o===l-1)try{r.complete.call(a,a)}catch(e){setTimeout((function(){throw e}),1)}i&&!0!==r.loop&&i(a),u&&!0===r.loop&&!t&&(d.each(u.tweensContainer,(function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)})),f(c,"reverse",{loop:!0,delay:r.delay})),!1!==r.queue&&d.dequeue(c,r.queue)}f.State.calls[e]=!1;for(var h=0,m=f.State.calls.length;h<m;h++)if(!1!==f.State.calls[h]){s=!0;break}!1===s&&(f.State.isTicking=!1,delete f.State.calls,f.State.calls=[])}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}))},function(e,t,n){"use strict";var a=n(1),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(1591),s=n(1915),o=n(1938),l="function"==typeof Symbol&&Symbol.iterator;function c(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,a={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return a[e]}))):t.toString(36);var n,a}function u(e,t,n,a){var i,o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||"object"===o&&e.$$typeof===r)return n(a,e,""===t?"."+c(e,0):t),1;var d=0,p=""===t?".":t+":";if(Array.isArray(e))for(var h=0;h<e.length;h++)d+=u(i=e[h],p+c(i,h),n,a);else{var f=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(f){0;for(var m,g=f.call(e),v=0;!(m=g.next()).done;)d+=u(i=m.value,p+c(i,v++),n,a)}else if("object"===o){0;var y=""+e;s(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===y?"object with keys {"+Object.keys(e).join(", ")+"}":y,"")}}return d}var d=/\/+/g;function p(e){return(""+e).replace(d,"$&/")}var h,f,m=g,g=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},v=function(e){s(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function y(e,t,n,a){this.result=e,this.keyPrefix=t,this.func=n,this.context=a,this.count=0}function b(e,t,n){var r,s,o=e.result,l=e.keyPrefix,c=e.func,u=e.context,d=c.call(u,t,e.count++);Array.isArray(d)?C(d,o,n,i.thatReturnsArgument):null!=d&&(a.isValidElement(d)&&(r=d,s=l+(!d.key||t&&t.key===d.key?"":p(d.key)+"/")+n,d=a.cloneElement(r,{key:s},void 0!==r.props?r.props.children:void 0)),o.push(d))}function C(e,t,n,a,r){var i="";null!=n&&(i=p(n)+"/");var s=y.getPooled(t,i,a,r);!function(e,t,n){null==e||u(e,"",t,n)}(e,b,s),y.release(s)}y.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h=function(e,t,n,a){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n,a),r}return new this(e,t,n,a)},(f=y).instancePool=[],f.getPooled=h||m,f.poolSize||(f.poolSize=10),f.release=v;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return o(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(a.isValidElement(e))return o(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;s(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)C(e[n],t,n,i.thatReturnsArgument);return t}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1323)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1257)),f=a(n(1497)),m=a(n(1296)),g=a(n(1274)),v=a(n(1263));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(){},C="undefined"!=typeof MutationObserver,E=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(y()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),c.elRequired=!0,(o=n.call(this,e,c))?(o._bindEventListenerCallbacks(),o._addEventListeners(),o._cacheSizes(),o._clearRecomputeDebounced=(0,g.default)((0,i.default)(t=o._clearRecompute).call(t,(0,l.default)(o)),50),o._recomputeDebounced=(0,g.default)((0,i.default)(r=o._recompute).call(r,(0,l.default)(o)),50),o._checkScrollPosition(),(0,u.default)(o)):(0,u.default)(o)}return(0,o.default)(a,[{key:"scrollToTop",value:function(e){return(0,f.default)(this.scrollToEl||0,{callback:e||b}),this}},{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e),this._addEventListeners(),this._cacheSizes(),this._checkScrollPosition(),this}},{key:"_cacheElements",value:function(e){this.el=e,this.containerEl=this.containerEl||e.parentNode}},{key:"_cacheSizes",value:function(){var e=(0,m.default)(this.containerEl),t=document.body.clientWidth,n=window.innerHeight,a=e.top,r=t-e.left-this.containerEl.offsetWidth;this._windowHeight=n,this._containerBottom=this.containerEl.offsetHeight+a,this._visibleThreshold=a+1.5*n;var i=this._isAtBottom;this._isAtBottom=!1,this._right=0,this._updateBindings(),this._right=t-this.el.offsetLeft-this.el.offsetWidth+r,this._isAtBottom=i,this._updateBindings()}},{key:"_checkScrollPosition",value:function(){var e=this._isVisible,t=this._isAtBottom,n=void 0!==window.scrollY?window.scrollY:window.pageYOffset,a=n+this._windowHeight;this._isVisible=n+this._windowHeight>=this._visibleThreshold,this._isAtBottom=this._containerBottom<=a,this._isAtBottom===t&&this._isVisible===e||this._updateBindings()}},{key:"_updateBindings",value:function(){(0,h.default)(this.el,"visible",this._isVisible),(0,h.default)(this.el,"at-bottom",this._isAtBottom),this.el.style.right=this._isAtBottom||!this._right?"":this._right+"px"}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onScrollBound=(0,i.default)(t=this._onScroll).call(t,this),this._onResizeBound=(0,i.default)(n=this._onResize).call(n,this),this._onVisibleBound=(0,i.default)(a=this._onVisible).call(a,this),this._onMutateBound=(0,i.default)(r=this._onMutate).call(r,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),window.addEventListener("scroll",this._onScrollBound),window.addEventListener("orientationchange",this._onScrollBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),C?this._addMutationObserver():window.addEventListener("resize",this._onResizeBound,!1)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("orientationchange",this._onScrollBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),C?this._removeMutationObserver():window.removeEventListener("resize",this._onResizeBound)}},{key:"_addMutationObserver",value:function(){this._observer=new MutationObserver(this._onMutateBound),this._observer.observe(this.containerEl,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}},{key:"_removeMutationObserver",value:function(){this._observer&&this._observer.disconnect()}},{key:"_recompute",value:function(){this._cacheSizes(),this._checkScrollPosition()}},{key:"_recomputeThrottled",value:function(){this._recomputeRun||(this._recompute(),this._recomputeRun=!0),this._clearRecomputeDebounced()}},{key:"_clearRecompute",value:function(){this._recomputeRun=!1}},{key:"_onScroll",value:function(){this._recomputeThrottled(),this._checkScrollPosition()}},{key:"_onResize",value:function(){this._recomputeDebounced()}},{key:"_onClick",value:function(){this.scrollToTop()}},{key:"_onVisible",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,i.default)(t=function(){this._cacheSizes(),this._checkScrollPosition()}).call(t,this),0)}},{key:"_onMutate",value:function(e){var t;(0,v.default)(e,(0,i.default)(t=function(e){e.target!==this.el&&this._recomputeDebounced()}).call(t,this))}}]),a}(p.default);E.prototype._whitelistedParams=["containerEl","scrollToEl"],E.prototype.defaults={el:null,containerEl:null,scrollToEl:null,_isVisible:!1,_isAtBottom:!1,_containerBottom:0,_visibleThreshold:0,_windowHeight:0,_right:0,_recomputeRun:!1,_observer:null,_onClickBound:null,_onScrollBound:null,_onVisibleBound:null,_onResizeBound:null,_onMutateBound:null};var k=E;t.default=k,e.exports=t.default},,function(e,t,n){"use strict";var a=n(1947);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="Enter",r=8},function(e,t,n){var a=n(285),r=n(761)((function(e,t,n){a(e,n,t)}));e.exports=r},,,,,function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(37),s=n.n(i),o=n(51),l=n.n(o),c=n(6),u=n(1),d=n.n(u),p=n(26),h=n.n(p),f=n(22),m=n.n(f),g=n(29),v=n.n(g),y=n(28),b=n.n(y),C=n(30),E=n.n(C),k=n(3),O=n.n(k),_=n(82),P=n.n(_),S=n(39),N=n.n(S),w=n(17),A=n.n(w),T=function(e){function t(){return h()(this,t),v()(this,b()(t).apply(this,arguments))}return E()(t,e),m()(t,[{key:"formatDate",value:function(){var e=this.props,t=e.date,n=e.format,a=e.configuration,i=e.currentLocale,s=A()(t).locale(i).format(r()(a,n,n)),o=A()(t).format(r()(a,n,n));return P()(i)?o:s}},{key:"render",value:function(){var e=N()("dxp-date",this.props.className),t=this.formatDate();return d.a.createElement("span",{className:e},t)}}]),t}(u.Component);O()(T,"defaultProps",{className:""});var I=function(e,t){var n=t.session,a=t.metadata,i=l()(a.get("defaultDateFormats"),"toJS"),o=l()(a.get("locales"),"toJS"),c=n.get("locale"),u=s()(i,r()(o,"".concat(c,".dateFormats"),{}));return d.a.createElement(T,{date:e.date,format:e.format,className:e.className,currentLocale:c,configuration:u})};I.contextTypes={metadata:Object(c.shape)({}),session:Object(c.shape)({})},I.defaultProps={className:""};var D=I;n.d(t,"a",(function(){return D}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(194),n(12)),C=n(11),E=n(1286),k=n(84),O=n(14),_=n(1305),P=n(1360),S=n(1320),N=n(1374),w=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbCompletedData",(function(){var e=n.props,t=e.seatAncillaries,a=t.hasSeats,r=t.seatsOnExtrasPageConfig,i=e.ancillaries,s=[];r.isEnabled&&a&&s.push(Object(b.i)("ancillary.items.seats.title"));var o="summaryBar.flowCrumbs.".concat(O.a.ANCILLARIES);if(!n.props.isAncillariesAvailable)return Object(b.i)("".concat(o,".notAvailable"));var l=i.size?i:Object(C.List)(),c=l.size?l.groupBy((function(e){return Object(b.i)("ancillary.items.".concat(e.get("label"),".title"))})):Object(C.OrderedMap)();if(c.size>0||s.length>0){var u=c.keySeq().toArray(),d=s.concat(u),p=d.slice(0,2).join(", ");return Object(b.i)("".concat(o,".").concat(_.a.COMPLETED),{ancillaries:p,moreItems:d.length>2?Object(b.i)("".concat(o,".moreItems")):""})}return Object(b.i)("".concat(o,".notSelected"))})),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(N.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:O.a.ANCILLARIES})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props.crumbState===_.a.COMPLETED?n.getCrumbCompletedData():"";return y.a.createElement(S.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(P.a,{pageName:O.a.ANCILLARIES,flowName:k.a.B2C,breadCrumbTitleOverride:n.props.breadCrumbTitleOverride})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(N.a,{crumbState:_.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:O.a.ANCILLARIES})})),g()(p()(n),"getHoverSubTitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(O.a.ANCILLARIES,".").concat(_.a.HOVER));return y.a.createElement(S.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(E.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubTitle(),onClick:function(){return e.props.onAncillariesCrumbClick(e.props.url)},className:"dxp-breadcrumb-item extras-breadcrumb-item"})}}]),t}(v.Component);g()(w,"defaultProps",{ancillaries:Object(C.List)(),breadCrumbTitleOverride:void 0,seatAncillaries:{hasSeats:!1,seatsOnExtrasPageConfig:{}}}),n.d(t,"a",(function(){return w}))},,function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return E}));var a=n(103),r=n.n(a),i=n(0),s=n.n(i),o=n(36),l=n.n(o),c=n(4),u=n.n(c),d=n(5),p=n.n(d),h=n(9),f=n(14),m=n(45),g=n(447),v=n(46);function y(e){return{segments:function(e){return p()(s()(e,"segmentFareRules",[]),(function(e){return u()(e.segmentKeys,(function(e,t){return l()(e)===t.origin?(e.push(t.destination),e):(e.push(t.origin),e.push(t.destination),e)}),[])}))}(e),rules:function(e){return p()(s()(e,"segmentFareRules",[]),(function(e){return s()(e,"fareBasisRules")}))}(e)}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fareRules";m.a.set(t,JSON.stringify(e))}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t===f.a.MYB||t===f.a.CONFIRMATION){var n=null===m.a.get("fareRules")?null:JSON.parse(m.a.get("fareRules"));return new Promise((function(e){e(n)}))}var a=Object(h.l)("fareRules",e);return new Promise((function(e,t){Object(h.g)(a,h.b).then((function(t){var n=y(t);b(n),e(n)})).catch((function(){return null===m.a.get("fareRules")?t():e(JSON.parse(m.a.get("fareRules")))}))}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return new Promise((function(n){var a=t.getIn(["service","EYWebModule",Object(v.d)()]);k(s()(e,"[0]"),a).then((function(e){n([e])})).catch((function(){n()}))}))}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{origin:"",destination:""},t=arguments.length>1?arguments[1]:void 0;return new Promise((function(n,a){var i=e.origin,s=e.destination,o="".concat("fareRulesMini","-").concat(i,"-").concat(s);Promise.all([Object(g.a)(i),Object(g.a)(s)]).then((function(e){var l=r()(e,2),c=l[0],u=l[1];if(i&&s&&c&&u){var d="".concat(t).concat(i,"/").concat(s,"/").concat(c,"/").concat(u);Object(h.e)(d).then((function(e){b(e,o),n(e)})).catch((function(){return null===m.a.get(o)?a():n(JSON.parse(m.a.get(o)))}))}else null===m.a.get(o)?a():n(JSON.parse(m.a.get(o)))}))}))}},function(e,t,n){var a=n(342),r=n(1736);e.exports=function(e,t){return r(e||[],t||[],a)}},function(e,t){e.exports=function(e,t,n){for(var a=-1,r=e.length,i=t.length,s={};++a<r;){var o=a<i?t[a]:void 0;n(s,e[a],o)}return s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(15),r=n.n(a),i=n(58),s=n.n(i),o=n(5),l=n.n(o),c=n(38),u=n.n(c),d=n(115),p=n.n(d),h=n(2),f=n.n(h),m=(n(27),n(18)),g=n.n(m),v=n(0),y=n.n(v),b=n(4),C=n.n(b),E=n(45),k=n(1738);var O=function(e,t){var n=e.passengerIndex;return!f()(t)&&!f()(r()(t.specialServiceRequests,{passengerIndex:n,code:"GSTN"}))};function _(e){var t={},n=E.a.get("dxCreateAccount")?JSON.parse(E.a.get("dxCreateAccount")):void 0,a=!!n&&n.createAccount;return{passengers:C()(e.passengers,(function(n,r){var i=y()(r,"passengerInfo.type");f()(i)||(t[i]=p()(t[i])?t[i]+1:1);var s,o="passenger-item-".concat(i,"-").concat(t[i]);return f()(r.passengerDetails)?(n[o]={},n):(n[o]=g()({},y()(r,"passengerDetails",{}),y()(r,"passengerInfo",{}),{frequentFlyer:(s=y()(r,"preferences.frequentFlyer",[]),l()(s,(function(e){return{frequentFlyerProgram:y()(e,"airline",""),frequentFlyerNumber:y()(e,"number",""),tierLevel:y()(e,"tierLevel","")}})))},y()(r,"passengerIndex",{}),{isGstnAdded:O(r,e.pnrInfo)},y()(r,"preferences.specialPreferences",{}),u()(r,["documentInfo","visaInfo"])),o===k.a.ADT1&&a&&(n[o]=g()(n[o],{createAccount:!0})),n)}),{}),multiFrequentFlyerData:function(e){var t=y()(e,"itineraryParts",[]),n=s()(l()(t,(function(e){return y()(e,"segments",[])})));return C()(n,(function(e,t){var n=t.flight,a=n.airlineCode,r=e[n.airlineCode]||[];return r.push(u()(t,"origin","destination")),e[a]=r,e}),{})}(e),contact:e.contact&&e.contact||y()(e,"pnrInfo.contact"),businessLoyalty:e.businessLoyalty||{}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ADT1:"passenger-item-ADT-1"}},function(e,t,n){var a=n(443),r=n(769);e.exports=function(e){return r(a(e,1))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(15),s=n.n(i),o=n(330),l=n(10),c=n(337),u=n(1416),d=n(1375),p=n(1600),h=function(e,t,n){var a=e.cart,i=(a=void 0===a?{}:a).products,h=void 0===i?[]:i,f=a.total,m=void 0===f?[]:f,g=e.pnrInfo,v=(g=void 0===g?{}:g).carReservationSummary,y=g.specialServiceRequests,b=void 0===y?[]:y,C=g.itinerary,E=(C=void 0===C?{}:C).itineraryParts,k=void 0===E?[]:E,O=g.upgradeInfo,_=e.passengers,P=e.paymentOptionsDetails,S=s()(h,(function(e){return e.label===l.q})),N=s()(h,(function(e){return e.label===l.n})),w=Object(p.j)(s()(h,(function(e){return e.label===l.k}))),A=s()(h,(function(e){return e.label===l.k})),T=s()(h,(function(e){return e.label===l.l})),I=s()(h,(function(e){return e.label===l.m})),D=s()(h,(function(e){return e.label===l.p})),x=Object(p.g)(s()(h,(function(e){return e.label===l.o}))),j=s()(h,(function(e){return e.label===l.r})),L=O?O.segmentUpgradeInfos.filter((function(e){return e.status===d.a.WAITLISTED})):[],F=L.length>0&&Object(p.o)(O,L),B=F&&Object(p.h)(F),R=Object(p.u)(k),M=Object(p.s)(A,t),V=Object(p.t)(R,_,D),U=Object(p.c)(R,w,!0),q=Object(c.a)(k),H=Object(p.b)(q,w,!0),W=Object(p.w)(A,n),G=Object(p.a)(w),K=Object(o.a)({passengers:_}),z=s()(h,(function(e){return e.label===l.i})),Y=void 0!==z||r()(v)?z:Object(u.a)(v),Q=Object(p.v)(b),X=Object(p.r)(Q,k),J=r()(I)?{}:Object(p.B)(_,I,T);return{surcharges:M,taxes:Object(p.A)(S,D,A,j),total:m,itinerary:{itineraryParts:X},seats:Object(p.z)(D,V),insurance:Object(p.l)(x),segments:R,upgrades:Object(p.n)(j),waitListedUpgrades:B,seatAssignmentPerSegment:V,passengerTypeCount:K,discount:T,ancillaries:Object(p.x)(A,t),itineraryPartAirports:q,itineraryEntireTripAncillaries:G,segmentAncillaries:U,itineraryPartAncillaries:H,standaloneAncillaries:W,paymentOptionsDetails:P,passengers:{passengers:_},fees:Object(p.y)(N),baseFare:{breakdownElements:Object(p.d)(_,I),total:I?I.total:[],label:l.m},updatedBaseFare:J,carPrice:Y,selectedBrands:Q,products:h,showGroupedTaxes:!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(15),s=n.n(i),o=n(330),l=n(10),c=n(337),u=n(1416),d=n(1375),p=n(1600),h=function(e,t,n){var a=e.cart,i=(a=void 0===a?{}:a).products,h=void 0===i?[]:i,f=a.total,m=void 0===f?[]:f,g=e.pnrInfo,v=(g=void 0===g?{}:g).carReservationSummary,y=g.specialServiceRequests,b=void 0===y?[]:y,C=g.itinerary,E=(C=void 0===C?{}:C).itineraryParts,k=void 0===E?[]:E,O=g.upgradeInfo,_=e.passengers,P=e.paymentOptionsDetails,S=s()(h,(function(e){return e.label===l.q})),N=s()(h,(function(e){return e.label===l.n})),w=s()(h,(function(e){return e.label===l.k})),A=Object(p.k)(s()(h,(function(e){return e.label===l.l}))),T=s()(h,(function(e){return e.label===l.m})),I=s()(h,(function(e){return e.label===l.p})),D=Object(p.g)(s()(h,(function(e){return e.label===l.o}))),x=s()(h,(function(e){return e.label===l.r})),j=Object(p.u)(k),L=Object(p.p)(w,t),F=Object(p.q)(j,_,I),B=Object(p.c)(j,w),R=Object(c.a)(k),M=Object(p.b)(R,w),V=Object(p.a)(w),U=Object(p.w)(w,n),q=Object(o.a)({passengers:_}),H=s()(h,(function(e){return e.label===l.i})),W=void 0!==H||r()(v)?H:Object(u.a)(v),G=Object(p.d)(_,T),K=e.isLoading?[]:Object(p.f)(T,S,A),z=O?O.segmentUpgradeInfos.filter((function(e){return e.status===d.a.WAITLISTED})):[],Y=z.length>0&&Object(p.o)(O,z),Q=Y&&Object(p.h)(Y),X=Object(p.v)(b);return{surcharges:L,total:m,itinerary:{itineraryParts:Object(p.r)(X,k)},baseFare:Object(p.e)(S,A,G,K),seats:Object(p.m)(I,F),insurance:Object(p.l)(D),segments:j,upgrades:Object(p.h)(x),waitListedUpgrades:Q,seatAssignmentPerSegment:F,passengerTypeCount:q,ancillaries:Object(p.i)(w,t),itineraryPartAirports:R,itineraryEntireTripAncillaries:V,standaloneAncillaries:U,segmentAncillaries:B,itineraryPartAncillaries:M,paymentOptionsDetails:P,passengers:{passengers:_},fees:Object(p.y)(N),carPrice:W,selectedBrands:X,products:h,showGroupedTaxes:!1}}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1325)),s=a(n(1309)),o=a(n(1260)),l=a(n(1326)),c=a(n(1310)),u=a(n(1265)),d=a(n(1350)),p=a(n(1250)),h=a(n(1240)),f=a(n(1282)),m=a(n(1278)),g=a(n(1238)),v=a(n(1239)),y=a(n(1323)),b=a(n(1258)),C=a(n(1244)),E=a(n(1245)),k=a(n(1241)),O=a(n(1494)),_=a(n(1242)),P=a(n(1384)),S=a(n(1495)),N=a(n(1327)),w=a(n(1770)),A=a(n(1247)),T=a(n(1248)),I=a(n(1251)),D=a(n(1351)),x=a(n(1267)),j=a(n(1394)),L=n(1283),F=a(n(1497)),B=a(n(1498)),R=a(n(1499)),M=a(n(1500)),V=a(n(1352)),U=a(n(1776)),q=n(1271);function H(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var W=function(){},G=(0,S.default)("YYYY-MM-DD");function K(){var e=document.createElement("span");return e.className="spark-input spark-date",e.innerHTML='<input class="spark-input__field" type="date"><span class="spark-label"></span>',e}function z(e,t){return e&&e.hasOwnProperty("length")?t.els=e:e instanceof HTMLElement?t.els=[e]:(t=e||{}).els=[K()],t.visibleCounts=t.visibleCounts||(t.visibleCount?[t.visibleCount]:null),t.mins=t.mins||(t.min?[t.min]:[]),t.maxes=t.maxes||(t.max?[t.max]:[]),t.values=(0,O.default)(t)||(t.value?[t.value]:[]),t}var Y=function(e){(0,C.default)(a,e);var t,n=(t=a,function(){var e,n=(0,k.default)(t);if(H()){var a=(0,k.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,E.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.default)(this,a),r=z(e,r),(t=n.call(this,e,r))?((t.calendarEl?W:t._createCalendar).call((0,y.default)(t)),t._cacheCalendarElements(),t._bindEventListenerCallbacks(),t._addEventListeners(),t._initDatesToShow(),(0,E.default)(t)):(0,E.default)(t)}return(0,v.default)(a,[{key:"update",value:function(e){return e&&(this._removeEventListeners(),this.els=e instanceof Array?e:[e],this._cacheElements(),this._addEventListeners()),this._parseInputElsParams(),this._initDatesToShow(),null!==this.activeIndex&&(this.render(),this._checkSize()),this}},{key:"open",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._isDisabled[t]?this:(this._unfillToggle(),"object"===(0,m.default)(t)&&(n=t,t=0),this.activeIndex===t||(null!==this.activeIndex&&this._deactivateElement(this.activeIndex),clearTimeout(this._openCloseTimer),this.activeIndex=t,this.popover||this._createPopover(),this._initDatesToShow(),this.updateValues(),this.render({clearCache:!0}),this._openCloseTimer=(0,f.default)((0,h.default)(e=function(){this.popover.open({affixTo:this.els[t].querySelector(".spark-date__calendar-toggle")})}).call(e,this),n.delay||0),this._activateElement(t)),this)}},{key:"close",value:function(e){var t;if(this._unfillToggle(),e=e||{},null===this.activeIndex||!this.popover)return this;this._deactivateElement(this.activeIndex),clearTimeout(this._openCloseTimer),this.activeIndex=null,this._openCloseTimer=(0,f.default)((0,h.default)(t=function(){this.popover.close()}).call(t,this),e.delay||0)}},{key:"getValue",value:function(e){return(0,O.default)(this)[e||0]}},{key:"setValue",value:function(e,t,n){var a,r,i,s="object"===(0,m.default)(e)?e:G.getValues(e);t instanceof HTMLElement?(r=t,t=(0,p.default)(i=this.inputEls).call(i,r)):(t=t||0,r=this.inputEls[t]);if((0,O.default)(this)[t]=s,e&&this._checkValues(t,n),r.value=e&&s===e?G.getString(e):e||"",this._inputsChanging=this._inputsChanging||[],-1===(0,p.default)(a=this._inputsChanging).call(a,t)){var o,l;this._inputsChanging.push(t),(0,j.default)(r,"change"),(this.onChange||W)(r,r.value,this);var c=(0,p.default)(o=this._inputsChanging).call(o,t);(0,d.default)(l=this._inputsChanging).call(l,c,1)}return this.render({clearCache:!0}),this}},{key:"clearValues",value:function(){for(var e=0,t=this.inputEls.length;e<t;e++)this.clearValue(e);return this}},{key:"clearValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.values=(0,O.default)(this)||[],!this.inputEls[e])throw new Error("Cannot clear value at index ".concat(e,". No input element exists with that index!"));return(0,O.default)(this)[e]=this.inputEls[e].value=null,this}},{key:"updateValues",value:function(){for(var e=0,t=this.inputEls.length;e<t;e++)this.updateValue(e);return this}},{key:"updateValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.values=(0,O.default)(this)||[],!this.inputEls[e])throw new Error("Cannot update value at index ".concat(e,". No input element exists with that index!"));return(0,O.default)(this)[e]=this.inputEls[e].value?G.getValues(this.inputEls[e].value):null,this}},{key:"disable",value:function(e){for(var t,n=e||0,a=void 0!==e?e+1:this.els.length;n<a;n++)this._isDisabled[n]=!0,this.els[n].setAttribute("disabled",""),(t=this.els[n].querySelector(".spark-date__calendar-toggle"))&&t.setAttribute("disabled","");return this.close(),this}},{key:"enable",value:function(e){for(var t,n=e||0,a=void 0!==e?e+1:this.els.length;n<a;n++)this._isDisabled[n]=!1,this.els[n].removeAttribute("disabled",""),(t=this.els[n].querySelector(".spark-date__calendar-toggle"))&&t.removeAttribute("disabled");return this}},{key:"render",value:function(e){var t;return e=e||{},this.popover||this._createPopover(),e.clearCache&&(this._renderCache={}),t="year"===this.viewRange?this._renderYears():"week"===this.viewRange?this._renderWeeks():"day"===this.viewRange?this._renderDays():this._renderMonths(),this._insertContent(t,e),this._updateAttributes(),this}},{key:"remove",value:function(e){return this.popover&&this.popover.remove(),(0,b.default)((0,k.default)(a.prototype),"remove",this).call(this,e)}},{key:"next",value:function(){return this._atMax||(this._setDatesToShow(1),this.render({append:1})),this}},{key:"previous",value:function(){return this._atMin||(this._setDatesToShow(-1),this.render({prepend:1})),this}},{key:"showDate",value:function(e){var t;null===this.activeIndex&&this.open();var n=e.month||null,a=e.year||null,r=e.day||null;if(!n&&!a&&!r)return this;var i=this._datesToShow[this.activeIndex].clone(),s=this.viewRange.charAt(0).toUpperCase()+(0,u.default)(t=this.viewRange).call(t,1);a&&(i.year=a),n&&(i.month=n),r&&(i.day=r);var o=this.mins[this.activeIndex];o&&i["before"+s](o)&&(i=o.clone());var l=this.maxes[this.activeIndex];return l&&i["after"+s](l)&&(i=l.clone()),this._datesToShow[this.activeIndex]=i,this._setDatesToShow(),this.render()}},{key:"_renderYears",value:function(){throw new Error("Displaying years in the calendar is not yet supported!")}},{key:"_renderWeeks",value:function(){throw new Error("Displaying weeks in the calendar is not yet supported!")}},{key:"_renderDays",value:function(){throw new Error("Displaying days in the calendar is not yet supported!")}},{key:"_renderMonths",value:function(){for(var e=[],t=0,n=this._datesToShow.length,a=N.default.now();t<n;t++)e.push(this._renderMonth(this._datesToShow[t],a));return e}},{key:"_renderMonth",value:function(e,t){var n=e.year+"-"+e.month;if(this._renderCache=this._renderCache||{},this._renderCache[n])return this._renderCache[n];var a=document.createElement("div"),r="";return a.className="spark-calendar__month "+this._getMonthClassNames(e),r+='<div class="spark-calendar__month-title">',this.quickJump&&1===this.visibleCounts[this.activeIndex]?r+=this._renderMonthQuickJump(e):r+=e.monthName+" "+e.year,r+="</div>",r+=this._renderMonthDaysOfWeek(),r+=this._renderMonthDays(e,t),a.innerHTML=r,this._renderCache[n]=a}},{key:"_renderMonthQuickJump",value:function(e){var t,n,a,r,i=document.createElement("div"),s=this.mins[this.activeIndex]?this.mins[this.activeIndex].clone():null,o=this.maxes[this.activeIndex]?this.maxes[this.activeIndex].clone():null,u="number"==typeof this.quickJumpRange&&this.quickJumpRange%1==0?this.quickJumpRange:50;s||((s=e.clone()).year=s.year-u),o||((o=e.clone()).year=o.year+u);var d=(0,c.default)(t=(0,l.default)(n=N.default.getMonthNames()).call(n,(function(e,t){return s.year===o.year&&(t+1<s.month||t+1>o.month)?null:{value:t+1,text:e}}))).call(t,(function(e){return e}));return d.length&&1!==d.length?(r=document.createElement("label"),(0,A.default)(r,"spark-select spark-calendar__select"),r.appendChild((0,w.default)({selected:e.month,attributes:{class:"spark-select__input",name:"month"},options:d}))):(r=document.createElement("span")).innerHTML=e.monthName+" ",s.year===o.year?(a=document.createElement("span")).innerHTML=e.year:(a=document.createElement("label"),(0,A.default)(a,"spark-select spark-calendar__select"),a.appendChild((0,w.default)({selected:e.year,attributes:{class:"spark-select__input",name:"year"},options:(0,U.default)(o.year,s.year-1)}))),(0,D.default)(i,[r,a]),i.innerHTML}},{key:"_renderMonthDaysOfWeek",value:function(){for(var e=N.default.getDayNames(),t=0,n=e.length,a='<div class="spark-calendar__days-of-week">';t<n;t++)a+='<span class="spark-calendar__day-of-week">'+e[t][0]+"</span>";return a+"</div>"}},{key:"_renderMonthDays",value:function(e,t){for(var n=e.monthStart.dayOfWeek,a=n>1?e.monthStart.weekStart:null,r=e.monthEnd,i=0,s=0,o='<div class="spark-calendar__days">',l=0,c=a?a.month:e.month,u=a?a.year:e.year,d=t.year===e.year&&t.month===e.month,p=a?1:null;i<6;i++){for(;s<7;s++)l=a?a.day+s:l+1,o+=this._renderMonthDay(l,c,u,d,t,p),a&&s+1>=n-1?(a=null,p=null,l=0,c=e.month,u=e.year,d=t.year===e.year&&t.month===e.month):l>=r.day&&i>0&&(p=2,d=!1,l=0,++c>12&&(u++,c=1));s=0}return o+"</div>"}},{key:"_renderMonthDay",value:function(e,t,n,a,r,i){var s=N.default.create({year:n,month:t,day:e}),o="<a",l=i||this._isDayDisabled(s);return o+=' aria-label="'+s.dayName+" "+e+" "+s.monthName+" "+n+'"',o+=l?"":' data-date="'+G.getString(s)+'"',o+=i?' data-direction="'+(2===i?"next":"previous")+'"':"",o+=l?' tabindex="-1" aria-hidden="true"':"",o+=' class="spark-calendar__day',o+=a&&r.day===e&&r.month===t&&r.year===n?" spark-calendar__day--today":"",o+=i?" spark-calendar__day--inactive":"",o+=l?" spark-calendar__day--disabled":"",o+=this._isDaySelected(s)?" spark-calendar__day--selected":"",o+=this._isDayRangeStart(s)?" spark-calendar__range-start":"",o+=this._isDayRangeMiddle(s)?" spark-calendar__range-middle":"",o+=this._isDayRangeEnd(s)?" spark-calendar__range-end":"",o+=this._isDayRangeLast(s)?" spark-calendar__range-last":"",o+='"',o+=' href="#"><span>',o+=e,o+=this._getDayInfo(s),o+="</span></a>"}},{key:"_insertContent",value:function(e,t){var n;this._currentContent=this._currentContent||[],t=t||{};var a,r=0;if(this.animate)if(t.prepend){var i;for(a=(n=(0,u.default)(i=this._currentContent).call(i,-t.prepend)).length;r<a;r++)e.push(n[r]);this.calendarEl.setAttribute("data-prepend-count",a),this._animateContent((function(){this.calendarEl.removeAttribute("data-prepend-count"),this._animateContent((function(){e=(0,u.default)(e).call(e,0,-t.prepend),this._insertContent(e)}),this.animationDuration)}),10)}else if(t.append){var s;for(a=(n=(0,u.default)(s=this._currentContent).call(s,0,t.append)).length;r<a;r++)e.unshift(n[r]);this.calendarEl.setAttribute("data-append-count",a),this._animateContent((function(){(0,A.default)(this.calendarEl,"no-animate"),e=(0,u.default)(e).call(e,t.append),this._insertContent(e),this.calendarEl.removeAttribute("data-append-count"),this._animateContent((function(){(0,T.default)(this.calendarEl,"no-animate")}),10)}),this.animationDuration)}(0,D.default)(this.calendarContentEl,this._currentContent=e,!0)}},{key:"_isDaySelected",value:function(e){return(0,O.default)(this)&&e.equal((0,O.default)(this))}},{key:"_isDayRangeStart",value:function(e){return this.inputEls.length>1&&(0,O.default)(this)&&e.equal((0,O.default)(this)[0])}},{key:"_isDayRangeMiddle",value:function(e){var t;return this.inputEls.length>1&&(0,O.default)(this)&&(0,O.default)(this).length>1&&e.equal((0,u.default)(t=(0,O.default)(this)).call(t,1,-1))}},{key:"_isDayRangeEnd",value:function(e){return this.inputEls.length>1&&(0,O.default)(this)&&(0,O.default)(this).length>1&&e.equal((0,O.default)(this)[(0,O.default)(this).length-1])}},{key:"_isDayRangeLast",value:function(e){for(var t=(0,O.default)(this).length-1;t>0;t--)if((0,O.default)(this)[t]){if(!e.equal((0,O.default)(this)[t]))return!1;break}return!0}},{key:"_isDayDisabled",value:function(e){var t;return this.daysDisabled&&this.daysDisabled[e.year]&&this.daysDisabled[e.year][e.month]&&-1!==(0,p.default)(t=this.daysDisabled[e.year][e.month]).call(t,e.day)||this.mins[this.activeIndex]&&e.before(this.mins[this.activeIndex],!0)||this.maxes[this.activeIndex]&&e.after(this.maxes[this.activeIndex],!0)}},{key:"_getDayInfo",value:function(e){return this.daysInfo&&this.daysInfo[e.year]&&this.daysInfo[e.year][e.month]&&this.daysInfo[e.year][e.month][e.day]?'<span class="spark-calendar__day-note">'+this.daysInfo[e.year][e.month][e.day]+"</span>":""}},{key:"_getMonthClassNames",value:function(e){var t=[];if(e.equalMonth((0,O.default)(this))&&t.push("has-value"),this._isRange&&this.els.length>1){var n,a=e.equalMonth((0,O.default)(this)[0]),r=e.equalMonth((0,O.default)(this)[(0,O.default)(this).length-1]),i=e.equalMonth((0,u.default)(n=(0,O.default)(this)).call(n,1,-1)),s=e.afterMonth((0,O.default)(this)),o=e.beforeMonth((0,O.default)(this)),l=(0,O.default)(this)[(0,O.default)(this).length-1]&&e.after((0,O.default)(this)[(0,O.default)(this).length-1]);a&&t.push("range-start"),r&&t.push("range-end"),i&&t.push("range-middle"),s&&t.push("value-before"),o&&t.push("value-after"),l&&t.push("after-range-end")}return t.join(" ")}},{key:"_createCalendar",value:function(){var e=document.createElement("div");if((0,A.default)(e,"spark-calendar"),this.showTodayButton){var t='<button type="button" class="spark-calendar__today spark-btn spark-btn--text">'+this.todayButtonLabel+"</button>";e.innerHTML='<nav class="spark-calendar__nav"><button class="spark-calendar__previous spark-icon-chevron-left" aria-label="Previous month"></button><button class="spark-calendar__next spark-icon-chevron-right" aria-label="Next month"></button></nav><div class="spark-calendar__overflow spark-calendar__overflow--has-footer"><div class="spark-calendar__content"></div><div class="spark-calendar__footer">'+t+"</div></div>"}else e.innerHTML='<nav class="spark-calendar__nav"><button class="spark-calendar__previous spark-icon-chevron-left" aria-label="Previous month"></button><button class="spark-calendar__next spark-icon-chevron-right" aria-label="Next month"></button></nav><div class="spark-calendar__overflow"><div class="spark-calendar__content"></div></div>';this.calendarEl=e,this.calendarContentEl=e.querySelector(".spark-calendar__content"),this.calendarOverflowEl=e.querySelector(".spark-calendar_overflow")}},{key:"_createPopover",value:function(){var e,t;this.popover=new P.default(document.createElement("div"),{anchorX:"center",anchorY:"bottom",contentEl:this.calendarEl,onClose:(0,h.default)(e=this._onPopoverClose).call(e,this),onOpen:(0,h.default)(t=this._onPopoverOpen).call(t,this)})}},{key:"_cacheElements",value:function(){this.inputEls=[];for(var e,t=0,n=this.els.length;t<n;t++)e="input"===this.els[t].nodeName.toLowerCase()?this.els[t]:this.els[t].querySelector('input[type="date"]'),this.inputEls[t]=e}},{key:"_cacheCalendarElements",value:function(){this.nextButtonEl=this.calendarEl.querySelector(".spark-calendar__next"),this.previousButtonEl=this.calendarEl.querySelector(".spark-calendar__previous")}},{key:"_parseParams",value:function(){this._parseInputElsParams(),this._isRange=this.els.length>1,this.autoAdvance=null!==this.autoAdvance?this.autoAdvance:(0,q.boolean)(this.els[0],"data-auto-advance",!0),this.autoClose=null!==this.autoClose?this.autoClose:(0,q.boolean)(this.els[0],"data-auto-close",!0),this.closeDelay=null!==this.closeDelay?this.closeDelay:(0,q.number)(this.els[0],"data-close-delay",500),this.quickJump=null!==this.quickJump?this.quickJump:(0,q.boolean)(this.els[0],"data-quick-jump",!1),this.viewRange=null!==this.viewRange?this.viewRange:(0,q.string)(this.els[0],"data-view-range","month"),this.animate=null!==this.animate?this.animate:(0,q.boolean)(this.els[0],"data-animate",!0),this.animationDuration=null!==this.animationDuration?this.animationDuration:(0,q.number)(this.els[0],"data-animation-duration",100),this.showOnFocus=null!==this.showOnFocus?this.showOnFocus:(0,q.boolean)(this.els[0],"data-show-on-focus",!1),this.showTodayButton=null!==this.showTodayButton?this.showTodayButton:(0,q.boolean)(this.els[0],"data-show-today-button",!1),this.todayButtonLabel=null!==this.todayButtonLabel?this.todayButtonLabel:(0,q.string)(this.els[0],"data-today-button-label","Select Today")}},{key:"_parseInputElsParams",value:function(){var e=this.inputEls;if(e){for(var t=0,n=e.length,a=[],r=[],i=[],s=[],l=[];t<n;t++)e[t]&&(this.mins&&this.mins[t]?a[t]="object"===(0,m.default)(this.mins[t])?this.mins[t]:G.getValues(this.mins[t]):e[t].getAttribute("min")&&(a[t]=G.getValues(e[t].getAttribute("min"))),this.maxes&&this.maxes[t]?r[t]="object"===(0,m.default)(this.maxes[t])?this.maxes[t]:G.getValues(this.maxes[t]):e[t].getAttribute("max")&&(r[t]=G.getValues(e[t].getAttribute("max"))),(0,O.default)(this)&&(0,O.default)(this)[t]?i[t]="object"===(0,m.default)((0,O.default)(this)[t])?(0,O.default)(this)[t]:G.getValues((0,O.default)(this)[t]):e[t].value&&(i[t]=G.getValues(e[t].value)),l[t]=(0,q.boolean)(e[t],"disabled",!1),this.visibleCounts||(s[t]=(0,o.default)(e[t].getAttribute("data-visible-count"),10)||1));this.mins=a,this.minVisible=N.default.earliest(a),this.maxes=r,this.maxVisible=N.default.latest(r),this.values=i,this._isDisabled=l,s.length&&(this.visibleCounts=s)}}},{key:"_initDatesToShow",value:function(){var e=[],t=0,n=(0,O.default)(this).length;for((0,O.default)(this)[this.activeIndex]&&e.push((0,O.default)(this)[this.activeIndex].clone());t<n&&!e.length;t++)(0,O.default)(this)[t]&&e.push((0,O.default)(this)[t].clone());for(t=0,n=this.mins.length;t<n&&!e.length;t++)this.mins[t]&&e.push(this.mins[t].clone());e.length||e.push(N.default.now()),this._datesToShow=e,this._setDatesToShow()}},{key:"_setDatesToShow",value:function(e){var t,n,a,r,i=this._datesToShow,s="xs"===this._currentBreakpoint||"sm"===this._currentBreakpoint?1:this.visibleCounts[this.activeIndex]||this.visibleCounts[0]||1,o=0,l=this.viewRange.charAt(0).toUpperCase()+(0,u.default)(t=this.viewRange).call(t,1);if(i.length>s&&(0,d.default)(i).call(i,s),e)if(i=this._datesToShow=(0,d.default)(i).call(i,0,1),e<0)for(;o>e;o--)i[0]=i[0]["previous"+l];else for(;o<e;o++)i[0]=i[0]["next"+l];for(this._atMin=this._checkMinDateVisible(l,i),this._atMax=this._checkMaxDateVisible(l,i),o=0;i.length<s;)a=!e&&this.activeIndex===(0,O.default)(this).length-1&&(0,O.default)(this)[(0,O.default)(this).length-1]&&(0,O.default)(this)[0]&&!(0,O.default)(this)[(0,O.default)(this).length-1]["equal"+l]((0,O.default)(this),!0),this._atMax||a?(r="unshift",(n=i[o]["previous"+l])["before"+l](this.minVisible)&&(n=i[o]["next"+l],r="push")):(r="push",(n=i[o]["next"+l])["after"+l](this.maxVisible)&&(n=i[o]["previous"+l],r="unshift")),"push"===r?(i.push(n),o=i.length-1):(i.unshift(n),o=0);this._atMin=this._checkMinDateVisible(l,i),this._atMax=this._checkMaxDateVisible(l,i),this._updateNav()}},{key:"_checkMinDateVisible",value:function(e,t){if(this.minVisible){var n=this.minVisible;return!(!n||!t[0]["equal"+e](n)&&!t[0]["before"+e](n))&&(t[0]=n,!0)}}},{key:"_checkMaxDateVisible",value:function(e,t){if(this.maxVisible){var n=this.maxVisible;return!(!n||!t[t.length-1]||!t[t.length-1]["equal"+e](n)&&!t[t.length-1]["after"+e](n))&&(t[t.length-1]=n,!0)}}},{key:"_checkValues",value:function(e,t){var n=this._checkMinMaxValues();if(this._isRange&&!t)for(var a=(0,O.default)(this).length-1;a>=0;a--)(0,O.default)(this)[a]&&(0,O.default)(this)[a-1]&&(0,O.default)(this)[a].beforeDay((0,O.default)(this)[a-1],!0)&&(a===e?this.setValue(null,a-1,!0):this.setValue(null,a,!0),n=!0);return n}},{key:"_checkMinMaxValues",value:function(){for(var e=0,t=(0,O.default)(this).length,n=!1;e<t;e++)this.maxes&&this.maxes[e]&&(0,O.default)(this)[e]&&(0,O.default)(this)[e].after(this.maxes[e],!0)?((0,O.default)(this)[e]=this.maxes[e].clone(),n=!0):this.mins&&this.mins[e]&&(0,O.default)(this)[e]&&(0,O.default)(this)[e].before(this.mins[e],!0)&&((0,O.default)(this)[e]=this.mins[e].clone(),n=!0);return n}},{key:"_animateContent",value:function(e,t){this._animationQueue=this._animationQueue||[],this._animationQueue.push({cb:e,d:t}),this._runAnimation()}},{key:"_runAnimation",value:function(){if(!this._animationTimer){var e,t=this._animationQueue.shift();if(t)this._animationTimer=(0,f.default)((0,h.default)(e=function(){t.cb.call(this),this._animationTimer=null,this._runAnimation()}).call(e,this),t.d)}}},{key:"_updateAttributes",value:function(){this.calendarEl.setAttribute("data-visible-count","xs"===this._currentBreakpoint?1:this.visibleCounts[this.activeIndex]||this.visibleCounts[0]||1),this._updateNav()}},{key:"_updateNav",value:function(){this.previousButtonEl&&(this._atMin?this.previousButtonEl.setAttribute("disabled",!0):this.previousButtonEl.removeAttribute("disabled")),this.nextButtonEl&&(this._atMax?this.nextButtonEl.setAttribute("disabled",!0):this.nextButtonEl.removeAttribute("disabled"))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,o,l,c;this._onInputChangeBound=(0,h.default)(e=this._onInputChange).call(e,this),this._onSelectChangeBound=(0,h.default)(t=this._onSelectChange).call(t,this),this._onInputFocusBound=(0,h.default)(n=this._onInputFocus).call(n,this),this._onClickBound=(0,h.default)(a=this._onClick).call(a,this),this._onCalendarClickBound=(0,h.default)(r=this._onCalendarClick).call(r,this),this._onKeydownBound=(0,h.default)(i=this._onKeydown).call(i,this),this._onCalendarKeydownBound=(0,h.default)(s=this._onCalendarKeydown).call(s,this),this._onCalendarMouseOverBound=(0,h.default)(o=this._onCalendarMouseOver).call(o,this),this._onCalendarMouseOutBound=(0,h.default)(l=this._onCalendarMouseOut).call(l,this),this._onResizeBound=(0,h.default)(c=this._onResize).call(c,this)}},{key:"_addEventListeners",value:function(){for(var e=0,t=this.els.length;e<t;e++)this.els[e].addEventListener("click",this._onClickBound),this.els[e].addEventListener("keydown",this._onKeydownBound),this.inputEls[e].addEventListener("change",this._onInputChangeBound),this.inputEls[e].addEventListener("focus",this._onInputFocusBound);this.calendarEl.addEventListener("mouseover",this._onCalendarMouseOverBound),this.calendarEl.addEventListener("mouseout",this._onCalendarMouseOutBound),this.calendarEl.addEventListener("click",this._onCalendarClickBound),this.calendarEl.addEventListener("keydown",this._onCalendarKeydownBound),this.calendarEl.addEventListener("change",this._onSelectChangeBound),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)}},{key:"_removeEventListeners",value:function(){for(var e=0,t=this.els.length;e<t;e++)this.els[e].removeEventListener("click",this._onClickBound),this.els[e].removeEventListener("keydown",this._onKeydownBound),this.inputEls[e].removeEventListener("change",this._onInputChangeBound),this.inputEls[e].removeEventListener("focus",this._onInputFocusBound);this.calendarEl.removeEventListener("mouseover",this._onCalendarMouseOverBound),this.calendarEl.removeEventListener("mouseout",this._onCalendarMouseOutBound),this.calendarEl.removeEventListener("click",this._onCalendarClickBound),this.calendarEl.removeEventListener("keydown",this._onCalendarKeydownBound),this.calendarEl.removeEventListener("change",this._onSelectChangeBound),window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)}},{key:"_focusNext",value:function(){var e,t;-1!==(t=(0,p.default)(e=(0,O.default)(this)).call(e,null))&&(this.activeIndex<this.els.length-1?this.open(this.activeIndex+1):this.open(t))}},{key:"_closeOnLast",value:function(){var e;-1===(0,p.default)(e=(0,O.default)(this)).call(e,null)&&this.close({delay:this.closeDelay})}},{key:"_fillToggle",value:function(){var e;this.els[this.activeIndex]&&(e=this.els[this.activeIndex].querySelector('.spark-date__calendar-toggle [class*="spark-icon"]'))&&(0,A.default)(e,"spark-icon--fill")}},{key:"_unfillToggle",value:function(){var e;this.els[this.activeIndex]&&(e=this.els[this.activeIndex].querySelector('.spark-date__calendar-toggle [class*="spark-icon"]'))&&(0,T.default)(e,"spark-icon--fill")}},{key:"_activateElement",value:function(e){var t=this.els[e];t&&(0,A.default)(t,"active")}},{key:"_deactivateElement",value:function(e){var t=this.els[e];!t||(0,O.default)(this)[e]||(0,I.default)(t,"focus")||(0,I.default)(t,"has-partial-value")||(0,T.default)(t,"active")}},{key:"_checkSize",value:function(){var e=(0,L.get)(window.outerWidth);this._currentBreakpoint!==e&&(this._currentBreakpoint=e,this._setDatesToShow(),this.render(!0),this.popover.update())}},{key:"_scrollToInput",value:function(){var e=this.els[this.activeIndex];e&&(0,F.default)(e)}},{key:"_updateHoverClasses",value:function(e,t){var n,a;this._hoverStarts=this._hoverStarts||[],this._hoverEnds=this._hoverEnds||[],e=e instanceof Array?e:e?[e]:[],t=t instanceof Array?t:t?[t]:[];var r,o,l=[],c=[],u=[],d=[];(0,s.default)(e).call(e,(function(e){var t;-1!==(0,p.default)(t=this._hoverStarts).call(t,e)?l.push(e):e&&(c.push(e),(0,A.default)(e,"hover-start"))}),this),r=(0,i.default)(Array.prototype).call([],l,c),(0,s.default)(n=this._hoverStarts).call(n,(function(e){-1===(0,p.default)(r).call(r,e)&&(0,T.default)(e,"hover-start")}),this),(0,s.default)(t).call(t,(function(e){var t;-1!==(0,p.default)(t=this._hoverEnds).call(t,e)?u.push(e):e&&(d.push(e),(0,A.default)(e,"hover-end"))}),this),o=(0,i.default)(Array.prototype).call([],u,d),(0,s.default)(a=this._hoverEnds).call(a,(function(e){-1===(0,p.default)(o).call(o,e)&&(0,T.default)(e,"hover-end")}),this),this._hoverStarts=r,this._hoverEnds=o}},{key:"_onClick",value:function(e){if((0,x.default)(e.target,".spark-date__calendar-toggle",this.els)){var t,n=(0,x.default)(e.target,".spark-date",this.els),a=(0,p.default)(t=this.els).call(t,n);e.preventDefault(),this.open(a,{delay:1})}}},{key:"_onKeydown",value:function(e){13===e.keyCode&&(0,x.default)(e.target,".spark-date__calendar-toggle",this.els)&&this._onClick(e)}},{key:"_onCalendarKeydown",value:function(e){if((0,I.default)(e.target,"spark-calendar__day")){var t;if(37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode||(t=(0,x.default)(e.target,".spark-calendar__month",this.calendarEl)),37===e.keyCode){var n=(0,B.default)(e.target,".spark-calendar__day:not(.spark-calendar__day--disabled)");if(null!==n)n.focus();else{var a=null!==t?(0,B.default)(t,".spark-calendar__month"):null;if(a)for(var r=(0,M.default)(a.querySelector(".spark-calendar__days"),".spark-calendar__day"),i=r.length-1;i>=0;i--)if(!(0,I.default)(r[i],"spark-calendar__day--disabled")&&!(0,I.default)(r[i],"spark-calendar__day--inactive")){r[i].focus();break}}}if(39===e.keyCode){var s=(0,R.default)(e.target,".spark-calendar__day:not(.spark-calendar__day--disabled)");if(null!==s)s.focus();else{var o=null!==t?(0,R.default)(t,".spark-calendar__month"):null;if(o)for(var l=(0,M.default)(o.querySelector(".spark-calendar__days"),".spark-calendar__day"),c=0;c<l.length;c++)if(!(0,I.default)(l[c],"spark-calendar__day--disabled")&&!(0,I.default)(l[c],"spark-calendar__day--inactive")){l[c].focus();break}}}if(38===e.keyCode||40===e.keyCode){var u=t.querySelector(".spark-calendar__days"),d=(0,V.default)(u.children,e.target),p=null,h=!1;do{if(38===e.keyCode?d-=7:d+=7,null!==(p=u.children.item(d))&&!(0,I.default)(p,"spark-calendar__day--disabled")){h=!0,p.focus();break}}while(null!==p&&d>=0&&d<42);if(!h)if(38===e.keyCode){var f=null!==t?(0,B.default)(t,".spark-calendar__month"):null;if(null!==f)for(u=f.querySelector(".spark-calendar__days"),d<=0&&(d=42+d);d>=0&&d<42;){if(null!==(p=u.children.item(d))&&!(0,I.default)(p,"spark-calendar__day--disabled")){p.focus();break}d-=7}}else{var m=null!==t?(0,R.default)(t,".spark-calendar__month"):null;if(null!==m)for(u=m.querySelector(".spark-calendar__days"),d>=42&&(d-=42);d>=0&&d<42;){if(null!==(p=u.children.item(d))&&!(0,I.default)(p,"spark-calendar__day--disabled")){p.focus();break}d+=7}}}}}},{key:"_onCalendarMouseOver",value:function(e){"month"===this.viewRange&&this._onCalendarMouseOverMonths(e.target)}},{key:"_onCalendarMouseOverMonths",value:function(e){var t;if(this._isRange){var n=(0,x.default)(e,".spark-calendar__day");if(n){var a,r=(0,x.default)(e,".spark-calendar__month"),i=(0,h.default)(t=function(e){return(0,I.default)(r,e)}).call(t,this),s=[],o=[];if(!(0,O.default)(this)[this.activeIndex])if(!i("value-before")||i("after-range-end")||i("has-value")||i("value-after"))!i("has-value")||i("value-before")||i("value-after")||!(s=(0,B.default)(n,".spark-calendar__day--selected"))&&!(o=(0,R.default)(n,".spark-calendar__day--selected"))?i("has-value")&&i("range-middle")&&i("value-before")&&(a=(0,B.default)(n,".spark-calendar__day--selected"))&&(s=[a],o=[n]):(s?(s=[s],o=[n]):(o=[o],s=[n]),((0,I.default)(o[0],"spark-calendar__range-start")||(0,I.default)(s[0],"spark-calendar__range-end"))&&(s=[],o=[]));else{s.push(r.querySelector(".spark-calendar__day:not(.spark-calendar__day--inactive):not(.spark-calendar__day--disabled)")),o.push(n);for(var l=r;(l=(0,B.default)(l,".spark-calendar__month"))&&!(0,I.default)(l,"value-after")&&((0,I.default)(l,"has-value")||(0,I.default)(l,"value-before"));)(a=(a=(a=l.querySelectorAll(".spark-calendar__day--selected"))[a.length-1])||l.querySelector(".spark-calendar__day"))&&(s.push(a),a=(a=l.querySelectorAll(".spark-calendar__day"))[a.length-1],o.push(a))}this._updateHoverClasses(s,o)}else this._updateHoverClasses()}}},{key:"_onCalendarMouseOut",value:function(e){"month"===this.viewRange&&this._onCalendarMouseOutMonths(e.target)}},{key:"_onCalendarMouseOutMonths",value:function(e){var t=(0,x.default)(e,".spark-calendar__day"),n=(0,x.default)(e,".spark-calendar__days"),a=(0,x.default)(e,".spark-calendar__month");(0,T.default)(t,"hover"),(0,T.default)(n,"hover"),(0,T.default)(a,"hover"),(0,T.default)(this.calendarEl,"hover")}},{key:"_onCalendarClick",value:function(e){var t,n,a=(0,x.default)(e.target,".spark-calendar__nav",this.calendarEl),r=(0,x.default)(e.target,".spark-calendar__today",this.calendarEl);a?(0,x.default)(e.target,".spark-calendar__previous",a)?this.previous():(0,x.default)(e.target,".spark-calendar__next",a)&&this.next():(t=(0,x.default)(e.target,".spark-calendar__day"))?(e.preventDefault(),e.stopPropagation(),(0,I.default)(t,"spark-calendar__day--disabled")?"next"===(n=t.getAttribute("data-direction"))?this.next():"previous"===n&&this.previous():(this.setValue(t.getAttribute("data-date"),this.activeIndex),this.autoAdvance&&this._focusNext(),this.autoClose&&this._closeOnLast())):r&&(e.preventDefault(),e.stopPropagation(),this.setValue(N.default.now(),this.activeIndex),this.autoAdvance&&this._focusNext(),this.autoClose&&this._closeOnLast())}},{key:"_onPopoverOpen",value:function(){this._fillToggle(),this._checkSize(),"xs"===this._currentBreakpoint&&this._scrollToInput()}},{key:"_onPopoverClose",value:function(){this._unfillToggle(),this._updateHoverClasses(),this._deactivateElement(this.activeIndex),this.activeIndex=null;for(var e=0;e<this.els.length;e++)if(null!==this.els[e].querySelector(".spark-date__calendar-toggle")){this.els[e].querySelector(".spark-date__calendar-toggle").focus();break}}},{key:"_onInputChange",value:function(e){var t,n,a=(0,p.default)(t=this.inputEls).call(t,e.target);this._inputsChanging&&-1!==(0,p.default)(n=this._inputsChanging).call(n,a)||this.setValue(e.target.value,a)}},{key:"_onInputFocus",value:function(e){var t;if(this.showOnFocus){var n=(0,p.default)(t=this.inputEls).call(t,e.target);-1!==n&&this.open(n)}}},{key:"_onSelectChange",value:function(e){var t=e.target.name,n=e.target.value,a=this._datesToShow[this.activeIndex][t],r={};r[t]=n,this.showDate(r),e.target.value=a}},{key:"_onResize",value:function(){null!==this.activeIndex&&this._checkSize()}}]),a}(_.default);Y.prototype._whitelistedParams=["els","visibleCounts","autoAdvance","autoClose","closeDelay","mins","maxes","values","daysDisabled","daysInfo","quickJump","quickJumpRange","calendarEl","viewRange","animate","animationDuration","showOnFocus","onChange","showTodayButton","todayButtonLabel"],Y.prototype.defaults={els:null,inputEls:null,calendarEl:null,calendarContentEl:null,calendarOverflowEl:null,visibleCounts:null,activeIndex:null,mins:null,minVisible:null,maxes:null,maxVisible:null,values:null,daysDisabled:null,daysInfo:null,viewRange:null,autoAdvance:null,autoClose:null,quickJump:null,closeDelay:null,showTodayButton:null,todayButtonLabel:null,nextButtonEl:null,previousButtonEl:null,animate:null,animationDuration:null,showOnFocus:null,onChange:null,_isDisabled:!1,_isRange:null,_hoverStarts:null,_hoverEnds:null,_currentBreakpoint:null,_animationQueue:null,_currentContent:null,_datesToShow:null,_monthsShowing:null,_atMin:!1,_atMax:!1,_inputsChanging:!1,_openCloseTimer:null,_renderCache:null,_onClickBound:null,_onKeydownBound:null,_onCalendarMouseOverBound:null,_onCalendarMouseOutBound:null,_onCalendarClickBound:null,_onCalendarKeydownBound:null,_onSelectChangeBound:null,_onInputChangeBound:null,_onInputFocusBound:null,_onResizeBound:null};var Q=Y;t.default=Q,e.exports=t.default},function(e,t,n){var a=n(1744);e.exports=a},function(e,t,n){var a=n(1745),r=Array.prototype;e.exports=function(e){var t=e.concat;return e===r||e instanceof Array&&t===r.concat?a:t}},function(e,t,n){n(1447);var a=n(1262);e.exports=a("Array").concat},function(e,t,n){n(1322);var a=n(1747),r=n(1304),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===i||e instanceof Array&&t===i.forEach||s.hasOwnProperty(r(e))?a:t}},function(e,t,n){var a=n(1748);e.exports=a},function(e,t,n){n(1749);var a=n(1262);e.exports=a("Array").forEach},function(e,t,n){"use strict";var a=n(1246),r=n(1750);a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){"use strict";var a=n(1306).forEach,r=n(1321);e.exports=r("forEach")?function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){var a=n(1752);e.exports=a},function(e,t,n){var a=n(1753),r=Array.prototype;e.exports=function(e){var t=e.map;return e===r||e instanceof Array&&t===r.map?a:t}},function(e,t,n){n(1754);var a=n(1262);e.exports=a("Array").map},function(e,t,n){"use strict";var a=n(1246),r=n(1306).map,i=n(1254),s=n(1317)("map"),o=s&&!i((function(){[].map.call({length:-1,0:1},(function(e){throw e}))}));a({target:"Array",proto:!0,forced:!s||!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1756);e.exports=a},function(e,t,n){var a=n(1757),r=Array.prototype;e.exports=function(e){var t=e.filter;return e===r||e instanceof Array&&t===r.filter?a:t}},function(e,t,n){n(1758);var a=n(1262);e.exports=a("Array").filter},function(e,t,n){"use strict";var a=n(1246),r=n(1306).filter,i=n(1254),s=n(1317)("filter"),o=s&&!i((function(){[].filter.call({length:-1,0:1},(function(e){throw e}))}));a({target:"Array",proto:!0,forced:!s||!o},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1760);e.exports=a},function(e,t,n){var a=n(1761),r=Array.prototype;e.exports=function(e){var t=e.splice;return e===r||e instanceof Array&&t===r.splice?a:t}},function(e,t,n){n(1762);var a=n(1262);e.exports=a("Array").splice},function(e,t,n){"use strict";var a=n(1246),r=n(1339),i=n(1336),s=n(1284),o=n(1272),l=n(1381),c=n(1340),u=n(1317),d=Math.max,p=Math.min;a({target:"Array",proto:!0,forced:!u("splice")},{splice:function(e,t){var n,a,u,h,f,m,g=o(this),v=s(g.length),y=r(e,v),b=arguments.length;if(0===b?n=a=0:1===b?(n=0,a=v-y):(n=b-2,a=p(d(i(t),0),v-y)),v+n-a>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(g,a),h=0;h<a;h++)(f=y+h)in g&&c(u,h,g[f]);if(u.length=a,n<a){for(h=y;h<v-a;h++)m=h+n,(f=h+a)in g?g[m]=g[f]:delete g[m];for(h=v;h>v-a+n;h--)delete g[h-1]}else if(n>a)for(h=v-a;h>y;h--)m=h+n-1,(f=h+a-1)in g?g[m]=g[f]:delete g[m];for(h=0;h<n;h++)g[h+y]=arguments[h+2];return g.length=v-a+n,u}})},function(e,t,n){n(1764);var a=n(1252);e.exports=a.setTimeout},function(e,t,n){var a=n(1246),r=n(1255),i=n(1386),s=[].slice,o=function(e){return function(t,n){var a=arguments.length>2,r=a?s.call(arguments,2):void 0;return e(a?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};a({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:o(r.setTimeout),setInterval:o(r.setInterval)})},function(e,t,n){n(1322);var a=n(1766),r=n(1304),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===i||e instanceof Array&&t===i.values||s.hasOwnProperty(r(e))?a:t}},function(e,t,n){var a=n(1767);e.exports=a},function(e,t,n){n(1448);var a=n(1262);e.exports=a("Array").values},function(e,t,n){e.exports=n(1769)},function(e,t,n){var a=n(1453);e.exports=a},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1278));var s=function(e){var t,n=document.createElement("select"),a="",s=e.attributes,o=e.selected instanceof Array?e.selected:e.selected?[e.selected]:[],l=e.options,c=l.length;for(t in s)n.setAttribute(t,s[t]);for(t=0;t<c;t++)"object"===(0,i.default)(l[t])?a+='<option value="'+l[t].value+'" '+(-1!==(0,r.default)(o).call(o,l[t].value)?"selected":"")+">"+l[t].text+"</option>":a+='<option value="'+l[t]+'" '+(-1!==(0,r.default)(o).call(o,l[t])?"selected":"")+">"+l[t]+"</option>";return n.innerHTML=a,n};t.default=s,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1265)),i=a(n(1772)),s=function(){};var o=function(e){var t,n=(e=e||{}).target;if(!n)throw new Error("Cannot tween without a target!");var a="string"==typeof e.prop?[e.prop]:e.prop,o="number"==typeof e.start?[e.start]:e.start,l="number"==typeof e.end?[e.end]:e.end,c=e.duration||250,u=e.callback||s;if(o.length!==l.length)throw new Error("Cannot tween two different sets of parameters!");return(0,i.default)((function e(s){t||(t=s);for(var d,p=s-t,h=Math.min(p/c,1),f=[],m=0,g=o.length;m<g;m++)f[m]=o[m]+(l[m]-o[m])*h;for(m=0,g=a.length;m<g;m++)d=m+1===g&&f.length-1>m?(0,r.default)(f).call(f,m):f[m],"function"==typeof n[a[m]]?n[a[m]].apply(n,d):n[a[m]]=d;p<c?(0,i.default)(e):u()}))};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r,i,s=a(n(1395)),o=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||(r=(0,s.default)(),i=r,function(e){var t=(0,s.default)(),n=Math.max(0,1e3/60-(t-i)),a=t+n;return i=a,window.setTimeout((function(){e(a-r)}),n)});t.default=o,e.exports=t.default},function(e,t,n){var a=n(1774);e.exports=a},function(e,t,n){n(1775);var a=n(1252);e.exports=a.Date.now},function(e,t,n){n(1246)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){null===t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var a=Math.max(Math.ceil((t-e)/n),0),r=new Array(a),i=0;i<a;i++,e+=n)r[i]=e;return r};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1278)),s=a(n(1250)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1274)),g=a(n(1396)),v=a(n(1247)),y=a(n(1248)),b=a(n(1251)),C=a(n(1501)),E=a(n(1502));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(k()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e,t){var r;return(0,l.default)(this,a),r=n.call(this,e,t),t=t||{},e?(r._init(e),r):(0,p.default)(r)}return(0,c.default)(a,[{key:"_carouselItem",value:function(e,t,n,a){var r={};return r.el=e,r.parent=t,r.dot=n,r.order=a,r.addTransform=function(e){r.setTransform(r.transform.x+e)},r.setTransform=function(e){e=e||0,r.transform={x:e},r.el.setAttribute("style",(0,g.default)("translate3d",r.transform.x+"px, 0px, 0px"))},r.setSelected=function(e){r.setSelected.selected===e&&void 0!==r.setSelected.selected||(e?((0,v.default)(r.el,"selected"),(0,v.default)(r.dot,"selected"),r.setSelected.selected=!0):((0,y.default)(r.el,"selected"),(0,y.default)(r.dot,"selected"),r.setSelected.selected=!1))},r.currentPosition=function(){return t.transform.x+r.transform.x+r.dims.left+r.width/2-t.dims.left},r.setTransform(),r.dims=e.getBoundingClientRect(),r.width=r.dims.width,r.el.sparkcarouselitem=r,r.dot.sparkcarouselitemdot=r,r}},{key:"_init",value:function(e){var t,n,a;(this.el=e,this.el.sparkcarousel=this,this.backe=this.el.querySelector(".spark-carousel__back"),this.forwarde=this.el.querySelector(".spark-carousel__forward"),this.outerContainer=this.el.querySelector(".spark-carousel__outer-container"),this.containerMask=this.el.querySelector(".spark-carousel__container-mask"),this.container=this.el.querySelector(".spark-carousel__container"),this.dots=this.el.querySelector(".spark-carousel__dots"),this.pauseEl=this.el.querySelector(".spark-carousel__pause"),this.opts={},this.opts.wrapItems=!!this.el.attributes["data-spark-carousel-wrap-items"],this.opts.startingVelocity=this.el.attributes["data-spark-carousel-scroll-velocity"]?this.el.attributes["data-spark-carousel-scroll-velocity"].value:10,this.opts.smoothScroll=!!this.el.attributes["data-spark-carousel-smooth-scroll"],this.opts.smoothScrollCenterItems=!!this.el.attributes["data-spark-carousel-smooth-scroll-center"],this.opts.panelScroll=!!this.el.attributes["data-spark-carousel-panel"],this.opts.edgeScroll=!(!this.opts.panelScroll&&!this.el.attributes["data-spark-carousel-edge"]),this.opts.heroCarousel=!!this.el.attributes["data-spark-carousel-hero"],this.opts.autoAdvance=!!this.el.attributes["data-spark-carousel-auto-advance"]&&this.el.attributes["data-spark-carousel-auto-advance"].value,!this.opts.autoAdvance||this.autoAdvance||this.pause)||(this.autoAdvance=window.setTimeout((0,o.default)(n=function(){this._autoAdvance()}).call(n,this),1e3*this.opts.autoAdvance));this.opts.autoAdvance&&!this.pauseH&&(this.pauseH=(0,o.default)(a=this._pause).call(a,this),this.pauseEl.addEventListener("click",this.pauseH));var r=this.el.querySelectorAll(".spark-carousel__item");this.items=[],this.totalItemWidth=0,this.dims=this.containerMask.getBoundingClientRect(),this.width=this.dims.width,this.height=this.dims.height;for(var i,s,l,c,u=document.createDocumentFragment(),d=0;d<r.length;d++)(i=document.createElement("div")).setAttribute("tabindex","-1"),u.appendChild(i),this.items.push(new this._carouselItem(r[d],this,i,d)),this.totalItemWidth+=this.items[d].width;for(;this.dots.firstChild;)this.dots.removeChild(this.dots.firstChild);(this.dots.appendChild(u),void 0!==this.container.style.msFlexAlign&&this._transformItems(-(this.totalItemWidth-this.width)/2),this._setTransform(),this._handleVisibleChildren=(0,o.default)(t=this._handleVisibleChildrenH).call(t,this),document.addEventListener("spark.visible-children",this._handleVisibleChildren,!0),this._rafHandler)||(this._rafHandler=(0,o.default)(s=this._rafHandlerH).call(s,this));this.resizeH||(this.resizeH=(0,m.default)((0,o.default)(l=this._resize).call(l,this),100),window.addEventListener("resize",this.resizeH));this.totalItemWidth>this.width?this.touchstartH||((0,y.default)(this.el,"noscroll"),this._setupListeners(),this._addTransform(-this.items[0].currentPosition()+this.width/2)):((0,v.default)(this.el,"noscroll"),this._removeListeners(),this._onNavKeyupBound=(0,o.default)(c=this._onNavKeyup).call(c,this),window.addEventListener("keyup",this._onNavKeyupBound));this._updateSelected(),(0,v.default)(this.el,"ready")}},{key:"remove",value:function(e){this._removeListeners(),window.removeEventListener("resize",this.resizeH),delete this.resizeH,document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0),delete this._handleVisibleChildren,(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"_pause",value:function(){var e;this.pause?(delete this.moves,this.autoAdvance=window.setTimeout((0,o.default)(e=function(){this._autoAdvance()}).call(e,this),1e3*this.opts.autoAdvance)):(this._rafCancel(),this.opts.smoothScroll&&!this.opts.smoothScrollCenterItems||this._scrollTo(this._selectedItem()),window.clearTimeout(this.autoAdvance),delete this.autoAdvance);this._setPause(!this.pause)}},{key:"_setPause",value:function(e){return void 0===e?(this.pause=void 0!==this.pause&&this.pause,this.pause):(e?(0,v.default)(this.el,"pause"):(0,y.default)(this.el,"pause"),this.pause=e,this.pause)}},{key:"_autoAdvance",value:function(){if(this.el&&!this.moves&&!this._laststart&&!this.paused){var e,t;this._rafCancel();var n=(0,s.default)(e=this.items).call(e,this._selectedItem());this._scrollToItem=!0,this._scrollTo(this.items[n===this.items.length-1?0:n+1]),this.autoAdvance=window.setTimeout((0,o.default)(t=function(){this._autoAdvance()}).call(t,this),1e3*this.opts.autoAdvance)}}},{key:"_setupListeners",value:function(){var e,t,n,a,r,i,s,l,c,u,d,p=(0,E.default)();this.touchstartH=(0,o.default)(e=this._touchstart).call(e,this),this.container.addEventListener("touchstart",this.touchstartH,!!p&&{passive:!1}),this.touchmoveH=(0,o.default)(t=this._touchmove).call(t,this),window.addEventListener("touchmove",this.touchmoveH,!!p&&{passive:!1}),this.touchendH=(0,o.default)(n=this._touchend).call(n,this),window.addEventListener("touchend",this.touchendH),this.mousedownH=(0,o.default)(a=this._mousedown).call(a,this),this.container.addEventListener("mousedown",this.mousedownH),this.mousemoveH=(0,o.default)(r=this._mousemove).call(r,this),window.addEventListener("mousemove",this.mousemoveH),this.mouseupH=(0,o.default)(i=this._mouseup).call(i,this),window.addEventListener("mouseup",this.mouseupH),this.forwardH=(0,o.default)(s=this._forward).call(s,this),this.forwarde.addEventListener("click",this.forwardH),this.backH=(0,o.default)(l=this._back).call(l,this),this.backe.addEventListener("click",this.backH),this.clickH=(0,o.default)(c=this._click).call(c,this),this.el.addEventListener("click",this.clickH),this._focusHandler=(0,o.default)(u=this._scrollToClicked).call(u,this),this.container.addEventListener("focus",this._focusHandler,!0),this._onNavKeyupBound=(0,o.default)(d=this._onNavKeyup).call(d,this),window.addEventListener("keyup",this._onNavKeyupBound)}},{key:"_removeListeners",value:function(){this.el.removeEventListener("touchstart",this.touchstartH),delete this.touchstartH,window.removeEventListener("touchmove",this.touchmoveH),delete this.touchmoveH,window.removeEventListener("touchend",this.touchendH),delete this.touchendH,this.el.removeEventListener("mousedown",this.mousedownH),delete this.mousedownH,window.removeEventListener("mousemove",this.mousemoveH),delete this.mousemoveH,window.removeEventListener("mouseup",this.mouseupH),delete this.mouseupH,this.forwarde.removeEventListener("click",this.forwardH),delete this.forwardH,this.backe.removeEventListener("click",this.backH),delete this.backH,this.el.removeEventListener("click",this.clickH),delete this.clickH,this.container.removeEventListener("focus",this._focusHandler,!0),delete this._focusHandler,this.pauseEl&&(this.pauseEl.removeEventListener("click",this.pauseH),delete this.pauseH),window.removeEventListener("keyup",this._onNavKeyupBound),delete this._onNavKeyupBound}},{key:"_handleVisibleChildrenH",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,o.default)(t=function(){this.change()}).call(t,this),0)}},{key:"_onNavKeyup",value:function(e){if(13===e.keyCode&&document.activeElement===this.backe&&this._back(e),13===e.keyCode&&document.activeElement===this.forwarde&&this._forward(e),13!==e.keyCode&&32!==e.keyCode||document.activeElement!==this.pauseEl||this._pause(),27===e.keyCode&&(0,b.default)(document.activeElement,"spark-carousel__item")&&!this.opts.heroCarousel){var t=(0,C.default)(document.activeElement.parentNode,".spark-carousel"),n=t[t.length-1].querySelector(".spark-carousel__skip");n&&n.focus()}}},{key:"_forward",value:function(e){var t,n=(0,s.default)(t=this.items).call(t,this._selectedItem());++n>this.items.length-1&&(this.opts.wrapItems?n=0:n--),delete this.moves;var a=this._startingVelocity;a=a<-this.opts.startingVelocity?a:-this.opts.startingVelocity,this._rafCancel(),this._scrollToItem=!0,this._scrollTo(this.items[n],a),e&&e.preventDefault()}},{key:"_back",value:function(e){var t,n=(0,s.default)(t=this.items).call(t,this._selectedItem());--n<0&&(this.opts.wrapItems?n=this.items.length-1:n++),delete this.moves;var a=this._startingVelocity;a=a>this.opts.startingVelocity?a:this.opts.startingVelocity,this._rafCancel(),this._scrollToItem=!0,this._scrollTo(this.items[n],a),e&&e.preventDefault()}},{key:"_movestart",value:function(e){this._rafCancel(),this.moves=[],this.moves.push(e)}},{key:"_move",value:function(e){this.moves&&this.moves.length>1?(this._addTransform(e.pageX-this.moves[this.moves.length-1].pageX),this.moves.push(e),e.preventDefault=!0):(this.moves&&this.moves[0]&&(Math.abs(this.moves[0].pageX-e.pageX)>Math.abs(this.moves[0].pageY-e.pageY)&&Math.abs(this.moves[0].pageX-e.pageX)>5&&e.cancelable?(this._addTransform(e.pageX-this.moves[0].pageX),this.moves.push(e),e.preventDefault=!0):Math.abs(this.moves[0].pageX-e.pageX)>5&&(this.moves[0]=e)),"touchend"!==e.type&&"mouseup"!==e.type||delete this.moves)}},{key:"_moveend",value:function(e){return this._move(e),this.opts.smoothScroll?this._interiaScroll(this.moves):this._settle(this.moves),e}},{key:"_resize",value:function(){this.change()}},{key:"change",value:function(){if(this.el){var e=this.el.getBoundingClientRect();if(e.width!==this.width||e.height!==this.height){var t;this.autoAdvance&&(window.clearTimeout(this.autoAdvance),delete this.autoAdvance),this._rafCancel();var n=this._selectedItem();this._setTransform(0),this._setTransformItems(0),this._init(this.el),(0,s.default)(t=this.items).call(t,n.el.sparkcarouselitem)>-1&&this.totalItemWidth>this.width&&(this.opts.wrapItems?this._addTransform(-this.totalItemWidth+(-n.el.sparkcarouselitem.currentPosition()+this.width/2)):this._addTransform(-n.el.sparkcarouselitem.currentPosition()+this.width/2))}}}},{key:"update",value:function(e){return e=e||this.el,this._removeListeners(),window.removeEventListener("resize",this.resizeH),delete this.resizeH,document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0),delete this._handleVisibleChildren,this._init(e),this.change(),this}},{key:"_touchstart",value:function(e){var t={type:e.type,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,timeStamp:e.timeStamp};this._movestart(t)}},{key:"_touchmove",value:function(e){var t={type:e.type,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,timeStamp:e.timeStamp,cancelable:e.cancelable};this._move(t),t.preventDefault&&e.preventDefault()}},{key:"_touchend",value:function(e){if(this.moves&&this.moves.length>2&&e.cancelable){var t={type:e.type,pageX:this.moves[this.moves.length-1].pageX,pageY:this.moves[this.moves.length-1].pageY,timeStamp:e.timeStamp};this._moveend(t)}else delete this.moves}},{key:"_mousedown",value:function(e){if(0!==e.button)return e;this.isMouseDown=!0;var t={type:e.type,pageX:e.pageX,pageY:e.pageY,timeStamp:e.timeStamp};this._movestart(t),e.preventDefault()}},{key:"_mousemove",value:function(e){if(this.isMouseDown){var t={type:e.type,pageX:e.clientX,pageY:e.clientY,timeStamp:e.timeStamp,cancelable:!0};this._move(t),t.preventDefault&&e.preventDefault()}}},{key:"_mouseup",value:function(e){if(this.moves&&this.moves.length>2){var t={type:e.type,pageX:e.pageX,pageY:e.pageY,timeStamp:e.timeStamp};this._moveend(t),this.mouseUpHandled=!0}else delete this.moves,this._scrollToClicked(e);this.isMouseDown=!1}},{key:"_click",value:function(e){this.moves&&e.preventDefault(),this.mouseUpHandled&&e.preventDefault(),delete this.mouseUpHandled}},{key:"_velocity",value:function(e){for(var t=0,n=Math.min(6,e.length-1),a=1;a<n;a++)e[e.length-a].timeStamp===e[e.length-a-1].timeStamp?t+=t/a:t+=10*(e[e.length-a].pageX-e[e.length-a-1].pageX)/(e[e.length-a].timeStamp-e[e.length-a-1].timeStamp)/n;return t}},{key:"_scrollToClicked",value:function(e){var t=e.target;if(this.el.contains(t))for(;!t.sparkcarousel;){if(t.sparkcarouselitem){this.containerMask.scrollLeft=0,delete this.moves,this._rafCancel(),this._scrollTo(t.sparkcarouselitem),e.preventDefault();break}if(t.sparkcarouselitemdot){this.containerMask.scrollLeft=0,delete this.moves,this._rafCancel();var n=t.sparkcarouselitemdot.order<this._selectedItem().order?this.opts.startingVelocity:-this.opts.startingVelocity;this._scrollTo(t.sparkcarouselitemdot,n),e.preventDefault();break}t=t.parentNode}}},{key:"_scrollTo",value:function(e,t){var n=this.width/2,a=e.currentPosition();t||(t=n-e.currentPosition()>0?this.opts.startingVelocity:-this.opts.startingVelocity),this.opts.wrapItems?this._totalDistance=t>0?a>n?n+this.totalItemWidth-a:n-a:a<n?-(this.totalItemWidth+a-n):n-a:this._totalDistance=n-a,this._startingVelocity=t,delete this.moves,this._scrollToItem=!0,this._raf=window.requestAnimationFrame(this._rafHandler)}},{key:"_rafHandlerH",value:function(e){var t;if(this.opts.autoAdvance&&this.autoAdvance&&(window.clearTimeout(this.autoAdvance),delete this.autoAdvance),!this.moves&&this._startingVelocity){this._laststart||(this._laststart=e),this._remainingDistance||(this._remainingDistance=this._totalDistance),this._lastframe?t=(e-this._lastframe)/(1/60*1e3):(this._lastframe=e,t=1);var n=this._startingVelocity*t;this.opts.smoothScroll&&!this._scrollToItem?(this._addTransform(n),this._startingVelocity*=Math.pow(.97,t),this.opts.smoothScrollCenterItems&&Math.abs(this._startingVelocity)<1&&this._scrollTo(this._selectedItem()),Math.abs(this._startingVelocity)<.5?this._startingVelocity>0&&this.transform.x>this.totalItemWidth/2-this.items[0].width/2||this._startingVelocity<0&&this.transform.x<-(this.totalItemWidth/2-this.items[this.items.length-1].width/2)?(this._scrollToItem=!0,this._scrollTo(this._selectedItem())):this._rafCancel():this._raf=window.requestAnimationFrame(this._rafHandler)):this._startingVelocity>0?n<this._remainingDistance?(this._addTransform(n),this._remainingDistance-=n,this._remainingDistance>this._totalDistance/2?this._startingVelocity*=Math.pow(1.15,t):(this._startingVelocity*=Math.pow(.9,t),this._startingVelocity=this._startingVelocity>2?this._startingVelocity:2),this._raf=window.requestAnimationFrame(this._rafHandler)):(this._addTransform(this._remainingDistance),this._rafCancel()):n>this._remainingDistance?(this._addTransform(n),this._remainingDistance-=n,this._remainingDistance<this._totalDistance/2?this._startingVelocity*=Math.pow(1.15,t):(this._startingVelocity*=Math.pow(.9,t),this._startingVelocity=this._startingVelocity<-2?this._startingVelocity:-2),this._raf=window.requestAnimationFrame(this._rafHandler)):(this._addTransform(this._remainingDistance),this._rafCancel()),this._lastframe=e}else this._rafCancel()}},{key:"_rafCancel",value:function(){var e;!this.opts.autoAdvance||this.autoAdvance||this.pause||(this.autoAdvance=window.setTimeout((0,o.default)(e=function(){this._autoAdvance()}).call(e,this),1e3*this.opts.autoAdvance));window.cancelAnimationFrame(this._raf),delete this._scrollToItem,delete this._laststart,delete this._startingVelocity,delete this._remainingDistance,delete this._totalDistance,delete this._lastframe}},{key:"_interiaScroll",value:function(e){if(e[e.length-1].timeStamp-e[e.length-2].timeStamp>100||e.length<3)return this.opts.smoothScrollCenterItems?this._scrollTo(this._selectedItem()):void 0;this._startingVelocity=this._velocity(e),delete this.moves,this._raf=window.requestAnimationFrame(this._rafHandler)}},{key:"_settle",value:function(e){if(e&&e.length>3){if(e[e.length-1].timeStamp-e[e.length-2].timeStamp>80)return this._scrollTo(this._selectedItem());var t=10*(e[e.length-3].pageX-e[e.length-4].pageX)/(e[e.length-3].timeStamp-e[e.length-4].timeStamp),n=10*(e[e.length-2].pageX-e[e.length-3].pageX)/(e[e.length-2].timeStamp-e[e.length-3].timeStamp);if(Math.abs(t)<Math.abs(n)||Math.abs(n)>.5&&Math.abs(n)>.5){var a,r=(0,s.default)(a=this.items).call(a,this._selectedItem());n>0?r>0?this._scrollTo(this.items[r-1],n):this.opts.wrapItems?this._scrollTo(this.items[this.items.length-1],n):this._scrollTo(this.items[0]):r<this.items.length-1?this._scrollTo(this.items[r+1],n):this.opts.wrapItems?this._scrollTo(this.items[0],n):this._scrollTo(this.items[this.items.length-1])}else this._selectedItem().currentPosition()>this.width/2?this._scrollTo(this._selectedItem(),-this.opts.startingVelocity):this._scrollTo(this._selectedItem(),this.opts.startingVelocity)}}},{key:"_transformItems",value:function(e){for(var t=0;t<this.items.length;t++)this.items[t].addTransform(e)}},{key:"_setTransformItems",value:function(e){for(var t=0;t<this.items.length;t++)this.items[t].setTransform(e)}},{key:"_addTransform",value:function(e){var t;if(!this.opts.smoothScrollCenterItems&&this.opts.smoothScroll||this.opts.wrapItems||this.opts.edgeScroll)this._leftbound(!1),this._rightbound(!1);else{var n,a=(0,s.default)(n=this.items).call(n,this.selectedItem);a===this.items.length-1?this._leftbound(!0):this._leftbound(!1),0===a?this._rightbound(!0):this._rightbound(!1)}if(this.transform.x+e<0&&e<0){if(this.opts.wrapItems)for(;this.transform.x+e<-(this.totalItemWidth-this.width)/2&&(!(this.totalItemWidth<this.width)||this.transform.x+e<-this.totalItemWidth/2);)t=this.items.shift(),this.items.push(t),t.addTransform(this.totalItemWidth),this._transformItems(-t.width),e+=t.width;else{if(this.opts.edgeScroll&&e<0&&this.transform.x+e-1<=-(this.totalItemWidth-this.width)/2)return this._leftbound(!0),this._setTransform(-(this.totalItemWidth-this.width)/2);e<0&&this.transform.x+e<-(this.totalItemWidth/2-this.items[this.items.length-1].width/2)&&(e=(e*=(this.totalItemWidth/2+this.items[this.items.length-1].width/2+(this.transform.x+e))/this.items[this.items.length-1].width)>0?0:e)}return this._setTransform(this.transform.x+e)}if(this.transform.x+e>0&&e>0)if(this.opts.wrapItems)for(;this.transform.x+e>-(this.width-this.totalItemWidth)/2&&(!(this.totalItemWidth<this.width)||this.transform.x+e>this.totalItemWidth/2);)t=this.items.pop(),this.items.unshift(t),t.addTransform(-this.totalItemWidth),this._transformItems(t.width),e-=t.width;else{if(this.opts.edgeScroll&&e>0&&this.transform.x+e+1>=(this.totalItemWidth-this.width)/2)return this._rightbound(!0),this._setTransform((this.totalItemWidth-this.width)/2);e>0&&this.transform.x+e>this.totalItemWidth/2-this.items[0].width/2&&(e=(e*=(this.totalItemWidth/2+this.items[0].width/2-(this.transform.x+e))/this.items[0].width)<0?0:e)}return this._setTransform(this.transform.x+e)}},{key:"_leftbound",value:function(e){return void 0===e?(this.leftbound=void 0!==this.leftbound&&this.leftbound,this.leftbound):(e?(0,v.default)(this.el,"leftbound"):(0,y.default)(this.el,"leftbound"),this.leftbound=e,this.leftbound)}},{key:"_rightbound",value:function(e){return void 0===e?(this.rightbound=void 0!==this.rightbound&&this.rightbound,this.rightbound):(e?(0,v.default)(this.el,"rightbound"):(0,y.default)(this.el,"rightbound"),this.rightbound=e,this.rightbound)}},{key:"_updateSelected",value:function(){for(var e=this.width/2,t=-1,n=1,a=0;n>a&&!(++t>this.items.length-2);)n=Math.abs(e-this.items[t].currentPosition()),a=Math.abs(e-this.items[t+1].currentPosition());return this._selectedItem(this.items[t])}},{key:"_selectedItem",value:function(e){if("object"!==(0,i.default)(e))return this.selectedItem?this.selectedItem:this._updateSelected();if(this.selectedItem&&this.selectedItem.setSelected(!1),this.selectedItem=e,(this.opts.smoothScrollCenterItems||!this.opts.smoothScroll)&&!this.opts.wrapItems&&!this.opts.edgeScroll){var t,n=(0,s.default)(t=this.items).call(t,this.selectedItem);n===this.items.length-1?this._leftbound(!0):this._leftbound(!1),0===n?this._rightbound(!0):this._rightbound(!1)}this.selectedItem.setSelected(!0)}},{key:"_setTransform",value:function(e){return e=e||0,this.transform={x:e},this.container.setAttribute("style",(0,g.default)("translate3d",e+"px, 0px, 0px")),this._updateSelected(),e}}]),a}(f.default);O.prototype.defaults={el:null},O.prototype._whitelistedParams=[];var _=O;t.default=_,e.exports=t.default},function(e,t,n){e.exports=n(1779)},function(e,t,n){var a=n(1445);e.exports=a},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1282)),s=a(n(1397)),o=a(n(1240)),l=a(n(1309)),c=a(n(1250)),u=a(n(1238)),d=a(n(1239)),p=a(n(1258)),h=a(n(1244)),f=a(n(1245)),m=a(n(1241)),g=a(n(1242)),v=a(n(1785)),y=a(n(1786)),b=a(n(1495)),C=a(n(1496)),E=a(n(1257)),k=a(n(1248)),O=a(n(1247)),_=a(n(1251)),P=a(n(1351)),S=a(n(1394)),N=a(n(1787)),w=a(n(1327)),A=a(n(1263)),T=n(1271),I=a(n(1261)),D=a(n(1273)),x=a(n(1266)),j=a(n(1275));function L(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var F=(0,b.default)("YYYY-MM-DD"),B=function(){},R=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,m.default)(t);if(L()){var a=(0,m.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._convertLabel(),t._initializeInputs(),t._updateClass(),t._addEventListeners(),(0,f.default)(t)):(0,f.default)(t)}return(0,d.default)(a,[{key:"show",value:function(){return this.isActive||(this._runTypeaheads(),this.isActive=!0,this._updateClass()),this}},{key:"hide",value:function(){return this.isActive?(this.isActive=!1,this._updateClass(),this):this}},{key:"remove",value:function(e){return this._removeTypeaheads(e),this._removeSelects(e),this._removeInputPieces(),(0,p.default)((0,m.default)(a.prototype),"remove",this).call(this,e),this}},{key:"setValue",value:function(e){var t,n;for(t in e=e||{day:"",month:"",year:""},this.typeaheads)void 0!==e[t]&&(this.typeaheads[t].setValue(e[t]),n=n||!!e[t]);for(t in this.selects)void 0!==e[t]&&(this.selects[t].setValue(e[t]),n=n||!!e[t]);return!this.isActive&&n&&(this.isActive=!0),this._padTypeaheads(),this._updateClass(),this.updateInput(),this}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"clearValue",value:function(){return(0,A.default)(this.isTypeahead?this.typeaheads:this.selects,(function(e,t){t.clearValue()})),this.inputEl.value="",this}},{key:"setErrorState",value:function(e){e?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")}},{key:"enable",value:function(){return(0,A.default)(this.isTypeahead?this.typeaheads:this.selects,(function(e,t){t.enable()})),this.inputEl.removeAttribute("disabled"),(0,E.default)(this.el,"disabled",!1),this}},{key:"disable",value:function(){return(0,A.default)(this.isTypeahead?this.typeaheads:this.selects,(function(e,t){t.disable()})),this.inputEl.setAttribute("disabled",""),(0,E.default)(this.el,"disabled",!0),this}},{key:"updateInput",value:function(){var e;if(this.isTypeahead&&this.typeaheads?e=this.typeaheads:this.isSelect&&(e=this.selects),e){var t,n=e.day&&e.day.getValue(!0)||0,a=e.month&&e.month.getValue(!0)||0,r=e.year&&e.year.getValue(!0)||0,i=this.inputEl.value;this.inputEl.value=-1===(0,c.default)(t=[n,a,r]).call(t,0)?(0,C.default)(r,4)+"-"+(0,C.default)(a,2)+"-"+(0,C.default)(n,2):"",i!==this.inputEl.value&&(this._pauseInputChange=!0,(0,S.default)(this.inputEl,"change"),(this.onChange||B)(this.inputEl.value,this),this._pauseInputChange=!1)}return this.currValue=this.inputEl.value,this}},{key:"getTypingValue",value:function(){var e,t="";if(this.isTypeahead&&this.typeaheads?e=this.typeaheads:this.isSelect&&(e=this.selects),e){var n=e.day&&e.day.getValue(!0),a=e.month&&e.month.getValue(!0),r=e.year&&e.year.getValue(!0);t=a.toString()+n.toString()+r.toString()}return t}},{key:"focus",value:function(e,t){var n;if(!this.isActive||!this.inFocus)return this;var a,r=(0,c.default)(n=this.typeaheadEls).call(n,this.inFocus.typeahead.el),i=this.typeaheadEls[r+e];if(t&&(a=this._getTypeaheadByElement(i))&&a.typeahead.addCharacterAtIndex(t,0),!i)return!1;var s=i.querySelector("input");return s&&(s.focus(),a&&a.typeahead.moveCaret(1)),this}},{key:"focusNext",value:function(e){return this.focus(1,e)&&this.inFocus&&!e&&this.inFocus.typeahead.moveCaretToStart(),this}},{key:"focusPrevious",value:function(e){return this.focus(-1,e)&&this.inFocus&&this.inFocus.typeahead.moveCaretToEnd(),this}},{key:"hasPartialValue",value:function(){var e;for(e in this.typeaheads)if(this.typeaheads[e].getValue())return!0;for(e in this.selects)if(this.selects[e].getValue())return!0;return!1}},{key:"update",value:function(e){return e?(this._removeTypeaheads(),this._removeSelects(),this._removeInputPieces(),this._removeEventListeners(),this._cacheElements(e),this._convertLabel(),this._initializeInputs(),this._updateClass(),this._addEventListeners()):this._runTypeaheads(),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=this.el.querySelector('[type="date"]'),this.inputLabel=this.el.querySelector(".spark-label").innerHTML,this.selectLabelPrefix=this.el.querySelector(".spark-label").getAttribute("id"),!this.inputEl)throw new Error('No <input type="date"> element present in date input container!',this.el);this.toggleEl=this.el.querySelector(".spark-date__toggle"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,x.default)('<span class="spark-input__message"></span>')}},{key:"_parseParams",value:function(){this.isActive=null!==this.isActive?this.isActive:!!this.inputEl.value,this.isSelect=null!==this.isSelect?this.isSelect:!!(0,_.default)(this.el,"spark-date--select"),this.isTypeahead=null!==this.isTypeahead?this.isTypeahead:!this.isSelect,this.format=null!==this.format?this.format:(0,T.string)(this.inputEl,"data-format","MM-DD-YYYY"),this.textFormat=null!==this.textFormat?this.textFormat:(0,T.string)(this.inputEl,"data-text-format","MM DD YYYY"),this.showDateAsText=null!==this.showDateAsText?this.showDateAsText:(0,T.boolean)(this.inputEl,"data-show-date-as-text",!1),this.parsedFormat=(0,b.default)(this.format),this.parsedTextFormat=(0,b.default)(this.textFormat),this.min=null!==this.min?this.min:this.inputEl.getAttribute("min"),this.max=null!==this.max?this.max:this.inputEl.getAttribute("max"),this.min=this.min&&F.getValues(this.min),this.max=this.max&&F.getValues(this.max),this.currValue=null!==this.inputEl.value?this.inputEl.value:null}},{key:"_initializeInputs",value:function(){this.isTypeahead?(this._initializeInputPieces(),this._runTypeaheads()):this.isSelect&&((0,k.default)(this.el,"spark-input"),this._initializeInputPieces())}},{key:"_initializeInputPieces",value:function(){var e,t;this.inputEl.style.display="none";var n,a=[];(0,l.default)(e=this.parsedFormat.parts).call(e,(0,o.default)(t=function(e){(this.isTypeahead?this._initializeTypeaheadPiece:this._initializeSelectPiece).call(this,a,e)}).call(t,this)),this.piecesEl=document.createElement("span"),this.piecesEl.className=this.isTypeahead?"spark-input__fields":"spark-select-group",(0,P.default)(this.piecesEl,a),this.isTypeahead&&(0,l.default)(a).call(a,(function(e){(0,_.default)(e,"spark-input")&&e.addEventListener("click",(function(t){e.querySelector("input").focus(),t.preventDefault()})),(0,_.default)(e,"spark-input__divider")&&e.addEventListener("click",(function(t){e.nextSibling&&e.nextSibling.querySelector("input")&&(e.nextSibling.querySelector("input").focus(),t.preventDefault())}))})),this.isSelect&&(n=this.el.querySelector(".spark-label"))&&this.piecesEl.appendChild(n),this.el.insertBefore(this.piecesEl,this.inputEl),this.inputEl.value&&(this.setValue(F.getValues(this.inputEl.value)),this.isActive=!0)}},{key:"_removeInputPieces",value:function(){this.inputEl.style.display="",this.piecesEl&&this.piecesEl.parentNode.removeChild(this.piecesEl)}},{key:"_removeTypeaheads",value:function(e){if(this.typeaheads)for(var t in this.typeaheads)this.typeaheads[t].remove(e)}},{key:"_removeSelects",value:function(e){var t;if(this.selects){for(var n in this.selects)this.selects[n].remove(e);(t=this.piecesEl.querySelector(".spark-label"))&&this.el.appendChild(t),(0,O.default)(this.el,"spark-input")}}},{key:"_initializeTypeaheadPiece",value:function(e,t){var n;switch(this.typeaheads=this.typeaheads||{},this.typeaheadEls=this.typeaheadEls||[],t.name){case"day":case"month":case"year":this.typeaheads[t.name]=new v.default({type:t.name,ariaLabelPrefix:this.inputLabel,len:t.length,placeholder:t.value,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onChange:this._onPieceChangeBound,onInput:this._onTypeaheadInputBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound}),n=this.typeaheads[t.name].typeahead.el,this.typeaheadEls.push(n);break;default:(n=document.createElement("span")).innerHTML=t.value,n.className="spark-input__divider"}e.push(n)}},{key:"_initializeSelectPiece",value:function(e,t){var n;if(this.selects=this.selects||{},this.selectEls=this.selectEls||[],-1!==(0,c.default)(n=["day","month","year"]).call(n,t.name)){var a;switch(t.name){case"day":case"month":this.selects[t.name]=new y.default({type:t.name,ariaLabelPrefix:this.selectLabelPrefix,onChange:this._onPieceChangeBound}),a=this.selects[t.name].select.el;break;case"year":var r=this.inputEl.min?F.getValues(this.inputEl.min).year:null,i=this.inputEl.max?F.getValues(this.inputEl.max).year:null;this.selects[t.name]=new y.default({min:r,max:i,type:t.name,ariaLabelPrefix:this.selectLabelPrefix,onChange:this._onPieceChangeBound}),a=this.selects[t.name].select.el}e.push(a),this.selectEls.push(a)}}},{key:"_convertLabel",value:function(){if(!this.isTypeahead&&"label"===this.el.nodeName.toLowerCase()){var e=document.createElement("fieldset");(0,N.default)(this.el,e),(0,P.default)(e,this.el.children),this.el.parentNode&&this.el.parentNode.replaceChild(e,this.el),this.el=e}}},{key:"_validate",value:function(){this.isTypeahead?this._validateTypeaheads():this.isSelect&&this._validateSelects()}},{key:"_validateTypeaheads",value:function(){if(this.typeaheads){var e,t=this.typeaheads.month?this.typeaheads.month.getValue(!0):null,n=this.typeaheads.year?this.typeaheads.year.getValue(!0):null,a=this.typeaheads.year?this.typeaheads.year.typeahead.format.length:null,r=this.typeaheads.day?this.typeaheads.day.getValue(!0):null;if("DD-MM-YYYY"===this.format){var i=new Date(this.inputEl.value).getMonth()+1;if(null===t||""===t)e=this._getMaxDaysInMonth(i);else e=i!==new Date(this.currValue).getMonth()+1?this._getMaxDaysInMonth(i):t&&new Date(null!==n?n:(new Date).getFullYear(),t,0).getDate()||this._getMaxDaysInMonth(t)}else e=t&&(0,s.default)(n)&&n.toString().length===a?new Date(n,t,0).getDate():this._getMaxDaysInMonth(t);null!==r&&document.activeElement===this.typeaheads.day.el.querySelector("input")&&(this._userEnteredDay=r),(e<(this._userEnteredDay||r)||e===this._userEnteredDay&&n&&n.toString().length===a)&&(this.typeaheads.day.setValue(e),this.updateInput())}}},{key:"_validateTypeaheadBounds",value:function(){var e=this.typeaheads.year?this.typeaheads.year.getValue(!0):null,t=this.typeaheads.month?this.typeaheads.month.getValue(!0):null,n=this.typeaheads.day?this.typeaheads.day.getValue(!0):null;if(e&&t&&n){var a=new Date(e,t-1,n),r="";this.min&&a<new Date(this.min.year,this.min.month-1,this.min.day)?r="min":this.max&&a>new Date(this.max.year,this.max.month-1,this.max.day)&&(r="max"),r&&(this.typeaheads.year.setValue((0,C.default)(this[r].year,this.typeaheads.year.typeahead.format.length)),this.typeaheads.month.setValue((0,C.default)(this[r].month,this.typeaheads.month.typeahead.format.length)),this.typeaheads.day.setValue((0,C.default)(this[r].day,this.typeaheads.day.typeahead.format.length)),this.updateInput())}}},{key:"_padTypeaheads",value:function(){if(!this._pauseInputChange){for(var e in this._pauseInputChange=!0,this.typeaheads)this._padTypeahead(this.typeaheads[e]);this._pauseInputChange=!1}}},{key:"_padTypeahead",value:function(e){var t=e.getValue();t&&(t!==(0,C.default)(t,e.typeahead.format.length)&&e.setValue((0,C.default)(t,e.typeahead.format.length)))}},{key:"_hasTypeaheadValue",value:function(){for(var e in this.typeaheads)if(this.typeaheads[e].getValue(!0))return!0;return!1}},{key:"_validateSelects",value:function(){if(this.selects){var e=this.selects.month?this.selects.month.getValue(!0):null,t=this.selects.year?this.selects.year.getValue(!0):null,n=e&&new Date(null!==t?t:(new Date).getFullYear(),e,0).getDate()||this._getMaxDaysInMonth(e),a=this.selects.day?this.selects.day.getValue(!0):null;this.selects.day.setOptions({max:n}),n<a&&this.selects.day.setValue(n),this.updateInput()}}},{key:"_getMaxDaysInMonth",value:function(e){var t;return 2===e?29:-1!==(0,c.default)(t=[4,6,9,11]).call(t,e)?30:31}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,l;this._onTypeaheadBlurBound=(0,o.default)(e=this._onTypeaheadBlur).call(e,this),this._onTypeaheadInputBound=(0,o.default)(t=this._onTypeaheadInput).call(t,this),this._onTypeaheadFocusBound=(0,o.default)(n=this._onTypeaheadFocus).call(n,this),this._onPieceChangeBound=(0,o.default)(a=this._onPieceChange).call(a,this),this._onTypeaheadBackspaceBound=(0,o.default)(r=this._onTypeaheadBackspace).call(r,this),this._onTypeaheadEndBound=(0,o.default)(i=this._onTypeaheadEnd).call(i,this),this._onInputChangeBound=(0,o.default)(s=this._onInputChange).call(s,this),this._onVisibleChildrenBound=(0,o.default)(l=this._onVisibleChildren).call(l,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.inputEl.addEventListener("change",this._onInputChangeBound),document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.inputEl.removeEventListener("change",this._onInputChangeBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)}},{key:"_onVisibleChildren",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,o.default)(t=function(){this.update()}).call(t,this),0)}},{key:"_runTypeaheads",value:function(){if(!this.runningTypeaheads){for(var e in this.runningTypeaheads=!0,this.inFocus&&this.inFocus.pause(),this.typeaheads)this.typeaheads[e]!==this.inFocus&&this.typeaheads[e].run();this.inFocus&&(this.inFocus.resume(),this.inFocus.run()),this.runningTypeaheads=!1}}},{key:"_updateClass",value:function(){(0,E.default)(this.el,"active",this.isActive),(0,E.default)(this.el,"has-partial-value",this.hasPartialValue()),(0,E.default)(this.el,"focus",!!this.inFocus)}},{key:"_getTypeaheadByElement",value:function(e){for(var t in this.typeaheads)if(this.typeaheads[t].typeahead.el===e)return this.typeaheads[t]}},{key:"_showDateText",value:function(){var e=this._getDateText();e&&this.showDateAsText&&(this.dateTextEl||this._createDateTextEl(),this.dateTextEl.innerHTML=e,this.dateTextEl.style.display="")}},{key:"_hideDateText",value:function(){this.showDateAsText&&this.dateTextEl&&(this.dateTextEl.style.display="none")}},{key:"_createDateTextEl",value:function(){var e=document.createElement("div");e.className="spark-input__overlay",e.style.display="none",this.el.appendChild(e),this.dateTextEl=e}},{key:"_getDateText",value:function(){for(var e,t=this.parsedTextFormat.parts,n=0,a=t.length,r="",i=!0;n<a;n++)switch(e=this.typeaheads[t[n].name]&&this.typeaheads[t[n].name].getValue(),t[n].name){case"month":if(r+=w.default.getMonthNameShort(e),!e){i=!1;break}break;case"day":case"year":if(r+=e,!e){i=!1;break}break;default:r+=t[n].value}return!!i&&r}},{key:"_onPieceChange",value:function(){var e;(this._validate(),this.isTypeahead&&this.showDateAsText&&!this._hasFocus)&&(this._showTextTimer&&clearTimeout(this._showTextTimer),this._showTextTimer=(0,i.default)((0,o.default)(e=function(){this._showDateText()}).call(e,this),0))}},{key:"_onTypeaheadFocus",value:function(e,t){this.runningTypeaheads||(this._hideDateText(),this._hasFocus||(this._hasFocus=!0,(this.onFocus||B)(this.inputEl.value,this)),(0,S.default)(this.inputEl,"focus"),this.inFocus=t,this.show(),this._updateClass(),this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=null))}},{key:"_onTypeaheadBlur",value:function(e,t){var n;this.runningTypeaheads||(this.inFocus=null,this._padTypeahead(t),this.updateInput(),this._updateClass(),this.inputEl.value||this._hasTypeaheadValue()?this._validateTypeaheadBounds():this.hide(),this._blurTimer=(0,i.default)((0,o.default)(n=function(){this._hasFocus=!1,(this.onBlur||B)(this.inputEl.value,this),this._showDateText()}).call(n,this),1))}},{key:"_onTypeaheadInput",value:function(){(this.onInput||B)(this.getTypingValue(),this)}},{key:"_onTypeaheadBackspace",value:function(){this.focusPrevious()}},{key:"_onTypeaheadEnd",value:function(e,t){this.focusNext(t)}},{key:"_onInputChange",value:function(e){this.isTypeahead&&(this.isActive=!!e.target.value,this._updateClass()),this._pauseInputChange||(this.setValue(F.getValues(e.target.value)),(this.onChange||B)(this.inputEl.value,this))}},{key:"_onClick",value:function(){}}]),a}(g.default);R.prototype._whitelistedParams=["validate","onValidate","onChange","onInput","onFocus","onBlur","isTypeahead","isSelect","format","textFormat","showDateAsText","min","max"],R.prototype.defaults={el:null,inputEl:null,messageEl:null,piecesEl:null,toggleEl:null,inFocus:null,isActive:null,isSelect:null,isTypeahead:null,typeaheads:null,typeaheadEls:null,selects:null,selectEls:null,format:null,parsedFormat:null,showDateAsText:null,textFormat:null,runningTypeaheads:!1,onValidate:null,onChange:null,onInput:null,onFocus:null,onBlur:null,_hasFocus:!1,_pauseInputChange:!1,_onClickBound:null,_onPieceChangeBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadInputBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null,_onInputChangeBound:null},(0,I.default)(R.prototype,D.default,j.default);var M=R;t.default=M,e.exports=t.default},function(e,t,n){var a=n(1782);e.exports=a},function(e,t,n){n(1783);var a=n(1252);e.exports=a.Number.isInteger},function(e,t,n){n(1246)({target:"Number",stat:!0},{isInteger:n(1784)})},function(e,t,n){var a=n(1259),r=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1258)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1353)),m=n(1271);function g(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(){};function y(){var e=document.createElement("span");return e.className="spark-input",e}var b=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(g()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),arguments.length<2&&(r=e||{},e=y()),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._createTypeahead(e,r),t}return(0,l.default)(a,[{key:"getValue",value:function(e){return this.typeahead.getValue(e)}},{key:"setValue",value:function(e){return this.typeahead.setValue(e)}},{key:"clearValue",value:function(){return this.typeahead.clearValue()}},{key:"enable",value:function(){return this.typeahead.enable()}},{key:"disable",value:function(){return this.typeahead.disable()}},{key:"run",value:function(){return this.typeahead.run()}},{key:"pause",value:function(){return this.typeahead.pause()}},{key:"resume",value:function(){return this.typeahead.resume()}},{key:"remove",value:function(e){return this.typeahead.remove(e),(0,c.default)((0,p.default)(a.prototype),"remove",this).call(this,e),this}},{key:"_cacheElements",value:function(e){this.el=e}},{key:"_parseParams",value:function(){if(this.type=null!==this.type?this.type:(0,m.string)(this.el,"data-type","day"),this.format=null!==this.format?this.format:(0,m.string)(this.el,"data-format",null),this.placeholder=null!==this.placeholder?this.placeholder:(0,m.string)(this.el,"data-placeholder",null),this.len=null!==this.len?this.len:(0,m.number)(this.el,"length",null),this.ariaLabelPrefix=null!==this.ariaLabelPrefix?this.ariaLabelPrefix:null,!this.placeholder)throw new Error("You must provide a placeholder value for a DateTypeahead.");if(null!==this.len&&(this.format=this._lengthToFormat(this.len)),!this.format)throw new Error("You must provide a format value for a DateTypeahead.")}},{key:"_createTypeahead",value:function(e){this.typeahead=new f.default(e,{placeholder:this.placeholder,format:this.format,matchPlaceholderSize:!0,onChange:this._onTypeaheadChangeBound,onInput:this._onTypeaheadInputBound,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound});var t=e.querySelector("input");t&&!t.getAttribute("aria-label")&&t.setAttribute("aria-label",this.ariaLabelPrefix+" "+this.type)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._onTypeaheadChangeBound=(0,s.default)(e=this._onTypeaheadChange).call(e,this),this._onTypeaheadInputBound=(0,s.default)(t=this._onTypeaheadInput).call(t,this),this._onTypeaheadFocusBound=(0,s.default)(n=this._onTypeaheadFocus).call(n,this),this._onTypeaheadBlurBound=(0,s.default)(a=this._onTypeaheadBlur).call(a,this),this._onTypeaheadBackspaceBound=(0,s.default)(r=this._onTypeaheadBackspace).call(r,this),this._onTypeaheadEndBound=(0,s.default)(i=this._onTypeaheadEnd).call(i,this)}},{key:"_lengthToFormat",value:function(e){for(var t=0,n="";t<e;t++)n+="\\d";return n}},{key:"_checkValidity",value:function(e,t){var n=e=(0,i.default)(e,10),a=!isNaN(e);return a&&(e="year"===this.type?0===e?t?"":0:Math.max(e,0):"month"===this.type?e?Math.min(Math.max(e,1),12):t?"":0:e?Math.min(Math.max(e,1),31):t?"":0),!a||e===n||(this.typeahead.setValue(e+""),!1)}},{key:"_onTypeaheadChange",value:function(e){this._checkValidity(e)&&(this.onChange||v)(e,this)}},{key:"_onTypeaheadInput",value:function(e){(this.onInput||v)(e,this)}},{key:"_onTypeaheadFocus",value:function(e){(this.onFocus||v)(e,this)}},{key:"_onTypeaheadBlur",value:function(e){this._checkValidity(e,!0),(this.onBlur||v)(e,this)}},{key:"_onTypeaheadBackspace",value:function(e){(this.onBackspace||v)(e,this)}},{key:"_onTypeaheadEnd",value:function(e,t){(this.onEnd||v)(this,t)}}]),a}(h.default);b.prototype._whitelistedParams=["type","format","ariaLabelPrefix","placeholder","len","onChange","onInput","onFocus","onBlur","onBackspace","onEnd"],b.prototype.defaults={el:null,type:null,ariaLabelPrefix:null,typeahead:null,format:null,placeholder:null,len:null,onChange:null,onInput:null,onFocus:null,onBlur:null,onBackspace:null,onEnd:null,_onTypeaheadChangeBound:null,_onTypeaheadInputBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null};var C=b;t.default=C,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1265)),l=a(n(1260)),c=a(n(1238)),u=a(n(1239)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1433)),g=a(n(1327)),v=a(n(1248)),y=a(n(1257)),b=n(1271);function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}function E(){var e=document.createElement("span");return e.className="spark-select",e.innerHTML='<select class="spark-select__input"></select><span class="spark-label"></span>',e}var k=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(C()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),e instanceof HTMLElement||(r=e||{},e=E()),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._createSelect(e),t}return(0,u.default)(a,[{key:"getValue",value:function(e){return e?(0,l.default)(this.select.getValue(),10):this.select.getValue()}},{key:"setValue",value:function(e){return this.select.setValue(e)}},{key:"clearValue",value:function(){return this.select.clearValue()}},{key:"enable",value:function(){return this.select.enable()}},{key:"disable",value:function(){return this.select.disable()}},{key:"setOptions",value:function(e){e=e||{},this.min=e.min||this.min,this.max=e.max||this.max,this.monthNames=e.monthNames||this.monthNames,this.numericMonth=e.numericMonth||this.numericMonth,"year"===this.type&&(e.min&&!e.max?this.max=this.min+100:e.max&&!e.min&&(this.min=this.max-100));for(var t=this.min?this.min-1:0,n=this.max||this.monthNames.length,a=[{}];t<n;t++)a.push({value:t+1,text:this.monthNames?this.monthNames[t]:t+1});return this.select.setOptions(a),this}},{key:"setLabel",value:function(e){return this.select.setLabel(void 0!==e?e:this._getTypeText()),this}},{key:"_createSelect",value:function(e){this.select=new m.default(e,{onChange:this._onSelectChangeBound,onFocus:this._onSelectFocusBound,onBlur:this._onSelectBlurBound,onKeydown:this._onSelectKeydownBound,onClick:this._onSelectClick}),this.setOptions(),this.setLabel();var t=e.querySelector("select");if(t&&!t.getAttribute("aria-labelledby")){var n=e.querySelector(".spark-label"),a="spark-aria__"+this.ariaLabelPrefix+"--suffix-"+this.type;null!==n&&null!==a&&(n.setAttribute("id",a),t.setAttribute("aria-labelledby",this.ariaLabelPrefix+" "+a))}}},{key:"_cacheElements",value:function(e){this.el=e,this.selectEl=this.el.querySelector("select")}},{key:"_parseParams",value:function(){if(this.type=null!==this.type?this.type:(0,b.string)(this.selectEl,"data-type","day"),this.ariaLabelPrefix=null!==this.ariaLabelPrefix?this.ariaLabelPrefix:null,"year"===this.type){var e=new Date;this.min=null!==this.min?this.min:(0,b.number)(this.selectEl,"min",e.getFullYear()-100),this.max=null!==this.max?this.max:(0,b.number)(this.selectEl,"max",(this.min||e.getFullYear())+100)}else"month"===this.type?(this.monthNames=null!==this.monthNames?this.monthNames:(0,b.string)(this.selectEl,"data-month-names",null),this.numericMonth=null!==this.numericMonth?this.numericMonth:(0,b.boolean)(this.selectEl,"data-numeric-month",!1),this.min=null!==this.min?this.min:(0,b.number)(this.selectEl,"min",null),this.max=null!==this.max?this.max:(0,b.number)(this.selectEl,"max",null),this.monthNames||this.numericMonth||this.min||this.max?this.min||this.max||(this.min=1,this.max=12):this.monthNames=this._getDefaultMonthNames(),"string"==typeof this.monthNames&&(this.monthNames=this.monthNames.split(","))):(this.min=null!==this.min?this.min:(0,b.number)(this.selectEl,"min",1),this.max=null!==this.max?this.max:(0,b.number)(this.selectEl,"max",31))}},{key:"_getDefaultMonthNames",value:function(){return g.default.getMonthNamesShort()}},{key:"_getTypeText",value:function(){var e;return this.type.charAt(0).toUpperCase()+(0,o.default)(e=this.type).call(e,1)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._onSelectChangeBound=(0,s.default)(e=this._onSelectChange).call(e,this),this._onSelectFocusBound=(0,s.default)(t=this._onSelectFocus).call(t,this),this._onSelectBlurBound=(0,s.default)(n=this._onSelectBlur).call(n,this),this._onSelectKeydownBound=(0,s.default)(a=this._onSelectKeydown).call(a,this)}},{key:"_onSelectChange",value:function(e){(0,v.default)(this.el,"hide-date-select-placeholder"),this.onChange.call(this,e,this)}},{key:"_onSelectFocus",value:function(e){this.onFocus.call(this,e,this)}},{key:"_onSelectBlur",value:function(e){(0,v.default)(this.el,"hide-date-select-placeholder"),this.onBlur.call(this,e,this)}},{key:"_onSelectKeydown",value:function(e,t,n){var a;if((0,i.default)(a=navigator.userAgent).call(a,"Windows")>-1){n.hasValue||13!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode||(0,y.default)(this.el,"hide-date-select-placeholder",!n.hasValue)}}},{key:"_onSelectClick",value:function(e,t,n){var a;(0,i.default)(a=navigator.userAgent).call(a,"Windows")>-1&&(n.hasValue||(0,y.default)(this.el,"hide-date-select-placeholder",!n.hasValue))}}]),a}(f.default);k.prototype._whitelistedParams=["type","ariaLabelPrefix","monthNames","numericMonth","min","max","onChange","onFocus","onBlur"],k.prototype.defaults={el:null,selectEl:null,type:null,monthNames:null,min:null,max:null,select:null,numericMonth:null,onChange:function(){},onFocus:function(){},onBlur:function(){},_onSelectChangeBound:null,_onSelectFocusBound:null,_onSelectBlurBound:null,_onSelectKeydownBound:null};var O=k;t.default=O,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1263));var i=function(e,t){(0,r.default)(e.attributes,(function(e){t.setAttribute(e.name,e.value)}))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1310)),o=a(n(1265)),l=a(n(1240)),c=a(n(1238)),u=a(n(1239)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1503)),g=a(n(1257)),v=a(n(1247)),y=a(n(1248)),b=a(n(1251)),C=a(n(1351)),E=a(n(1791)),k=n(1283),O=n(1271);function _(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(_()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._determineInitialSize(),(0,p.default)(t)):(0,p.default)(t)}return(0,u.default)(a,[{key:"update",value:function(e){return this._removeEventListeners(),this._removePlaceholder(),this._cleanUpOverflowItems(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this.checkHideOnScroll(),this.checkFixed(),this._determineMenuSize(),this}},{key:"_cleanUpOverflowItems",value:function(){this.listMoreListEl.children.length>0&&((0,C.default)(this.listEl,this.listMoreListEl.children),this._removeListMore())}},{key:"checkFixed",value:function(){if(!this.fixed)return this;this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop;var e=this.scrollTop>this.fixedDistance;return(0,g.default)(this.el,"spark-header--condensed",e),(0,g.default)(document.body,"spark-header-condensed",e),this}},{key:"checkHideOnScroll",value:function(){if(!this.hideOnScroll)return this;void 0===this.scrollTop&&(this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop);var e=document.querySelector(".spark-header__nav");if(e&&(0,b.default)(e,"active"))return this;this.previousPosition=this.scrollTop,this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop;var t=!(this.scrollTop<=0)&&this.scrollTop>=this.previousPosition;!(0,b.default)(this.el,"hide-header-top")&&this.scrollTop<=this.previousPosition||(0,g.default)(this.el,"hide-header-top",t);var n=document.querySelectorAll(".spark-popover__toggle"),a=document.querySelectorAll('.spark-popover__content, [class*="spark-popover__content--"]');if(t){for(var r=0;r<n.length;r++)n[r].onclick?n[r].onclick():n[r].click&&n[r].click();for(var i=0;i<a.length;i++)a[i].parentElement.removeChild(a[i])}return this}},{key:"_cacheElements",value:function(e){var t,n,a,r;(this.el=e,this.navEl=this.el.querySelector(".spark-header__nav"),this.menuEl=this.navEl&&this.navEl.querySelector(".spark-header__menu"),this.listEl=this.menuEl&&this.menuEl.querySelector(".spark-header__list"),this.toggleEl=this.el.querySelector(".spark-header__toggle"),this.menuEl)&&(this.menu?this.menu.update(this.menuEl,{onToggle:this._onToggleClickBound=(0,l.default)(t=this._onToggleClick).call(t,this),onKeydown:this._onMenuKeyDownBound=(0,l.default)(n=this._onMenuKeyDown).call(n,this)}):this.menu=new m.default(this.menuEl,{onToggle:this._onToggleClickBound=(0,l.default)(a=this._onToggleClick).call(a,this),onKeydown:this._onMenuKeyDownBound=(0,l.default)(r=this._onMenuKeyDown).call(r,this)}));this.listEl&&this.listEl.children.length&&(this.listEls=(0,o.default)(Array.prototype).call(this.listEl.children,0),this._createListMore()),this.listEl&&this._createPlaceholder()}},{key:"_parseFocusableElements",value:function(){var e=this.menuEl.querySelectorAll('a[href]:not([tabindex^="-"]):not([disabled]), button:not([tabindex^="-"]):not([disabled]), input:not([tabindex^="-"]):not([disabled]), select:not([tabindex^="-"]):not([disabled]), textarea:not([tabindex^="-"]):not([disabled]), [tabindex]:not([tabindex^="-"]):not([disabled]), [tabindex="0"]');e.length>0&&(this.focusableElements=(0,o.default)(Array.prototype).call(e),this.firstHeaderFocusableEl=this.focusableElements[0],this.lastHeaderFocusableEl=this.focusableElements[this.focusableElements.length-1])}},{key:"_parseParams",value:function(){this.fixed=null!==this.fixed?this.fixed:(0,b.default)(this.el,"spark-header--fixed"),this.fixedDistance=null!==this.fixedDistance?this.fixedDistance:(0,O.number)(this.el,"data-fixed-distance",10),this.hideOnScroll=null!==this.hideOnScroll?this.hideOnScroll:(0,O.boolean)(this.el,"data-hide-on-scroll",!1),this.hideOnScroll&&(this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop),this.hideOnScroll&&!(0,O.boolean)(this.el,"data-hide-on-scroll",!1)&&this.el.setAttribute("data-hide-on-scroll","")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._determineInitialSizeBound=(0,l.default)(e=this._determineInitialSize).call(e,this),this._onResizeBound=(0,l.default)(t=this._onResize).call(t,this),this._onScrollBound=(0,l.default)(n=this._onScroll).call(n,this),this._onNavClickBound=(0,l.default)(a=this._onNavClick).call(a,this)}},{key:"_addEventListeners",value:function(){(this.fixed||this.hideOnScroll)&&window.addEventListener("scroll",this._onScrollBound),this.listEl&&(window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),this.toggleEl&&this.toggleEl.addEventListener("click",this._onToggleClickBound),this.navEl&&this.navEl.addEventListener("click",this._onNavClickBound),this.menuEl&&this.menuEl.addEventListener("keydown",this._onMenuKeyDownBound,!0))}},{key:"_removeEventListeners",value:function(){this.listEl&&(window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),this.toggleEl&&this.toggleEl.removeEventListener("click",this._onToggleClickBound),this.navEl&&this.navEl.removeEventListener("click",this._onNavClickBound),this.fixed&&window.removeEventListener("scroll",this._onScrollBound),this.menuEl&&this.menuEl.removeEventListener("keydown",this._onMenuKeyDownBound))}},{key:"_getCurrentBreakpoint",value:function(){this.lastBreakpoint=this.currentBreakpoint,this.currentBreakpoint=(0,k.get)(this.el.clientWidth,this.breakpoints),this.el.setAttribute("data-breakpoint",this.currentBreakpoint)}},{key:"_createPlaceholder",value:function(){var e=document.createElement("div");e.innerHTML=this.navEl.outerHTML;var t=e.children[0];t.setAttribute("aria-hidden",!0),(0,v.default)(t,"spark-header__placeholder"),this.el.appendChild(t),this.placeholder={el:t,menuEl:t.querySelector(".spark-header__menu"),listEl:t.querySelector(".spark-header__list")},this.listMoreEl&&(this.placeholder.listEl.innerHTML+=this.listMoreEl.outerHTML,this.placeholder.listMoreEl=this.placeholder.listEl.querySelector(".spark-header__more")),this._disablePlaceholderLinkTab(t)}},{key:"_removePlaceholder",value:function(){this.placeholder&&(this.placeholder.el.parentNode.removeChild(this.placeholder.el),this.placeholder.menuEl.parentNode.removeChild(this.placeholder.menuEl),this.placeholder.listEl.parentNode.removeChild(this.placeholder.listEl)),this.listMoreEl&&this.placeholder.listMoreEl.parentNode.removeChild(this.placeholder.listMoreEl)}},{key:"_disablePlaceholderLinkTab",value:function(e){for(var t=e.querySelectorAll("a"),n=0;n<t.length;n++)t.item(n).setAttribute("tabindex","-1");for(var a=e.querySelectorAll("button"),r=0;r<a.length;r++)a.item(r).setAttribute("tabindex","-1");e.querySelector(".spark-header__menu").setAttribute("tabindex","-1")}},{key:"_createListMore",value:function(){var e=document.createElement("div");e.innerHTML='<li><a class="spark-menu__list-link spark-menu__ignore" tabindex="0" title="More Items"><i class="spark-icon-menu-ellipsis-horizontal spark-icon--fill"></i></a><ul class="spark-menu__list"></ul></li>';var t=e.children[0];(0,v.default)(t,"spark-menu__list-item spark-header__more spark-no-animate"),this.listMoreEl=t,this.listMoreListEl=t.querySelector("ul")}},{key:"_determineInitialSize",value:function(){(0,v.default)(this.el,"spark-header--visible"),this._determineMenuSize()}},{key:"_determineMenuSize",value:function(){if(this.el&&this.listEls&&this.listEls.length){if(this._isMenuBreakpoint(["xs","sm"]))return this._removeListMore(),this._toggleCollapsed(!0);var e=this._getItemsToShowAndHide();if((0,v.default)(this.el,"spark-header--overflow-checked"),e.show.length<2&&e.hide.length)return this._removeListMore(),this._toggleCollapsed(!0);if(this._toggleCollapsed(!1),e.hide.length!==this.listMoreListEl.children.length)if((0,E.default)(this.listEl,this.listMoreEl,e.show),e.hide.length){var t,n;(0,C.default)(this.listMoreListEl,e.hide);var a=(0,s.default)(t=e.show).call(t,(function(e){return(0,b.default)(e,"active")})).length>0,r=(0,s.default)(n=e.hide).call(n,(function(e){return(0,b.default)(e,"active")})).length>0;a&&(0,y.default)(this.listMoreEl,"child-active open"),r&&(0,v.default)(this.listMoreEl,"child-active open")}else this._removeListMore();else e.hide.length||this._removeListMore()}}},{key:"_listenForReadyStateChange",value:function(){var e;if("complete"!==document.readyState&&"loaded"!==document.readyState){var t=(0,l.default)(e=function(){"complete"!==document.readyState&&"loaded"!==document.readyState||(this._determineMenuSize(),document.removeEventListener("readystatechange",t))}).call(e,this);document.addEventListener("readystatechange",t)}}},{key:"_isMenuBreakpoint",value:function(e){return this._getCurrentBreakpoint(),e instanceof Array?-1!==(0,i.default)(e).call(e,this.currentBreakpoint):"xs"===this.currentBreakpoint}},{key:"_getItemsToShowAndHide",value:function(){var e=this.placeholder.listEl.clientWidth,t=this.placeholder.listEl.children,n=0,a=t.length,r=-1;this._addListMore();for(var i=this.placeholder.listMoreEl.clientWidth||0;n<a&&-1===r;n++)(i+=t[n].clientWidth)>e&&(r=n);return{show:-1!==r?(0,o.default)(Array.prototype).call(this.listEls,0,r):this.listEls,hide:-1!==r?(0,o.default)(Array.prototype).call(this.listEls,r):[]}}},{key:"_addListMore",value:function(){this.listMoreEl.parentNode!==this.listEl&&this.listEl.appendChild(this.listMoreEl)}},{key:"_removeListMore",value:function(){this.listMoreEl.parentNode&&this.listMoreEl.parentNode.removeChild(this.listMoreEl)}},{key:"_resetMenuChildren",value:function(){(0,y.default)(this.el,"spark-header--overflow-checked"),(0,C.default)(this.listEl,this.listEls)}},{key:"_toggleCollapsed",value:function(e){e!==this.isCollapsed&&(e?(this._enableTopLevelToggling(),this._resetMenuChildren()):(this.menu&&this.menu._removeAllCachedLists(),this._disableTopLevelToggling()),this.isCollapsed=e,(0,g.default)(this.el,"spark-header--collapsed",e),(0,g.default)(this.el,"spark-header--visible",!e))}},{key:"_enableTopLevelToggling",value:function(){for(var e=0,t=this.listEls.length;e<t;e++)(0,y.default)(this.listEls[e],"spark-no-animate")}},{key:"_disableTopLevelToggling",value:function(){for(var e=0,t=this.listEls.length;e<t;e++)(0,v.default)(this.listEls[e],"spark-no-animate")}},{key:"_onResize",value:function(){this._determineMenuSize(),this.fixed&&!this.hideOnScroll&&this.checkFixed()}},{key:"_onScroll",value:function(){this.hideOnScroll?this.checkHideOnScroll():this.checkFixed()}},{key:"_onToggleClick",value:function(e){e.preventDefault(),this.isActive=!this.isActive,(0,g.default)(this.navEl,"active",this.isActive),this.menu._openActiveParents(),this.menuEl&&this.isActive?(this._parseFocusableElements(),this.focusableElements&&this.focusableElements.length>0&&this.firstHeaderFocusableEl.focus()):this.toggleEl.focus()}},{key:"closeHamburgerMenu",value:function(){this.isActive=!1,(0,y.default)(this.navEl,"active"),this.toggleEl.focus()}},{key:"_onNavClick",value:function(e){(this.listEls||this.listEls.length)&&(0,y.default)(this.listMoreEl,"open"),e.target===this.navEl&&this.isCollapsed&&this.closeHamburgerMenu()}},{key:"_onMenuKeyDown",value:function(e){this.isCollapsed&&this.isActive&&27===e.keyCode&&this.closeHamburgerMenu(),!this.menuEl||9!==e.keyCode&&13!==e.keyCode&&32!==e.keyCode||this._parseFocusableElements(),this.isCollapsed&&this.isActive&&9===e.keyCode&&(1===this.focusableElements.length&&e.preventDefault(),e.shiftKey?document.activeElement===this.firstHeaderFocusableEl&&(e.preventDefault(),this.lastHeaderFocusableEl.focus()):document.activeElement===this.lastHeaderFocusableEl&&(e.preventDefault(),this.firstHeaderFocusableEl.focus()))}}]),a}(f.default);P.prototype._whitelistedParams=["breakpoints","fixed","fixedDistance","hideOnScroll"],P.prototype.defaults={el:null,fixed:null,fixedDistance:null,navEl:null,menuEl:null,listEl:null,listEls:null,listMoreEl:null,listMoreListEl:null,placeholder:null,toggleEl:null,lastBreakpoint:null,currentBreakpoint:null,isActive:!1,isCollapsed:null,menu:null,breakpoints:null,hideOnScroll:null,_onResizeBound:null,_onScrollBound:null,_onToggleClickBound:null,_onNavClickBound:null,_onMenuKeyDownBound:null};var S=P;t.default=S,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(var n=0,a=e.children.length;n<a;n++)if((0,r.default)(e.children[n],t))return e.children[n];return null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1263));var i=function(e,t,n){(0,r.default)(n,(function(n){e.insertBefore(n,t)}))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1250)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1261)),f=a(n(1273)),m=a(n(1275)),g=a(n(1266)),v=a(n(1263));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(){},C=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(y()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"getValue",value:function(){var e=[];return(0,v.default)(this._isNative?this.selectEl.options:this.checkboxEls,(function(t){(t.checked||t.selected)&&e.push(t.value)})),e}},{key:"setValue",value:function(e){var t=[],n=this._isNative?"selected":"checked";return(0,v.default)(this._isNative?this.selectEl.options:this.checkboxEls,(function(a){-1!==(0,s.default)(e).call(e,a.value)?(a[n]=!0,t.push(a.value)):a[n]=!1})),(this.onChange||b)(t,this),this}},{key:"clearValue",value:function(){return this.setValue([])}},{key:"disable",value:function(){return(this.selectEl||this.el).setAttribute("disabled",""),this}},{key:"enable",value:function(){return(this.selectEl||this.el).removeAttribute("disabled"),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.selectEl=this.el.querySelector("select"),this.checkboxEls=this.el.querySelectorAll('[type="checkbox"]'),!this.selectEl&&!this.checkboxEls.length)throw new Error("Multi select needs either a select input or a series of checkboxes.");this.messageEl=this.el.querySelector(".spark-select__message")||(0,g.default)('<span class="spark-select__message"></span>')}},{key:"_parseParams",value:function(){this._isNative=!!this.selectEl}},{key:"_bindEventListenerCallbacks",value:function(){var e;this._onInputBound=(0,i.default)(e=this._onInput).call(e,this)}},{key:"_addEventListeners",value:function(){this._isNative?this.selectEl.addEventListener("change",this._onInputBound):this.el.addEventListener("change",this._onInputBound,!0)}},{key:"_removeEventListeners",value:function(){this._isNative?this.selectEl.removeEventListener("change",this._onInputBound):this.el.removeEventListener("change",this._onInputBound,!0)}},{key:"_onInput",value:function(){var e=this.getValue();e!==this.previousValue&&(this.previousValue=e,(this.onChange||b)(e,this))}}]),a}(p.default);C.prototype._whitelistedParams=["validate","onValidate","onChange"],C.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,onChange:null,previousValue:null,_isNative:!1,_onFocusBound:null,_onBlurBound:null,_onInputBound:null},(0,h.default)(C.prototype,f.default,m.default);var E=C;t.default=E,e.exports=t.default},function(e,t,n){var a=n(1794);e.exports=a},function(e,t,n){n(1795);var a=n(1252);e.exports=a.parseFloat},function(e,t,n){var a=n(1246),r=n(1796);a({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){var a=n(1255),r=n(1450).trim,i=n(1383),s=a.parseFloat,o=1/s(i+"-0")!=-1/0;e.exports=o?function(e){var t=r(String(e)),n=s(t);return 0===n&&"-"==t.charAt(0)?-0:n}:s},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1395)),o=a(n(1260)),l=a(n(1798)),c=a(n(1250)),u=a(n(1238)),d=a(n(1239)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1257)),v=a(n(1804));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b={large:{diameter:264,stroke:12,track:"M132 6c69.588 0 126 56.412 126 126s-56.412 126-126 126S6 201.588 6 132 62.412 6 132 6z",fill:"",border:"M132 252c-66.274 0-120-53.726-120-120S65.726 12 132 12s120 53.726 120 120-53.726 120-120 120z"},small:{diameter:60,stroke:6,track:"M30 3c14.912 0 27 12.088 27 27S44.912 57 30 57 3 44.912 3 30 15.088 3 30 3z",fill:"",border:"M30 54C16.745 54 6 43.255 6 30S16.745 6 30 6s24 10.745 24 24-10.745 24-24 24z"},extraSmall:{diameter:24,stroke:3,track:" M12 1.5c5.8 0 10.5 4.7 10.5 10.5S17.8 22.5 12 22.5S1.5 17.8 1.5 12S6.2 1.5 12 1.5z",fill:"",border:""}},C=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(y()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,h.default)(t)):(0,h.default)(t)}return(0,d.default)(a,[{key:"set",value:function(e){return e===this.value||(e>1&&(e=1),this.value=e,this.isDeterminate&&this.progressEl&&this.progressEl.setAttribute("value",Math.round(100*e)/100),this._updateDOM()),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.progressEl=this.el.querySelector("progress"),this.statusEl=this.el.querySelector('.spark-progress__value-status, [role="status"]'),this.noteEl=this.el.querySelector(".spark-progress__states"),this.meterEl=this.el.querySelector(".spark-progress__meter"),this.isDeterminate=null!==this.progressEl.getAttribute("value"),this.size=this._determineSize(),this.isDeterminate){var t=this._buildSVG();t.setAttribute("class",this.meterEl.className),this.meterEl.parentNode.replaceChild(t,this.meterEl),this.meterEl=t,this.fillEl=this.meterEl.querySelector(".spark-progress__fill")}this.noteEl&&this._parseNotes(this.noteEl),this.progressEl&&(this.value=this.progressEl.value),this._cacheSize(),this._updateDOM()}},{key:"_cacheSize",value:function(){this.meterHeight=this.meterEl.clientHeight,this.meterWidth=this.meterEl.clientWidth}},{key:"_determineSize",value:function(){var e,t;return-1!==(0,c.default)(e=this.el.className).call(e,"progress--sm")?"small":-1!==(0,c.default)(t=this.el.className).call(t,"progress--xs")?"extraSmall":"large"}},{key:"_buildSVG",value:function(){var e=b[this.size],t='<svg viewBox="0 0 '+e.diameter+" "+e.diameter+'" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="'+e.track+'" stroke-width="'+e.stroke+'" class="spark-progress__track"/><path d="'+((0,l.default)(e)||e.track)+'" stroke-width="'+e.stroke+'" class="spark-progress__fill"/><path d="'+e.border+'" class="spark-progress__border"/></g></g></svg>',n=document.createElement("div");return n.innerHTML=t,n.children[0]}},{key:"_parseNotes",value:function(e){this.notes=this.notes||[];for(var t=e.children.length-1;t>=0;t--)this.notes.push({min:(0,o.default)(e.children[t].getAttribute("data-value"),10),max:e.children[t+1]?(0,o.default)(e.children[t+1].getAttribute("data-value"),10)-1:100,el:e.children[t]})}},{key:"_updateDOM",value:function(){if(this.isDeterminate){var e=(0,s.default)(),t=(0,v.default)(100*this.value,this.precision),n=0===t||this.lastDOMUpdateTime+150>e;(0,g.default)(this.fillEl,"no-animation",n),this.statusEl.innerHTML=t+"%";var a=(b[this.size].diameter-b[this.size].stroke)*Math.PI,r=a-a*(t/100);if(this.fillEl.setAttribute("style","stroke-dasharray: "+a+"; stroke-dashoffset: "+r),this.lastDOMUpdateTime=e,this.notes)for(var i=0,o=this.notes.length;i<o;i++)(0,g.default)(this.notes[i].el,"active",this.notes[i].min<=t&&this.notes[i].max>=t)}}},{key:"_bindEventListenerCallbacks",value:function(){var e;this._onResizeBound=(0,i.default)(e=this._onResize).call(e,this)}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound)}},{key:"_onResize",value:function(){this._cacheSize()}}]),a}(m.default);C.prototype._whitelistedParams=["precision"],C.prototype.defaults={el:null,progressEl:null,statusEl:null,noteEls:null,meterEl:null,fillEl:null,meterHeight:0,meterWidth:0,notes:null,isDeterminate:!1,value:null,precision:0,lastDOMUpdateTime:0,_onResizeBound:null};var E=C;t.default=E,e.exports=t.default},function(e,t,n){e.exports=n(1799)},function(e,t,n){var a=n(1800);e.exports=a},function(e,t,n){var a=n(1801),r=Array.prototype;e.exports=function(e){var t=e.fill;return e===r||e instanceof Array&&t===r.fill?a:t}},function(e,t,n){n(1802);var a=n(1262);e.exports=a("Array").fill},function(e,t,n){var a=n(1246),r=n(1803),i=n(1387);a({target:"Array",proto:!0},{fill:r}),i("fill")},function(e,t,n){"use strict";var a=n(1272),r=n(1339),i=n(1284);e.exports=function(e){for(var t=a(this),n=i(t.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>o;)t[o++]=e;return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){t=void 0!==t?t:2;var n=Math.pow(10,t);return Math.round(e*n)/n};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1250)),o=a(n(1355)),l=a(n(1494)),c=a(n(1238)),u=a(n(1239)),d=a(n(1258)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1257)),v=a(n(1296)),y=a(n(1352)),b=a(n(1273)),C=a(n(1261)),E=a(n(1275)),k=a(n(1266)),O=a(n(1504));function _(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(){},S=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(_()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._updateDisabledClasses(),(0,h.default)(t)):(0,h.default)(t)}return(0,u.default)(a,[{key:"start",value:function(e,t,n){return e<0||null!==this.inputEls[e].getAttribute("disabled")||(this._addMoveEventListeners(n||"mouse"),this._cacheSize(),this.isActive=this.isActive||[],this.isActive[e]=!0,this.currentIndex=e,this._updateActiveClasses(e),this._updateDisabledClasses(),this._oldVal=(0,l.default)(this)[e],this.move(t)),this}},{key:"move",value:function(e,t){if(!(e&&this.isActive&&this.isActive[this.currentIndex]||t))return this;this.isX?e<this.offsetLeft?e=this.offsetLeft:e>this.offsetLeft+this.width&&(e=this.offsetLeft+this.width):e<this.offsetTop?e=this.offsetTop:e>this.offsetTop+this.height&&(e=this.offsetTop+this.height);var n=((this.isX?(e-this.offsetLeft)/(this.width-this.handleSize):(e-this.offsetTop)/this.height)-this.handleSizePercentage/2)*(this.highestMax-this.lowestMin)+this.lowestMin;return this.setValue(this.currentIndex,n),this}},{key:"stop",value:function(e,t){return null!=e&&this.currentIndex!==e||(this.isActive[this.currentIndex]=!1,this.lastIndex=this.currentIndex,this._oldVal!==(0,l.default)(this)[this.currentIndex]&&(this.onChange||P)(this.currentIndex,(0,l.default)(this)[this.currentIndex],this),this.currentIndex=null,this._updateActiveClasses(e),this._removeMoveEventListeners(t||"mouse")),this}},{key:"setValue",value:function(e,t){if(!this.inputEls[e])throw new Error("Cannot set value on a slider input element with an index of "+e+". That element does not exist.");if(this.steps[e]&&(t-=(0,O.default)(t,this.steps[e])),t=Math.round(t*this.valuePrecision[e])/this.valuePrecision[e],this.values=(0,l.default)(this)||[],t>this.maxes[e]?t=this.maxes[e]:t<this.mins[e]&&(t=this.mins[e]),void 0!==(0,l.default)(this)[e+1]&&t>=(0,l.default)(this)[e+1]?t=(0,l.default)(this)[e+1]-(this.steps[e]||1):void 0!==(0,l.default)(this)[e-1]&&t<=(0,l.default)(this)[e-1]&&(t=(0,l.default)(this)[e-1]+(this.steps[e]||1)),"function"==typeof this.onWillChange){var n=this.onWillChange(e,t,this);"number"==typeof n&&(t=n)}return(0,l.default)(this)[e]=t,this.inputEls[e].value=(0,l.default)(this)[e],this.handleEls[e].setAttribute("data-value",(0,l.default)(this)[e]),this.handleEls[e].setAttribute("aria-valuenow",(0,l.default)(this)[e]),this.handleEls[e].setAttribute("aria-valuetext",(0,l.default)(this)[e]),this.percentages=this.percentages||[],this.percentages[e]=((0,l.default)(this)[e]-this.lowestMin)/(this.highestMax-this.lowestMin),this._updateHandlePosition(e),this}},{key:"getValue",value:function(e){if(!this.inputEls[e])throw new Error("Cannot get value from a slider input element with an index of "+e+". That element does not exist.");return(0,l.default)(this)[e]}},{key:"clearValue",value:function(e){return this.setValue(e,0)}},{key:"enable",value:function(e){if(!this.inputEls[e]||!this.handleEls[e])throw new Error("Cannot get value from a slider input element with an index of "+e+". That element does not exist.");return this.inputEls[e].removeAttribute("disabled"),this.inputEls[e].removeAttribute("tabindex"),this.handleEls[e].removeAttribute("disabled"),this.handleEls[e].removeAttribute("tabindex"),this._updateDisabledClasses(),this}},{key:"disable",value:function(e){if(!this.inputEls[e]||!this.handleEls[e])throw new Error("Cannot get value from a slider input element with an index of "+e+". That element does not exist.");return this.inputEls[e].setAttribute("disabled",""),this.inputEls[e].setAttribute("tabindex","-1"),this.handleEls[e].setAttribute("disabled",""),this.handleEls[e].setAttribute("tabindex","-1"),this._updateDisabledClasses(),this}},{key:"increment",value:function(e){return this.setValue(this.currentIndex,(0,l.default)(this)[this.currentIndex]+this.steps[this.currentIndex]*(e?10:1))}},{key:"decrement",value:function(e){return this.setValue(this.currentIndex,(0,l.default)(this)[this.currentIndex]-this.steps[this.currentIndex]*(e?10:1))}},{key:"remove",value:function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),(0,d.default)((0,f.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){this._removeEventListeners(),this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),this._cacheElements(e),this._addEventListeners(),this._updateDisabledClasses();for(var t=0;t<this.handleEls.length;t++)this._updateHandlePosition(t);return this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.controlsEl=this.el.querySelector(".spark-slider__controls"),this.inputEls=this.el.querySelectorAll('input[type="number"]'),this.handleEls=this.el.querySelectorAll(".spark-slider__handle"),this.trackEl=this.el.querySelector(".spark-slider__track"),this.trackFillEl=this.trackEl.querySelector(".spark-slider__track-fill"),this.messageEl=this.el.querySelector(".spark-slider__message")||(0,k.default)('<span class="spark-slider__message"></span>'),!this.inputEls||this.inputEls.length<=1)throw new Error("Tried to create a slider instance without two number inputs.");if(!this.handleEls||this.handleEls.length<=1)throw new Error("Tried to create a slider instance without two handle buttons.");var t=1/0,n=-1/0,a=0,r=this.inputEls.length,i=[];for(this.mins=[],this.maxes=[],this.steps=[],this.valuePrecision=[],this._cacheSize();a<r;a++){var s=(0,o.default)(this.inputEls[a].getAttribute("min"));this.mins[a]=0===s?s:s||null;var l=(0,o.default)(this.inputEls[a].getAttribute("max"));this.maxes[a]=0===l?l:l||null,this.steps[a]=(0,o.default)(this.inputEls[a].getAttribute("step"))||1,this.valuePrecision[a]=1,this.inputEls[a].getAttribute("step")&&this.inputEls[a].getAttribute("step").split(".")[1]&&(this.valuePrecision[a]=Math.pow(10,this.inputEls[a].getAttribute("step").split(".")[1].length)),this.mins[a]<t&&(t=this.mins[a]),this.maxes[a]>n&&(n=this.maxes[a])}for(this.lowestMin=t,this.highestMax=n,a=0;a<r;a++)i[a]=(0,o.default)(this.inputEls[a].getAttribute("value")),isNaN(i[a])?a+1===r?this.setValue(a,null!==this.maxes[a]?this.maxes[a]:0):this.setValue(a,null!==this.mins[a]?this.mins[a]:0):this.setValue(a,i[a])}},{key:"_cacheSize",value:function(){this.width=this.trackEl.offsetWidth,this.height=this.trackEl.offsetHeight,this.handleSize=this.isX?this.handleEls[0].offsetWidth:this.handleEls[0].offsetHeight,this.handleSizePercentage=this.isX?this.handleEls[0].offsetWidth/this.width:this.handleEls[0].offsetHeight/this.height;var e=(0,v.default)(this.controlsEl);this.offsetLeft=e.left,this.offsetTop=e.top}},{key:"_updateHandlePosition",value:function(e){var t=this.percentages[0],n=this.percentages[this.percentages.length-1];this.trackFillEl.setAttribute("style","width: "+100*(n-t)+"%; left: "+100*t+"%;");var a=(this.handleSize/2+((0,l.default)(this)[e]-this.lowestMin)*((this.width-this.handleSize)/(this.highestMax-this.lowestMin)))/this.width*100;this.handleEls[e].setAttribute("style","left: "+a+"%;")}},{key:"_updateActiveClasses",value:function(e){var t,n;((0,g.default)(this.handleEls,"active",!1),(0,g.default)(this.handleEls[e],"active",this.isActive[e]),-1!==(0,s.default)(t=this.isActive).call(t,!0))?this.el.setAttribute("data-active-index",(0,s.default)(n=this.isActive).call(n,!0)):this.el.removeAttribute("data-active-index")}},{key:"_updateDisabledClasses",value:function(){for(var e=0,t=0,n=this.inputEls.length;t<n;t++)null!==this.inputEls[t].getAttribute("disabled")?((0,g.default)(this.handleEls[t],"disabled",!0),e++):(0,g.default)(this.handleEls[t],"disabled",!1);(0,g.default)(this.el,"all-disabled",e===this.handleEls.length)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l,c,u,d,p,h;this._onTouchStartBound=(0,i.default)(e=this._onTouchStart).call(e,this),this._onTouchMoveBound=(0,i.default)(t=this._onTouchMove).call(t,this),this._onTouchEndBound=(0,i.default)(n=this._onTouchEnd).call(n,this),this._onClickBound=(0,i.default)(a=this._onClick).call(a,this),this._onMouseDownBound=(0,i.default)(r=this._onMouseDown).call(r,this),this._onMouseMoveBound=(0,i.default)(s=this._onMouseMove).call(s,this),this._onMouseUpBound=(0,i.default)(o=this._onMouseUp).call(o,this),this._onFocusBound=(0,i.default)(l=this._onFocus).call(l,this),this._onKeydownBound=(0,i.default)(c=this._onKeydown).call(c,this),this._onBlurBound=(0,i.default)(u=this._onBlur).call(u,this),this._onChangeBound=(0,i.default)(d=this._onChange).call(d,this),this._onResizeBound=(0,i.default)(p=this._onResize).call(p,this),this._onVisibleChildrenBound=(0,i.default)(h=this._onVisibleChildren).call(h,this)}},{key:"_addEventListeners",value:function(){this.controlsEl.addEventListener("touchstart",this._onTouchStartBound),this.controlsEl.addEventListener("mousedown",this._onMouseDownBound);for(var e=0,t=this.inputEls.length;e<t;e++)this.inputEls[e].addEventListener("change",this._onChangeBound);for(var n=0,a=this.handleEls.length;n<a;n++)this.handleEls[n].addEventListener("focus",this._onFocusBound),this.handleEls[n].addEventListener("click",this._onClickBound);document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)}},{key:"_removeEventListeners",value:function(){this.controlsEl.removeEventListener("touchstart",this._onTouchStartBound),this.controlsEl.removeEventListener("mousedown",this._onMouseDownBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound);for(var e=0,t=this.inputEls.length;e<t;e++)this.inputEls[e].removeEventListener("change",this._onChangeBound);for(var n=0,a=this.handleEls.length;n<a;n++)this.handleEls[n].removeEventListener("focus",this._onFocusBound),this.handleEls[n].removeEventListener("click",this._onClickBound);window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)}},{key:"_addMoveEventListeners",value:function(e){switch(e){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseout",this._onMouseOutBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.addEventListener("keydown",this._onKeydownBound);for(var t=0,n=this.handleEls.length;t<n;t++)this.handleEls[t].addEventListener("blur",this._onBlurBound)}}},{key:"_removeMoveEventListeners",value:function(e){switch(e){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.removeEventListener("keydown",this._onKeydownBound);for(var t=0,n=this.handleEls.length;t<n;t++)this.handleEls[t].removeEventListener("blur",this._onBlurBound)}}},{key:"_onTouchStart",value:function(e){this.start((0,y.default)(this.handleEls,e.target),this.isX?e.touches[0].pageX:e.touches[0].pageY,"touch")}},{key:"_onTouchMove",value:function(e){this.isActive[this.currentIndex]&&(e.preventDefault(),this.move(this.isX?e.touches[0].pageX:e.touches[0].pageY))}},{key:"_onTouchEnd",value:function(e){this.isActive[this.currentIndex]&&(e.preventDefault(),this.stop((0,y.default)(this.handleEls,e.target),"touch"))}},{key:"_onMouseDown",value:function(e){this.start((0,y.default)(this.handleEls,e.target),this.isX?e.pageX:e.pageY,"mouse")}},{key:"_onMouseMove",value:function(e){this.isActive[this.currentIndex]&&(e.preventDefault(),this.move(this.isX?e.pageX:e.pageY))}},{key:"_onMouseUp",value:function(){this.isActive[this.currentIndex]&&this.stop(null,"mouse")}},{key:"_onVisibleChildren",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,i.default)(t=function(){this._onResize()}).call(t,this),0)}},{key:"_onResize",value:function(){this._cacheSize(),this._updateDisabledClasses();for(var e=0;e<this.handleEls.length;e++)this._updateHandlePosition(e)}},{key:"_onFocus",value:function(e){this.start((0,y.default)(this.handleEls,e.target),null,"keyboard")}},{key:"_onKeydown",value:function(e){-1===(0,y.default)(this.inputEls,e.target)&&(39===e.keyCode||38===e.keyCode?this.increment(e.shiftKey):37===e.keyCode||40===e.keyCode?this.decrement(e.shiftKey):33===e.keyCode?this.increment(!0):34===e.keyCode?this.decrement(!0):35===e.keyCode?this.setValue(this.max):36===e.keyCode&&this.setValue(this.min))}},{key:"_onBlur",value:function(e){this.stop((0,y.default)(this.handleEls,e.target),"keyboard")}},{key:"_onChange",value:function(e){var t=(0,y.default)(this.inputEls,e.target);this._updateDisabledClasses(),e.target.value!==(0,l.default)(this)[t]&&this.setValue(t,e.target.value),(this.onChange||P)(t,(0,l.default)(this)[t],this)}},{key:"_onClick",value:function(e){e.preventDefault()}}]),a}(m.default);S.prototype._whitelistedParams=["isX","validate","onValidate","onChange","onWillChange"],S.prototype.defaults={el:null,messageEl:null,controlsEl:null,inputEls:null,handleEls:null,trackEl:null,trackFillEl:null,isActive:null,isX:!0,onValidate:null,onChange:null,onWillChange:null,position:0,width:0,height:0,mins:null,maxes:null,steps:null,values:null,percentages:null,offsetLeft:0,offsetTop:0,handleSizePercentage:0,currentIndex:null,lastIndex:null,_oldVal:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onMouseOutBound:null,_onFocusBound:null,_onKeydownBound:null,_onBlurBound:null,_onChangeBound:null,_onResizeBound:null,_onClickBound:null,_onVisibleChildrenBound:null},(0,C.default)(S.prototype,b.default,E.default);var N=S;t.default=N,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1355)),o=a(n(1238)),l=a(n(1239)),c=a(n(1258)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1257)),m=a(n(1296)),g=a(n(1295)),v=a(n(1273)),y=a(n(1261)),b=a(n(1275)),C=a(n(1266)),E=a(n(1504));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(){},_=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(k()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,d.default)(t)):(0,d.default)(t)}return(0,l.default)(a,[{key:"start",value:function(e,t){return null!==this.inputEl.getAttribute("disabled")||(this._addMoveEventListeners(t||"mouse"),this._cacheSize(),this.isActive=!0,this._updateActiveClasses(),this._oldVal=this.value,this.move(e)),this}},{key:"move",value:function(e,t){if(!(e&&this.isActive||t))return this;this.isX?e<this.offsetLeft?e=this.offsetLeft:e>this.offsetLeft+this.width&&(e=this.offsetLeft+this.width):e<this.offsetTop?e=this.offsetTop:e>this.offsetTop+this.height&&(e=this.offsetTop+this.height);var n=this.isX?(e-this.offsetLeft)/(this.width-this.handleSize):(e-this.offsetTop)/this.height,a=((n=Math.round(n*this.percentagePrecision)/this.percentagePrecision)-this.handleSizePercentage/2)*(this.max-this.min)+this.min;return this.setValue(a)}},{key:"stop",value:function(e){return this.isActive=!1,this._oldVal!==this.value&&(this.onChange||O)(this.value,this),this._updateActiveClasses(),this._removeMoveEventListeners(e||"mouse"),this}},{key:"setValue",value:function(e){if(this.step&&(e-=(0,E.default)(e,this.step)),(e=Math.round(e*this.valuePrecision)/this.valuePrecision)>this.max?e=this.max:e<this.min&&(e=this.min),"function"==typeof this.onWillChange){var t=this.onWillChange(e,this);"number"==typeof t&&(e=t)}return this.value=e,this.inputEl.value=this.value,this.handleEl.setAttribute("data-value",this._truncateValueText(this.value)),this.handleEl.setAttribute("aria-valuenow",this._truncateValueText(this.value)),this.handleEl.setAttribute("aria-valuetext",this._truncateValueText(this.value)),this.percentage=(this.value-this.min)/(this.max-this.min),this._updateHandlePosition(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.setValue(0)}},{key:"setErrorState",value:function(e){e?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this.inputEl.removeAttribute("tabindex"),this.handleEl.removeAttribute("disabled"),this.handleEl.removeAttribute("tabindex"),this}},{key:"disable",value:function(){return this.inputEl.setAttribute("disabled",""),this.inputEl.setAttribute("tabindex","-1"),this.handleEl.setAttribute("disabled",""),this.handleEl.setAttribute("tabindex","-1"),this}},{key:"increment",value:function(e){return this.setValue(this.value+this.step*(e?10:1))}},{key:"decrement",value:function(e){return this.setValue(this.value-this.step*(e?10:1))}},{key:"remove",value:function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),(0,c.default)((0,p.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return this._removeEventListeners(),this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),this._cacheElements(e),this._addEventListeners(),this._updateHandlePosition(),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.controlsEl=this.el.querySelector(".spark-slider__controls"),this.inputEl=this.el.querySelector('input[type="number"]'),this.handleEl=this.el.querySelector(".spark-slider__handle"),this.trackEl=this.el.querySelector(".spark-slider__track"),this.trackFillEl=this.trackEl.querySelector(".spark-slider__track-fill"),this.messageEl=this.el.querySelector(".spark-slider__message")||(0,C.default)('<span class="spark-slider__message"></span>'),!this.inputEl)throw new Error("Tried to create a slider instance without a number input.");if(!this.handleEl)throw new Error("Tried to create a slider instance without a handle button.");this.min=(0,s.default)(this.inputEl.getAttribute("min"))||this.min,this.max=(0,s.default)(this.inputEl.getAttribute("max"))||this.max,this.step=(0,s.default)(this.inputEl.getAttribute("step"))||this.step,this.valuePrecision=1,this.inputEl.getAttribute("step")&&this.inputEl.getAttribute("step").split(".")[1]&&(this.valuePrecision=Math.pow(10,this.inputEl.getAttribute("step").split(".")[1].length)),this.percentagePrecision=this.valuePrecision>100?this.valuePrecision:100;var t=(0,s.default)(this.inputEl.getAttribute("value"))||(0,s.default)(this.inputEl.getAttribute("min"));isNaN(t)||(this._cacheSize(),this.setValue(t))}},{key:"_cacheSize",value:function(){this.width=this.trackEl.offsetWidth,this.height=this.trackEl.offsetHeight,this.handleSize=this.isX?this.handleEl.offsetWidth:this.handleEl.offsetHeight,this.handleSizePercentage=this.isX?this.handleEl.offsetWidth/this.width:this.handleEl.offsetHeight/this.height;var e=(0,m.default)(this.controlsEl);this.offsetLeft=e.left,this.offsetTop=e.top}},{key:"_updateHandlePosition",value:function(){var e=100*Math.min(this.percentage,1);this.trackEl.setAttribute("data-percentage",e),this.trackFillEl.setAttribute("style","width: "+e+"%;");var t=(this.handleSize/2+(this.value-this.min)*((this.width-this.handleSize)/(this.max-this.min)))/this.width*100;this.handleEl.setAttribute("style","left: "+t+"%;")}},{key:"_updateActiveClasses",value:function(){(0,f.default)(this.handleEl,"active",this.isActive),(0,f.default)(this.el,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l,c,u,d,p,h,f;this._onTouchStartBound=(0,i.default)(e=this._onTouchStart).call(e,this),this._onTouchMoveBound=(0,i.default)(t=this._onTouchMove).call(t,this),this._onTouchEndBound=(0,i.default)(n=this._onTouchEnd).call(n,this),this._onClickBound=(0,i.default)(a=this._onClick).call(a,this),this._onMouseDownBound=(0,i.default)(r=this._onMouseDown).call(r,this),this._onMouseMoveBound=(0,i.default)(s=this._onMouseMove).call(s,this),this._onMouseUpBound=(0,i.default)(o=this._onMouseUp).call(o,this),this._onMouseOutBound=(0,i.default)(l=this._onMouseOut).call(l,this),this._onFocusBound=(0,i.default)(c=this._onFocus).call(c,this),this._onKeydownBound=(0,i.default)(u=this._onKeydown).call(u,this),this._onBlurBound=(0,i.default)(d=this._onBlur).call(d,this),this._onChangeBound=(0,i.default)(p=this._onChange).call(p,this),this._onResizeBound=(0,i.default)(h=this._onResize).call(h,this),this._onVisibleChildrenBound=(0,i.default)(f=this._onVisibleChildren).call(f,this)}},{key:"_addEventListeners",value:function(){this.controlsEl.addEventListener("touchstart",this._onTouchStartBound),this.controlsEl.addEventListener("mousedown",this._onMouseDownBound),this.inputEl.addEventListener("change",this._onChangeBound),this.handleEl.addEventListener("focus",this._onFocusBound),this.handleEl.addEventListener("click",this._onClickBound),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)}},{key:"_removeEventListeners",value:function(){this.controlsEl.removeEventListener("touchstart",this._onTouchStartBound),this.controlsEl.removeEventListener("mousedown",this._onMouseDownBound),this.inputEl.removeEventListener("change",this._onChangeBound),this.handleEl.removeEventListener("focus",this._onFocusBound),this.handleEl.removeEventListener("click",this._onClickBound),window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound)}},{key:"_addMoveEventListeners",value:function(e){switch(e){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseout",this._onMouseOutBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.addEventListener("keydown",this._onKeydownBound),this.handleEl.addEventListener("blur",this._onBlurBound)}}},{key:"_removeMoveEventListeners",value:function(e){switch(e){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.removeEventListener("keydown",this._onKeydownBound),this.handleEl.removeEventListener("blur",this._onBlurBound)}}},{key:"_truncateValueText",value:function(e,t,n){if(e.length<5)return e;var a=e<0;e=Math.abs(e),t=t||this.truncatePrecision;var r=(n=n||this.truncateCharacters).length-1;for(t=Math.pow(10,t);r>=0;r--){var i=Math.pow(10,3*(r+1));if(i<=e){1e3===(e=e*t/i/t)&&r<n.length-1&&(e=1,r++),e+=n[r];break}}return(a?"-":"")+e}},{key:"_onTouchStart",value:function(e){null===this.inputEl.getAttribute("disabled")&&(e.preventDefault(),this.start(this.isX?e.touches[0].pageX:e.touches[0].pageY,"touch"))}},{key:"_onTouchMove",value:function(e){this.isActive&&(e.preventDefault(),this.move(this.isX?e.touches[0].pageX:e.touches[0].pageY))}},{key:"_onTouchEnd",value:function(e){this.isActive&&(e.preventDefault(),this.stop("touch"))}},{key:"_onMouseDown",value:function(e){null===this.inputEl.getAttribute("disabled")&&(e.preventDefault(),this.start(this.isX?e.pageX:e.pageY,"mouse"))}},{key:"_onMouseMove",value:function(e){this.isActive&&(e.preventDefault(),this.move(this.isX?e.pageX:e.pageY))}},{key:"_onMouseUp",value:function(){this.isActive&&this.stop("mouse")}},{key:"_onMouseOut",value:function(){}},{key:"_onVisibleChildren",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,i.default)(t=function(){this._onResize()}).call(t,this),0)}},{key:"_onResize",value:function(){this._cacheSize(),this._updateHandlePosition()}},{key:"_onFocus",value:function(){this.start(null,"keyboard")}},{key:"_onKeydown",value:function(e){39===e.keyCode||38===e.keyCode?this.increment(e.shiftKey):37===e.keyCode||40===e.keyCode?this.decrement(e.shiftKey):33===e.keyCode?this.increment(!0):34===e.keyCode?this.decrement(!0):35===e.keyCode?this.setValue(this.max):36===e.keyCode&&this.setValue(this.min)}},{key:"_onBlur",value:function(){this.stop("keyboard")}},{key:"_onChange",value:function(e){e.target.value!==this.value&&this.setValue(e.target.value),(this.onChange||O)(this.value,this)}},{key:"_onClick",value:function(e){e.preventDefault()}},{key:"_onWindowClick",value:function(e){(0,g.default)(e.target,this.el)&&this._onBlur()}}]),a}(h.default);_.prototype._whitelistedParams=["isX","validate","onValidate","onChange","onWillChange"],_.prototype.defaults={el:null,messageEl:null,controlsEl:null,inputEl:null,handleEl:null,trackEl:null,trackFillEl:null,isActive:!1,isX:!0,onValidate:null,onChange:null,onWillChange:null,position:0,width:0,height:0,min:0,max:0,step:1,value:0,percentage:0,offsetLeft:0,offsetTop:0,handleSizePercentage:0,truncatePrecision:0,truncateCharacters:["k","m","b","t"],_oldVal:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onMouseOutBound:null,_onFocusBound:null,_onKeydownBound:null,_onBlurBound:null,_onChangeBound:null,_onResizeBound:null,_onClickBound:null,_onVisibleChildrenBound:null},(0,y.default)(_.prototype,v.default,b.default);var P=_;t.default=P,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1282)),o=a(n(1395)),l=a(n(1240)),c=a(n(1238)),u=a(n(1239)),d=a(n(1258)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1399)),v=a(n(1808)),y=n(1809),b=a(n(1263)),C=a(n(1251)),E=a(n(1257)),k=a(n(1247)),O=a(n(1248)),_=a(n(1267)),P=a(n(1352)),S=a(n(1498)),N=a(n(1499)),w=a(n(1300));function A(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var T=function(){},I=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(A()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initRows(),(t.isSpreadsheet||t.isEditRows)&&t._deactivateAllInputs(),t.isResizable&&t._initResize(),t._disableRowsColumnsCells(),t._initExpands(),(0,h.default)(t)):(0,h.default)(t)}return(0,u.default)(a,[{key:"disableCell",value:function(e){return e.disabled=!0,(0,k.default)((0,_.default)(e,"td"),"spark-table__disabled-cell"),this}},{key:"enableCell",value:function(e){return e.disabled=!1,(0,O.default)((0,_.default)(e,"td"),"spark-table__disabled-cell"),this}},{key:"disableRow",value:function(e){return(0,k.default)(e,"spark-table__disabled-row"),(0,b.default)(e.querySelectorAll("input, button, a"),(function(e){e.disabled=!0})),this}},{key:"enableRow",value:function(e){return(0,O.default)(e,"spark-table__disabled-row"),(0,b.default)(e.querySelectorAll("input, button, a"),(function(e){e.disabled=!1})),this}},{key:"disableColumn",value:function(e){var t,n=(0,P.default)(e.parentNode.children,e);return(0,b.default)(this.tableEl.querySelectorAll("tbody tr"),(0,l.default)(t=function(e){this.disableCell(e.children[n].querySelector("input"))}).call(t,this)),(0,k.default)(e,"spark-table__disabled-column"),this}},{key:"enableColumn",value:function(e){var t,n=(0,P.default)(e.parentNode.children,e);return(0,b.default)(this.tableEl.querySelectorAll("tbody tr"),(0,l.default)(t=function(e){this.enableCell(e.children[n].querySelector("input"))}).call(t,this)),(0,O.default)(e,"spark-table__disabled-column"),this}},{key:"remove",value:function(e){return(0,b.default)(this._expands,(function(t){t.remove(e)})),(0,d.default)((0,f.default)(a.prototype),"remove",this).call(this,e)}},{key:"activateRow",value:function(e){return(e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e)&&this._makeRowActive(e),this}},{key:"activateRows",value:function(e){var t;return(0,b.default)(e,(0,l.default)(t=this.activateRow).call(t,this)),this}},{key:"deactivateRow",value:function(e){return(e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e)&&this._makeRowInActive(e),this}},{key:"deactivateRows",value:function(e){var t;return(0,b.default)(e,(0,l.default)(t=this.deactivateRow).call(t,this)),this}},{key:"getActiveRows",value:function(){var e=[];return(0,b.default)(this.el.querySelectorAll("tbody tr.active"),(function(t){e.push(t)})),e}},{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this._initRows(),(this.isSpreadsheet||this.isEditRows)&&this._deactivateAllInputs(),this.isResizable&&this._initResize(),this._disableRowsColumnsCells(),this._initExpands(),this}},{key:"_cacheElements",value:function(e){this.el=e,this.tableEl=e.querySelector("table")}},{key:"_parseParams",value:function(){this.tableEl&&(this.isSpreadsheet=null!==this.isSpreadsheet?this.isSpreadsheet:!!(0,C.default)(this.el,"spark-table--spreadsheet"),this.isEditRows=null!==this.isEditRows?this.isEditRows:!!(0,C.default)(this.el,"spark-table--edit-rows"),this.isResizable=null!==this.isResizable?this.isResizable:!!(0,C.default)(this.el,"spark-table--resizable"))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,o,c,u,d;this._onClickBound=(0,l.default)(e=this._onClick).call(e,this),this._onChangeBound=(0,l.default)(t=this._onChange).call(t,this),this._onFocusBound=(0,l.default)(n=this._onFocus).call(n,this),this._onBlurBound=(0,l.default)(a=this._onBlur).call(a,this),this._onTouchstartBound=(0,l.default)(r=this._onTouchstart).call(r,this),this._onTouchendBound=(0,l.default)(i=this._onTouchend).call(i,this),this._onKeydownBound=(0,l.default)(s=this._onKeydown).call(s,this),this._onMouseDownBound=(0,l.default)(o=this._onMouseDown).call(o,this),this._onMouseMoveBound=(0,l.default)(c=this._onMouseMove).call(c,this),this._onMouseUpBound=(0,l.default)(u=this._onMouseUp).call(u,this),this._onAnimationEndBound=(0,l.default)(d=this._onAnimationEnd).call(d,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound,!1),this.el.addEventListener("change",this._onChangeBound,!1),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.el.addEventListener("animationend",this._onAnimationEndBound,!0),this.el.addEventListener("webkitAnimationEnd",this._onAnimationEndBound,!0),this.isSpreadsheet&&(this.el.addEventListener("touchstart",this._onTouchstartBound,!1),this.el.addEventListener("touchend",this._onTouchendBound,!1),this.el.addEventListener("keydown",this._onKeydownBound,!1)),this.isResizable&&this.tableEl.addEventListener("mousedown",this._onMouseDownBound,!1)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onChangeBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("animationend",this._onAnimationEndBound),this.el.removeEventListener("webkitAnimationEnd",this._onAnimationEndBound),this.el.removeEventListener("touchstart",this._onTouchstartBound),this.el.removeEventListener("touchend",this._onTouchendBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.tableEl.removeEventListener("mousedown",this._onMouseDownBound),this._removeResizeListeners()}},{key:"_addResizeListeners",value:function(){window.addEventListener("mousemove",this._onMouseMoveBound,!1),window.addEventListener("mouseup",this._onMouseUpBound,!1)}},{key:"_removeResizeListeners",value:function(){window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound)}},{key:"_toggleRowActive",value:function(e){(0,C.default)(e,"active")?(this._makeRowInActive(e),this._uncheckSelectAll()):this._makeRowActive(e)}},{key:"_makeRowActive",value:function(e){(0,k.default)(e,"active"),(e.querySelector('.spark-table__checkbox input[type="checkbox"]:not([disabled])')||{}).checked=!0}},{key:"_makeRowInActive",value:function(e){(0,O.default)(e,"active"),(e.querySelector('.spark-table__checkbox input[type="checkbox"]:not([disabled])')||{}).checked=!1}},{key:"_toggleRowsActive",value:function(e,t){for(var n=t?"_makeRowActive":"_makeRowInActive",a=0,r=e.length;a<r;a++)this[n](e[a])}},{key:"_toggleSelectAll",value:function(e){var t=e.querySelector('.spark-table__select-all input[type="checkbox"]');t&&(this._toggleRowsActive(this.el.querySelectorAll("tbody tr"),!t.checked),t.checked=!t.checked)}},{key:"_uncheckSelectAll",value:function(){for(var e=this.el.querySelectorAll('.spark-table__select-all input[type="checkbox"]'),t=0,n=e.length;t<n;t++)e[t].checked=!1}},{key:"_deactivateAllInputs",value:function(){this.tableEl&&this._deactivateInputs(this.tableEl)}},{key:"_deactivateInputs",value:function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),n=0,a=t.length;n<a;n++)this._deactivateInput(t[n])}},{key:"_deactivateInput",value:function(e){e.setAttribute("readonly",""),(0,O.default)(e.parentNode,"editing")}},{key:"_activateInputs",value:function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),n=0,a=t.length;n<a;n++)this._activateInput(t[n]),0===n&&t[n].focus()}},{key:"_activateInput",value:function(e){e.removeAttribute("readonly"),(0,k.default)(e.parentNode,"editing"),"checkbox"!==e.type&&"radio"!==e.type&&(0,v.default)(e,-1)}},{key:"_activateInputOrFocusDown",value:function(e){""!==e.getAttribute("readonly")?this._focusDown(e,!0):this._activateInput(e)}},{key:"_disableRowsColumnsCells",value:function(){var e,t,n;(0,b.default)(this.tableEl.querySelectorAll("td input[disabled]"),(0,l.default)(e=this.disableCell).call(e,this)),(0,b.default)(this.tableEl.querySelectorAll(".spark-table__disabled-row"),(0,l.default)(t=this.disableRow).call(t,this)),(0,b.default)(this.tableEl.querySelectorAll(".spark-table__disabled-column"),(0,l.default)(n=this.disableColumn).call(n,this))}},{key:"_focusUp",value:function(e,t){return this._focusUpDown(e,"up",t)}},{key:"_focusDown",value:function(e,t){return this._focusUpDown(e,"down",t)}},{key:"_focusUpDown",value:function(e,t,n){if(n||null!==e.getAttribute("readonly")){this._deactivateInput(e);var a=(0,_.default)(e,"td",this.el);if(a){var r=(0,P.default)(a.parentNode.children,a),i=("up"===t?S.default:N.default)(a.parentNode,"tr");if(i){var s=i.children[r];if(s){var o=s.querySelector('input:not([type="checkbox"]), select');o&&(o.disabled?this._focusUpDown(o,t,n):o.focus())}}}}}},{key:"_focusLeft",value:function(e,t){return this._focusLeftRight(e,"left",t)}},{key:"_focusRight",value:function(e,t){return this._focusLeftRight(e,"right",t)}},{key:"_focusLeftRight",value:function(e,t,n){if(n||null!==e.getAttribute("readonly")){this._deactivateInput(e);var a=(0,_.default)(e,"td",this.el);if(a){var r=("left"===t?S.default:N.default)(a,"td");if(r){var i=r.querySelector('input:not([type="checkbox"]), select');i&&(i.disabled?this._focusLeftRight(i,t,n):i.focus())}}}}},{key:"_checkDoubleClick",value:function(e){var t=(0,o.default)(),n=this._lastClickTime,a=this._lastClickEl;return this._lastClickTime=t,this._lastClickEl=e,e===a&&t-500<n}},{key:"_clearClicked",value:function(){this._lastClickEl=null}},{key:"_editRow",value:function(e){e&&(this._editingCount++,this._activateInputs(e),(0,y.store)(e),(0,k.default)(e,"editing"),this._updateBindings())}},{key:"_cancelRow",value:function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,y.restore)(e),(0,O.default)(e,"editing"),this._updateBindings())}},{key:"_saveRow",value:function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,y.clear)(e),(0,O.default)(e,"editing"),this._updateBindings(),(this.onRowSave||T)((0,P.default)(e.parentNode.children,e),e))}},{key:"_deleteRow",value:function(e){e&&((this.onRowDelete||T)((0,P.default)(e.parentNode.children,e),e),e.parentNode.removeChild(e))}},{key:"_confirmDelete",value:function(e){this.confirmDelete&&"function"==typeof this.confirmDelete?this.confirmDelete(e,this._deleteRow):this._deleteRow(e)}},{key:"_toggleDrawer",value:function(e){var t=e.dataset.drawerHandle,n=this.tableEl.querySelector('[data-drawer="'+t+'"]'),a=(0,_.default)(e,"tr",this.tableEl),r=JSON.parse(e.getAttribute("aria-expanded"));n&&r?("function"==typeof this.onBeforeDrawerCollapse&&this.onBeforeDrawerCollapse(t,this),(0,O.default)(a,"spark-table__handle-row--expanded"),(0,O.default)(a,"spark-table__handle-row--expand"),(0,k.default)(a,"spark-table__handle-row--collapse"),(0,O.default)(n,"spark-table__drawer--expanded"),(0,O.default)(n,"spark-table__drawer--expand"),(0,k.default)(n,"spark-table__drawer--collapse"),"function"==typeof this.onDrawerCollapse&&this.onDrawerCollapse(t,this),e.setAttribute("aria-expanded",!1)):n&&("function"==typeof this.onBeforeDrawerExpand&&this.onBeforeDrawerExpand(t,this),(0,O.default)(a,"spark-table__handle-row--collapsed"),(0,O.default)(a,"spark-table__handle-row--collapse"),(0,k.default)(a,"spark-table__handle-row--expand"),(0,O.default)(n,"spark-table__drawer--collapsed"),(0,O.default)(n,"spark-table__drawer--collapse"),(0,k.default)(n,"spark-table__drawer--expand"),"function"==typeof this.onDrawerExpand&&this.onDrawerExpand(t,this),e.setAttribute("aria-expanded",!0))}},{key:"_updateBindings",value:function(){(0,E.default)(this.el,"editing",this._editingCount)}},{key:"_initResize",value:function(){var e;this._resizeEls=[];var t=this.tableEl.querySelectorAll("thead th");(0,b.default)(t,(0,l.default)(e=function(e){e.innerHTML='<span class="spark-table__resize spark-table__resize--left"></span>'+e.innerHTML+'<span class="spark-table__resize spark-table__resize--right"></span>',this._resizeEls.push(e)}).call(e,this))}},{key:"_initRows",value:function(){var e;(0,b.default)(this.tableEl.querySelectorAll("td.spark-table__checkbox input:checked"),(0,l.default)(e=function(e){this._makeRowActive((0,_.default)(e,"tr"))}).call(e,this))}},{key:"_sizeColumns",value:function(e,t){var n;if(e=e||"%",!this._sizeColumnsRun||t){var a=this.tableEl.offsetWidth;(0,b.default)(this.tableEl.querySelectorAll("thead th"),(0,l.default)(n=function(t){t.style.width="%"===e?Math.round(t.offsetWidth/a*1e5)/1e5*100+"%":t.offsetWidth+"px"}).call(n,this)),this._sizeColumnsRun=!0}}},{key:"_initExpands",value:function(){var e,t=this.tableEl.querySelectorAll(".spark-table-expand");this._expands=[],(0,b.default)(t,(0,l.default)(e=function(e){var t;this._expands.push(new g.default(e,{onBeforeExpand:(0,l.default)(t=this._onBeforeExpand).call(t,this)}))}).call(e,this))}},{key:"_onBeforeExpand",value:function(){this._sizeColumns()}},{key:"_onAnimationEnd",value:function(e){var t=e.target||e.srcElement;if((0,w.default)(t,".spark-table__drawer__content")){var n=t.parentElement.parentElement,a=(0,S.default)(n,"tr"),r=(0,C.default)(n,"spark-table__drawer--expand");n&&r?((0,k.default)(a,"spark-table__handle-row--expanded"),(0,O.default)(a,"spark-table__handle-row--expand"),(0,k.default)(n,"spark-table__drawer--expanded"),(0,O.default)(n,"spark-table__drawer--expand"),"function"==typeof this.onAfterDrawerExpand&&this.onAfterDrawerExpand(n.dataset.drawer,this)):n&&((0,k.default)(a,"spark-table__handle-row--collapsed"),(0,O.default)(a,"spark-table__handle-row--collapse"),(0,k.default)(n,"spark-table__drawer--collapsed"),(0,O.default)(n,"spark-table__drawer--collapse"),"function"==typeof this.onAfterDrawerCollapse&&this.onAfterDrawerCollapse(n.dataset.drawer,this))}}},{key:"_onClick",value:function(e){var t,n,a=e.target||e.srcElement,r=!1,i=!0;(n=(0,_.default)(a,".spark-table__select-all",this.el))&&!(0,w.default)(a,'input[type="checkbox"]')?(this._toggleSelectAll(n),r=!0):(0,w.default)(a,'input:not([type="checkbox"]):not([type="file"]), select')?a.disabled||(this.isSpreadsheet&&(i=!1,this._checkDoubleClick(a)&&(i=!0,this._activateInput(a))),r=!0):(0,w.default)(a,".spark-table__edit-row")?(this._editRow((0,_.default)(a,"tr",this.el)),r=!0):(0,w.default)(a,".spark-table__delete-row")?(this._confirmDelete((0,_.default)(a,"tr",this.el)),r=!0):(0,w.default)(a,".spark-table__edit-row-save")?(this._saveRow((0,_.default)(a,"tr",this.el)),r=!0):(0,w.default)(a,".spark-table__edit-row-cancel")?(this._cancelRow((0,_.default)(a,"tr",this.el)),r=!0):(0,w.default)(a,"button[data-drawer-handle]")?(this._toggleDrawer(a),r=!0):(0,_.default)(a,"button, a, .spark-toggle-switch",this.el)||(0,w.default)(a,'.spark-table__checkbox input[type="checkbox"], select')||!(t=(0,_.default)(a,"tbody tr",this.el))||(t.querySelector('.spark-table__checkbox input[type="checkbox"]')||{}).disabled||t.hasAttribute("data-drawer")||(this._toggleRowActive(t),r=!0),i&&this._clearClicked(),r&&e.preventDefault()}},{key:"_onChange",value:function(e){var t,n,a=e.target||e.srcElement;(n=(0,_.default)(a,".spark-table__select-all",this.el))?(a.checked=!a.checked,this._toggleSelectAll(n)):(0,w.default)(a,'.spark-table__checkbox input[type="checkbox"]')&&(t=(0,_.default)(a,"tbody tr",this.el))&&this._toggleRowActive(t)}},{key:"_onFocus",value:function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,w.default)(t,'input:not([type="checkbox"]), select')){var n=(0,_.default)(t,"td",this.el);(0,k.default)(n,"focus")}}},{key:"_onBlur",value:function(e){if(this.isSpreadsheet){var t=e.target||e.srcElement,n=(0,_.default)(t,"td",this.el);(0,O.default)(n,"focus"),this._deactivateInput(t)}}},{key:"_onKeydown",value:function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,w.default)(t,'input:not([type="checkbox"]), select'))switch(e.keyCode||e.which){case this._keyCodes.ENTER:this._activateInputOrFocusDown(t);break;case this._keyCodes.ESCAPE:this._deactivateInput(t);break;case this._keyCodes.DOWN:this._focusDown(t);break;case this._keyCodes.UP:this._focusUp(t);break;case this._keyCodes.LEFT:this._focusLeft(t);break;case this._keyCodes.RIGHT:this._focusRight(t)}}},{key:"_onTouchstart",value:function(e){var t,n=e.target||e.srcElement;this.isSpreadsheet&&(0,w.default)(n,'input:not([type="checkbox"])')&&(this._touchStartEl=n,this._touchStartTime=(0,o.default)(),this._touchStartTimer=(0,s.default)((0,l.default)(t=this._onTouchHold).call(t,this),1e3))}},{key:"_onTouchend",value:function(e){var t=e.target||e.srcElement;this._touchStartEl&&t===this._touchStartEl&&(this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer))}},{key:"_onTouchHold",value:function(){this._activateInput(this._touchStartEl),this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer)}},{key:"_onMouseDown",value:function(e){var t,n=e.target||e.srcElement;if(this.isResizable&&(0,w.default)(n,".spark-table__resize")){e.preventDefault(),this._lastScreenX=e.screenX,this._sizeColumns("px",!0),this._resizingEl=n.parentNode;var a=(0,i.default)(t=this._resizeEls).call(t,this._resizingEl);(0,C.default)(n,"spark-table__resize--left")&&(this._resizingEl=this._resizeEls[a-1]),this._resizingEl&&this._addResizeListeners()}}},{key:"_onMouseMove",value:function(e){var t=e.screenX,n=t-this._lastScreenX;if(n){e.preventDefault();var a=this._resizingEl.offsetWidth,r=this.tableEl.offsetWidth,i=a+n,s=r+n;this._resizingEl.style.width=i+"px",this.tableEl.style.width=s+"px",(this._resizingEl.offsetWidth===a||this.tableEl.offsetWidth<this.tableEl.parentNode.offsetWidth)&&(this._resizingEl.style.width=a+"px",this.tableEl.style.width=r+"px"),this._lastScreenX=t}}},{key:"_onMouseUp",value:function(){this._sizeColumns("%",!0),this.tableEl.style.width=this.tableEl.offsetWidth/this.tableEl.parentNode.offsetWidth*100+"%",this._removeResizeListeners()}}]),a}(m.default);I.prototype._whitelistedParams=["isSpreadsheet","isEditRows","isResizable","confirmDelete","onRowSave","onRowDelete","onBeforeDrawerExpand","onBeforeDrawerCollapse","onDrawerExpand","onDrawerCollapse","onAfterDrawerExpand","onAfterDrawerCollapse"],I.prototype.defaults={el:null,tableEl:null,isSpreadsheet:null,isEditRows:null,isResizable:null,onRowSave:null,onRowDelete:null,confirmDelete:null,onBeforeDrawerExpand:null,onBeforeDrawerCollapse:null,onDrawerExpand:null,onDrawerCollapse:null,onAfterDrawerExpand:null,onAfterDrawerCollapse:null,_expands:null,_keyCodes:{ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESCAPE:27},_editingCount:0,_lastClickTime:0,_lastClickEl:null,_lastScreenX:0,_touchStartTime:0,_touchStartEl:null,_resizeEls:null,_resizingEl:null,_sizeColumnsRun:!1,_onClickBound:null,_onChangeBound:null,_onFocusBound:null,_onBlurBound:null,_onAnimationEndBound:null,_onKeydownBound:null,_onTouchstartBound:null,_onTouchendBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null};var D=I;t.default=D,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){var a=document.activeElement;if(t=t<0?e.value.length+t+1:t,n=n<0?e.value.length+n+1:n,document.selection){e.focus();var r=document.selection.createRange();r.moveStart("character",-e.value.length),r.moveStart("character",t),r.moveEnd("character",void 0!==n?n:t),r.select()}else(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=void 0!==n?n:t);return a!==e&&(e.blur(),a.focus()),{start:t,end:n}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.store=function(e){i(e,(function(e){var t;switch(e.nodeName.toLowerCase()){case"select":t=e.selectedIndex;break;default:t=encodeURI(e.value)}e.setAttribute("data-stored-value",t)}))},t.restore=function(e){i(e,(function(e){var t=e.nodeName.toLowerCase(),n=e.getAttribute("data-stored-value");if(n||""===n){switch(t){case"select":e.options[n].selected=!0;break;default:e.value=decodeURI(n)}e.removeAttribute("data-stored-value")}}))},t.clear=function(e){i(e,(function(e){e.removeAttribute("data-stored-value")}))};var r=a(n(1263));function i(e,t){(0,r.default)(e.querySelectorAll("input, select, textarea"),(function(e){t(e)}))}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1282)),o=a(n(1278)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1396)),g=a(n(1257)),v=a(n(1247)),y=a(n(1251)),b=a(n(1248)),C=a(n(1267)),E=a(n(1352)),k=a(n(1295)),O=a(n(1500)),_=n(1283),P=a(n(1502));function S(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(S()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._determineSize(),(0,p.default)(t)):(0,p.default)(t)}return(0,c.default)(a,[{key:"setActive",value:function(e){var t;if(this.scrollRect||(this.scrollRect=this.tabListScrollEl.getBoundingClientRect()),"string"==typeof e&&(t=this._findPanelByName(e))&&(e=this._findTabByPanel(t)),"number"==typeof e&&(e=this.tabEls.item(e)),!e||"object"!==(0,o.default)(e)||e===this.activeTabEl)return!1;this.activeTabEl&&((0,g.default)(this.activeTabEl,"active",!1),this.activeTabEl.querySelector("a").removeAttribute("aria-selected"),this.previousTabEl=this.activeTabEl),(0,g.default)(e,"active",!0),e.querySelector("a").setAttribute("aria-selected","true"),this.activeTabEl=e;var n=e.getBoundingClientRect();n.left>=this.scrollRect.left&&this.scrollRect.right>=n.right||(n.left<this.scrollRect.left&&this.focus(e,"left"),this.scrollRect.right<n.right&&this.focus(e,"right")),t||(t=this._findPanelByTab(e)),(0,g.default)(t,"active",!0),t.setAttribute("aria-hidden","false"),this.activePanelEl&&((0,g.default)(this.activePanelEl,"active",!1),this.activePanelEl.setAttribute("aria-hidden","true")),this.activePanelEl=t,this.useHash&&(window.location.hash=this.activePanelEl.getAttribute("id")||"");var a=document.createEvent("Event");return a.initEvent("spark.visible-children",!0,!0),this.activePanelEl.dispatchEvent(a),this}},{key:"start",value:function(e){return e=e||{},this.isDragging=!0,this.lastX=e.lastX,this.lastY=e.lastY,this._determineMinMax(),this._addMoveEventListeners(e.type||"mouse"),this}},{key:"stop",value:function(e){return e=e||{},this._checkX(),this.isDragging=!1,this.scrollDistance=0,this.scrollDirection="",this._removeMoveEventListeners(e.type),this}},{key:"move",value:function(e){return this.isDragging||e.scroll||e.force?(!e.force&&(this.x+e.x>this.maxX||this.x+e.x<this.minX)?this.x+=e.x/4:this.x+=e.x,this.scrollDistance+=Math.abs(e.x),e.scroll&&this._checkX(),this._updatePosition(),this):this}},{key:"focus",value:function(e,t){var n=e.getBoundingClientRect();return t=t||"left",this._getPageDirection(),"rtl"===this.pageDirection?this.x="left"===t?-(this.scrollRect.left-n.left-this.x):n.right-this.scrollRect.right:this.x="left"===t?this.scrollRect.left-n.left:-(n.right-this.scrollRect.right-this.x),this._checkX(),this._updatePosition(),this}},{key:"remove",value:function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){var t;return(0,u.default)((0,h.default)(a.prototype),"update",this).call(this,e),(0,s.default)((0,i.default)(t=function(){this._determineSize(),this.focus(this.activeTabEl)}).call(t,this),0),this}},{key:"_findPanelByName",value:function(e){e=e.replace("#","");for(var t,n=0,a=this.panelEls.length,r=null;n<a&&!r;n++)this.panelEls[n].getAttribute("id")===e&&(t=this.panelEls[n],r=!0);return r&&t}},{key:"_findPanelByTab",value:function(e){var t=e.querySelector("a"),n=t&&t.getAttribute("href"),a=(0,E.default)(e.parentNode.children,e),r=0,i=this.panelEls.length,s=null,o=null,l=null;for(n&&n.replace("#","");r<i&&!s;r++)n&&this.panelEls[r].getAttribute("id")===n?(s=!0,o=this.panelEls[r]):r===a&&(l=this.panelEls[r]);return s&&o||l}},{key:"_findTabByPanel",value:function(e){for(var t=e.getAttribute("id"),n=(0,E.default)(e.parentNode.children,e),a=0,r=this.tabEls.length,i=null,s=null,o=null;a<r&&!i;a++)!t||this.tabEls.item(a).querySelector("a").getAttribute("href")!=="#"+t&&this.tabEls.item(a).getAttribute("href")!=="#"+t?a===n&&(o=this.tabEls.item(a)):(i=!0,s=this.tabEls.item(a));return i&&s||o}},{key:"_findTabByChildElement",value:function(e){for(var t,n,a=0,r=this.tabEls.length;a<r&&!t;a++)(this.tabEls.item(a)===e||(0,k.default)(e,this.tabEls.item(a)))&&(t=!0,n=this.tabEls.item(a));return t&&n}},{key:"_cacheElements",value:function(e){if(this.el=e,this.tabListEl=this.el.querySelector(".spark-tabs__list"),this.tabListScrollEl=this.tabListEl.parentNode,this.tabEls=this.tabListEl.querySelectorAll(".spark-tabs__tab"),this.panelEls=(0,O.default)(this.el.querySelector(".spark-tabs__panels"),'[role="tabpanel"]'),this.navEl=this.el.querySelector(".spark-tabs__nav"),this.leftEl=this.navEl.querySelector(".spark-tabs__btn--left"),this.rightEl=this.navEl.querySelector(".spark-tabs__btn--right"),!this.tabListEl||!this.tabEls.length||!this.panelEls.length)throw new Error("Tab element missing either a .spark-tabs__list, or elements with .spark-tabs__tab and .spark-tabs__panel!",this.el);this._determineSize(),window.location.hash&&this.setActive(window.location.hash)||this.setActive(this.tabListEl.querySelector(".spark-tabs__tab.active")||0)}},{key:"_getPageDirection",value:function(){this.pageDirection=window.getComputedStyle(this.el,"").getPropertyValue("direction")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l,c,u,d,p;this._onResizeBound=(0,i.default)(e=this._onResize).call(e,this),this._onTabListClickBound=(0,i.default)(t=this._onTabListClick).call(t,this),this._onClickBound=(0,i.default)(n=this._onClick).call(n,this),this._onTouchStartBound=(0,i.default)(a=this._onTouchStart).call(a,this),this._onTouchMoveBound=(0,i.default)(r=this._onTouchMove).call(r,this),this._onTouchEndBound=(0,i.default)(s=this._onTouchEnd).call(s,this),this._onMouseDownBound=(0,i.default)(o=this._onMouseDown).call(o,this),this._onMouseMoveBound=(0,i.default)(l=this._onMouseMove).call(l,this),this._onMouseUpBound=(0,i.default)(c=this._onMouseUp).call(c,this),this._onScrollBound=(0,i.default)(u=this._onScroll).call(u,this),this._onFocusBound=(0,i.default)(d=this._onFocus).call(d,this),this._onBlurBound=(0,i.default)(p=this._onBlur).call(p,this)}},{key:"_addEventListeners",value:function(){var e=(0,P.default)();window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),this.tabListEl.addEventListener("click",this._onTabListClickBound),this.tabListEl.addEventListener("touchstart",this._onTouchStartBound,!!e&&{passive:!1}),this.tabListEl.addEventListener("mousedown",this._onMouseDownBound),this.tabListEl.addEventListener("mousewheel",this._onScrollBound,!!e&&{passive:!1}),this.tabListEl.addEventListener("DOMMouseScroll",this._onScrollBound),this.tabListEl.addEventListener("focus",this._onFocusBound,!0),this.tabListEl.addEventListener("blur",this._onBlurBound,!0),this.leftEl&&this.leftEl.addEventListener("click",this._onClickBound),this.rightEl&&this.rightEl.addEventListener("click",this._onClickBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),this.tabListEl.removeEventListener("click",this._onTabListClickBound),this.tabListEl.removeEventListener("touchstart",this._onTouchStartBound),this.tabListEl.removeEventListener("mousedown",this._onMouseDownBound),this.tabListEl.removeEventListener("mousewheel",this._onScrollBound),this.tabListEl.removeEventListener("DOMMouseScroll",this._onScrollBound),this.tabListEl.removeEventListener("focus",this._onFocusBound),this.tabListEl.removeEventListener("blur",this._onBlurBound),this.leftEl&&this.leftEl.removeEventListener("click",this._onClickBound),this.rightEl&&this.rightEl.removeEventListener("click",this._onClickBound)}},{key:"_addMoveEventListeners",value:function(e){switch(e){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound)}}},{key:"_removeMoveEventListeners",value:function(e){switch(e){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound)}}},{key:"_determineSize",value:function(){var e=this.el.clientWidth,t=(0,_.get)(e,this.breakpoints);this.currentBreakpoint!==t&&((0,g.default)(this.el,this.currentBreakpoint,!1),this.currentBreakpoint=t,(0,g.default)(this.el,this.currentBreakpoint,!0)),this.scrollRect=this.tabListScrollEl.getBoundingClientRect(),this.isScrollable=this.tabListEl.clientWidth>this.scrollRect.width,(0,g.default)(this.navEl,"scrollable",this.isScrollable),this.isScrollable&&(this.scrollRect=this.tabListScrollEl.getBoundingClientRect()),this._determineMinMax()}},{key:"_determineMinMax",value:function(){this.tabListEl&&this.tabListScrollEl&&(this.maxX=0,this.minX=this.scrollRect.width-this.tabListEl.clientWidth-this.maxX)}},{key:"_enableAnimation",value:function(){this.isAnimatable=!0,(0,g.default)(this.navEl,"no-animation",!this.isAnimatable)}},{key:"_disableAnimation",value:function(){this.isAnimatable=!1,(0,g.default)(this.navEl,"no-animation",!this.isAnimatable)}},{key:"_updatePosition",value:function(){this._getPageDirection(),"rtl"===this.pageDirection?this.tabListEl.setAttribute("style",(0,m.default)("translate",-this.x+"px")):this.tabListEl.setAttribute("style",(0,m.default)("translate",this.x+"px"))}},{key:"_checkX",value:function(){this.x<this.minX&&(this.x=this.minX,this._updatePosition()),this.x>0&&(this.x=0,this._updatePosition())}},{key:"_onTabListClick",value:function(e){var t;this.scrollDistance>5?e.preventDefault():(t=this._findTabByChildElement(e.target))&&(e.preventDefault(),this.setActive(t))}},{key:"_onResize",value:function(){this._determineSize(),this.focus(this.activeTabEl)}},{key:"_onTouchStart",value:function(e){this.isScrollable&&(this._disableAnimation(),this.start({lastX:e.touches[0].clientX,lastY:e.touches[0].clientY,type:"touch"}))}},{key:"_onTouchMove",value:function(e){var t=e.touches[0].clientX-this.lastX,n=e.touches[0].clientY-this.lastY;this.scrollDirection||(Math.abs(n)>Math.abs(t)?this.scrollDirection="ns":this.scrollDirection="ew"),"ew"===this.scrollDirection&&(e.preventDefault(),this._getPageDirection(),t="rtl"===this.pageDirection?-t:t,this.move({x:t})),this.lastX=e.touches[0].clientX,this.lastY=e.touches[0].clientY}},{key:"_onTouchEnd",value:function(){var e;this._enableAnimation(),window.setTimeout((0,i.default)(e=function(){this.stop({type:"touch"})}).call(e,this),1)}},{key:"_onMouseDown",value:function(e){this.isScrollable&&(this._disableAnimation(),this.start({lastX:e.clientX,lastY:e.clientY,type:"mouse"}))}},{key:"_onMouseMove",value:function(e){var t=e.clientX-this.lastX,n=e.clientY-this.lastY;this.scrollDirection||(Math.abs(n)>Math.abs(t)?this.scrollDirection="ns":this.scrollDirection="ew"),"ew"===this.scrollDirection&&(e.preventDefault(),this._getPageDirection(),t="rtl"===this.pageDirection?-t:t,this.move({x:t})),this.lastX=e.clientX,this.lastY=e.clientY}},{key:"_onMouseUp",value:function(){var e;this.isDragging&&(this._enableAnimation(),window.setTimeout((0,i.default)(e=function(){this.stop({type:"mouse"})}).call(e,this),1))}},{key:"_onScroll",value:function(e){var t;if(this.isScrollable){this._disableAnimation();var n=e.wheelDeltaX||40*-e.detail;n&&(e.preventDefault(),this._getPageDirection(),n="rtl"===this.pageDirection?-n:n,this.move({x:n,scroll:!0})),this.scrollTimer&&(window.clearTimeout(this.scrollTimer),this.scrollTimer=null),this.scrollTimer=window.setTimeout((0,i.default)(t=this._onScrollEnd).call(t,this),100)}}},{key:"_onScrollEnd",value:function(){var e;this._enableAnimation(),window.setTimeout((0,i.default)(e=function(){this.stop({type:"scroll"})}).call(e,this),1)}},{key:"_onClick",value:function(e){(0,y.default)(e.target,"spark-tabs__btn--left")&&this._onLeftClick(),(0,y.default)(e.target,"spark-tabs__btn--right")&&this._onRightClick()}},{key:"_onLeftClick",value:function(){this.move({x:this.scrollRect.width,force:!0}),this.stop({type:"force"})}},{key:"_onRightClick",value:function(){this.move({x:-this.scrollRect.width,force:!0}),this.stop({type:"force"})}},{key:"_onFocus",value:function(e){var t=e.target||e.srcElement,n=(0,C.default)(t,".spark-tabs__tab",this.tabListEl);n&&(0,v.default)(n,"focus")}},{key:"_onBlur",value:function(e){var t=e.target||e.srcElement,n=(0,C.default)(t,".spark-tabs__tab",this.tabListEl);n&&(0,b.default)(n,"focus")}}]),a}(f.default);N.prototype._whitelistedParams=["useHash","breakpoints"],N.prototype.defaults={el:null,tabListEl:null,tabListScrollEl:null,tabEls:null,panelEls:null,activeTabEl:null,activePanelEl:null,navEl:null,leftEl:null,rightEl:null,useHash:!1,isScrollable:!1,isDragging:!1,isAnimatable:!1,scrollDirection:"",scrollDistance:0,lastX:0,lastY:0,minX:0,maxX:0,x:0,_onFocusBound:null,_onBlurBound:null,_onTabListClickBound:null,_onLeftClickBound:null,_onRightClickBound:null,_onResizeBound:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onScrollBound:null};var w=N;t.default=w,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1267)),h=a(n(1274));function f(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(){},g=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(f()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,c.default)(t)):(0,c.default)(t)}return(0,o.default)(a,[{key:"toggle",value:function(){return this.input?this.input.checked?this.deactivate():this.activate():this}},{key:"activate",value:function(){return this.setValue(!0)}},{key:"deactivate",value:function(){return this.setValue(!1)}},{key:"setValue",value:function(e){return this.input&&this.input.checked!==e&&(this.input.checked=e,(this.onChange||m)(e,this)),this}},{key:"getValue",value:function(){return this.input&&this.input.checked}},{key:"clearValue",value:function(){return this.deactivate()}},{key:"enable",value:function(){return this.input&&this.input.removeAttribute("disabled"),this}},{key:"disable",value:function(){return this.input&&this.input.setAttribute("disabled",""),this}},{key:"_cacheElements",value:function(e){this.el=e,this.input=e.querySelector(".spark-toggle__input")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onKeydownBound=(0,i.default)(e=this._onKeydown).call(e,this),this._onKeyupBound=(0,h.default)((0,i.default)(t=this._onKeyup).call(t,this),100)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("keydown",this._onKeydownBound),this.el.addEventListener("keyup",this._onKeyupBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("keydown",this._onKeydownBound),this.el.removeEventListener("keyup",this._onKeyupBound)}},{key:"_onKeyup",value:function(e){if((0,p.default)(e.target,".spark-toggle-switch, spark-toggle-switch__handle",this.el)&&32===(e.keyCode||e.which)){var t=this.getValue();(this.onChange||m)(t,this)}}},{key:"_onKeydown",value:function(e){if((0,p.default)(e.target,".spark-toggle-switch, spark-toggle-switch__handle",this.el))switch(e.keyCode||e.which){case 32:break;case 13:e.preventDefault(),this.toggle();break;case 39:case 40:e.preventDefault(),this.activate();break;case 37:case 38:e.preventDefault(),this.deactivate()}}}]),a}(d.default);g.prototype._whitelistedParams=["onChange"],g.prototype.defaults={el:null,input:null,onChange:null,_onKeydownBound:null};var v=g;t.default=v,e.exports=t.default},function(e,t,n){e.exports=n(1813)},function(e,t,n){var a=n(1814);e.exports=a},function(e,t,n){var a=n(1815),r=Array.prototype;e.exports=function(e){var t=e.sort;return e===r||e instanceof Array&&t===r.sort?a:t}},function(e,t,n){n(1816);var a=n(1262);e.exports=a("Array").sort},function(e,t,n){"use strict";var a=n(1246),r=n(1285),i=n(1272),s=n(1254),o=n(1321),l=[],c=l.sort,u=s((function(){l.sort(void 0)})),d=s((function(){l.sort(null)})),p=o("sort");a({target:"Array",proto:!0,forced:u||!d||p},{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),r(e))}})},function(e,t,n){var a=n(1818),r=n(1822),i=n(1830);e.exports=function(e){return a(e)||r(e)||i()}},function(e,t,n){var a=n(1819);e.exports=function(e){if(a(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){e.exports=n(1820)},function(e,t,n){var a=n(1506);e.exports=a},function(e,t,n){n(1246)({target:"Array",stat:!0},{isArray:n(1314)})},function(e,t,n){var a=n(1823),r=n(1827);e.exports=function(e){if(r(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return a(e)}},function(e,t,n){e.exports=n(1824)},function(e,t,n){var a=n(1507);e.exports=a},function(e,t,n){var a=n(1246),r=n(1826);a({target:"Array",stat:!0,forced:!n(1511)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var a=n(1316),r=n(1272),i=n(1508),s=n(1509),o=n(1284),l=n(1340),c=n(1510);e.exports=function(e){var t,n,u,d,p,h=r(e),f="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,v=void 0!==g,y=0,b=c(h);if(v&&(g=a(g,m>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(t=o(h.length));t>y;y++)l(n,y,v?g(h[y],y):h[y]);else for(p=(d=b.call(h)).next,n=new f;!(u=p.call(d)).done;y++)l(n,y,v?i(d,g,[u.value,y],!0):u.value);return n.length=y,n}},function(e,t,n){e.exports=n(1828)},function(e,t,n){n(1322),n(1342);var a=n(1829);e.exports=a},function(e,t,n){var a=n(1304),r=n(1253),i=n(1288),s=r("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||i.hasOwnProperty(a(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1282)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1247)),m=a(n(1251)),g=a(n(1257)),v=a(n(1248)),y=a(n(1832)),b=a(n(1354)),C=n(1283);function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(){},O=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(E()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initFilterDisplay(),(0,d.default)(t)):(0,d.default)(t)}return(0,c.default)(a,[{key:"_cacheElements",value:function(e){var t,n;this.el=e,this.moduleEls=this.el.querySelectorAll(".spark-filter-module");var a={onAfterExpand:(0,o.default)(t=this._onAfterExpand).call(t,this),onAfterCollapse:(0,o.default)(n=this._onAfterCollapse).call(n,this)};if(this.moduleEls.length>0)for(var r=0;r<this.moduleEls.length;r++)if(void 0!==this.moduleOptions[r]){for(var i in a)this.moduleOptions[r][i]=a[i];this.moduleInsts[r]=new y.default(this.moduleEls[r],this.moduleOptions[r])}else this.moduleInsts[r]=new y.default(this.moduleEls[r],a);this._filterToggleContainer=this.el.querySelector(".spark-filter__toggle-container"),this._toggleFilterButton=this.el.querySelector(".spark-filter__toggle-button"),this._toggleFilterLabel=this.el.querySelector(".spark-filter__toggle-button span"),this._tagsContainer=this.el.querySelector(".spark-filter__tags-container"),this._tagsCounter=this.el.querySelector(".spark-filter__applied-filters-counter"),this._clearAllButton=this.el.querySelector(".spark-filter__clear-all"),this._filterContent=this.el.querySelector(".spark-filter__content"),this._modulesContainer=this.el.querySelector(".spark-filter__modules-container"),this._viewMoreButton=this.el.querySelector(".spark-filter__view-more-filters"),this._viewLessButton=this.el.querySelector(".spark-filter__view-less-filters"),this._filterFooter=this.el.querySelector(".spark-filter__footer"),this._buttonGroupEl=this.el.querySelector(".spark-filter__apply-btn-container"),this._applyFiltersButton=this.el.querySelector(".spark-filter__btn-apply")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onResizeBound=(0,o.default)(e=this._onResize).call(e,this),this._toggleViewBound=(0,o.default)(t=this._toggleView).call(t,this),this._toggleFilterClickBound=(0,o.default)(n=this.toggleFilterClick).call(n,this),this._onClearAllBound=(0,o.default)(a=this._onClearAll).call(a,this),this._onScrollBound=(0,o.default)(r=this._onScroll).call(r,this)}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.addEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.addEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.addEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.addEventListener("click",this._onClearAllBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.removeEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.removeEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.removeEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.removeEventListener("click",this._onClearAllBound)}},{key:"_initFilterDisplay",value:function(){this.initializingFilter=!0,this.moduleEls.length>0&&(this.extraModulesExpanded=!1),(0,f.default)(this.el,"spark-filter--initializing"),this._determineFilterLayout()}},{key:"_determineFilterLayout",value:function(){switch(this.currentBreakpoint=(0,C.get)(window.innerWidth),this.currentBreakpoint){case"xs":this._curCol=1;break;case"sm":this._curCol=2;break;case"md":this._curCol=3;break;default:this._curCol=4}if(this._curCol<=1?this._isDropdownState||(this._applyExpandCollapseLayout(),this._showModule()):(this._expandCollapseState&&this._removeExpandCollapseLayout(),(0,m.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed")),this._showModule(),this.extraModulesExpanded||this._hideModule(this._curCol,this._maxCol-1)),!this._isDropdownState){var e=document.querySelectorAll(".spark-filter-module.hide");this.extraModulesExpanded||0!==e.length?!this.extraModulesExpanded&&e.length>0&&(0,v.default)(this._viewMoreButton,"hide"):(0,f.default)(this._viewMoreButton,"hide")}}},{key:"_updateFilterLayout",value:function(){this._determineFilterLayout()}},{key:"_toggleView",value:function(){this._isFilterExpanded&&!this.extraModulesExpanded?(this._showModule(),this._dispatchVisibilityEvent()):this._isFilterExpanded&&this.extraModulesExpanded&&this._hideModule(this._curCol,this._maxCol-1),this.extraModulesExpanded=!this.extraModulesExpanded,(0,g.default)(this._viewMoreButton,"hide"),(0,g.default)(this._viewLessButton,"hide")}},{key:"toggleFilterClick",value:function(){this.initializingFilter&&(this.initializingFilter=!1),this.toggleFilter()}},{key:"toggleFilter",value:function(e,t){(0,m.default)(this.el,"spark-filter--initializing")&&!this.initializingFilter&&((0,v.default)(this.el,"spark-filter--initializing"),(0,f.default)(this.el,"spark-filter--initialized")),"expand"===e?(this.initializingFilter?(0,v.default)(this._filterContent,"hide"):((0,v.default)(this._filterContent,"hide"),(0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),t||(this._isFilterExpanded=!0)):"collapse"===e?(this.initializingFilter?(0,f.default)(this._filterContent,"hide"):((0,f.default)(this._filterContent,"hide"),(0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"),t||(this._isFilterExpanded=!1)):((0,g.default)(this._filterContent,"hide"),(0,m.default)(this.el,"filter-expanded")?((0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"):((0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),t||(this._isFilterExpanded=!this._isFilterExpanded,(0,m.default)(this.el,"spark-filter--dropdown")&&!(0,m.default)(this._filterContent,"hide")&&this._calculateApplyBtnPosition())),!(0,m.default)(this.el,"spark-filter--dropdown")&&(0,m.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed")),this._dispatchVisibilityEvent()}},{key:"_onResize",value:function(){this._updateFilterLayout()}},{key:"_onScroll",value:function(){var e;this._isDropdownState&&(this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300))}},{key:"_onAfterExpand",value:function(){var e;(0,m.default)(this._buttonGroupEl,"is-fixed")||(this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300))}},{key:"_onAfterCollapse",value:function(){var e;this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300)}},{key:"_dispatchVisibilityEvent",value:function(){var e=document.createEvent("Event");e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e)}},{key:"_calculateApplyBtnPosition",value:function(){var e=this.el.getBoundingClientRect();if(e.height>255){var t=window.innerHeight,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=n-(e.top+document.body.scrollTop),r=e.top+document.body.scrollTop+e.height-(n+t);if(!(n>e.top+document.body.scrollTop+e.height||e.top+document.body.scrollTop>n+window.innerHeight)){var i,s=100,o=0,l=0;a>0&&(s-=100*a/e.height,o=a),r>0&&(s-=100*r/e.height,l=r),i=(e.height-(l+o))/t*100}if(e.bottom>(window.innerHeight||document.documentElement.clientHeight)&&(s>45||i>50)){var c=this._buttonGroupEl.offsetHeight,u=e.width;this._filterFooter.style.height=c+"px",(0,f.default)(this._buttonGroupEl,"is-fixed"),this._buttonGroupEl.style.width=u-2+"px",this._buttonGroupEl.style.left=e.left+1+"px",this._applyBtnPositionFixed()}else this._applyBtnPositionRelative()}}},{key:"_applyBtnPositionRelative",value:function(){var e=(0,i.default)(getComputedStyle(this._buttonGroupEl).bottom),t=this._modulesContainer.getBoundingClientRect().bottom,n=(window.innerHeight||document.documentElement.clientHeight)-(t+this._buttonGroupEl.getBoundingClientRect().height);if(!isNaN(e)){var a=function e(){this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed"),(0,v.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate"),this._buttonGroupEl.removeEventListener("animationend",e)};this._buttonGroupEl.addEventListener("animationend",(0,o.default)(a).call(a,this),!1);var r="-webkit-transform: translateY(-"+n+"px); transform: translateY(-"+n+"px);";this._buttonGroupEl.setAttribute("style",this._buttonGroupEl.getAttribute("style")+" "+r),(0,f.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate")}}},{key:"_applyBtnPositionFixed",value:function(){var e=requestAnimationFrame((0,o.default)(n).call(n,this)),t=.1;function n(){t+=.01;var a=(0,i.default)(getComputedStyle(this._buttonGroupEl).bottom),r=(0,i.default)(getComputedStyle(this._buttonGroupEl).height);a<-1*r&&(a=-1*r),a>-1?(this._buttonGroupEl.style.bottom="0px",cancelAnimationFrame(e)):a<0&&(a+=1/t,this._buttonGroupEl.style.bottom=a+"px",requestAnimationFrame((0,o.default)(n).call(n,this)))}}},{key:"_onClearAll",value:function(){(this.onClearAll||k)()}},{key:"_showModule",value:function(){for(var e=0;e<this.moduleEls.length;e++)(0,v.default)(this.moduleEls[e],"hide")}},{key:"_hideModule",value:function(e,t){t=t||this.moduleEls.length-1;for(var n=e;n<=t;n++)(0,f.default)(this.moduleEls[n],"hide")}},{key:"_applyExpandCollapseLayout",value:function(){var e;(0,f.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!0;var t=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(t.length>0){for(var n=0;n<t.length;n++)(0,f.default)(t[n],"hide");(0,v.default)(this._tagsCounter,"hide")}(0,f.default)(this._viewMoreButton,"hide"),(0,f.default)(this._viewLessButton,"hide"),this._applyFiltersButton&&((0,v.default)(this._applyFiltersButton,"spark-btn--sm"),(0,f.default)(this._applyFiltersButton,"spark-btn--block"));for(var a=0;a<this.moduleInsts.length;a++)this.moduleInsts[a]._applyExpand();this._isDropdownState=!0,this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300)}},{key:"_removeExpandCollapseLayout",value:function(){(0,v.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!1,this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed");var e=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(e.length>0){for(var t=0;t<e.length;t++)(0,v.default)(e[t],"hide");(0,f.default)(this._tagsCounter,"hide")}this.extraModulesExpanded?(0,v.default)(this._viewLessButton,"hide"):(0,v.default)(this._viewMoreButton,"hide"),this._applyFiltersButton&&((0,f.default)(this._applyFiltersButton,"spark-btn--sm"),(0,v.default)(this._applyFiltersButton,"spark-btn--block"));for(var n=0;n<this.moduleInsts.length;n++)this.moduleInsts[n]._disapplyExpand();this._isDropdownState=!1}},{key:"createTagEl",value:function(e,t,n){var a=document.createElement("div");a.className=(0,m.default)(this.el,"spark-filter--dropdown")?"spark-filter__tag hide":"spark-filter__tag",a.setAttribute("data-filter-name",e),a.innerHTML='<span class="spark-filter__tag__label">'+t+'</span><i role="button" tabindex="0" aria-label="Clear '+t+' filter" class="spark-icon spark-icon-close spark-filter__tag__close"></i>',this._tagsContainer.insertBefore(a,this._clearAllButton),a.querySelector(".spark-filter__tag__close").addEventListener("click",n||k),a.querySelector(".spark-filter__tag__close").addEventListener("keydown",n||k),(0,v.default)(this._clearAllButton,"hide"),(0,m.default)(this.el,"spark-filter--dropdown")&&(0,v.default)(this._tagsCounter,"hide")}},{key:"clearAllTagEls",value:function(){for(var e=this._tagsContainer.querySelectorAll(".spark-filter__tag"),t=0;t<e.length;t++)this._tagsContainer.removeChild(e[t]);this._tagsContainer.querySelector("span").innerHTML="0",(0,f.default)(this._clearAllButton,"hide"),(0,f.default)(this._tagsCounter,"hide")}},{key:"showModuleClearButton",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].enableClearBtn()}},{key:"disableModuleClearButton",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].disableClearBtn()}},{key:"hideModuleClearButton",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].hideClearBtn()}},{key:"moduleClearButtonStatus",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)if(this.moduleInsts[t].el.getAttribute("data-filter-module")===e)return this.moduleInsts[t].getClearButtonStatus()}}]),a}(h.default);O.prototype._whitelistedParams=["onClearAll","moduleOptions"],O.prototype.defaults={el:null,moduleEls:[],_filterToggleContainer:null,_toggleFilterButton:null,_toggleFilterLabel:null,_tagsContainer:null,_tagsCounter:null,_clearAllButton:null,_filterContent:null,_modulesContainer:null,_viewMoreButton:null,_viewLessButton:null,_filterFooter:null,_buttonGroupEl:null,_applyFiltersButton:null,moduleInsts:[],moduleOptions:[],maxCol:4,onClearAll:k,extraModulesExpanded:!1,_isFilterExpanded:!1,_isDropdownState:!1,_isModuleExpand:!0,_curCol:4,_onResizeBound:null,_toggleViewBound:null,_toggleFilterClickBound:null,_onClearAllBound:null,_onScrollBound:null};var _=O;t.default=_,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1265)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1257)),f=a(n(1248)),m=a(n(1247)),g=a(n(1251)),v=a(n(1399)),y=a(n(1389));function b(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(){},E=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(b()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,this._showAllEl=this.el.querySelector(".spark-filter-module__show-all"),this._showAllEl&&(this._showAllToggleable=this._showAllEl.querySelector("span")),this._clearEls=this.el.querySelectorAll(".spark-filter-module__clear"),this._hiddenEls=(0,s.default)(Array.prototype).call(this.el.querySelectorAll(".spark-filter-module--hide")),this._headerEl=this.el.querySelector(".spark-filter-module__header"),this._bodyEl=this.el.querySelector(".spark-filter-module__body"),this._modalEl=this.el.querySelector(".spark-modal"),this._modalSaveBtn=this.el.querySelector(".spark-filter-module__show-all__modal-button"),this._modalClasses=[],"modal"===this.onShowAll&&(this.modalInst=new y.default(this._modalEl))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n;this._onShowAllBound=(0,i.default)(e=this._onShowAll).call(e,this),this._onClearBound=(0,i.default)(t=this._onClear).call(t,this),this._onCloseModalBound=(0,i.default)(n=this._onCloseModal).call(n,this)}},{key:"_addEventListeners",value:function(){!this._showAllEl||this._showAllEl.addEventListener("click",this._onShowAllBound),!this._modalSaveBtn||this._modalSaveBtn.addEventListener("click",this._onCloseModalBound);for(var e=0;e<this._clearEls.length;e++)!this._clearEls[e]||this._clearEls[e].addEventListener("click",this._onClearBound)}},{key:"_removeEventListeners",value:function(){if(this._showAllEl){this._showAllEl.removeEventListener("click",this._onShowAllBound),this._modalSaveBtn.removeEventListener("click",this._onCloseModalBound);for(var e=0;e<this._clearEls.length;e++)!this._clearEls[e]||this._clearEls[e].removeEventListener("click",this._onClearBound)}}},{key:"_onShowAll",value:function(){"function"==typeof this.onShowAll?(this.onShowAll||C)(this):("toggle"===this.onShowAll||"modal"===this.onShowAll&&this._isExpand?(this._toggleShowAllLabel(),this.toggleHiddenContent()):"modal"!==this.onShowAll||this._isExpand||this.modalInst.open(),(this.onShowAllComplete||C)())}},{key:"_toggleShowAllLabel",value:function(){this._showAllToggleable.innerHTML="more"===this._showAllToggleable.innerHTML?"fewer":"more"}},{key:"_onClear",value:function(){(this.onClear||C)(this)}},{key:"_onCloseModal",value:function(){(this.onModalClose||C)(),this.modalInst.close()}},{key:"enableClearBtn",value:function(){for(var e=0;e<this._clearEls.length;e++)(0,f.default)(this._clearEls[e],"spark-filter-module__clear--disabled"),(0,f.default)(this._clearEls[e],"spark-filter-module__clear--hidden")}},{key:"disableClearBtn",value:function(){for(var e=0;e<this._clearEls.length;e++)(0,m.default)(this._clearEls[e],"spark-filter-module__clear--disabled")}},{key:"hideClearBtn",value:function(){for(var e=0;e<this._clearEls.length;e++)(0,m.default)(this._clearEls[e],"spark-filter-module__clear--hidden")}},{key:"getClearButtonStatus",value:function(){for(var e=!1,t=0;t<this._clearEls.length;t++)e=!(0,g.default)(this._clearEls[t],"spark-filter-module__clear--hidden")&&!(0,g.default)(this._clearEls[t],"spark-filter-module__clear--disabled");return e}},{key:"toggleHiddenContent",value:function(){for(var e=0;e<this._hiddenEls.length;e++)(0,h.default)(this._hiddenEls[e],"show")}},{key:"_applyExpand",value:function(){if(this._modalEl){var e=["spark-filter-module--hide","","",""];this._hiddenEls.push(this._modalEl);for(var t=this._modalEl,n=0;n<e.length;n++)this._modalClasses[n]=t.className,t.className=e[n],t=t.firstElementChild;(0,g.default)(document.body,"spark-modal-open")&&(0,f.default)(document.body,"spark-modal-open"),this.modalInst.remove(!0)}(0,m.default)(this.el,"spark-panel","spark-panel--expand"),(0,m.default)(this._headerEl,"spark-panel__header"),this._headerEl.setAttribute("role","heading"),this._headerEl.setAttribute("tabindex","0"),(0,m.default)(this._bodyEl,"spark-panel__content"),this._expandInst=new v.default(this.el,{onAfterExpand:this.onAfterExpand,onAfterCollapse:this.onAfterCollapse}),this._isExpand=!0}},{key:"_disapplyExpand",value:function(){if(this._modalEl){(0,g.default)(this._modalEl,"show")&&this._toggleShowAllLabel(),this._hiddenEls.pop();for(var e=this._modalEl,t=0;t<this._modalClasses.length;t++)e.className=this._modalClasses[t],e=e.firstElementChild;this.modalInst=new y.default(this._modalEl)}(0,f.default)(this.el,"spark-panel","spark-panel--expand"),(0,f.default)(this._headerEl,"spark-panel__header"),this._headerEl.removeAttribute("role"),this._headerEl.removeAttribute("tabindex"),(0,f.default)(this._bodyEl,"spark-panel__content"),this._expandInst.remove(!0),this._isExpand=!1}}]),a}(p.default);E.prototype._whitelistedParams=["onShowAll","onShowAllComplete","onModalClose","onClear","onAfterExpand","onAfterCollapse"],E.prototype.defaults={el:null,onShowAll:C,onShowAllComplete:C,onModalClose:C,onClear:C,onAfterExpand:C,onAfterCollapse:C,modalInst:null,_onShowAllBound:null,_onClearBound:null,_showAllEl:null,_clearEl:null,_hiddenEls:[],_headerEl:null,_bodyEl:null,_modalEl:null,_expandInst:null,_isExpand:!1,dataSet:{}};var k=E;t.default=k,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1341)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1323)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1247)),m=a(n(1248)),g=a(n(1274)),v=a(n(1257)),y=a(n(1296)),b=a(n(1398));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(C()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),t=n.call(this,e,r),e?(t._elPosition=window.getComputedStyle(t.el,null).getPropertyValue("position"),t._bindEventListenerCallbacks(),t._addEventListeners(),t._createTypes(),t._isActive=!1,t):(0,d.default)(t,(0,c.default)(t))}return(0,l.default)(a,[{key:"_addWindowListeners",value:function(){window.addEventListener("scroll",this._onScrollBound),window.addEventListener("resize",this._doResizeBound)}},{key:"_addEventListeners",value:function(){var e,t;"fixed"===window.getComputedStyle(this.el,null).getPropertyValue("position")&&this.el.addEventListener("transitionend",this._fixedHeaderTransitionBound),this._dom.panel.actions.el.addEventListener("click",this._doActionBound),this._dom.root.addEventListener("touchstart",(0,s.default)(e=this._touchStart).call(e,this)),this._dom.root.addEventListener("touchend",(0,s.default)(t=this._touchEnd).call(t,this))}},{key:"_attachToast",value:function(){this.el.insertBefore(this._dom.root,this.el.firstChild)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._fixedHeaderTransitionBound=(0,s.default)(e=this._fixedHeaderTansition).call(e,this),this._onScrollBound=(0,s.default)(t=this._onScroll).call(t,this),this._doActionBound=(0,s.default)(n=this._doAction).call(n,this),this._doResizeBound=(0,g.default)((0,s.default)(a=this._resize).call(a,this),100),this._onHidePanelBound=(0,s.default)(r=this._onHidePanel).call(r,this),this._onTimerDoneBound=(0,s.default)(i=this._onTimerDone).call(i,this)}},{key:"_cacheElements",value:function(e){this._dom={root:"",panel:{root:"",icon:{root:"",el:""},content:{root:"",title:"",details:""},actions:{root:"",el:""},timer:{root:""}}},this.el=e;var t=(new Date).getTime();this._ariaLabelledBy="spark-toast--title-"+t.toString(16),this._arialDescribedBy="spark-toast--details-"+t.toString(16),this._dom.root=document.createElement("div"),this._dom.toast=document.createElement("div"),this._dom.panel.root=document.createElement("div"),this._dom.panel.icon.root=document.createElement("div"),this._dom.panel.icon.el=document.createElement("i"),this._dom.panel.icon.root.setAttribute("aria-hidden",!0),this._dom.panel.content.root=document.createElement("div"),this._dom.panel.content.title=document.createElement("h4"),this._dom.panel.content.title.setAttribute("role","presentation"),this._dom.panel.content.title.setAttribute("id",this._ariaLabelledBy),this._dom.panel.content.details=document.createElement("p"),this._dom.panel.content.details.setAttribute("id",this._arialDescribedBy),this._dom.panel.actions.root=document.createElement("div"),this._dom.panel.actions.el=document.createElement("button"),this._dom.panel.actions.el.setAttribute("role","button"),this._dom.panel.timer.root=document.createElement("div"),(0,f.default)(this._dom.root,"spark-toast-root"),(0,f.default)(this._dom.toast,"spark-toast"),(0,f.default)(this._dom.panel.root,"spark-toast__panel"),(0,f.default)(this._dom.panel.icon.root,"spark-toast__icon"),(0,f.default)(this._dom.panel.content.root,"spark-toast__content"),(0,f.default)(this._dom.panel.content.title,""),(0,f.default)(this._dom.panel.content.details,""),(0,f.default)(this._dom.panel.actions.root,"spark-toast__actions"),(0,f.default)(this._dom.panel.content.title,"spark-toast__heading"),(0,f.default)(this._dom.panel.content.details,"spark-toast__details"),(0,f.default)(this._dom.panel.timer.root,"spark-toast__timer"),this._dom.panel.icon.root.appendChild(this._dom.panel.icon.el),this._dom.panel.content.root.appendChild(this._dom.panel.content.title),this._dom.panel.content.root.appendChild(this._dom.panel.content.details),this._dom.panel.actions.root.appendChild(this._dom.panel.actions.el),this._dom.panel.root.appendChild(this._dom.panel.icon.root),this._dom.panel.root.appendChild(this._dom.panel.content.root),this._dom.panel.root.appendChild(this._dom.panel.actions.root),this._dom.panel.root.appendChild(this._dom.panel.timer.root),this._dom.toast.appendChild(this._dom.panel.root),this._dom.root.appendChild(this._dom.toast)}},{key:"_checkFixed",value:function(){if("fixed"!==this._elPosition){var e=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,t=void 0!==window.pageXOffset?window.pageXOffset:window.document.body.scrollLeft;this._startTop<e?((0,v.default)(this._dom.toast,"spark-toast--fixed",!0),this._dom.toast.style.top=0,this._dom.toast.style.left=(0,y.default)(this.el,!1).left-t+"px"):((0,v.default)(this._dom.toast,"spark-toast--fixed",!1),this.elHeader?(this._dom.toast.style.left="-"+Math.floor((0,y.default)(this.elHeader,!1).left-(0,y.default)(this.el,!1).left)+"px",this._dom.toast.style.top=(0,b.default)(this.elHeader)+"px"):(this._dom.toast.style.left=0,this._dom.toast.style.top=0))}else this._dom.toast.style.top=(0,b.default)(this.el)+"px"}},{key:"_createTypes",value:function(){this._toastTypes={},this._toastTypes.positive={className:"spark-toast--positive"},this._toastTypes.neutral={className:"spark-toast--neutral"},this._toastTypes.warning={className:"spark-toast--warning"},this._toastTypes.error={className:"spark-toast--error"}}},{key:"_doAction",value:function(e){e&&e.stopImmediatePropagation(),this.onAction=null,"function"==typeof this.onAction&&this.onAction(),this._onTimerDoneBound(e)}},{key:"_fixedHeaderTansition",value:function(){this._dom.toast.style.top=(0,b.default)(this.el)+"px"}},{key:"_onHidePanel",value:function(e){e&&e.stopImmediatePropagation(),this._isActive=!1,(0,m.default)(this._dom.panel.root,"spark-toast--show"),this._dom.panel.root.removeEventListener("animationend",this._onHidePanelBound),this._dom.root.parentNode.removeChild(this._dom.root),this._removeWindowListeners(),null!==this._lastFocused&&this._lastFocused.focus(),this._lastFocused=null}},{key:"_onScroll",value:function(){this._checkFixed()}},{key:"_onTimerDone",value:function(e){e&&e.stopImmediatePropagation(),this._dom.panel.timer.root.removeEventListener("animationend",this._onTimerDoneBound),this._dom.panel.root.style.animation="",this._dom.panel.root.addEventListener("animationend",this._onHidePanelBound),this._dom.panel.root.style.animation="toast-animation-out .25s ease-out .2s 1 backwards",this._isActive=!1}},{key:"open",value:function(e){if(this._setLastFocused(),!this.el)return this;this._updateValues(e),""===this.actionIcon&&""===this.actionLabel?(this._dom.toast.removeAttribute("aria-labelledby"),this._dom.toast.removeAttribute("aria-describedby"),this._dom.toast.setAttribute("role","alert")):(this._dom.toast.setAttribute("aria-labelledby",this._ariaLabelledBy),this._dom.toast.setAttribute("aria-describedby",this._arialDescribedBy),this._dom.toast.setAttribute("role","alertdialog")),this._dom.panel.content.title.innerHTML=this.title,this._dom.panel.content.details.innerHTML=this.details,this._dom.toast.className="spark-toast spark-toast--"+this.type,"fixed"===this._elPosition?(0,v.default)(this._dom.toast,"spark-toast--fixed",!0):((0,v.default)(this._dom.toast,"spark-toast--fixed",!1),this._dom.toast.style.top=this.el.offsetTop+this.el.offsetHeight+"px"),this._dom.panel.icon.el.className="spark-icon spark-icon--fill "+this.icon,""!==this.actionIcon&&this.actionIcon?(this.actionLabel&&this._dom.panel.actions.el.setAttribute("aria-label",this.actionLabel),this._dom.panel.actions.el.className="spark-btn--icon spark-icon spark-icon--fill "+this.actionIcon,this._dom.panel.actions.el.innerHTML=""):(this._dom.panel.actions.el.removeAttribute("aria-label"),this._dom.panel.actions.el.className="spark-btn spark-btn--text",this._dom.panel.actions.el.innerHTML=this.actionLabel),!1===this._isActive&&(this._dom.root.parentNode&&this._onHidePanel(),this._addWindowListeners(),this._attachToast(),this._elPosition=window.getComputedStyle(this.el,null).getPropertyValue("position"),this.elHeader?this._startTop=(0,b.default)(this.elHeader)+(0,y.default)(this.el,!1).top:this._startTop=(0,y.default)(this.el,!1).top,this._dom.toast.style.width=this.el.offsetWidth+"px",this._dom.panel.root.style.animation="",(0,f.default)(this._dom.panel.root,"spark-toast--show")),this._checkFixed(),this._setFocus(),this._startTimer(),this._isActive=!0}},{key:"remove",value:function(){this._onHidePanel(),this.el.removeEventListener("transitionend",this._fixedHeaderTansitionBound),this._dom=void 0}},{key:"_removeWindowListeners",value:function(){window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("resize",this._doResizeBound)}},{key:"_resize",value:function(){!0===this._isActive&&(this._dom.toast.style.width=this.el.offsetWidth+"px")}},{key:"_setFocus",value:function(){""===this.actionLabel&&""===this.actionIcon||this._dom.panel.actions.el.focus()}},{key:"_setLastFocused",value:function(){this._lastFocused=document.activeElement,this._lastFocused&&this._lastFocused!==document.body?document.querySelector&&(this._lastFocused=document.querySelector(":focus")):this._lastFocused=null}},{key:"_startTimer",value:function(){this._dom.panel.timer.root.style.animation="",this._dom.panel.timer.root.offsetWidth,this._dom.panel.timer.root.addEventListener("animationend",this._onTimerDoneBound),this._dom.panel.timer.root.style.animation=this.duration+"s linear 1s toast-timer-animation forwards"}},{key:"_touchStart",value:function(e){e&&e.stopImmediatePropagation(),this._toastRect=this._dom.toast.getBoundingClientRect(),this._startX=e.changedTouches[0].screenX,this._startY=e.changedTouches[0].screenY}},{key:"_touchEnd",value:function(e){var t=(e.changedTouches[0].screenX-this._startX)/this._toastRect.width,n=(e.changedTouches[0].screenY-this._startY)/this._toastRect.height;return t>n&&t>.25?"swipe-right":n>t&&n>.25?"swipe-down":t<n&&t<-.25?"swipe-left":n<t&&n<-.25?(this._doActionBound(e),"swipe-up"):void 0}},{key:"_updateValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0!==(0,i.default)(e).length&&(this.title=e.title||this.defaults.title,this.details=e.details||this.defaults.details,this.duration=e.duration||this.defaults.duration,this.type=e.type||this.defaults.type,this.icon=e.icon||this.defaults.icon,this.actionIcon=e.actionIcon||this.defaults.actionIcon,this.actionLabel=e.actionLabel||this.defaults.actionLabel,this.onAction=e.onAction||this.defaults.onAction)}}]),a}(h.default);E.prototype._whitelistedParams=["elHeader","type","title","details","duration","icon","actionIcon","actionLabel","onAction"],E.prototype.defaults={el:null,elHeader:null,type:"positive",title:"",details:"",icon:"",duration:3,actionIcon:"",actionLabel:"",onAction:null};var k=E;t.default=k,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1282)),s=a(n(1250)),o=a(n(1240)),l=a(n(1278)),c=a(n(1400)),u=a(n(1238)),d=a(n(1239)),p=a(n(1258)),h=a(n(1244)),f=a(n(1245)),m=a(n(1241)),g=a(n(1242)),v=a(n(1257)),y=a(n(1251)),b=n(1271),C=a(n(1274)),E=a(n(1295)),k=a(n(1267)),O=a(n(1273)),_=a(n(1261)),P=a(n(1266));function S(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(){},w=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,m.default)(t);if(S()){var a=(0,m.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t.inputEl.value&&(t.show(),t._onInput()),(0,f.default)(t)):(0,f.default)(t)}return(0,d.default)(a,[{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=this.el.querySelector(".spark-auto-suggest__field"),this.labelEl=this.el.querySelector(".spark-label"),this.listBoxEl=this.el.querySelector(".spark-auto-suggest__listbox"),this.clearButtonEl=this.el.querySelector(".spark-auto-suggest__clear-btn"),!this.inputEl)throw new Error("No <input> element present in input container!",this.el);this.messageEl=this.el.querySelector(".spark-input__message")||(0,P.default)('<span class="spark-input__message"></span>')}},{key:"_parseParams",value:function(){if(this.clickedWithinAutoSuggest=!1,this.isActive=!!this.inputEl.value,this.autoSuggestTerms=null!==this.autoSuggestTerms&&(0,c.default)(this.autoSuggestTerms)?this.autoSuggestTerms:null,this.minLength=null!==this.minLength?this.minLength:(0,b.number)(this.el,"data-min-length",2),this.maxSuggestions=null!==this.maxSuggestions?this.maxSuggestions:(0,b.number)(this.el,"data-max-suggestions",2),this.showAllTerms=null!==this.showAllTerms?this.showAllTerms:(0,b.boolean)(this.el,"data-show-all-terms",!1),this.showNoResultsFound=null!==this.showNoResultsFound?this.showNoResultsFound:(0,b.boolean)(this.el,"data-show-no-results-found",!1),this.noResultsFoundText=null!==this.noResultsFoundText?this.noResultsFoundText:"No results found",this.autoSuggestTerms&&(this.termsObject="object"===(0,l.default)(this.autoSuggestTerms[0])),null===this.autoSuggestTerms&&null===this.customGetSuggestions)throw new Error("No Auto Suggest terms or custom search function provided!",this.el)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s;this._onFocusBound=(0,o.default)(e=this._onFocus).call(e,this),this._onBlurBound=(0,C.default)((0,o.default)(t=this._onBlur).call(t,this),100),this._onInputBound=(0,o.default)(n=this._onInput).call(n,this),this._onClearClickBound=(0,o.default)(a=this._onClearClick).call(a,this),this._onWindowClickBound=(0,o.default)(r=this._onWindowClick).call(r,this),this._onKeyupBound=(0,o.default)(i=this._onKeyup).call(i,this),this._onKeydownBound=(0,o.default)(s=this._onKeydown).call(s,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("focus",this._onFocusBound),this.inputEl.addEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("input",this._onInputBound),this.clearButtonEl&&this.clearButtonEl.addEventListener("click",this._onClearClickBound),this._addWindowEventListeners()}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("input",this._onInputBound),this.clearButtonEl&&this.clearButtonEl.removeEventListener("click",this._onClearClickBound),this._removeWindowEventListeners()}},{key:"_addWindowEventListeners",value:function(){this._removeWindowEventListeners(),window.addEventListener("click",this._onWindowClickBound),window.addEventListener("keyup",this._onKeyupBound),window.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("click",this._onWindowClickBound),window.removeEventListener("keyup",this._onKeyupBound),window.removeEventListener("keydown",this._onKeydownBound)}},{key:"_onFocus",value:function(){if(this.show(),(0,v.default)(this.inputEl,"focus",!0),!this.showAllTerms||this.listBoxElOpen||this.inputEl.value||null!==this.customGetSuggestions){if(this.inputEl.value&&!this.listBoxElOpen){var e=this.inputEl.value;e.length>0&&(0,v.default)(this.clearButtonEl,"visible",!0),e.length>=this.minLength&&this._updateSuggestionsDisplay()}}else this._displayAllSuggestions()}},{key:"_onBlur",value:function(){if(this.clickedWithinAutoSuggest)return this.clickedWithinAutoSuggest=!1,void this.inputEl.focus();var e=document.activeElement;(0,E.default)(e,this.el)||(this.inputEl.value||this.hide(),this._closeListbox(),(0,v.default)(this.inputEl,"focus",!1))}},{key:"_onInput",value:function(){this.listBoxEl.innerHTML="",(0,v.default)(this.listBoxEl,"visible",!1);var e=this.inputEl.value;document.activeElement!==this.inputEl&&e.length>0?(0,v.default)(this.clearButtonEl,"visible",!0):(this.showingAllTerms=!(0!==e.length||!this.showAllTerms),this.showingAllTerms&&this._displayAllSuggestions(),e.length>0?(0,v.default)(this.clearButtonEl,"visible",!0):(0,v.default)(this.clearButtonEl,"visible",!1),e.length>=this.minLength&&this._updateSuggestionsDisplay(),(this.onChange||N)(this.inputEl.value,this))}},{key:"_createSuggestionMarkup",value:function(e,t){return this.termsObject&&(e=this.autoSuggestTerms[t].icon&&""!==this.autoSuggestTerms[t].icon?this.autoSuggestTerms[t].icon+'<span class="spark-auto-suggest__list-item__value" data-term-index="'+t+'">'+e+"</span>":'<span class="spark-auto-suggest__list-item__value" data-term-index="'+t+'">'+e+"</span>",this.autoSuggestTerms[t].description&&""!==this.autoSuggestTerms[t].description&&(e+='<span class="spark-auto-suggest__list-item__description">'+this.autoSuggestTerms[t].description+"</span>")),e}},{key:"_createSuggestionsListItemMarkup",value:function(e,t){var n=document.createElement("li");return n.setAttribute("role","option"),n.setAttribute("id","spark-auto-suggest__list-item--"+t),n.setAttribute("class","spark-auto-suggest__list-item"),n.setAttribute("tabindex","-1"),this.termsObject&&n.setAttribute("data-suggestion-object",!0),n.innerHTML=e,n}},{key:"_displayAllSuggestions",value:function(){if(!(this.autoSuggestTerms.length<1)){this.showingAllTerms=!0;for(var e=[],t=0;t<this.autoSuggestTerms.length;t++){var n=this.termsObject?this.autoSuggestTerms[t].value:this.autoSuggestTerms[t];n=this._createSuggestionMarkup(n,t),e.push(n)}if(e.length){for(var a=0;a<e.length;a++){var r=this._createSuggestionsListItemMarkup(e[a],a);this.listBoxEl.appendChild(r)}this._openListbox(),this.resultsCount=e.length}}}},{key:"_updateSuggestionsDisplay",value:function(){var e=[];if(this.customGetSuggestions){var t;(0,o.default)(t=this.customGetSuggestions).call(t,this)()}else{for(var n=0;n<this.autoSuggestTerms.length;n++){var a,r=this.termsObject?this.autoSuggestTerms[n].value:this.autoSuggestTerms[n];if(-1!==(0,s.default)(a=r.toLowerCase()).call(a,this.inputEl.value.toLowerCase())){var i=new RegExp(this.inputEl.value,"gi"),l=r.replace(i,(function(e){return"<mark>"+e+"</mark>"}));l=this._createSuggestionMarkup(l,n),e.push(l)}if(e.length===this.maxSuggestions)break}if(e.length){this.listBoxEl.innerHTML="";for(var c=0;c<e.length;c++){var u=this._createSuggestionsListItemMarkup(e[c],c);this.listBoxEl.appendChild(u)}this._openListbox(),this.resultsCount=e.length}else if(this.resultsCount=0,this.showNoResultsFound){var d=document.createElement("li");d.setAttribute("role","presentation"),d.setAttribute("class","spark-auto-suggest__list-item spark-auto-suggest__list-item--no-results"),d.innerHTML=this.noResultsFoundText,this.listBoxEl.appendChild(d),this._openListbox()}}}},{key:"_onClearClick",value:function(e){e.preventDefault(),this.inputEl.value="",this.oldVal=null,this.inputEl.focus(),this._closeListbox(),this.clickedWithinAutoSuggest=!1,(0,v.default)(this.clearButtonEl,"visible",!1),!this.showAllTerms||this.listBoxElOpen||this.inputEl.value||null!==this.customGetSuggestions||this._displayAllSuggestions(),(this.onChange||N)(this.inputEl.value,this)}},{key:"_updateClass",value:function(){(0,v.default)(this.el,"active",this.isActive)}},{key:"_onWindowClick",value:function(e){var t;if(e.target!==this.el&&!(0,E.default)(e.target,this.el)&&e.target!==this.listBoxEl&&!(0,E.default)(e.target,this.listBoxEl))return this._closeListbox(),void(0,v.default)(this.inputEl,"focus",!1);if(e.target!==this.inputEl&&e.target!==this.labelEl&&e.target!==this.clearButtonEl)if("option"===e.target.getAttribute("role")||(0,E.default)(e.target,this.listBoxEl)){var n;if("li"!==e.target.tagName)n=(0,k.default)(e.target,"li",this.listBoxEl).getAttribute("id");else n=e.target.getAttribute("id");this._setActiveSuggestion(n),this.inputEl.focus(),(0,i.default)((0,o.default)(t=function(){this._closeListbox()}).call(t,this),0),(this.onSelection||N)(this.inputEl.value,this)}else this.clickedWithinAutoSuggest=!0}},{key:"_setActiveSuggestion",value:function(e){var t=document.getElementById(e);if(t)if(this.termsObject){var n=t.querySelector(".spark-auto-suggest__list-item__value");this.inputEl.value=n.innerText,this.selectedTermsObjectIndex=n.getAttribute("data-term-index")}else this.inputEl.value=t.innerText}},{key:"_onKeyup",value:function(e){27===e.keyCode&&document.activeElement===this.inputEl&&(this._closeListbox(),this.inputEl.value=""),38!==e.keyCode&&40!==e.keyCode&&(this.oldVal=this.inputEl.value)}},{key:"_onKeydown",value:function(e){if(9===e.keyCode&&document.activeElement===this.clearButtonEl&&(this._closeListbox(),(0,v.default)(this.inputEl,"focus",!1)),!(this.resultsCount<1))if(13===e.keyCode||38===e.keyCode||40===e.keyCode||document.activeElement===this.inputEl)if(13!==e.keyCode){var t=this.getAutoSuggestItem(this.activeSuggestionIndex);if(38===e.keyCode?(e.preventDefault(),document.activeElement===this.inputEl?this.activeSuggestionIndex=this.resultsCount-1:this.activeSuggestionIndex<=0?(this.activeSuggestionIndex=-1,this.inputEl.value=this.oldVal,this.inputEl.setAttribute("aria-activedescendant",""),this.inputEl.focus()):this.activeSuggestionIndex--):40===e.keyCode&&(e.preventDefault(),document.activeElement===this.inputEl?this.activeSuggestionIndex=0:this.activeSuggestionIndex>=this.resultsCount-1?(this.inputEl.value=this.oldVal,this.inputEl.setAttribute("aria-activedescendant",""),this.inputEl.focus()):this.activeSuggestionIndex++),38===e.keyCode||40===e.keyCode){var n;if(this.activeSuggestionIndex>=0&&(n=this.getAutoSuggestItem(this.activeSuggestionIndex)),t){var a=t.querySelector(".spark-link");a&&a.blur(),t.setAttribute("aria-selected","false"),(0,v.default)(t,"focus",!1)}if(n){if((0,y.default)(n,"spark-auto-suggest__list-item--action")){var r=n.querySelector(".spark-link");return r&&r.focus(),this.inputEl.value=this.oldVal,void this.inputEl.setAttribute("aria-activedescendant","")}this.inputEl.setAttribute("aria-activedescendant","spark-auto-suggest__list-item--"+this.activeSuggestionIndex),(0,v.default)(n,"focus",!0),n.setAttribute("aria-selected","true"),n.focus();var s="spark-auto-suggest__list-item--"+this.activeSuggestionIndex;this._setActiveSuggestion(s)}}}else{var l;e.preventDefault(),document.activeElement!==this.inputEl&&(this.inputEl.focus(),(0,i.default)((0,o.default)(l=function(){this._closeListbox()}).call(l,this),0),(this.onSelection||this.onEnterKey||N)(this.inputEl.value,this))}else this.inputEl.focus()}},{key:"_openListbox",value:function(){(0,v.default)(this.listBoxEl,"visible",!0),!0===this.showingAllTerms?(0,v.default)(this.listBoxEl,"show-all-terms",!0):(0,v.default)(this.listBoxEl,"show-all-terms",!1),this.listBoxElOpen=!0,this.el.setAttribute("aria-expanded","true")}},{key:"_closeListbox",value:function(){this.listBoxElOpen&&((0,v.default)(this.listBoxEl,"visible",!1),(0,v.default)(this.listBoxEl,"show-all-terms",!1),this.listBoxElOpen=!1,this.listBoxEl.innerHTML="",this.el.setAttribute("aria-expanded","false"),this.inputEl.setAttribute("aria-activedescendant",""),this.showingAllTerms=!1,this.activeSuggestionIndex=-1,this.resultsCount=0)}},{key:"getAutoSuggestItem",value:function(e){return document.getElementById("spark-auto-suggest__list-item--"+e)}},{key:"show",value:function(){return this.isActive=!0,this._updateClass(),this}},{key:"hide",value:function(){return this.isActive=!1,this._updateClass(),this}},{key:"setValue",value:function(e){return this.inputEl.value=e,e?(this.show(),(0,v.default)(this.clearButtonEl,"visible",!0)):this.hide(),this}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"clearValue",value:function(){return this.inputEl.value="",this}},{key:"disable",value:function(){return this._closeListbox(),this.inputEl.blur(),this.inputEl.setAttribute("disabled",!0),this.clearButtonEl&&this.clearButtonEl.setAttribute("disabled",!0),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this.clearButtonEl&&this.clearButtonEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return(0,p.default)((0,m.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return(0,p.default)((0,m.default)(a.prototype),"update",this).call(this,e)}}]),a}(g.default);w.prototype._whitelistedParams=["onChange","onEnterKey","onSelection","autoSuggestTerms","showAllTerms","showNoResultsFound","minLength","maxSuggestions","noResultsFoundText","customGetSuggestions"],w.prototype.defaults={el:null,inputEl:null,labelEl:null,clearButtonEl:null,listBoxEl:null,isActive:!1,clickedWithinAutoSuggest:!1,oldVal:null,showingAllTerms:!1,resultsCount:0,activeSuggestionIndex:-1,termsObject:null,selectedTermsObjectIndex:null,listBoxElOpen:!1,minLength:null,maxSuggestions:7,autoSuggestTerms:null,showNoResultsFound:null,showAllTerms:null,noResultsFoundText:null,customGetSuggestions:null,onChange:null,onEnterKey:null,onSelection:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onClearClickBound:null,_onKeyupBound:null,_onKeydownBound:null,_onWindowClickBound:null},(0,_.default)(w.prototype,O.default);var A=w;t.default=A,e.exports=t.default},function(e,t,n){var a=n(1506);e.exports=a},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1258)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1267)),m=a(n(1247)),g=a(n(1248)),v=a(n(1274)),y=a(n(1251)),b=n(1283),C=a(n(1512)),E=a(n(1513));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(k()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),t=n.call(this,e,r),e?((0,y.default)(t.el,"spark-kpi--tabs")&&(t._hasTabs=!0),t._bindEventListenerCallbacks(),t._addEventListeners(),t._calcBreakpoint(),t._updateOrientation(),t._initFixedPanel(e,r),t._initPanelCarousel(e,r),t):(0,d.default)(t)}return(0,l.default)(a,[{key:"_initFixedPanel",value:function(){!0===this.lockPanel&&((0,m.default)(this.el,"spark-panel--fixed"),(0,m.default)(this.el,"spark-panel--shadow-0"),(0,m.default)(this.el,"spark-panel--border-0"),this.fixedPanel=new C.default(this.el,{condenseOnScroll:this.condenseOnScroll,unlockBreakPoint:this.stackBreakPoint,fixToBottom:this.fixToBottom,customCondenseClass:this.customCondenseClass,scrolledToEl:this.scrolledToEl,hideOnScroll:this.hideOnScroll||!1,headerEl:this.headerEl}))}},{key:"_initPanelCarousel",value:function(){if((0,y.default)(this.el,".spark-panel-carousel")||(0,m.default)(this.el,"spark-panel-carousel"),(0,y.default)(this.el.querySelector(".spark-kpi__list"),"spark-panel-carousel__list")||(0,m.default)(this.el.querySelector(".spark-kpi__list"),"spark-panel-carousel__list"),!(0,y.default)(this.el.querySelector(".spark-kpi__item"),"spark-panel-carousel__item"))for(var e=this.el.querySelectorAll(".spark-kpi__item"),t=0;t<e.length;t++)(0,m.default)(e[t],"spark-panel-carousel__item");this.panelCarousel=new E.default(this.el,{noCarouselBreakPoint:this.stackBreakPoint,singleCarouselAdvance:this.singleCarouselAdvance,controlBreakPoint:this.controlBreakPoint,nextLabel:this.nextLabel,previousLabel:this.previousLabel,hasTabs:this._hasTabs})}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound),!0===this._hasTabs&&this._kpiList.addEventListener("click",this._onTabListClickBound)}},{key:"remove",value:function(){this.panelCarousel.remove(),!0===this.lockPanel&&this.lockPanel.remove(),(0,c.default)((0,p.default)(a.prototype),"remove",this).call(this)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),!0===this._hasTabs&&this._kpiList.removeEventListener("click",this._onTabListClickBound)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onResizeBound=(0,v.default)((0,s.default)(e=this._onResize).call(e,this),90),this._onTabListClickBound=(0,s.default)(t=this._onTabListClick).call(t,this)}},{key:"_cacheElements",value:function(e){this.el=e,this._currentTab=this.el.querySelector('[aria-selected="true"]'),this._kpiList=this.el.querySelector(".spark-kpi__list"),this._kpiItems=this.el.querySelectorAll(".spark-kpi__item")}},{key:"_onResize",value:function(){this._calcBreakpoint(),this._updateOrientation()}},{key:"_calcBreakpoint",value:function(){this.currentBreakpoint=(0,b.get)(window.innerWidth);var e=["xs","sm","md","lg","xl"],t=(0,i.default)(e).call(e,this.currentBreakpoint),n=(0,i.default)(e).call(e,this.stackBreakPoint);this._useStackedKPI=t<=n&&-1!==n}},{key:"_updateOrientation",value:function(){!0===this._useStackedKPI?(0,y.default)(this.el,"spark-kpi--column")||((0,m.default)(this.el,"spark-kpi--column"),this.el.removeAttribute("data-overflow")):(0,g.default)(this.el,"spark-kpi--column")}},{key:"_onTabListClick",value:function(e){e.preventDefault();var t=e.target;"A"!==t.nodeName&&(t=(0,f.default)(t,"a",this.el)),!1!==t&&(null!==this._currentTab&&this._currentTab.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true"),this._currentTab=t,"function"==typeof this.onTabClick&&this.onTabClick(t.getAttribute("aria-controls"),t,this))}}]),a}(h.default);O.prototype._whitelistedParams=["singleCarouselAdvance","lockPanel","condenseOnScroll","customCondenseClass","unlockBreakPoint","stackBreakPoint","controlBreakPoint","fixToBottom","hideOnScroll","onTabClick","scrolledToEl","headerEl"],O.prototype.defaults={el:null,singleCarouselAdvance:!1,lockPanel:!1,condenseOnScroll:!0,customCondenseClass:"spark-kpi--condensed",unlockBreakPoint:null,stackBreakPoint:"xs",controlBreakPoint:"xs",fixToBottom:null,hideOnScroll:!1,onTabClick:null,nextLabel:"show next",previousLabel:"show previous",scrolledToEl:null,headerEl:null,_useControls:!0,_useStackedKPI:!1,_currentTab:null,_kpiItemsWidth:0,_kpiWidth:0,_kpiChange:0,_positionX:0,_forwardLimit:!1,_backwardLimit:!0,_overflow:!1,_hasTabs:!1,fixedPanel:null};var _=O;t.default=_,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260)),i=a(n(1263)),s=["marginLeft","marginRight","borderLeft","borderRight"];var o=function(e,t){t=t||window.getComputedStyle(e);var n=e.clientWidth;return(0,i.default)(s,(function(e){n+=(0,r.default)(t[e]||0,10)})),n};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1401)),i=a(n(1402)),s=a(n(1403)),o=a(n(1847)),l=a(n(1852)),c={CardNumber:r.default,CardExpiration:i.default,CardSecurityCode:s.default,UnifiedCreditCard:o.default,CardSet:l.default};t.default=c,e.exports=t.default},function(e,t,n){var a=n(1840);e.exports=a},function(e,t,n){var a=n(1841),r=Array.prototype;e.exports=function(e){var t=e.some;return e===r||e instanceof Array&&t===r.some?a:t}},function(e,t,n){n(1842);var a=n(1262);e.exports=a("Array").some},function(e,t,n){"use strict";var a=n(1246),r=n(1306).some;a({target:"Array",proto:!0,forced:n(1321)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n=""+e;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t===1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0===n.length||0===t)return"";if(n.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var a=n.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)n+=n,t--;return n+=n.substring(0,a-n.length)};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1311)),s=a(n(1514)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1401)),m=a(n(1402)),g=a(n(1403)),v=a(n(1242)),y=a(n(1261)),b=a(n(1247)),C=a(n(1248)),E=a(n(1266)),k=a(n(1273)),O=a(n(1275));function _(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var P=document.createEvent("Event"),S=document.createEvent("Event");P.initEvent("valid",!0,!0),S.initEvent("invalid",!0,!0);var N=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(_()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,c.default)(a,[{key:"_cacheElements",value:function(e,t){var n,a,r,i,s,l,c=this;this.el=e,this.number=new f.default(this.el.querySelector(".spark-payment--card-number"),{unified:this,cardTypes:t.cardTypes,onInput:function(){c.number.inputEl.hasAttribute("data-novalidate")&&c.number.inputEl.removeAttribute("data-novalidate"),c._onInput()},onBlur:(0,o.default)(n=this._onBlur).call(n,this),onFocus:function(){c.number.value&&!c.number.inputEl.hasAttribute("data-novalidate")&&c.number.inputEl.attributes.setNamedItem(document.createAttribute("data-novalidate")),c._onFocus()},onCardType:(0,o.default)(a=this._onCardType).call(a,this),onInvalid:function(){S.input=c.number,c.el.dispatchEvent(S)},onValid:function(){c.expiration.focus()}}),this.expiration=new m.default(this.el.querySelector(".spark-payment--expiration"),{unified:this,onInput:function(){c.expiration.inputEl.hasAttribute("data-novalidate")&&c.expiration.inputEl.removeAttribute("data-novalidate"),c._onInput()},onBlur:(0,o.default)(r=this._onBlur).call(r,this),onFocus:function(){c.expiration.value&&!c.expiration.inputEl.hasAttribute("data-novalidate")&&c.expiration.inputEl.attributes.setNamedItem(document.createAttribute("data-novalidate")),c._onFocus()},onInvalid:function(){S.input=c.expiration,c.el.dispatchEvent(S)},onValid:function(){c.securityCode.focus()}}),this.securityCode=new g.default(this.el.querySelector(".spark-payment--card-security-code"),{unified:this,onInput:(0,o.default)(i=this._onInput).call(i,this),onBlur:(0,o.default)(s=this._onBlur).call(s,this),onFocus:(0,o.default)(l=this._onFocus).call(l,this),info:t.info,onInvalid:function(){S.input=c.securityCode,c.el.dispatchEvent(S)}}),this.components=[this.number,this.expiration,this.securityCode],this.messageEl=this.el.querySelector(".spark-input__message")||(0,E.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onInvalidBound=(0,o.default)(e=this._onInvalid).call(e,this),this._onValidBound=(0,o.default)(t=this._onValid).call(t,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("invalid",this._onInvalidBound,!1),this.el.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){var e;this.el.removeEventListener("invalid",this._onInvalidBound,!1),this.el.removeEventListener("valid",this._onValidBound,!1),(0,s.default)(e=this.components).call(e,(function(e){return e._removeEventListeners()}))}},{key:"_onCardType",value:function(){var e=this.number._cardTypes[this.number.type];this.securityCode.maxLength=e.cvv,this.onCardType.call(this)}},{key:"_onInput",value:function(){this.valid&&this.el.dispatchEvent(P),this.onInput.call(this)}},{key:"_onBlur",value:function(){this.hide(),this.onBlur.call(this)}},{key:"_onFocus",value:function(){this.show(),this.onFocus.call(this)}},{key:"_onInvalid",value:function(e){this.onInvalid.call(this,e)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"validate",value:function(){return this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,b.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,C.default)(this.el,"active"),this}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.value=e,this}},{key:"clearValue",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.value=""})),this}},{key:"disable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.disable()})),this}},{key:"enable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.enable()})),this}},{key:"remove",value:function(e){var t;return(0,s.default)(t=this.components).call(t,(function(t){return t.remove(e)})),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),(0,s.default)(t=this.components).call(t,(function(e){return e.remove(!0)})),this._cacheElements.call(this,e||this.el,n),this._addEventListeners(),this}},{key:"valid",get:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.valid}))}},{key:"value",get:function(){return{number:this.number.value,expiration:this.expiration.value,securityCode:this.securityCode.value}},set:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.number.value=t.number||this.number.value,this.expiration.value=t.expiration||this.expiration.value,this.securityCode.value=t.securityCode||this.securityCode.value,(0,i.default)(e=this.components).call(e,(function(e){return!!e.value}))?this.show():this.hide()}}]),a}(v.default);N.prototype.defaults={el:null,number:{},expiration:{},securityCode:{},onCardType:function(){},onInput:function(){},onBlur:function(){},onFocus:function(){},onValid:function(){},onInvalid:function(){},onValidate:function(){},validate:function(){}},N.prototype._whitelistedParams=["onCardType","onInput","onBlur","onFocus","onValid","onInvalid","onValidate","validate"],(0,y.default)(N.prototype,k.default,O.default);var w=N;t.default=w,e.exports=t.default},function(e,t,n){var a=n(1849);e.exports=a},function(e,t,n){var a=n(1850),r=Array.prototype;e.exports=function(e){var t=e.every;return e===r||e instanceof Array&&t===r.every?a:t}},function(e,t,n){n(1851);var a=n(1262);e.exports=a("Array").every},function(e,t,n){"use strict";var a=n(1246),r=n(1306).every;a({target:"Array",proto:!0,forced:n(1321)("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1311)),s=a(n(1514)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1401)),m=a(n(1402)),g=a(n(1403)),v=a(n(1242));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=document.createEvent("Event"),C=document.createEvent("Event");b.initEvent("valid",!0,!0),C.initEvent("invalid",!0,!0);var E=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(y()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,c.default)(a,[{key:"_cacheElements",value:function(e,t){var n,a,r,i,s,l,c,u,d,p,h=this;if(this.el=e,!this.el)throw new Error("CardSet markup missing");this.number=new f.default(this.el.querySelector(".spark-payment--card-number"),{onInput:(0,o.default)(n=this._onInput).call(n,this),onBlur:(0,o.default)(a=this._onBlur).call(a,this),onFocus:(0,o.default)(r=this._onFocus).call(r,this),onCardType:(0,o.default)(i=this._onCardType).call(i,this),cardTypes:t.cardTypes,onInvalid:function(){C.input=h.number,h.el.dispatchEvent(C)}}),this.expiration=new m.default(this.el.querySelector(".spark-payment--expiration"),{onInput:(0,o.default)(s=this._onInput).call(s,this),onBlur:(0,o.default)(l=this._onBlur).call(l,this),onFocus:(0,o.default)(c=this._onFocus).call(c,this),onInvalid:function(){C.input=h.expiration,h.el.dispatchEvent(C)}}),this.securityCode=new g.default(this.el.querySelector(".spark-payment--card-security-code"),{onInput:(0,o.default)(u=this._onInput).call(u,this),onBlur:(0,o.default)(d=this._onBlur).call(d,this),onFocus:(0,o.default)(p=this._onFocus).call(p,this),info:t.info,infoToggleAriaLabel:t.infoToggleAriaLabel,onInvalid:function(){C.input=h.securityCode,h.el.dispatchEvent(C)}}),this.components=[this.number,this.expiration,this.securityCode]}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onInvalidBound=(0,o.default)(e=this._onInvalid).call(e,this),this._onValidBound=(0,o.default)(t=this._onValid).call(t,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("invalid",this._onInvalidBound,!1),this.el.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){var e;this.el.removeEventListener("invalid",this._onInvalidBound,!1),this.el.removeEventListener("valid",this._onValidBound,!1),(0,s.default)(e=this.components).call(e,(function(e){return e._removeEventListeners()}))}},{key:"_onCardType",value:function(){var e=this.number._cardTypes[this.number.type];this.securityCode.maxLength=e.cvv,this.onCardType.call(this)}},{key:"_onInput",value:function(){this.valid&&this.el.dispatchEvent(b),this.onInput.call(this)}},{key:"_onBlur",value:function(){this.onBlur.call(this)}},{key:"_onFocus",value:function(){this.onFocus.call(this)}},{key:"_onInvalid",value:function(e){this.onInvalid.call(this,e)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"validate",value:function(){return this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.show()})),this}},{key:"hide",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.hide()})),this}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.value=e,this}},{key:"clearValue",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.value=""})),this}},{key:"disable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.disable()})),this}},{key:"enable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.enable()})),this}},{key:"remove",value:function(e){var t;return(0,s.default)(t=this.components).call(t,(function(t){return t.remove(e)})),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),(0,s.default)(t=this.components).call(t,(function(e){return e.remove(!0)})),this._cacheElements.call(this,e||this.el,n),this._addEventListeners(),this}},{key:"value",get:function(){return{number:this.number.value,expiration:this.expiration.value,securityCode:this.securityCode.value}},set:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.number.value=n.number||this.number.value,this.expiration.value=n.expiration||this.expiration.value,this.securityCode.value=n.securityCode||this.securityCode.value,(0,i.default)(e=this.components).call(e,(function(e){return e.value}))&&this.valid?this.el.dispatchEvent(b):(0,i.default)(t=this.components).call(t,(function(e){return e.value}))&&this.el.dispatchEvent(C)}},{key:"valid",get:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.valid}))}}]),a}(v.default);E.prototype.defaults={el:null,number:{},expiration:{},securityCode:{},onCardType:function(){},onInput:function(){},onBlur:function(){},onFocus:function(){},onValid:function(){},onInvalid:function(){},onValidate:function(){},validate:function(){}},E.prototype._whitelistedParams=["onCardType","onInput","onBlur","onFocus","onValid","onInvalid","onValidate","validate"];var k=E;t.default=k,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1311)),s=a(n(1310)),o=a(n(1515)),l=a(n(1326)),c=a(n(1309)),u=a(n(1240)),d=a(n(1238)),p=a(n(1239)),h=a(n(1258)),f=a(n(1244)),m=a(n(1245)),g=a(n(1241)),v=a(n(1404)),y=a(n(1405)),b=a(n(1242)),C=a(n(1247)),E=a(n(1251)),k=a(n(1248)),O=a(n(1267)),_=a(n(1300));function P(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=document.createEvent("Event"),N=document.createEvent("Event");S.initEvent("open",!0,!0),N.initEvent("close",!0,!0);var w=function(e){var t=this,n=this;return new y.default((function(a){var r=t.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"]'),i=t.el.querySelector("#"+e),s=Math.round(i.scrollHeight);r.setAttribute("aria-expanded",!0),i.style.visibility="visible",i.style.height=s+"px",i.addEventListener("transitionend",(function t(){var r;i.removeEventListener("transitionend",t),i.style.height=(0,v.default)(r=n.expanded).call(r,e)?"auto":"0px",S.drawer=e,n.el.dispatchEvent(S),a()}))}))},A=function(e){var t=this,n=this;return new y.default((function(a){var r=t.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"]'),i=t.el.querySelector("#"+e),s=i.scrollHeight,o=i.style.transition;i.style.visibility="visible",i.style.transition="",i.addEventListener("transitionend",(function e(){i.removeEventListener("transitionend",e),r.setAttribute("aria-expanded",!1),i.style.visibility="hidden"})),requestAnimationFrame((function(){i.style.height=s+"px",i.style.transition=o,requestAnimationFrame((function(){i.style.height="0px"})),r.setAttribute("aria-expanded",!1),N.drawer=e,n.el.dispatchEvent(N),a()}))}))},T=function(e){(0,f.default)(a,e);var t,n=(t=a,function(){var e,n=(0,g.default)(t);if(P()){var a=(0,g.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,m.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,d.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t.radio&&(t.multiExpand=!1,t.collapsible=!1,(0,E.default)(t.el,"spark-accordion--radio")||(0,C.default)(t.el,"spark-accordion--radio")),t}return(0,p.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,(0,E.default)(this.el,"spark-accordion--radio")&&(this.radio=!0)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s;this._onClickBound=(0,u.default)(e=this._onClick).call(e,this),this._onKeyDownBound=(0,u.default)(t=this._onKeyDown).call(t,this),this._onChangeBound=(0,u.default)(n=this._onChange).call(n,this),this._onOpenBound=(0,u.default)(a=this._onOpen).call(a,this),this._onCloseBound=(0,u.default)(r=this._onClose).call(r,this),this._onFocusBound=(0,u.default)(i=this._onFocus).call(i,this),this._onBlurBound=(0,u.default)(s=this._onBlur).call(s,this)}},{key:"_addEventListeners",value:function(){this.el&&(this.el.addEventListener("click",this._onClickBound,!0),this.el.addEventListener("keydown",this._onKeyDownBound,!0),this.el.addEventListener("change",this._onChangeBound,!0),this.el.addEventListener("open",this._onOpenBound,!0),this.el.addEventListener("close",this._onCloseBound,!0),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0))}},{key:"_removeEventListeners",value:function(){this.el&&(this.el.removeEventListener("click",this._onClickBound,!0),this.el.removeEventListener("keydown",this._onKeyDownBound,!0),this.el.removeEventListener("change",this._onChangeBound,!0),this.el.removeEventListener("open",this._onOpenBound,!0),this.el.removeEventListener("close",this._onCloseBound,!0),this.el.removeEventListener("focus",this._onFocusBound,!0),this.el.removeEventListener("blur",this._onBlurBound,!0))}},{key:"_onKeyDown",value:function(e){var t,n;if(!this.radio||13===e.keyCode){var a=(0,E.default)(e.target,"spark-accordion__header")?e.target:(0,O.default)(e.target,".spark-accordion__header",this.el),r=a&&this._isActionable(a.getAttribute("aria-controls"))?a.getAttribute("aria-controls"):void 0;if(r)switch(e.keyCode){case 13:case 32:this.radio?this.select(r):this.toggle(r);break;case 40:(0,v.default)(t=this.collapsed).call(t,r)?this.open(r):e.preventDefault();break;case 38:(0,v.default)(n=this.expanded).call(n,r)?this.close(r):e.preventDefault()}}}},{key:"_onClick",value:function(e){var t=(0,E.default)(e.target,"spark-accordion__header")?e.target:(0,O.default)(e.target,".spark-accordion__header",this.el);if(t){var n=t.getAttribute("aria-controls"),a=this._isActionable(n);a&&this.radio?this.select(n):a&&this.toggle(n)}}},{key:"_onFocus",value:function(e){if((0,_.default)(e.target,"header"))(0,C.default)(e.target,"focus");else if((0,_.default)(e.target,".spark-radio__input")){var t=(0,O.default)(e.target,".spark-accordion__header",this.el);(0,C.default)(t,"focus")}}},{key:"_onBlur",value:function(e){if((0,_.default)(e.target,"header"))(0,k.default)(e.target,"focus");else if((0,_.default)(e.target,".spark-radio__input")){var t=(0,O.default)(e.target,".spark-accordion__header",this.el);(0,k.default)(t,"focus")}}},{key:"_onChange",value:function(e){if((0,_.default)(e.target,".spark-accordion__header > .spark-radio > .spark-radio__input")){var t,n=(0,O.default)(e.target,".spark-accordion__header",this.el),a=n&&(0,v.default)(t=this.drawers).call(t,n.getAttribute("aria-controls"))?n.getAttribute("aria-controls"):void 0;a&&this.select(a)}}},{key:"_onOpen",value:function(e){this.onOpen.call(this,e)}},{key:"_onClose",value:function(e){this.onClose.call(this,e)}},{key:"_isActionable",value:function(e){var t,n,a,r=(0,v.default)(t=this.expanded).call(t,e),i=(0,v.default)(n=this.collapsed).call(n,e);if(!(0,v.default)(a=this.drawers).call(a,e))return!1;if(this.radio){var s=this.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"] .spark-radio .spark-radio__input');return!(!s||s.checked||s.hasAttribute("disabled"))}if(this.collapsible){if(this.multiExpand)return!0;if(r&&this.collapsible)return!0;if(!this.collapsible&&r)return!1;if(i)return!0}else{if(r&&1===this.expanded.length)return!1;if(r&&this.expanded.length>1)return!0;if(i)return!0}}},{key:"open",value:function(e){var t=this;return new y.default((function(n,a){var r=t.drawers,i=t.expanded,s=t.collapsed,o=t._isActionable(e);(0,v.default)(r).call(r,e)?(0,v.default)(i).call(i,e)?n():(0,v.default)(s).call(s,e)&&!o?a(new Error("Drawer could not be opened")):(0,v.default)(s).call(s,e)&&o&&t.radio?t.select(e).then(n):(0,v.default)(s).call(s,e)&&o&&t.multiExpand?w.call(t,e).then(n):(0,v.default)(s).call(s,e)&&o&&!t.multiExpand?i.length>0?A.call(t,i[0]).then((function(){w.call(t,e).then(n)})):w.call(t,e).then(n):n():a(new Error("Drawer either does not exist, or configured incorrectly"))}))}},{key:"close",value:function(e){var t=this;return new y.default((function(n,a){var r=t.drawers,i=t.expanded,s=t.collapsed,o=t._isActionable(e);(0,v.default)(r).call(r,e)?(0,v.default)(s).call(s,e)?n():(0,v.default)(i).call(i,e)&&!o?a(new Error("Drawer could not be closed")):o?A.call(t,e).then(n):n():a(new Error("Drawer either does not exist, or configured incorrectly"))}))}},{key:"toggle",value:function(e){var t=this;return new y.default((function(n,a){var r,i,s,o,l,c=t._isActionable(e);(0,v.default)(r=t.drawers).call(r,e)?t.radio&&c?t.clearValue().then((function(){return t.select(e)})).then(n).catch((function(){a(new Error("Radio Drawer could not be opened"))})):(0,v.default)(i=t.expanded).call(i,e)&&c?t.close(e).then(n):(0,v.default)(s=t.expanded).call(s,e)&&!c?a(new Error("Drawer could not be closed")):(0,v.default)(o=t.collapsed).call(o,e)&&c?t.multiExpand?t.open(e).then(n):t.hide().then((function(){t.open(e).then(n)})):(0,v.default)(l=t.collapsed).call(l,e)&&!c&&a(new Error("Drawer could not be opened")):a(new Error("Drawer either does not exist, or configured incorrectly"))}))}},{key:"select",value:function(e){var t=this;return new y.default((function(n,a){var r;if(t.radio&&e===t.expanded[0])n();else if(t.radio&&(0,v.default)(r=t.drawers).call(r,e)){var i=t.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"] .spark-radio__input:enabled');i?t.clearValue().then((function(){i.checked=!0,w.call(t,e).then(n)})):a(new Error('Cannot select radio button "'+e+'"'))}else a(new Error("Not a radio accordion"))}))}},{key:"clearValue",value:function(){var e=this;return new y.default((function(t){if(e.radio&&e.expanded.length){var n=e.expanded[0];e.el.querySelector('.spark-accordion__header[aria-controls="'+n+'"] .spark-radio__input').checked=!1,A.call(e,n).then(t)}else e.radio?t():console.info("clearValue() only effects radio accordions, but was run anyway")}))}},{key:"show",value:function(){var e=this;return new y.default((function(t,n){if(e.radio){var a=e.el.querySelectorAll(".spark-accordion__header .spark-radio__input");a.length>=1?((0,c.default)(a).call(a,(function(e){return e.removeAttribute("disabled")})),t()):n(new Error("Accordion is either misconfigured, or there are no drawers to enable"))}else if(e.multiExpand){var r=e.collapsed;switch(r.length){case 0:t();break;case 1:w.call(e,r[0]).then(t);break;default:var i=[];do{i.push(w.call(e,r.shift()))}while(r.length);y.default.all(i).then(t).catch(n)}}else{var s=e.expanded;s.length&&s[0]!==e.drawers[0]?(A.call(e,s[0]),w.call(e,e.drawers[0]).then(t)):s.length?t():n(new Error("Accordion is either misconfigured, or there are no drawers to open"))}}))}},{key:"hide",value:function(){var e=this;return new y.default((function(t,n){if(e.radio){var a=e.el.querySelectorAll(".spark-accordion__header .spark-radio__input");a.length>=1?((0,c.default)(a).call(a,(function(e){var t=document.createAttribute("disabled");e.attributes.setNamedItem(t)})),t()):n(new Error("Accordion is either misconfigured, or there are no drawers to disable"))}else{var r=e.expanded;switch(r.length){case 0:t();break;case 1:A.call(e,r[0]).then(t);break;default:var i=[];do{i.push(A.call(e,r.shift()))}while(r.length);y.default.all(i).then(t).catch(n)}}}))}},{key:"remove",value:function(e){return(0,h.default)((0,g.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e,t){return(0,h.default)((0,g.default)(a.prototype),"update",this).call(this,e,t)}},{key:"drawers",get:function(){var e,t=this.el.querySelectorAll(".spark-accordion__header"),n=this.el.querySelectorAll(".spark-accordion__content"),a=t.length?(0,l.default)(e=(0,o.default)(t)).call(e,(function(e){return e.getAttribute("aria-controls")})):[];return(0,s.default)(a).call(a,(function(e){var t;return(0,i.default)(t=(0,o.default)(n)).call(t,(function(t){return t.id===e}))}))}},{key:"expanded",get:function(){var e,t=this.el.querySelectorAll('.spark-accordion__header[aria-expanded="true"]');return t.length?(0,l.default)(e=(0,o.default)(t)).call(e,(function(e){return e.getAttribute("aria-controls")})):[]},set:function(e){var t=this;if(this.radio)e.length>=1&&this.select(e.pop());else{var n,a=(0,s.default)(n=this.expanded).call(n,(function(t){return!(0,v.default)(e).call(e,t)}));(0,c.default)(a).call(a,(function(e){return t.close(e).catch((function(){}))})),(0,c.default)(e).call(e,(function(e){return t.open(e).catch((function(){}))}))}}},{key:"collapsed",get:function(){var e,t=this.el.querySelectorAll('.spark-accordion__header[aria-expanded="false"]');return t.length?(0,l.default)(e=(0,o.default)(t)).call(e,(function(e){return e.getAttribute("aria-controls")})):[]},set:function(e){var t=this;if(this.radio)throw new Error("Cannot be used to control radio accordions");var n,a=(0,s.default)(n=this.collapsed).call(n,(function(t){return!(0,v.default)(e).call(e,t)}));(0,c.default)(a).call(a,(function(e){return t.open(e).catch((function(){}))})),(0,c.default)(e).call(e,(function(e){return t.close(e).catch((function(){}))}))}},{key:"selected",get:function(){if(this.radio){var e=this.el.querySelector(".spark-accordion__header .spark-radio > .spark-radio__input:checked");return e?e.value:void 0}},set:function(e){if(this.radio)if(e){var t,n=this.el.querySelector('.spark-accordion__header .spark-radio > .spark-radio__input[value="'+e+'"]'),a=(0,O.default)(n,".spark-accordion__header",this.el).getAttribute("aria-controls");(0,v.default)(t=this.drawers).call(t,a)&&this.select(a)}else this.clearValue()}}]),a}(b.default);T.prototype._whitelistedParams=["radio","multiExpand","collapsible","onOpen","onClose"],T.prototype.defaults={el:null,radio:!1,multiExpand:!0,collapsible:!0,onOpen:function(){},onClose:function(){}};var I=T;t.default=I,e.exports=t.default},function(e,t,n){var a=n(1507);e.exports=a},function(e,t,n){var a=n(1856);e.exports=a},function(e,t,n){var a=n(1857),r=n(1859),i=Array.prototype,s=String.prototype;e.exports=function(e){var t=e.includes;return e===i||e instanceof Array&&t===i.includes?a:"string"==typeof e||e===s||e instanceof String&&t===s.includes?r:t}},function(e,t,n){n(1858);var a=n(1262);e.exports=a("Array").includes},function(e,t,n){"use strict";var a=n(1246),r=n(1380).includes,i=n(1387);a({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){n(1860);var a=n(1262);e.exports=a("String").includes},function(e,t,n){"use strict";var a=n(1246),r=n(1861),i=n(1313);a({target:"String",proto:!0,forced:!n(1863)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1862);e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var a=n(1259),r=n(1291),i=n(1253)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t,n){var a=n(1253)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var a=n(1865);e.exports=a},function(e,t,n){n(1451),n(1342),n(1322),n(1866),n(1872),n(1873);var a=n(1252);e.exports=a.Promise},function(e,t,n){"use strict";var a,r,i,s,o=n(1246),l=n(1302),c=n(1255),u=n(1287),d=n(1516),p=n(1318),h=n(1867),f=n(1299),m=n(1868),g=n(1259),v=n(1285),y=n(1869),b=n(1291),C=n(1449),E=n(1517),k=n(1511),O=n(1518),_=n(1519).set,P=n(1870),S=n(1521),N=n(1871),w=n(1406),A=n(1522),T=n(1337),I=n(1443),D=n(1253),x=n(1382),j=D("species"),L="Promise",F=T.get,B=T.set,R=T.getterFor(L),M=d,V=c.TypeError,U=c.document,q=c.process,H=u("fetch"),W=w.f,G=W,K="process"==b(q),z=!!(U&&U.createEvent&&c.dispatchEvent),Y=I(L,(function(){if(!(C(M)!==String(M))){if(66===x)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!M.prototype.finally)return!0;if(x>=51&&/native code/.test(M))return!1;var e=M.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[j]=t,!(e.then((function(){}))instanceof t)})),Q=Y||!k((function(e){M.all(e).catch((function(){}))})),X=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t,n){if(!t.notified){t.notified=!0;var a=t.reactions;P((function(){for(var r=t.value,i=1==t.state,s=0;a.length>s;){var o,l,c,u=a[s++],d=i?u.ok:u.fail,p=u.resolve,h=u.reject,f=u.domain;try{d?(i||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?o=r:(f&&f.enter(),o=d(r),f&&(f.exit(),c=!0)),o===u.promise?h(V("Promise-chain cycle")):(l=X(o))?l.call(o,p,h):p(o)):h(r)}catch(e){f&&!c&&f.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Z(e,t)}))}},$=function(e,t,n){var a,r;z?((a=U.createEvent("Event")).promise=t,a.reason=n,a.initEvent(e,!1,!0),c.dispatchEvent(a)):a={promise:t,reason:n},(r=c["on"+e])?r(a):"unhandledrejection"===e&&N("Unhandled promise rejection",n)},Z=function(e,t){_.call(c,(function(){var n,a=t.value;if(ee(t)&&(n=A((function(){K?q.emit("unhandledRejection",a,e):$("unhandledrejection",e,a)})),t.rejection=K||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){_.call(c,(function(){K?q.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},ne=function(e,t,n,a){return function(r){e(t,n,r,a)}},ae=function(e,t,n,a){t.done||(t.done=!0,a&&(t=a),t.value=n,t.state=2,J(e,t,!0))},re=function(e,t,n,a){if(!t.done){t.done=!0,a&&(t=a);try{if(e===n)throw V("Promise can't be resolved itself");var r=X(n);r?P((function(){var a={done:!1};try{r.call(n,ne(re,e,a,t),ne(ae,e,a,t))}catch(n){ae(e,a,n,t)}})):(t.value=n,t.state=1,J(e,t,!1))}catch(n){ae(e,{done:!1},n,t)}}};Y&&(M=function(e){y(this,M,L),v(e),a.call(this);var t=F(this);try{e(ne(re,this,t),ne(ae,this,t))}catch(e){ae(this,t,e)}},(a=function(e){B(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(M.prototype,{then:function(e,t){var n=R(this),a=W(O(this,M));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=K?q.domain:void 0,n.parent=!0,n.reactions.push(a),0!=n.state&&J(this,n,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new a,t=F(e);this.promise=e,this.resolve=ne(re,e,t),this.reject=ne(ae,e,t)},w.f=W=function(e){return e===M||e===i?new r(e):G(e)},l||"function"!=typeof d||(s=d.prototype.then,p(d.prototype,"then",(function(e,t){var n=this;return new M((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(M,H.apply(c,arguments))}}))),o({global:!0,wrap:!0,forced:Y},{Promise:M}),f(M,L,!1,!0),m(L),i=u(L),o({target:L,stat:!0,forced:Y},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),o({target:L,stat:!0,forced:l||Y},{resolve:function(e){return S(l&&this===i?M:this,e)}}),o({target:L,stat:!0,forced:Q},{all:function(e){var t=this,n=W(t),a=n.resolve,r=n.reject,i=A((function(){var n=v(t.resolve),i=[],s=0,o=1;E(e,(function(e){var l=s++,c=!1;i.push(void 0),o++,n.call(t,e).then((function(e){c||(c=!0,i[l]=e,--o||a(i))}),r)})),--o||a(i)}));return i.error&&r(i.value),n.promise},race:function(e){var t=this,n=W(t),a=n.reject,r=A((function(){var r=v(t.resolve);E(e,(function(e){r.call(t,e).then(n.resolve,a)}))}));return r.error&&a(r.value),n.promise}})},function(e,t,n){var a=n(1318);e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:a(e,r,t[r],n);return e}},function(e,t,n){"use strict";var a=n(1287),r=n(1279),i=n(1253),s=n(1269),o=i("species");e.exports=function(e){var t=a(e),n=r.f;s&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var a,r,i,s,o,l,c,u,d=n(1255),p=n(1312).f,h=n(1291),f=n(1519).set,m=n(1520),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,b="process"==h(v),C=p(d,"queueMicrotask"),E=C&&C.value;E||(a=function(){var e,t;for(b&&(e=v.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():i=void 0,e}}i=void 0,e&&e.enter()},b?s=function(){v.nextTick(a)}:g&&!m?(o=!0,l=document.createTextNode(""),new g(a).observe(l,{characterData:!0}),s=function(){l.data=o=!o}):y&&y.resolve?(c=y.resolve(void 0),u=c.then,s=function(){u.call(c,a)}):s=function(){f.call(d,a)}),e.exports=E||function(e){var t={fn:e,next:void 0};i&&(i.next=t),r||(r=t,s()),i=t}},function(e,t,n){var a=n(1255);e.exports=function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var a=n(1246),r=n(1285),i=n(1406),s=n(1522),o=n(1517);a({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=i.f(t),a=n.resolve,l=n.reject,c=s((function(){var n=r(t.resolve),i=[],s=0,l=1;o(e,(function(e){var r=s++,o=!1;i.push(void 0),l++,n.call(t,e).then((function(e){o||(o=!0,i[r]={status:"fulfilled",value:e},--l||a(i))}),(function(e){o||(o=!0,i[r]={status:"rejected",reason:e},--l||a(i))}))})),--l||a(i)}));return c.error&&l(c.value),n.promise}})},function(e,t,n){"use strict";var a=n(1246),r=n(1302),i=n(1516),s=n(1254),o=n(1287),l=n(1518),c=n(1521),u=n(1318);a({target:"Promise",proto:!0,real:!0,forced:!!i&&s((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof i||i.prototype.finally||u(i.prototype,"finally",o("Promise").prototype.finally)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1247)),h=a(n(1248));function f(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(f()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t}return(0,o.default)(a,[{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onAnimationCompleteBound=(0,i.default)(e=this._onAnimationComplete).call(e,this),this._resetBound=(0,i.default)(t=this._reset).call(t,this)}},{key:"_cacheElements",value:function(e){this.el=e}},{key:"getActive",value:function(){return this._active}},{key:"setActive",value:function(e){this._resetBound(),this._active=e,!0===this._active&&(0,p.default)(this.el,"spark-btn--active")}},{key:"_onAnimationComplete",value:function(e){this._resetBound(),this.onComplete(e)}},{key:"_reset",value:function(){this.el.querySelector(".spark-btn__label").removeEventListener("transitionend",this._onAnimationCompleteBound),(0,h.default)(this.el,"spark-btn--active","spark-btn--complete")}},{key:"success",value:function(){!0===this._active&&(this._active=!1,(0,p.default)(this.el,"spark-btn--complete"),this.el.querySelector(".spark-btn__label").addEventListener("transitionend",this._onAnimationCompleteBound))}},{key:"fail",value:function(){!0===this._active&&(this._active=!1,this._onAnimationCompleteBound())}}]),a}(d.default);m.prototype._whitelistedParams=["onComplete"],m.prototype.defaults={el:null,_active:!1,onComplete:function(){}};var g=m;t.default=g,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1265)),s=a(n(1250)),o=a(n(1397)),l=a(n(1260)),c=a(n(1240)),u=a(n(1238)),d=a(n(1239)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1251)),v=a(n(1247)),y=a(n(1248)),b=a(n(1295)),C=n(1271),E=n(1283),k=a(n(1261)),O=a(n(1356)),_=a(n(1523));function P(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=["xs","sm","md","lg","xl"],N=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(P()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,d.default)(a,[{key:"_bindEventListenerCallbacks",value:function(){var e,t,n;this._onClickBound=(0,c.default)(e=this._onClick).call(e,this),this._onUnderlayDismissBound=(0,c.default)(t=this._onUnderlayDismiss).call(t,this),this._onKeyDownBound=(0,c.default)(n=this._onKeyDown).call(n,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.underlay.on("dismiss",this._onUnderlayDismissBound),this.el.addEventListener("keydown",this._onKeyDownBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.underlay.off("dismiss",this._onUnderlayDismissBound),this.el.removeEventListener("keydown",this._onKeyDownBound,!0)}},{key:"_cacheElements",value:function(e){this.el=e,this.expandEl=this.el.querySelector(".spark-fab-group__expand"),this.collapseEl=this.el.querySelector(".spark-fab-group__collapse"),this.underlay=new _.default({interactive:!0,display:!1,style:"dark"})}},{key:"_parseParams",value:function(){this.isExtendedFab=!!(0,g.default)(this.expandEl,"spark-fab-group__expand--extended"),this.showUnderlay=null!==this.showUnderlay?this.showUnderlay:(0,C.boolean)(this.el,"data-show-underlay",!1),this.underlayBreakPoint=null!==this.underlayBreakPoint?this.underlayBreakPoint:(0,C.string)(this.el,"data-underlay-breakpoint",null),this.isActive=(0,g.default)(this.el,"expanded"),this.autoClose=null!==this.autoClose?this.autoClose:(0,C.boolean)(this.el,"data-auto-close",!0)}},{key:"_determineUnderlayVisibility",value:function(){if("number"==typeof this.underlayBreakPoint&&this.underlayBreakPoint>0&&window.innerWidth<=this.underlayBreakPoint)return!0;if("string"==typeof this.underlayBreakPoint){var e=(0,l.default)(this.underlayBreakPoint);if((0,o.default)(e)&&e>0&&window.innerWidth<=e)return!0;var t=(0,s.default)(S).call(S,this.underlayBreakPoint);if((0,s.default)(S).call(S,(0,E.get)(window.innerWidth))<=t&&-1!==t)return!0}return!1}},{key:"expand",value:function(){this.showUnderlay&&this.underlayBreakPoint?this._determineUnderlayVisibility()&&this.underlay.show({interactive:!0,style:"dark"}):this.showUnderlay&&this.underlay.show({interactive:!0,style:"dark"}),(0,v.default)(this.el,"expanded");var e,t=this.collapseEl.offsetWidth,n=this.expandEl.offsetWidth;this.isExtendedFab&&(this.expandEl.setAttribute("data-width",n),requestAnimationFrame((0,c.default)(e=function(){var e;this.expandEl.style.width=n+"px",requestAnimationFrame((0,c.default)(e=function(){this.expandEl.style.width=t+"px"}).call(e,this))}).call(e,this)));this.expandEl.setAttribute("tabindex","-1"),this.expandEl.setAttribute("aria-expanded","true"),this.collapseEl.focus(),this.isActive=!0,this.trigger("expand"),this.onExpand.call(this)}},{key:"collapse",value:function(){this.showUnderlay&&this.underlay.active&&this.underlay.hide(),(0,y.default)(this.el,"expanded"),this.isExtendedFab&&(this.expandEl.style.width=this.expandEl.getAttribute("data-width")+"px",this.expandEl.addEventListener("transitionend",this._removeButtonAttributes())),this.expandEl.removeAttribute("tabindex"),this.expandEl.setAttribute("aria-expanded","false"),this.expandEl.focus(),this.isActive=!1,this.trigger("collapse"),this.onCollapse.call(this)}},{key:"_removeButtonAttributes",value:function(){this.expandEl.removeAttribute("style"),this.expandEl.removeAttribute("data-width"),this.expandEl.removeEventListener("transitionend",this._removeButtonAttributes)}},{key:"_onUnderlayDismiss",value:function(){this.collapse()}},{key:"_onClick",value:function(e){this.el.contains(e.target)&&(e.target===this.expandEl||(0,b.default)(e.target,this.expandEl)?this.expand():(e.target===this.collapseEl||(0,b.default)(e.target,this.collapseEl)||this.autoClose)&&this.collapse())}},{key:"_onKeyDown",value:function(e){if(this.showUnderlay&&this.underlay.active){switch(e.keyCode){case 27:this.collapse();break;case 9:var t=this.el.querySelectorAll('a[href]:not([tabindex^="-"]):not([disabled]), button:not([tabindex^="-"]):not([disabled]), [tabindex]:not([tabindex^="-"]):not([disabled]), [tabindex="0"]');if(t.length>0){var n=(0,i.default)(Array.prototype).call(t);1===n.length?e.preventDefault():e.shiftKey&&document.activeElement===n[0]?(e.preventDefault(),n[n.length-1].focus()):e.shiftKey||document.activeElement!==n[n.length-1]||(e.preventDefault(),n[0].focus())}break;default:return}}}},{key:"active",get:function(){return this.isActive}}]),a}(m.default);N.prototype._whitelistedParams=["showUnderlay","underlayBreakPoint","autoClose","onCollapse","onExpand"],N.prototype.defaults={el:null,isActive:!1,showUnderlay:null,underlayBreakPoint:null,autoClose:null,onCollapse:function(){},onExpand:function(){}},(0,k.default)(N.prototype,O.default);var w=N;t.default=w,e.exports=t.default},function(e,t,n){e.exports=n(1877)},function(e,t,n){var a=n(1878);e.exports=a},function(e,t,n){n(1879);var a=n(1252);e.exports=a.Object.assign},function(e,t,n){var a=n(1246),r=n(1880);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var a=n(1269),r=n(1254),i=n(1335),s=n(1452),o=n(1377),l=n(1272),c=n(1378),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(a&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=i(u({},t)).join("")}))?function(e,t){for(var n=l(e),r=arguments.length,u=1,d=s.f,p=o.f;r>u;)for(var h,f=c(arguments[u++]),m=d?i(f).concat(d(f)):i(f),g=m.length,v=0;g>v;)h=m[v++],a&&!p.call(f,h)||(n[h]=f[h]);return n}:u},function(e,t,n){var a=n(1444);e.exports=function(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1397)),s=a(n(1404)),o=a(n(1405)),l=a(n(1265)),c=a(n(1240)),u=a(n(1325)),d=a(n(1238)),p=a(n(1239)),h=a(n(1244)),f=a(n(1245)),m=a(n(1241)),g=a(n(1242)),v=a(n(1883)),y=a(n(1523)),b=n(1283),C=a(n(1267)),E=a(n(1261)),k=a(n(1356));function O(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,m.default)(t);if(O()){var a=(0,m.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,d.default)(this,a),t=n.call(this,e,r),r.position&&(t.position=r.position),r.toggleEl&&(t._toggleEl=r.toggleEl),t._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,p.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,this.closeButton=this.el.querySelector(".spark-panel--fixed__close"),this.underlay=new y.default({disabled:!1,display:!1,style:"dark"});var t=((0,C.default)(this.el,"body")||document.body).querySelector('.spark-panel-dock[data-position="'+this.position+'"], .spark-panel-dock--condensed[data-position="'+this.position+'"]');t&&t.parentNode.querySelector(".spark-panel--fixed")!==this.el&&(t=void 0);var n,r=void 0;(t||this.push)&&((r=document.createElement("aside")).classList.add("spark-panel--fixed"),r.classList.add("spark-panel--fixed--condensed"),r.setAttribute("aria-expanded",!1),r.setAttribute("tabindex","-1"),r.dataset.position=this.position,r.dataset.placement="cover",r.id=(0,u.default)(n=this.el.id).call(n,"--alt"));var i=this;t?(document.body.appendChild(r),this.dock=new v.default(t,{sideFixedPanel:this,condensedPanel:new a(r,{_parentPanel:this,onClose:function(){var e=i.dock.condensedPanel.el.firstElementChild;e.hidden=!0,i.display="",i.el.appendChild(e),i.dock.clearSelected()}})}),this._onResize()):this.push&&(document.body.appendChild(r),this.condensedPanel=new a(r,{_parentPanel:this,onClose:function(){var e=i.condensedPanel.el.firstElementChild;i.display="",i.el.appendChild(e)}}))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,o,l,u;this._onUnderlayDismissBound=(0,c.default)(e=this._onUnderlayDismiss).call(e,this),this._onDismissBound=(0,c.default)(t=this._onDismiss).call(t,this),this._onClickBound=(0,c.default)(n=this._onClick).call(n,this),this._onTransitionEndBound=(0,c.default)(a=this._onTransitionEnd).call(a,this),this._onResizeBound=(0,c.default)(r=this._onResize).call(r,this),this._onKeyDownBound=(0,c.default)(i=this._onKeyDown).call(i,this),this._onOpenBound=(0,c.default)(s=this._onOpen).call(s,this),this._onCloseBound=(0,c.default)(o=this._onClose).call(o,this),this._onToggleBound=(0,c.default)(l=this._onToggle).call(l,this),this._toggleBound=(0,c.default)(u=this.toggle).call(u,this)}},{key:"_addEventListeners",value:function(){this.on("dismiss",this._onDismissBound),this.on("toggle",this._onToggleBound),this.el.addEventListener("click",this._onClickBound,!0),this.el.addEventListener("transitionend",this._onTransitionEndBound,!0),this.el.addEventListener("keydown",this._onKeyDownBound,!0),this.underlay.on("dismiss",this._onUnderlayDismissBound),window.addEventListener("resize",this._onResizeBound,!0),this.toggleEl&&this.toggleEl.addEventListener("click",this._toggleBound,!0)}},{key:"_removeEventListeners",value:function(){this.off("dismiss",this._onDismissBound),this.off("toggle",this._onToggleBound),this.el.removeEventListener("click",this._onClickBound,!0),this.el.removeEventListener("transitionend",this._onTransitionEndBound,!0),this.el.removeEventListener("keydown",this._onKeyDownBound,!0),this.underlay.off("dismiss",this._onUnderlayDismissBound),window.removeEventListener("resize",this._onResizeBound,!0),this.toggleEl&&this.toggleEl.removeEventListener("click",this._toggleBound,!0)}},{key:"_onResize",value:function(){var e=this;if(this.mediaWidth=window.innerWidth,this.dock&&this.mediaWidth<=this.condensedBreakpoint&&!this.dock.condensed)this.dock.condense();else if(this.dock&&this.mediaWidth>this.condensedBreakpoint&&this.dock.condensed)if(this.dock.condensedPanel.active){var t=this,n=this.dock.condensedPanel.el.firstElementChild.id,a=this.dock.el.querySelector("[aria-controls="+n+"]");this.dock.condensedPanel.close().then((function(){t.dock.expand(),a.focus(),a.click()}))}else this.dock.expand();else this.dock&&this.mediaWidth>this.condensedBreakpoint&&!this.dock.condensed&&this.cover&&this.active&&this.close();if(this.cover&&(this.currentBreakpoint=(0,b.get)(this.mediaWidth),this.currentBreakpoint===this.mobileBreakpoint||this.mediaWidth<=this.mobileBreakpoint?(this.el.style.minWidth="100%","right"===this.position?(this.el.style.left="100%",this.el.style.right="auto",this.translateX=-this.width):"left"===this.position&&(this.el.style.left="auto",this.el.style.right="100%",this.translateX=this.width)):(this.el.style.minWidth="",this.active&&"right"===this.position?this.translateX=-this.width:this.active&&"left"===this.position&&(this.translateX=this.width))),this.push&&this.mediaWidth<=this.condensedBreakpoint&&this.active){var r=this;this.close().then((function(){e.open().catch((function(){r.display="open"}))})).catch((function(){r.display=""}))}else if(this.cover&&this.active&&this._parentPanel&&this.mediaWidth>this._parentPanel.condensedBreakpoint){var i=this;i.close().then((function(){i._parentPanel.open().catch((function(){i._parentPanel.display="open"}))})).catch((function(){i.display=""}))}}},{key:"_onKeyDown",value:function(e){switch(e.keyCode){case 13:(e.target===this.closeButton||e.target.classList.contains("spark-panel--fixed__close"))&&this.close();break;case 27:this.close();break;case 9:if(!this.underlay.active)return;var t=this.el.querySelectorAll('a[href]:not([tabindex^="-"]):not([disabled]), area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');if(t.length>0){var n=(0,l.default)(Array.prototype).call(t);1===n.length?e.preventDefault():e.shiftKey&&document.activeElement===n[0]?(e.preventDefault(),n[n.length-1].focus()):e.shiftKey||document.activeElement!==n[n.length-1]||(e.preventDefault(),n[0].focus())}break;default:return}}},{key:"_onUnderlayDismiss",value:function(){this.trigger("dismiss")}},{key:"_onDismiss",value:function(e){this.close(),this.onDismiss.call(this,e)}},{key:"_onToggle",value:function(e){this.onToggle.call(this,e)}},{key:"_onClick",value:function(e){(e.target===this.closeButton||e.target.classList.contains("spark-panel--fixed__close"))&&this._onDismiss(e)}},{key:"_onTransitionEnd",value:function(){"show"===this.display&&this._onOpenBound(),"hide"===this.display&&this._onCloseBound()}},{key:"_onOpen",value:function(e){this.display="open",this.el.setAttribute("aria-expanded",!0),"function"==typeof this._resolve&&(this._resolve(),this._resolve=void 0),this.trigger("open"),this.closeButton&&this.closeButton.focus(),this.onOpen.call(this,e)}},{key:"_onClose",value:function(e){if(this.display="",this.el.setAttribute("aria-expanded",!1),"function"==typeof this._resolve&&(this._resolve(),this._resolve=void 0),this.cover&&(this.el.classList.contains("spark-panel--docked")||this.dock||(this.el.style.display="none",this.translateX=0,this.el.style.left="",this.el.style.right="",this.el.style.transform="",this.el.style.display="")),this.dock){var t=this.dock.el.querySelector('[aria-expanded="true"]');t&&t.focus(),this.dock.clearSelected()}this.trigger("close"),this.toggleEl&&(this.toggleEl.setAttribute("aria-expanded",!1),this.toggleEl.focus()),this.onClose.call(this,e)}},{key:"toggle",value:function(){var e=this,t=this.toggleEl;switch(this.display){case"show":case"open":this.close().then((function(){t&&(t.setAttribute("aria-expanded",!1),t.focus()),e.trigger("toggle")})).catch((function(){}));break;case"hide":default:this.open().then((function(){t&&t.setAttribute("aria-expanded",!0),e.trigger("toggle")})).catch((function(){}))}}},{key:"open",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this;return this.scrollTop&&(this.el.scrollTop=0),!this.cover||this.el.classList.contains("spark-panel--docked")||this.dock||(this.el.style.display=""),new o.default((function(a){n._resolve=a,n.cover&&"show"===n.display||"open"===n.display?t.position&&t.position!==n.position&&!n.dock?(n._resolve=void 0,n.close().then((function(){n._resolve=a,n.position=t.position,!0!==t.underlay&&void 0!==t.underlay||n.underlay.configure({disabled:!1,style:"dark"}).then(n.underlay.show),n.display="",n.display="show","right"===n.position?(n.el.style.left="100%",n.translateX=-n.width):"left"===n.position&&(n.el.style.right="100%",n.translateX=n.width)}))):(n._resolve=void 0,a()):(n.cover&&(t.position&&(n.position=t.position),(!0===t.underlay||void 0===t.underlay&&!n.el.classList.contains("spark-panel--docked"))&&n.underlay.configure({disabled:!1,style:"dark"}).then(n.underlay.show),n.dock||(n.el.style.left="",n.el.style.right="","right"===n.position?n.translateX=-n.width:"left"===n.position&&(n.translateX=n.width)),n.dock&&("right"===n.position?(n.el.style.left="calc(100% - "+n.dock.width+"px)",n.el.style.right="",n.translateX=-n.width):"left"===n.position&&(n.el.style.left="",n.el.style.right="calc(100% - "+n.dock.width+"px)",n.translateX=n.width)),n.display="show"),n.push&&"show"===n.display||"open"===n.display?window.innerWidth<=e.condensedBreakpoint&&e.condensedPanel?n.close().then((function(){n.condensedPanel.el.appendChild(n.el.firstElementChild),n.condensedPanel.open({underlay:!1}).then((function(){n.condensedPanel.el.querySelector(".spark-panel--fixed__close")&&n.condensedPanel.el.querySelector(".spark-panel--fixed__close").focus(),"function"==typeof n._resolve&&(n._resolve(),n._resolve=void 0)})).catch((function(){n.display="",n.condensedPanel.display="open"}))})).catch((function(){n.display="",n._onClose()})):(n.display="",n.display="show"):n.push&&(window.innerWidth<=e.condensedBreakpoint&&e.condensedPanel?(n.condensedPanel.el.appendChild(n.el.firstElementChild),n.condensedPanel.open({underlay:!1}).then((function(){n.condensedPanel.el.querySelector(".spark-panel--fixed__close")&&n.condensedPanel.el.querySelector(".spark-panel--fixed__close").focus(),n._resolve(),n._resolve=void 0}))):n.display="show"))}))}},{key:"close",value:function(){var e=this;return!this.cover||this.el.classList.contains("spark-panel--docked")||this.dock||(this.el.style[this.position]="-".concat(this.width,"px")),new o.default((function(t){!e.cover||e.display?(e._resolve=t,e.underlay.active&&e.underlay.hide(),e.cover&&e.dock?e.translateX=0:e.cover&&(e.el.style.left="",e.el.style.right="","right"===e.position?(e.el.style.left="100%",e.translateX=0):"left"===e.position&&(e.el.style.right="100%",e.translateX=0)),e.display="hide"):t()}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),this._cacheElements.call(this,e||this.el,t),this._addEventListeners(),t.position&&(this.position=t.position),this}},{key:"position",set:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";t=t.toLowerCase(),this.el&&(0,s.default)(e=["right","left"]).call(e,t)&&("open"===this.display||"show"===this.display?"right"===t?(this.el.style.left="auto",this.el.style.right="0px"):"left"===t&&(this.el.style.left="0px",this.el.style.right="auto"):"right"===t?(this.el.style.left="100%",this.el.style.right="auto"):"left"===t&&(this.el.style.left="auto",this.el.style.right="100%"),this.el.dataset.position=t,"open"!==this.display&&"show"!==this.display||this.open().catch((function(){})))},get:function(){return this.el.dataset.position}},{key:"cover",get:function(){return"cover"===this.el.dataset.placement}},{key:"push",get:function(){return"push"===this.el.dataset.placement}},{key:"display",set:function(e){var t=["","open","show","hide"];(0,s.default)(t).call(t,e)?this.el.dataset.display=e:"boolean"==typeof e?this.el.dataset.display=e?"show":"hide":null==e&&(this.el.dataset.display="")},get:function(){return this.el?this.el.dataset.display:void 0}},{key:"translateX",set:function(e){(0,i.default)(e)&&0!==e?this.el.style.transform="translateX(".concat(e,"px)"):this.el.style.transform="translateX(0)"}},{key:"width",get:function(){return this.el?Math.round(this.el.scrollWidth):0}},{key:"active",get:function(){return!(!this.condensedPanel||void 0===this.condensedPanel.display||""===this.condensedPanel.display)||void 0!==this.display&&""!==this.display}},{key:"toggleEl",get:function(){return this._toggleEl?this._toggleEl:void 0},set:function(e){e&&1===e.nodeType?(this._toggleEl&&this._toggleEl.removeEventListener("click",this._toggleBound,!0),this._toggleEl=e,e.hasAttribute("aria-expanded")||e.setAttribute("aria-expanded",this.active),e.hasAttribute("aria-label")||e.setAttribute("aria-label","Expand or Collapse Panel"),e.addEventListener("click",this._toggleBound,!0),this.on("close",this._focusToggleBound)):(this._toggleEl&&this._toggleEl.removeEventListener("click",this._toggleBound,!0),this._toggleEl=void 0)}}]),a}(g.default);_.prototype._whitelistedParams=["_parentPanel","condensedBreakpoint","mobileBreakpoint","scrollTop","onDismiss","onToggle","onOpen","onClose"],_.prototype.defaults={_parentPanel:null,el:null,scrollTop:!0,mobileBreakpoint:"xs",condensedBreakpoint:"823",onDismiss:function(){},onToggle:function(){},onOpen:function(){},onClose:function(){}},(0,E.default)(_.prototype,k.default);var P=_;t.default=P,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1310)),s=a(n(1515)),o=a(n(1326)),l=a(n(1309)),c=a(n(1311)),u=a(n(1404)),d=a(n(1240)),p=a(n(1238)),h=a(n(1239)),f=a(n(1244)),m=a(n(1245)),g=a(n(1241)),v=a(n(1242)),y=a(n(1261)),b=a(n(1356));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){(0,f.default)(a,e);var t,n=(t=a,function(){var e,n=(0,g.default)(t);if(C()){var a=(0,g.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,m.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.default)(this,a),t=n.call(this,e,r),r.sideFixedPanel&&(t.sideFixedPanel=r.sideFixedPanel),t._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,h.default)(a,[{key:"_cacheElements",value:function(e){this.el=e}},{key:"_bindEventListenerCallbacks",value:function(){var e;this._onClickBound=(0,d.default)(e=this._onClick).call(e,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound,!0)}},{key:"_onClick",value:function(e){var t,n,a=this;if(e.target.classList.contains("spark-side-fixed-dock--toggle")&&(0,u.default)(t=this.panels).call(t,e.target.getAttribute("aria-controls")))if("true"===e.target.getAttribute("aria-expanded"))this.sideFixedPanel.close().then((function(){e.target.setAttribute("aria-expanded",!1)})).catch((function(){}));else if(this.clearSelected(),(0,c.default)(n=this.panels).call(n,(function(t){return t===e.target.getAttribute("aria-controls")}))&&this.condensed){var r=this.sideFixedPanel.el.querySelector("#".concat(e.target.getAttribute("aria-controls")));this.condensedPanel.el.appendChild(r),r.hidden=!1,this.condensedPanel.open().then((function(){var t=r.querySelector(".spark-panel--fixed__close");t&&t.focus(),e.target.setAttribute("aria-expanded",!0)})).catch((function(){}))}else{var i;(0,l.default)(i=this.panels).call(i,(function(t){a.sideFixedPanel.el.querySelector("#".concat(t)).hidden=e.target.getAttribute("aria-controls")!==t})),this.sideFixedPanel.open().then((function(){var t=document.getElementById(e.target.getAttribute("aria-controls")).querySelector(".spark-panel--fixed__close");t&&t.focus(),e.target.setAttribute("aria-expanded",!0)})).catch((function(){}))}}},{key:"clearSelected",value:function(){var e;(0,l.default)(e=this.el.querySelectorAll(".spark-btn--icon")).call(e,(function(e){return e.setAttribute("aria-expanded",!1)}))}},{key:"condense",value:function(){if(this.sideFixedPanel.active){var e=this,t=this.sideFixedPanel.el.querySelector(".spark-panel__container__panel__content:not([hidden])");this.condensedPanel.el.appendChild(t),this.condensedPanel.open().then((function(){e.el.classList.add("spark-panel-dock--condensed");var t=e.condensedPanel.el.querySelector(".spark-panel--fixed__close");t&&t.focus()}))}else this.el.classList.add("spark-panel-dock--condensed");this.el.classList.add("spark-panel-dock--condensed")}},{key:"expand",value:function(){if(this.condensedPanel.active){var e=this,t=this.el.querySelector('[aria-expanded="true"]');this.condensedPanel.close().then((function(){e.el.classList.remove("spark-panel-dock--condensed"),t&&t.focus(),e.clearSelected()}))}else this.el.classList.remove("spark-panel-dock--condensed")}},{key:"condensed",get:function(){return!!this.el.classList.contains("spark-panel-dock--condensed")}},{key:"panels",get:function(){var e,t=this.sideFixedPanel.el.querySelectorAll(".spark-panel__container__panel__content"),n=t.length?(0,o.default)(e=(0,s.default)(t)).call(e,(function(e){return e.id})):[];return(0,i.default)(n).call(n,(function(e){return""!==e}))}},{key:"width",get:function(){return this.el?this.el.scrollWidth:0}}]),a}(v.default);E.prototype._whitelistedParams=["sideFixedPanel","condensedPanel"],(0,y.default)(E.prototype,b.default);var k=E;t.default=k,e.exports=t.default},function(e,t,n){(function(t){(function(){var n,a,r,i,s,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},a=t.hrtime,i=(n=function(){var e;return 1e9*(e=a())[0]+e[1]})(),o=1e9*t.uptime(),s=i-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n(765))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return K}));var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(122),C=n.n(b),E=n(92),k=n.n(E),O=n(1917),_=n.n(O),P=n(77),S=n.n(P),N=n(82),w=n.n(N),A=n(4),T=n.n(A),I=n(36),D=n.n(I),x=n(27),j=n.n(x),L=n(1),F=n.n(L),B=(n(6),n(39)),R=n.n(B),M=n(17),V=n.n(M),U=n(12),q=n(2040),H=n(114),W=n(1886),G=n(2012),K=(n(2159),n(2160),function(t){function n(e){var t;return r()(this,n),t=s()(this,l()(n).call(this,e)),g()(u()(t),"onEndMove",(function(){var e=t.props.onUpdate;t.setState({dragging:null}),t.removeGlobalEventListeners(),e&&e(t.state.values)})),g()(u()(t),"onMove",(function(e){if(null!==t.state.dragging){e.cancelable&&(e.preventDefault(),e.stopPropagation());var n=e.pageX||e.changedTouches[0].pageX;t.setState((function(e){return{values:t.calculateMoveResult(e,n)}}),(function(){t.props.onMove(t.state.values)}))}})),g()(u()(t),"onStartMove",(function(e){t.addGlobalEventListener();var n=t.props.parentOffset+y()(t.slider.current,"offsetLeft"),a=e.pageX||e.changedTouches[0].pageX,r=t.getNumericalRefs();t.setState((function(e){var i=T()(r||[],(function(i,s,o){var l=Math.abs(a-(s.offsetLeft+n)),c=i;null!==i?l<Math.abs(a-(r[i].offsetLeft+n))&&(c=o):c=o;return D()(e.values)===t.props.min?e.values.length-1:j()(e.values)===t.props.max?0:c}),null),s=t.calculateMoveResult(e,a);return{dragging:i,values:t.props.values.length>1?e.values:s}}),(function(){t.props.values.length>1&&t.props.onMove(t.state.values)}))})),t.slider=F.a.createRef(),t.sliderInput=F.a.createRef(),t.state={dragging:null,values:e.values},t}return f()(n,t),p()(n,null,[{key:"limitValues",value:function(e,t,n){return e[t-1]&&n<=e[t-1]?e[t-1]:e[t+1]&&n>=e[t+1]?e[t+1]:n}}]),p()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){S()(e.values,this.props.values)||this.setState({values:e.values})}},{key:"onChange",value:function(e,t){var a=this;if(e.target.value){var r=e.target.value;this.setState((function(e){var i=k()(e.values),s=a.props.type===W.a.TIME?V.a.duration(r).asMinutes():r;return i[t]=n.limitValues(i,t,a.checkRange(s)),{values:i}})),this.sliderInput.current&&(this.sliderInput.current.value=this.formatValue(e.target.value))}else this.setState((function(e){var n=k()(e.values);return n[t]=0===t?a.props.min:a.props.max,{values:n}}))}},{key:"onKeyboardMove",value:function(e,t){var n=this;-1!==[37,39].indexOf(e)&&this.setState((function(a){var r=n.props.sliderStep||_()(.1*(n.props.max-n.props.min),0),i=k()(a.values),s=Number(i[t])+(37===e?-1:1)*r;return i[t]=n.checkRange(n.props.isIntegerStep?Math.floor(s):s),{values:i}}),(function(){n.props.onMove(n.state.values)}))}},{key:"onUpdate",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.target.value;this.setState((function(e){var s=k()(e.values),o=a.props.type===W.a.TIME?V.a.duration(i).asMinutes():a.parseValue(_()(parseFloat(i),a.props.precision));return s[t]=n.limitValues(s,t,o),r&&a.sliderInput.current&&(a.sliderInput.current.value=a.formatValue(o)),{values:s}}),(function(){a.props.onUpdate(a.state.values)}))}},{key:"getIsRightToLeft",value:function(){if(!w()(this.props.isRightToLeft))return this.props.isRightToLeft;var e=this.props.selectedLocale;return this.props.locales.getIn([e,"isRightToLeft"])}},{key:"getNumericalRefs",value:function(){for(var e=[],t=0;!w()(this[t]);)e.push(this[t]),t+=1;return e}},{key:"getTrackStyle",value:function(){var e=this.props,t=e.min,n=e.fillTo,a=this.state.values,r=this.getIsRightToLeft();return n?{left:r?"auto":0,right:r?0:"auto",width:this.calculatePercent(n)}:a.length>1?r?{right:this.calculatePercent(a[0]),width:this.calculatePercent(t+a[a.length-1]-a[0])}:{left:this.calculatePercent(a[0]),width:this.calculatePercent(t+a[a.length-1]-a[0])}:{left:r?"auto":0,right:r?0:"auto",width:this.calculatePercent(a[0])}}},{key:"getValue",value:function(e){var t=this.getIsRightToLeft(),n=this.props.min,a=e;return a=(a=a<0?0:a)>1?1:a,t&&(a=1-a),(this.props.max-n)*a+n}},{key:"addGlobalEventListener",value:function(){e.addEventListener("mousemove",this.onMove),e.addEventListener("mouseup",this.onEndMove)}},{key:"calculateMoveResult",value:function(e,t){var a=this.props.isIntegerStep,r=Number(e.dragging)||0,i=y()(this.slider.current,"offsetLeft")+this.props.parentOffset,s=y()(this.slider.current,"offsetWidth"),o=k()(e.values),l=this.getValue((t-i)/s);return o[r]=n.limitValues(o,r,a?Math.floor(l):l),o}},{key:"calculatePercent",value:function(e){var t=this.props,n=t.min,a=t.max,r=t.visiblySpread;if(n===a)return"100%";var i=(e-n)/(a-n)*100;return r&&(i=i>33?100-.33*(100-i):78-2.5*(33-i)),i>100?i=100:i<0&&(i=0),"".concat(i,"%")}},{key:"checkRange",value:function(e){var t=this.props,n=t.min,a=t.max;return e<n?n:e>a?a:e}},{key:"formatValue",value:function(e){switch(this.props.type){case W.a.TIME:return V.a.utc(6e4*e).locale("en").format("HH:mm");case W.a.PRICE:return this.checkRange(e);default:return parseInt(e,10)}}},{key:"parseValue",value:function(e){var t=e;return this.props.type===W.a.TIME&&(t=V.a.duration(e).asMinutes()),this.checkRange(t)}},{key:"removeGlobalEventListeners",value:function(){e.removeEventListener("mousemove",this.onMove),e.removeEventListener("mouseup",this.onEndMove)}},{key:"reset",value:function(){var e=[];e=1===this.props.values.length?this.props.values[0]?[this.props.max]:[this.props.min]:[this.props.min,this.props.max],this.setState({dragging:null,values:e}),this.props.onUpdate(e)}},{key:"renderHandleLabel",value:function(e){var t=this.props,n=t.valuesFormat,a=t.labels,r=t.labelFormat;if(w()(n)||w()(a)||w()(r))return"";var i=Object(H.d)(V.a.duration(e,n),r);return F.a.createElement("span",null,i,F.a.createElement("span",{className:"handle-label"},Object(U.a)("time.".concat(r),g()({},r,i))))}},{key:"renderHandles",value:function(){var e=this,t=this.props,n=t.min,a=t.max,r=t.ariaValueText,i=this.state.values,s=Object(G.a)(n),o=Object(G.a)(a),l=this.getIsRightToLeft(),c=i.map((function(t,n){var a=e.calculatePercent(t),i="handle-".concat(n),c=n,u={left:a};return l&&(u={right:a}),F.a.createElement("div",{tabIndex:"0",key:i,className:"handle",style:u,ref:function(t){e[c]=t},role:"slider",onFocus:e.props.onFocus,onBlur:e.props.onBlur,"aria-describedby":e.props.ariaDescribedby,"aria-valuemin":s,"aria-valuemax":o,onKeyDown:function(t){return e.onKeyboardMove(t.keyCode,n)},onKeyUp:function(){return e.onEndMove()},"aria-valuenow":Object(G.a)(t),"aria-valuetext":0!==r?r:""},e.renderHandleLabel(t))}));return F.a.createElement("div",null,c)}},{key:"renderInputs",value:function(){var e=this,t=this.props,n=t.prefix,a=t.suffix,r=t.type,i=t.min,s=t.max,o=t.label,l=t.step,c=t.disabled,u=t.className,d=t.precision,p=this.state.values.map((function(t,n){var a,p=e.formatValue(_()(t,d)),h="input-".concat(n);a=0===n?"departure"===o||"arrival"===o?"".concat(o,"Start"):"".concat(o):"".concat(o,"Stop");var f="filter.".concat(a),m=1===n;return F.a.createElement(F.a.Fragment,{key:h},m&&F.a.createElement("span",{className:"dxp-dash"},"-"),F.a.createElement("div",{className:"input"},F.a.createElement("label",{htmlFor:a},F.a.createElement("span",{className:"sr-only"},Object(U.a)(f)),r===W.a.TIME?F.a.createElement(q.a,{min:i,max:s,disabled:c,value:p,step:l,id:a,onBlur:function(t){return e.onUpdate(t,n)},onChange:function(t){return e.onChange(t,n)},className:u}):F.a.createElement("input",{ref:e.sliderInput,type:W.a.NUMBER,min:i,max:s,id:a,disabled:c,value:r===W.a.DURATION?p/60:p,step:l,onBlur:function(t){return e.onUpdate(t,n,!0)},onChange:function(t){return e.onUpdate(t,n)},className:u}))))}));return F.a.createElement("div",{className:"inputs"},F.a.createElement("span",{className:"suffix"},a),F.a.createElement("div",{className:"inputs-list"},p),F.a.createElement("span",{className:"prefix"},n))}},{key:"renderLabels",value:function(){var e=this,t=this.props,n=t.valuesFormat,a=t.labels,r=t.labelFormat;if(w()(n)||w()(a)||w()(r))return null;var i=this.getIsRightToLeft(),s=a.map((function(t,a){var s="label-".concat(a),o=e.calculatePercent(t),l=Object(H.d)(V.a.duration(t,n),r),c={left:o};return i&&(c={right:o}),F.a.createElement("span",{key:s,className:"label",style:c},l)}));return F.a.createElement("div",null,s)}},{key:"render",value:function(){var e=this.props.disabled,t=this.props.values.length,n=R()("dxp-slider",this.props.className,{disabled:e,"multi-range":t>1}),a=this.getTrackStyle(),r=this.props.hideInput;return F.a.createElement("div",{className:n,ref:this.slider},F.a.createElement("div",{className:"controls",onMouseDown:this.onStartMove,onTouchStart:this.onStartMove,onTouchMove:this.onMove,onTouchEnd:this.onEndMove},this.renderHandles(),this.renderLabels(),F.a.createElement("span",{className:"track"},F.a.createElement("span",{className:"track-fill",style:a}))),this.props.children,!r&&this.renderInputs())}}]),n}(L.Component));g()(K,"defaultProps",{precision:2,className:"",step:1,disabled:!1,prefix:null,suffix:null,parentOffset:0,hideInput:!1,visiblySpread:!1,isRightToLeft:!1,valuesFormat:"",labels:[],selectedLocale:"",locales:{},onMove:C.a,onFocus:C.a,onBlur:C.a,fillTo:0,label:"",labelFormat:void 0,sliderStep:1,ariaDescribedby:void 0,children:void 0,isIntegerStep:!1,ariaValueText:""})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={TIME:"time",NUMBER:"number",PRICE:"price",DURATION:"duration"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.startLoadingScripts=y;var i=n(1),s=u(i),o=u(n(6)),l=u(n(1888)),c=n(1889);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=[],g={},v=[];function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop,n=function(e){if(m.indexOf(e)<0)return function(t){var n=g[e]||[];if(n.push(t),g[e]=n,1===n.length)return(0,c.newScript)(e)((function(t){g[e].forEach((function(n){return n(t,e)})),delete g[e]}))}},a=e.map((function(e){return Array.isArray(e)?e.map(n):n(e)}));c.series.apply(void 0,f(a))((function(e,t){e?v.push(t):Array.isArray(t)?t.forEach(b):b(t)}))((function(e){C(),t(e)}))}var b=function(e){m.indexOf(e)<0&&m.push(e)},C=function(){v.length>0&&(v.forEach((function(e){var t=document.querySelector("script[src='"+e+"']");null!=t&&t.parentNode.removeChild(t)})),v=[])};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function i(e,t){d(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return n.state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return h(i,n),r(i,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,y(t,(function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},(function(){t||e.props.onScriptLoaded()}))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=a({},this.props,this.state);return s.default.createElement(e,t)}}]),i}(i.Component);return n.propTypes={onScriptLoaded:o.default.func},n.defaultProps={onScriptLoaded:c.noop},(0,l.default)(n,e)}}},function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var s=Object.getOwnPropertyNames(t);i&&(s=s.concat(Object.getOwnPropertySymbols(t)));for(var o=0;o<s.length;++o)if(!(a[s[o]]||r[s[o]]||n&&n[s[o]]))try{e[s[o]]=t[s[o]]}catch(e){}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isDefined=function(e){return null!=e};var a=t.isFunction=function(e){return"function"==typeof e},r=(t.noop=function(e){},t.newScript=function(e){return function(t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",(function(){return t(null,e)})),n.addEventListener("error",(function(){return t(!0,e)})),document.body.appendChild(n),n}},function(e){var t=Object.keys(e),n=-1;return{next:function(){return++n>=t.length?null:t[n]}}}),i=t.parallel=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var r=!1,i=0,s=[];(t=t.filter(a)).length<=0?n(null):t.forEach((function(o,l){o((function(o){for(var c=arguments.length,u=Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];o?r=!0:(u.length<=1&&(u=u[0]),s[l]=u,i++),a(e)&&e.call(null,o,u,l),r?n(!0):t.length===i&&n(null,s)}))}))}}};t.series=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){t=t.filter((function(e){return null!=e}));var s=r(t),o=function(){var n=s.next(),a=t[n];return Array.isArray(a)&&(a=i.apply(null,a).call(null,e)),[+n,a]},l=void 0,c=void 0,u=o();if(l=u[0],null==(c=u[1]))return n(null);var d=[];!function t(){c((function(r){for(var i=arguments.length,s=Array(i>1?i-1:0),p=1;p<i;p++)s[p-1]=arguments[p];if(s.length<=1&&(s=s[0]),a(e)&&e.call(null,r,s,l),r)n(r);else{if(d.push(s),u=o(),l=u[0],null==(c=u[1]))return n(null,d);t()}}))}()}}}},function(e,t,n){"use strict";var a,r,i=n(1),s=n.n(i),o=(n(6),n(1948)),l=n.n(o),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e){return(e.ctrlKey||e.metaKey)&&e.keyCode===(e.shiftKey?89:90)}function h(e){return(e.ctrlKey||e.metaKey)&&e.keyCode===(e.shiftKey?90:89)}function f(e){var t=void 0,n=void 0;if(void 0!==e.selectionStart)t=e.selectionStart,n=e.selectionEnd;else try{e.focus();var a=e.createTextRange(),r=a.duplicate();a.moveToBookmark(document.selection.createRange().getBookmark()),r.setEndPoint("EndToStart",a),n=(t=r.text.length)+a.text.length}catch(e){}return{start:t,end:n}}var m=(r=a=function(e){function t(){var n,a;u(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=d(this,e.call.apply(e,[this].concat(i))),a._onChange=function(e){var t=a.mask.getValue(),n=e.target.value;n!==t&&(a._updateMaskSelection(),a.mask.setValue(n),e.target.value=a._getDisplayValue(),a._updateInputSelection()),a.props.onChange&&a.props.onChange(e)},a._onKeyDown=function(e){if(p(e))return e.preventDefault(),void(a.mask.undo()&&(e.target.value=a._getDisplayValue(),a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)));if(h(e))return e.preventDefault(),void(a.mask.redo()&&(e.target.value=a._getDisplayValue(),a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)));if("Backspace"===e.key&&(e.preventDefault(),a._updateMaskSelection(),a.mask.backspace())){var t=a._getDisplayValue();e.target.value=t,t&&a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)}},a._onKeyPress=function(e){e.metaKey||e.altKey||e.ctrlKey||"Enter"===e.key||(e.preventDefault(),a._updateMaskSelection(),a.mask.input(e.key||e.data)&&(e.target.value=a.mask.getValue(),a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)))},a._onPaste=function(e){e.preventDefault(),a._updateMaskSelection(),a.mask.paste(e.clipboardData.getData("Text"))&&(e.target.value=a.mask.getValue(),setTimeout((function(){return a._updateInputSelection()}),0),a.props.onChange&&a.props.onChange(e))},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){var e={pattern:this.props.mask,value:this.props.value,formatCharacters:this.props.formatCharacters};this.props.placeholderChar&&(e.placeholderChar=this.props.placeholderChar),this.mask=new l.a(e)},t.prototype.componentWillReceiveProps=function(e){this.props.mask!==e.mask&&this.props.value!==e.mask?this.mask.getValue()===this.mask.emptyValue?this.mask.setPattern(e.mask,{value:e.value}):this.mask.setPattern(e.mask,{value:this.mask.getRawValue()}):this.props.mask!==e.mask?this.mask.setPattern(e.mask,{value:this.mask.getRawValue()}):this.props.value!==e.value&&this.mask.setValue(e.value)},t.prototype.componentWillUpdate=function(e,t){e.mask!==this.props.mask&&this._updatePattern(e)},t.prototype.componentDidUpdate=function(e){e.mask!==this.props.mask&&this.mask.selection.start&&this._updateInputSelection()},t.prototype._updatePattern=function(e){this.mask.setPattern(e.mask,{value:this.mask.getRawValue(),selection:f(this.input)})},t.prototype._updateMaskSelection=function(){this.mask.selection=f(this.input)},t.prototype._updateInputSelection=function(){!function(e,t){try{if(void 0!==e.selectionStart)e.focus(),e.setSelectionRange(t.start,t.end);else{e.focus();var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t.start),n.moveEnd("character",t.end-t.start),n.select()}}catch(e){}}(this.input,this.mask.selection)},t.prototype._getDisplayValue=function(){var e=this.mask.getValue();return e===this.mask.emptyValue?"":e},t.prototype._keyPressPropName=function(){return"undefined"!=typeof navigator&&navigator.userAgent.match(/Android/i)?"onBeforeInput":"onKeyPress"},t.prototype._getEventHandlers=function(){var e;return(e={onChange:this._onChange,onKeyDown:this._onKeyDown,onPaste:this._onPaste})[this._keyPressPropName()]=this._onKeyPress,e},t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.render=function(){var e=this,t=this.mask.pattern.length,n=this._getDisplayValue(),a=this._getEventHandlers(),r=this.props,i=r.size,o=void 0===i?t:i,l=r.placeholder,u=void 0===l?this.mask.emptyValue:l,d=this.props,p=(d.placeholderChar,d.formatCharacters,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(d,["placeholderChar","formatCharacters"])),h=c({},p,a,{ref:function(t){e.input=t},maxLength:t,value:n,size:o,placeholder:u});return s.a.createElement("input",h)},t}(s.a.Component),a.defaultProps={value:""},r);m.propTypes={},t.a=m},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a="dxp-flight-search-form",r="airport-selection-origin",i="airport-selection-destination",s="departureDate",o="returnDate",l="cabin-class-selection",c="searchSubmit",u="dxp-search-flight-view",d="dxp-search-flight-passengers",p="add-passenger-type"},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(42),s=n(85);t.a=function(){var e=Object(i.a)((function(e,t){return r()(t,"location.query",{})}),(function(e){return e.journeyType})),t=Object(i.a)(e,(function(e){return e.metadata.get("journeyTypes")}),(function(e,t){return e||t.get("defaultJourneyType")})),n=Object(i.a)(t,(function(e){return e===s.a.ONE_WAY})),a=Object(i.a)(t,(function(e){return e===s.a.ROUND_TRIP})),o=Object(i.a)(t,(function(e){return e===s.a.MULTI_CITY}));return Object(i.b)({value:t,isOneWay:n,isRoundTrip:a,isMultiCity:o})}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(23),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(39)),k=n.n(E),O=n(50),_=function(e){return C.a.createElement("span",{className:k()("dxp-collapse-header",e.className)},e.children)};_.defaultProps={className:""};var P=_,S=function(e){return C.a.createElement("div",r()({className:k()("dxp-collapse-body",e.className)},e.authorableAttributes),e.children)};S.defaultProps={authorableAttributes:{},className:""};var N=S,w=(n(2274),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={isCollapsed:e.isCollapsed,instanceId:t.instanceCount,focused:!1},t.instanceCount+=1,n}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.isCollapsed!==e.isCollapsed&&this.setState({isCollapsed:e.isCollapsed})}},{key:"getCollapsibleHeader",value:function(e){var t=this;return C.a.createElement("button",{type:"button",id:"dxp-expand-collapse-action-".concat(e),"data-test-id":"expand-collapse-action",className:"collapse-btn",onClick:function(e){return t.collapse(e)},"aria-expanded":!this.state.isCollapsed,onFocus:function(){return t.setFocused(!0)},onBlur:function(){return t.setFocused(!1)},"aria-controls":"collapse-body-".concat(e)},this.getHeader())}},{key:"getContent",value:function(e){return C.a.createElement("div",{className:k()("dxp-collapse-content",{hidden:this.state.isCollapsed})},e)}},{key:"getDisabledHeader",value:function(){return C.a.createElement("div",{className:"collapse-btn"},this.getHeader())}},{key:"getHeader",value:function(){var e=this.props.children[0]||this.props.children;if(this.props.hideHeaderIcon)return e;var t=[this.getIcon(),e,this.getIcon(!0)];return this.props.headerIconIsBefore?t:t.reverse()}},{key:"getIcon",value:function(e){var t=this.props.headerIconIsBefore,n=t?!e:e,a=this.state.isCollapsed?this.props.onCollapsedHeaderIcon:this.props.onOpenHeaderIcon,r=k()("dxp-collapse-header-icon","no-bg","reversed-collapse-btn","collapse-btn-container",{"should-be-before":t,"should-not-be-before":!t,"collapse-header-icon-is-before":n,"collapse-header-icon-is-after":!n});return C.a.createElement("span",{key:"icon-".concat(e),className:r},C.a.createElement(O.c,{name:a,className:"dxp-collapse-header-icon"}))}},{key:"setFocused",value:function(e){this.setState({focused:e})}},{key:"collapse",value:function(e){e&&e.preventDefault(),this.setState((function(e){return{isCollapsed:!e.isCollapsed}})),this.props.handleCollapseClick&&this.props.handleCollapseClick(),this.props.onCollapse&&this.props.onCollapse(!this.state.isCollapsed)}},{key:"isCollapsed",value:function(){return this.state.isCollapsed}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.className,a=e.children,i=e.aria,s=e.destroyChildrenOnCollapse,o=this.state.isCollapsed,l=this.props.attributes||{},c=k()("dxp-collapse",n,{collapsed:o,open:!o,disabled:t,"is-focused":this.state.focused}),u=this.props.id||this.state.instanceId,d=a[1],p=!0,h=!0;return y()(a)||(h=!(p="CollapseHeader"===a.type.name))&&(d=a),C.a.createElement("div",r()({className:c},i,{"aria-expanded":!o,id:u},l),p&&(t?this.getDisabledHeader(u):this.getCollapsibleHeader(u)),!o&&h&&C.a.createElement("div",{className:"collapse-body-container",id:"collapse-body-".concat(u)},s?!o&&a[2]:a[2],s?!o&&this.getContent(d):this.getContent(d)))}}]),t}(b.Component));g()(w,"defaultProps",{destroyChildrenOnCollapse:!1,attributes:void 0,className:void 0,onCollapsedHeaderIcon:O.a.ARROW_CHEVRON_DOWN,isCollapsed:!1,onOpenHeaderIcon:O.a.ARROW_CHEVRON_UP,headerIconIsBefore:!1,disabled:!1,aria:{},hideHeaderIcon:!1,onCollapse:void 0,handleCollapseClick:void 0,id:void 0}),g()(w,"instanceCount",0),w.Header=P,w.Body=N,n.d(t,"a",(function(){return w}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(51),f=n.n(h),m=n(156),g=n.n(m),v=n(76),y=n.n(v),b=n(36),C=n.n(b),E=n(5),k=n.n(E),O=n(27),_=n.n(O),P=n(2),S=n.n(P),N=n(0),w=n.n(N),A=(n(6),n(194),n(1)),T=n.n(A),I=n(123),D=n(50),x=n(17),j=n.n(x),L=n(1887),F=n.n(L),B=n(12),R=n(136),M=n(1606),V=n(78),U=n(521),q=n(63),H=n(114);var W=n(1909),G=(n(2096),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=w()(this.props,"airportsInfo",{});S()(e)&&Object(W.b)(this.getAirportsArray())}},{key:"onCloseClick",value:function(e){e.preventDefault?e.preventDefault():e.stopPropagation(),this.props.onCloseClick&&this.props.onCloseClick(e)}},{key:"onRadioButtonChange",value:function(e){this.setState({selectedRadioButton:e})}},{key:"getAirportsArray",value:function(){var e=[];return this.props.flightSummary.itineraryParts.forEach((function(t){t.get("segments").forEach((function(t){e.push(t.get("origin")),e.push(t.get("destination"))}))})),g()(e)}},{key:"getCalendarArray",value:function(e){var n=w()(this.props,"pnrLookupQuery.pnr");return k()(e.segments,(function(e){return{dateStart:t.getNewMomentInstance(w()(e,"departure")),dateEnd:t.getNewMomentInstance(w()(e,"arrival")),pnr:n,flightNumber:w()(e,"flight.flightNumber"),flightOperatingAirlineCode:w()(e,"flight.operatingAirlineCode"),origin:w()(e,"origin"),destination:w()(e,"destination")}}))}},{key:"getLocalTime",value:function(e,t){var n=j()().utcOffset(),a=e;return n>0?this.getUTCDate(a,t).add(n,"m"):this.getUTCDate(a,t).subtract(n,"m")}},{key:"getUTCDate",value:function(e,t){var n=w()(this.props,"airportsInfo.".concat(t,".UTCOffset"));return n>0?e.subtract(n,"h"):e.add(n,"h")}},{key:"renderGoogleCalendarLinks",value:function(e){var t=this,n=f()(this.props.metadata.get("addToCalendar"),"toJS"),a=n.googleAddToCalendarURL,r=n.googleLinkDateFormat,i=k()(e,(function(e,n){var i=t.getUTCDate(e.dateStart,e.origin),s=t.getUTCDate(e.dateEnd,e.destination),o="".concat(a,"?")+"action=TEMPLATE"+"&text=".concat(Object(B.i)("addToCalendar.GoogleSummary",{flightFrom:e.origin,flightTo:e.destination}),"&dates=").concat(i.format(r),"/").concat(s.format(r),"&details=").concat(Object(B.i)("addToCalendar.GoogleDetails",{pnr:e.pnr,flightNumber:e.flightNumber,airline:Object(B.i)("airlines.".concat(e.flightOperatingAirlineCode))}),"&location=").concat(Object(B.i)("airports.".concat(e.origin)),"&sf=true");return T.a.createElement("li",{key:"google-link-".concat(n)},T.a.createElement(V.a,{href:o,className:"add-to-calendar-link google-link",target:"blank",rel:"external",isExternalLink:!0},Object(B.a)("addToCalendar.GoogleLinkText",{origin:e.origin,destination:e.destination})))}));return T.a.createElement("ul",null,i)}},{key:"renderItinerary",value:function(e,n){var a=this.getCalendarArray(e),r=_()(a).origin,i=C()(a).destination;return T.a.createElement("div",{key:"itinerary-".concat(n),className:"dxp-add-to-calendar-links-holder"},T.a.createElement("div",{className:"itineraryparts-header"},T.a.createElement(D.c,{name:D.a.AIRPLANE,className:"icon"})," ","".concat(r," - ").concat(i)),"outlook-radio"===this.state.selectedRadioButton&&this.renderOutlookLinks(a),"ical-radio"===this.state.selectedRadioButton&&t.renderiCalLinks(a),"google-calendar-radio"===this.state.selectedRadioButton&&this.renderGoogleCalendarLinks(a))}},{key:"renderLinks",value:function(){var e=this,t=this.props.flightSummary,n=f()(t.itineraryParts,"toJS",{}),a=k()(n,(function(t,n){return e.renderItinerary(t,n)}));return T.a.createElement("div",null,a)}},{key:"renderOutlookLinks",value:function(e){var t=this,n=this.props,a=n.metadata,r=n.pnrInfo,i=f()(a.get("addToCalendar"),"toJS"),s=i.outlookAddToCalendarURL,o=i.outlookLinkDateFormat,l=r.get("reloc"),c=k()(e,(function(e,n){var a=t.getLocalTime(e.dateStart,e.origin).format(o),r=t.getLocalTime(e.dateEnd,e.destination).format(o),i=Object(B.i)("addToCalendar.OutlookSummary",{flightFrom:e.origin,flightTo:e.destination}),c=Object(B.i)("addToCalendar.OutlookLocation",{pnr:l,flightNumber:e.flightNumber,airline:Object(B.i)("airlines.".concat(e.flightOperatingAirlineCode))}),u="path=/calendar/view/Month&rru=addevent&".concat(Object(H.l)({subject:i,location:c,startdt:a,enddt:r})),d="".concat(s,"?").concat(u);return T.a.createElement("li",{key:"outlook-link-".concat(n)},T.a.createElement(V.a,{href:d,className:"add-to-calendar-link outlook-link",target:"_blank",isExternalLink:!0,rel:"external"},Object(B.a)("addToCalendar.OutlookLinkText",{origin:e.origin,destination:e.destination})))}));return T.a.createElement("ul",null,c)}},{key:"render",value:function(){var e=this,t=w()(this.state,"selectedRadioButton",""),n=w()(this.props,"flightSummary.itineraryAirports",{}),a=!S()(n);return T.a.createElement(R.a,{className:"dxp-add-to-calendar",onCloseClick:function(t){return e.onCloseClick(t)}},T.a.createElement("h2",null,Object(B.a)("addToCalendar.title")),a?T.a.createElement("div",{className:"calendar-selection-holder"},T.a.createElement(M.a,{name:"add-to-calendar-radio",value:"outlook",id:"outlook-radio",onChange:function(){return e.onRadioButtonChange("outlook-radio")}},Object(B.a)("addToCalendar.Outlook")),T.a.createElement(M.a,{name:"add-to-calendar-radio",value:"ical",id:"ical-radio",onChange:function(){return e.onRadioButtonChange("ical-radio")}},Object(B.a)("addToCalendar.iCal")),T.a.createElement(M.a,{name:"add-to-calendar-radio",value:"google-calendar",id:"google-calendar-radio",onChange:function(){return e.onRadioButtonChange("google-calendar-radio")}},Object(B.a)("addToCalendar.GoogleCalendar"))):T.a.createElement(U.a,{className:"dark"}),T.a.createElement("div",{className:"dxp-add-to-calendar-links"},""!==t&&this.renderLinks()))}}],[{key:"downloadFile",value:function(e,t){e.download(t)}},{key:"getNewMomentInstance",value:function(e){return j()(e,"YYYY-MM-DD HH:mm:ss")}},{key:"renderiCalLinks",value:function(e){var n=_()(e).origin,a=C()(e).destination,r=ics();return y()(e,(function(e){r.addEvent(Object(B.i)("addToCalendar.iCalSummary",{flightFrom:e.origin,flightTo:e.destination}),Object(B.i)("addToCalendar.iCalDescription",{pnr:e.pnr,flightNumber:e.flightNumber,airline:Object(B.i)("airlines.".concat(e.flightOperatingAirlineCode))}),"",e.dateStart.toDate(),e.dateEnd.toDate())})),T.a.createElement("button",{type:"button",onClick:function(){return t.downloadFile(r,"flight ".concat(n," - ").concat(a))},className:"add-to-calendar-button ical-link"},Object(B.a)("addToCalendar.iCalLinkText",{origin:n,destination:a}))}}]),t}(A.Component)),K=Object(I.b)((function(e){return{airportsInfo:f()(e.addToCalendar.get("airportsInfo"),"toJS",{})}}))(F()([Object(q.a)("js/ics.min.js"),Object(q.a)("js/FileSaver.min.js")])(G));n.d(t,"a",(function(){return K}))},function(e,t,n){"use strict";var a=n(63),r=n(9),i=n(0),s=n.n(i),o=n(5),l=n.n(o),c=n(1735),u=n.n(c);function d(e){return Object(r.i)(Object(a.a)("data/airports.json")).then((function(t){return function(e,t){return{airportsInfo:u()(t,l()(t,(function(t){return s()(e,"airport.".concat(t),{})})))}}(t,e)}))}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var p="AIRPORTS_INFO_REQUEST";function h(e){return function(t){return d(e).then((function(e){t({type:p,airportsInfo:e.airportsInfo})}))}}},,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(54),s=n.n(i),o=n(2),l=n.n(o),c=n(37),u=n.n(c),d=n(1538),p=n(10),h=n(1740),f=n(1741),m=n(1914),g=n.n(m),v=n(16),y=n.n(v),b=n(1363),C=[b.a.EXCHANGE_FLIGHT,b.a.CANCEL_FLIGHT];function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.filter((function(e){return C.includes(e.tripOption)})).map((function(e){return y()({},e,{showWarning:!0,warningReasons:t})}));return g()([].concat(s()(n),s()(e)),"tripOption")}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return _}));var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=[].concat(s()(e.pnr.hotelReservationSummary?[p.x]:[]),s()(e.pnr.carReservationSummary?[p.h]:[])),o=l()(i)?e.tripOptions:E(e.tripOptions,i),c=u()(e.pnr,{messages:e.messages}),m=Object(d.a)(e,t),g=u()(m,{tripOptions:o,pnrInfo:c});return O({},g,{cart:n?Object(h.a)(g,a,r):Object(f.a)(g,a,r)})}},function(e,t,n){"use strict";var a=n(321),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(39)),l=n.n(o),c=n(12),u=(n(2391),function(e){var t=e.sectionName,n=e.title,a=e.children,i=e.paxType,o=l()("passenger-info-panel",t),u="passenger-info-panel-fields ".concat(r()(t),"-fields"),d="ssr-disclaimer-".concat(i);return s.a.createElement("div",{className:o,role:"group"},s.a.createElement("h3",{className:"passenger-info-panel-title ".concat(r()(t),"-title")},Object(c.a)(n)),s.a.createElement("div",{className:u},a),i&&s.a.createElement("span",{className:d},Object(c.a)("passengers.specialRequests.disclaimer.".concat(i))))});n.d(t,"a",(function(){return u}))},,function(e,t,n){var a=n(216),r=n(104),i=n(178),s=n(340),o=n(288),l=n(36),c=i((function(e){var t=l(e);return o(t)&&(t=void 0),s(a(e,1,o,!0),r(t,2))}));e.exports=c},function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,i,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,i,s,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(0),s=n.n(i),o=n(5),l=n.n(o),c=(n(6),n(1)),u=n.n(c),d=n(39),p=n.n(d),h=n(12);n(1543);t.a=function(e){var t=e.advisories,n=l()(t,(function(e,t){var n=e.level,a=r()(s()(e,"imageHint","default"));return u.a.createElement("div",{key:"advisory-".concat(t),className:p()("advisories",n.toLowerCase(),a)},Object(h.a)("fareAdvisory.".concat(n,".").concat(a)))}));return u.a.createElement("div",null,n)}},function(e,t,n){var a=n(774)("ceil");e.exports=a},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),i=n(128),s=n.n(i),o=n(13),l=n.n(o),c=n(4),u=n.n(c),d=n(122),p=n.n(d),h=n(2),f=n.n(h),m=n(38),g=n.n(m),v=n(51),y=n.n(v),b=n(5),C=n.n(b),E=n(16),k=n.n(E),O=n(15),_=n.n(O),P=n(173),S=n.n(P),N=n(8),w=n.n(N),A=n(0),T=n.n(A),I=n(11),D=n(7),x=n(527),j=n(68),L=function(e,t){return function(n){return new Promise((function(a,r){var i=setTimeout((function(){return n(Object(j.r)()).then((function(e){f()(e)&&r({error:!0})})).catch(r)}),t);e.then((function(e){clearTimeout(i),a(e)})).catch((function(e){e.errorCode&&(clearTimeout(i),r(e))}))}))}},F=n(542),B=n(534),R=n(118),M=n(2007),V=n(346),U=n(154);function q(e){return{b2c:"paymentConfiguration",bnpl:"bnplPaymentConfiguration",exchange:"exchangePaymentConfiguration",mto:"mtoPaymentConfiguration",upgrade:"upgradePaymentConfiguration"}[e]}function H(e){return function(t,n){var a=n(),r=a.shoppingCart.get("pricingType");if(!a.payment.getIn(["paymentOptions","paymentCodesByType"],Object(I.Map)()).keySeq().every((function(e){return e===U.b.AWARD}))&&r===V.a.POINTS){var i=a.metadata.get(q(e),{});T()(i,["defaultSelectedPayment","paymentType"])!==U.b.AWARD&&t(Object(x.j)(V.a.CASH,!1,e))}}}var W=n(45),G=n(9),K=n(54),z=n.n(K),Y=n(21),Q=n.n(Y),X=n(766),J=n.n(X),$=n(19),Z=n.n($),ee=n(35),te=n.n(ee),ne=n(79),ae=n.n(ne),re=n(156),ie=n.n(re),se=n(27),oe=n.n(se),le=n(83),ce=n.n(le),ue=n(338),de=n.n(ue),pe=n(110),he=n.n(pe),fe=n(47),me=n(2005);var ge=function(e,t){return Z()(e,(function(e){return T()(t,"chinaUnionSecurePlusCode")===e.paymentCode}))},ve=function(e,t){return Z()(e,(function(e){return Pe(e,t)})).sort((function(e){return T()(t,["unGroupedCreditCards",e.paymentCode,"priority"],1/0)}))};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=C()(T()(t,"cardTypes",{}),(function(e){return e.name})),a=u()(e,(function(e,a){var r=a.paymentInfo||a;if(T()(t,"FOP.".concat(r.paymentType,".enabled"),!1)){if(r.paymentType===U.b.CREDIT_CARD&&!Q()(n,r.paymentCode))return e;e.push(k()({},r,{productType:a.productType||[]}))}return e}),[]),i=T()(t,"FOP.".concat(fe.i.SMARTLINK,".enabled"),!1),s=T()(t,"FOP.".concat(fe.i.AFOP,".enabled"),!1)?ke(a,t):[],o=!f()(e)&&i?Ee(a):[],l=T()(t,"FOP.".concat(fe.i.CUPSP,".enabled"),!1)?ge(a,t):[],c=ve(a,t);return k()({},he()(Ce(a,i,t),"paymentType"),!f()(o)&&{SMARTLINK:o},!f()(s)&&{AFOP:s},!f()(l)&&{CUPSP:l},!f()(c)&&r()({},fe.i.CUSTOM_CREDIT_CARD,c))}var be=function(e){return e.paymentType===fe.i.REMOTE};function Ce(e,t,n){return e.filter(J()(_e)).filter(J()((function(e){return function(e,t){return T()(t,"chinaUnionSecurePlusCode")===e.paymentCode}(e,n)}))).filter(J()((function(e){return Pe(e,n)}))).filter(t?J()(be):function(){return!0})}function Ee(e){var t=e.filter(be),n=e.filter(_e).map(Oe).reduce((function(e,t){return e.concat(t)}),[]).filter(Se);return ae()(n,t)}function ke(e,t){return e.filter(_e).map(Oe).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return function(e,t){return Boolean(T()(t,"alternateFormsOfPayments.".concat(e.afopCode)))}(e,t)})).filter(J()(Se)).map((function(e){return k()({},e,{paymentType:fe.i.AFOP})}))}function Oe(e){return C()(T()(e,"additionalPaymentDetails.afopDetails",{}),(function(t){var n=t.fopCode,a=t.fopSubCode;return k()({},te()(e,"afopDetails"),{afopCode:a?"".concat(n,"-").concat(a):n,fopCode:n,fopSubCode:a})}))}function _e(e){return e.paymentCode===fe.i.AFOP}function Pe(e,t){var n=t.unGroupedCreditCards,a=void 0===n?{}:n;return Object.prototype.hasOwnProperty.call(a,e.paymentCode)}function Se(e){return e.fopCode===fe.a.SMARTLINK}function Ne(e){return ie()(u()(e,(function(e,t){return ae()(e,t.productType)}),[]))}function we(e){if(f()(e))return{};var t,n=function(e){return he()(T()(e,"fopRefundDataList"),"fopCode")}(e),a=(t=n,u()(t,(function(e,t,n){return e[T()(me.a,n,"CREDIT_CARD")]=he()(t,"fopNumber"),e}),{}));return{refundTargets:C()(a,(function(e,t){var n=oe()(oe()(ce()(e)));return{paymentType:t,paymentCode:n.fopCode,identifier:T()(n,"fopNumber","").replace(/X/g,""),price:{currency:T()(n,"refundValue.currency"),amount:de()(oe()(ce()(e)),"refundValue.amount")}}})),totalRefund:T()(e,"totalRefund.alternatives",{amount:0,currency:null})}}function Ae(e,t){var n,a=!f()(t.availableFormOfPaymentsForHotelBooking)||!f()(t.availableFormOfPaymentsForCarRental)?function(e,t){var n=t.availableFormOfPaymentsForHotelBooking,a=void 0===n?[]:n,r=t.availableFormOfPaymentsForCarRental,i=void 0===r?[]:r;return e.map((function(e){return k()({},e,{productType:[].concat(z()(e.productType),z()(a.includes(e.paymentInfo.paymentType)?["HOTEL"]:[]),z()(i.includes(e.paymentInfo.paymentType)?["CAR"]:[]))})}))}(T()(e,"payment.paymentProducts",[]),t):T()(e,"payment.paymentProducts",[]),r=we(T()(e,"payment.refundDataModel",{})),i=void 0===T()(e,"result");return{paymentProducts:a,paymentCodesByType:ye(a,t),productTypes:Ne(T()(e,"payment.paymentProducts",[])),paymentRequired:T()(e,"result.paymentRequired"),refundData:r,paymentType:i?me.b.ADD_COLLECT:(n=T()(e,"result"),n.refund&&n.paymentRequired?me.b.EXCHANGE:n.refund?me.b.REFUND:n.paymentRequired?me.b.ADD_COLLECT:me.b.EXCHANGE)}}var Te=n(18),Ie=n.n(Te),De=n(43),xe=n.n(De),je=n(1538);function Le(e,t){return xe()(e,(function(e){return e.code===t}))}function Fe(e){return!f()(T()(e.pnr,"reloc",""))}function Be(e,t){var n=e.pnr,a=n.priceBreakdown,r=n.insuranceInformation,i=T()(a,"price.alternatives[0][0]"),s=T()(e,"messages"),o=Le(s,"bnplConfirmationSuccess"),l=Le(s,"ssrFailedToAddSomeSeats"),c=function(e){return Boolean(_()(T()(e,"pnr.payments",[]),(function(e){return"REMOTE"===e.paymentType})))&&!f()(T()(e,"pnr.timeToTicket"))}(e),u=T()(r,"policyNumber"),d=function(e,t,n){return!!n&&{amountToBePaid:t.amount,timeToTicket:T()(e,"pnr.timeToTicket")}}(e,i,o),p=T()(e,"pnr");return Ie()(Object(je.a)(e,t),{success:Fe(e),isBNPL:o,isRemote:c,bnpl:d,seatSelectionFailed:l,policyNumber:u,pnrInfo:p,messages:s})}var Re=function(e){return u()(e,(function(e,t){return(e[t.paymentCode]||(e[t.paymentCode]=[])).push(t),e}),{})},Me=function(e,t){var n=Z()(T()(e,"secondFops",[]),(function(e){return 0!==T()(e,"amount.amount",0)}));return{products:n,paymentCodesByType:n.length>0?ye(n,t):{},payments:Re(n)}};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){var t=Object(G.l)("bnpl");return Object(G.g)(t.toString(),G.b).then((function(t){var n=t;return n.holdOptions=C()(n.holdOptions,(function(t){var n,a,i,s,o,c,u,d=t.paymentMethods;return"FEE"===t.type&&(d=[],l()(T()(t,"productPaymentCombinability.productPayments[0].paymentList"),(function(e){d.push({paymentInfo:e})}))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{period:(n=t.period,a=/\d+D/i,i=/\d+H/i,s=/\d+M/i,o=n.match(a)&&n.match(a)[0].replace("D",""),c=n.match(i)&&n.match(i)[0].replace("H",""),u=n.match(s)&&n.match(s)[0].replace("M",""),{days:parseInt(o,10),hours:parseInt(c,10),minutes:parseInt(u,10)}),paymentMethods:ye(d,e)})})),n}))}function qe(e,t,n){return Object(G.g)(Object(G.l)("paymentOptions",t),G.c,{body:e}).then((function(e){return Me(e,n)}))}function He(e,t,n){return Object(G.g)(Object(G.l)("purchase",t).toString(),G.c,{body:e}).then((function(e){return e.pnr?Be(e,n):e}))}var We=n(37),Ge=n.n(We);var Ke=n(10),ze=n(84),Ye=n(2053),Qe=n(148),Xe=n(1936),Je=n(258),$e=n(60),Ze=n(331);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(){return function(e,t){var n=t().metadata.get(q(ze.a.B2C));return e({type:D.p}),Ue(n).then((function(t){e({type:D.p,holdOptions:at(t.holdOptions,T()(n,"BNPL.sortOrder"))})})).catch((function(e){throw e}))}}function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NONE",n={ASC:function(e,t){return e.price.amount-t.price.amount},DESC:function(e,t){return t.price.amount-e.price.amount},NONE:function(){return 0}};return e.sort(n[t])}function rt(e){return function(t,n){var a=n().metadata.get(q(e));return t({type:D.Wd}),function(e,t){return Object(G.g)(Object(G.l)("paymentOptions",t).toString(),G.b).then((function(t){return Ae(t,e)}))}(a,e).then((function(e){var r=k()({},e);if(Object(Qe.c)()){var i=n().payment.getIn(["insuranceData","paymentOptions"],Object(I.List)()).toJS();r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.paymentCodesByType,r=void 0===a?{}:a,i=u()(n,(function(e,n,a){var i=r[a]||[];return l()(n,(function(e){var n=S()(i,(function(t){return t.paymentCode===e.paymentCode})),a=i[n]||{};Ge()(a,e);var r=T()(a,"externalProductTypes",[]);r.push(t);var s=T()(a,"productType",[]);s.push(t),Ge()(a,{externalProductTypes:r,productType:s}),-1===n&&i.push(a)})),e[a]=i,e}),{}),s=T()(e,"productTypes",[]).concat(t);return Ge()({},e,{paymentCodesByType:i,productTypes:s})}(r,Ke.y,ye(i,a))}return t({type:D.Xd,response:r}),e})).catch((function(e){throw e.errorType===fe.d.HTTPERROR&&e.response.errorCode===Ze.h&&t({type:D.Vd,data:e.response}),t({type:D.Ud,data:e.response}),e}))}}function it(e,t,n){return function(a,r){return a({type:D.Sd,paymentType:e}),function(e,t,n){var a="".concat(Object(G.l)("paymentOptions",n),"/details/").concat({TRAVEL_BANK:"BT",AWARD:"AWARD",GIFT_CARD:"GC",UTAP_VOUCHER:"GC"}[e]),r=f()(t)?G.b:G.c;return Object(G.g)(a.toString(),r,r===G.b?void 0:{body:t})}(e,t,n).then((function(n){if(e===U.b.AWARD){var i=r().shoppingCart.get("data"),s=Object(U.k)(n,i,f()(t));return a({type:D.Td,paymentType:e,response:s}),s}return a({type:D.Td,paymentType:e,response:n}),n})).catch((function(t){throw"HTTPERROR"===t.errorType&&a({type:D.Rd,paymentType:e,error:t.response}),t}))}}function st(e){return function(t){return t({type:D.Td,paymentType:e,response:{}})}}function ot(e,t){return function(n,a){n({type:D.je}),n({type:D.sf});var r=a(),i=r.metadata.get(q(t)),s=T()(i,["purchaseTimeout","duration"]),o=T()(i,["purchaseTimeout","isEnabled"]),l={flightDetails:r.metadata.get("flightDetails"),ancillaryMap:r.metadata.get("ancillaryMap")},c=He(e,t,l).then((function(e){return Object(Qe.e)(),!e.pnr||a().cars.get("selectedCarOffer")||a().hotels.get("selectedHotel")||n({type:D.Gb}),e.pnr&&a().cars.get("selectedCarOffer")&&n({type:D.H}),e.pnr&&a().hotels.get("selectedHotel")&&n({type:D.t}),e})).then((function(e){e.pnr?(n({type:D.tf,tripDetails:e}),n({type:D.ke,confirmation:e}),n({type:D.eb,results:e.cart}),n(Object(Xe.h)(Xe.a.SUCCESSFUL))):n({type:D.ie,response:e})})).catch((function(a){var r=Je.a[a.errorCode];throw r&&n(r(a.response)),"HTTPERROR"===a.errorType&&(f()(e.payment)||n(H(t)),n({type:D.Ud,data:a.response})),n(Object(Xe.h)(Xe.a.ERROR)),a}));return o?n(L(c,s)).catch((function(e){if(e.errorType!==fe.d.EXECUTION_EXPIRED)throw e.error&&n({type:D.Ud,data:{errorCode:"ERR.SSW.PURCHASE.ERROR"}}),e;n({type:D.pe})})):c}}function lt(e,t){return function(n){return n({type:D.pb}),He(e,t).then((function(e){n({type:D.rb,smsResponse:e})})).catch((function(e){n({type:D.qb,error:e})}))}}function ct(){return function(e){e({type:D.ob})}}function ut(e,t){return function(n,a){n({type:D.ge});var r=a(),i=r.metadata.get(q(t)),s=T()(i,["purchaseTimeout","duration"]),o=T()(i,["purchaseTimeout","isEnabled"]),l={flightDetails:r.metadata.get("flightDetails"),ancillaryMap:r.metadata.get("ancillaryMap")},c=function(e,t,n){return Object(G.g)(Object(G.l)("bnplPurchase",t).toString(),G.c,{body:e}).then((function(e){return e.pnr?Be(e,n):e}))}(e,t,l).then((function(e){e.pnr?(Object(Qe.e)(),n({type:D.Gb}),n({type:D.tf,tripDetails:e}),n({type:D.he,confirmation:e,success:e.success}),n(Object(Xe.h)(Xe.a.SUCCESSFUL))):n({type:D.ie,response:e})})).catch((function(a){throw"HTTPERROR"===a.errorType&&(f()(e.payment)||n(H(t)),n({type:D.Ud,data:a.response})),n(Object(Xe.h)(Xe.a.ERROR)),a}));return o?n(L(c,s)).catch((function(e){if(e.errorType!==fe.d.EXECUTION_EXPIRED)throw e.error&&n({type:D.Ud,data:{errorCode:"ERR.SSW.PURCHASE.ERROR"}}),e;n({type:D.pe})})):c}}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=S()(t,(function(t){return t.paymentType===e.paymentType})),i=t.slice(0,-1===r?t.length:r);return f()(e.combinableWith)||e.paymentType===U.b.CREDIT_CARD?(i.push(e),function(e){return Promise.resolve(e({type:D.Zd,paymentQuery:i,paymentSelected:!0}))}):function(t){return t({type:D.Vb}),qe(g()(e,["paymentCode","amount"]),n,a).then((function(n){return i.push(k()(e,{combinablePaymentProducts:n.products,combinablePaymentOptions:n.paymentCodesByType})),t({type:D.Zd,paymentQuery:i,paymentSelected:f()(n.paymentCodesByType)}),t({type:D.Wb})})).catch((function(n){return"HTTPERROR"===n.errorType&&"ERR.SSW.APP.NO_SECOND_FOP_REQUIRED"===n.errorCode?(i.push(e),t({type:D.Zd,paymentQuery:i,paymentSelected:!0}),t({type:D.Wb})):t({type:D.Ud,data:n.response})}))}}function pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=S()(t,(function(t){return t.paymentType===e})),r=n&&e===U.b.SMARTLINK,i=r?[]:t.slice(0,-1===a?t.length:a);return function(e){e({type:D.Qd,paymentQuery:i})}}function ht(e){var t=e.paymentQuery,n=e.metadata,a=e.configuration,r=e.language,i=e.currentFlow;return function(e,o){var l=o().payment.get("paymentRequired"),c=o().payment.get("ABNACNNumber"),u=o().payment.getIn(["installments","selectedInstallmentPlan"]),d=JSON.parse(W.a.get("dxCreateAccount")),p=Object(U.e)(t).withPaymentRequired(l).withProfileCreation(d,n).withFraudCheck(a).withLanguageForBooking(n,r).withRemarksAndSSRs(t,c),h=o(),m=h.payment.get("selectedHoldOption")||{};h.metadata.get("flightDetails"),h.metadata.get("ancillaryMap");return e(bt()),f()(m)||m.isEmpty()?T()(s()(t),"paymentType")===U.b.CREDIT_CARD&&T()(a,"installmentPayment.isEnabled")&&u?e(ot(p.withInstallmentPlan(u,o().payment.getIn(["installments","currency"])).getQuery(),i)):e(ot(p.getQuery(),i)):e(ut(p.withBookNowPayLater(m.get("optionId")).getQuery(),i))}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t({type:D.q,selectedHoldOption:e,paymentQuery:[],paymentSelected:!f()(e)&&(T()(e,"holdOptions.type")===Ye.a||T()(e,"type")===Ye.a)})}}function mt(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={ANCILLARY:function(e){return e(Object(x.c)(t))},SEATS:p.a,INSURANCE:function(){return Object(Qe.c)()?Object(Qe.f)():Object(R.updateInsuranceInCart)({productID:""},!1,t)},HOTEL:function(e){return e(Object(F.f)())},CAR:function(e){return e(Object(B.j)())}};return function(i){return Promise.all(C()(e,(function(e){return r[e](i)}))).then((function(){return!f()(a)&&(T()(a,"holdOptions.type")===Ye.a||T()(a,"type")===Ye.a)?i(Object(x.g)(t,n)):(i(Object(x.g)(t,n)),i(rt(t)))})).catch((function(e){"HTTPERROR"===e.errorType&&i({type:D.Ud,data:e.response})}))}}function gt(e){return function(t){return t({type:D.be,paymentSelected:e})}}function vt(){return function(e){return e({type:D.Gb})}}function yt(e,t){return function(n){return n({type:D.ac,state:e&&t})}}function bt(e){return function(t){t({type:D.hc}),"both"===e&&t({type:D.jc,dccOptionSelected:{}})}}function Ct(e,t){return function(n){return n(bt("both")),function(e,t){return Object(G.g)(Object(G.l)("getDCCOffers",t),G.c,{body:e}).then((function(e){return e}))}(e,t).then((function(e){return n({type:D.ic,response:e}),n({type:D.jc,dccOptionSelected:e.dccPaymentOffers[0]}),e.dccPaymentOffers}))}}function Et(e){return function(t){t({type:D.jc,dccOptionSelected:e})}}function kt(e,t){return function(n,a){var r=a().shoppingCart.get("data"),i=a().metadata.getIn(["shoppingCart","insurance"],Object(I.Map)()).toJS(),s=tt({},e,{},i);return n({type:D.Ac}),Object(R.getInsurance)(s,r,t).then((function(e){n({type:D.Bc,response:e})})).catch((function(e){throw n({type:D.zc}),e}))}}function Ot(e,t,n,a){return function(r,i){r({type:D.Wd});var s=i().shoppingCart.get("data"),o={itineraryParts:Object(M.a)(Object(I.fromJS)(t.itineraryParts)),passengers:Object(M.c)(Object(I.fromJS)(t.passengers)),totalAirfare:Object(M.d)(Object(I.fromJS)(t.totalPaid)),preferredLanguage:Object(M.b)(n.query.locale)};return Object(R.getPostInsurance)(e,o,s,a).then((function(e){r({type:D.Bc,response:e})}))}}function _t(e,t){return function(n){n({type:D.je});var a=u()(e,(function(e,t){return l()(t.externalProductTypes,(function(n){var a=e[n]||[];a.push(t),e[n]=a})),e}),{}),r=u()(a,(function(e,a,r){var i,s;return r===Ke.y&&e.push(n((i=t,s=a,function(e){var t=Object(Qe.b)();if(!f()(t)){var n=Object(U.e)(s).withAmount(T()(t,"insurancePrice.total",{})).getQuery();return Object(Qe.a)(t,i,n).catch((function(t){throw e({type:D.Ud,data:t}),t}))}return null}))),e}),[]);return Promise.all(r)}}function Pt(e,t,n,a){return function(r){r({type:D.Ef});return(n===ze.a.MTO?Object(Qe.h)({ancillary:e,isAdding:t,flow:n}):Object(R.updateInsuranceInCart)(e,t,n)).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n!==ze.a.MTO&&!t.successful){var i=new Error("ERR.SSW.APP.INSURANCE_UNSUCCESSFUL");return r({type:D.Ud,error:i})}return r({type:D.Zd,paymentQuery:[],paymentSelected:!1}),r(Object(x.g)(n,a)).then((function(){r({type:D.Ff,productID:e.productID}),r(St())})),r(rt(n))})).catch((function(e){throw r({type:D.Ud,error:e}),e}))}}function St(e){return function(t,n){var a=n().payment.getIn(["insuranceData"],Object(I.Map)()),r=n().shoppingCart.getIn(["data","insurance","breakdownElements"],Object(I.List)()),i=T()(e,["insurance","autoInclude"],!1);if(!a.get("insurance",Object(I.Map)()).isEmpty()){var s=!r.isEmpty(),o=Object(Qe.d)()||s,l=i&&s,c=a.setIn(["insurance","isLoading"],!1).setIn(["insurance","isAddedToCart"],s).setIn(["insurance","isSelected"],o).setIn(["insurance","isPreselected"],l);Object(Qe.g)(o),t({type:D.Bc,response:c.toJS()})}}}function Nt(e,t){return function(n){return n(t?function(e){var t=T()(e,"insurance.price.currency");return function(e){return e({type:D.Gf,total:[{amount:0,currency:t}],insurance:{},productID:""})}}(e):function(e){return function(t){return t({type:D.Gf,total:[T()(e,"insurance.price",{})],insurance:k()(tt({},e.insurance),{isAncillarySelected:!0}),productID:T()(e,"insurance.productID","")})}}(e))}}function wt(e){return function(t,n){var a=y()(n().payment.get("paymentQuery"),"toJS",[]),r=!n().payment.get("selectedHoldOption").isEmpty();return t(St()),t(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"b2c",a=1===e.length&&e[0].paymentType===U.b.CREDIT_CARD;return function(r){return a||r({type:D.Wd}),r(rt(n)).then((function(n){if(a){var i=k()({},e[0].data),s=T()(n,"paymentCodesByType[".concat(U.b.CREDIT_CARD,"]"),[]),o=_()(s,(function(e){return e.paymentCode===i.cardCode}));if(o&&!t){var l=T()(i,"redirectData.redirectUrlData.defaultURL");if(l){var c=l.split("?");if(2===c.length){var u=c[1].split("&");u[S()(u,(function(e){return Boolean(e.match(/^amount=/))}))]="amount=".concat(o.amount.amount),l="".concat(c[0],"?").concat(u.join("&"))}w()(i,"redirectData.redirectUrlData.defaultURL",l)}r({type:D.Zd,paymentQuery:[k()({},e[0],{amount:o.amount,data:i})],paymentSelected:!0})}}else r({type:D.Zd,paymentQuery:[],paymentSelected:!1})}))}}(a,r,e))}}function At(e){return function(){return function(e){return Object(G.i)(e)}(e)}}function Tt(e){return function(t){return t({type:D.wf,number:e})}}function It(e,t){return function(n){return n({type:D.Dd}),(a={cardCode:e,cardBIN:t},Object(G.g)(Object(G.l)("installments"),G.c,{body:a}).then((function(e){return e}))).then((function(e){f()(e)||f()(e.installmentOptions)?n({type:D.Bd}):n({type:D.Ed,response:e})})).catch((function(e){throw n({type:D.Cd,error:e}),e}));var a}}function Dt(e){return function(t){t({type:D.Xe,selectedInstallmentPlan:e})}}function xt(){return function(e){e({type:D.Eb})}}function jt(){return function(e){e({type:D.Nb})}}function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=n().payment.get("paymentQuery").push(Object(I.fromJS)(e)),r=a.reduce((function(e,t){var n=t.get("surcharge",Object(I.Map)()).toJS();return Object($e.n)([[n]])?Object($e.b)(e,t.get("surcharge",Object(I.Map)())):e}),Object(I.List)());return t({type:D.Kf,totalSurcharge:r}),t({type:D.Yd,selectedPaymentOptions:a,totalSurcharge:r})}}function Ft(){return function(e){e({type:D.Bd})}}n.d(t,"getBNPLholdOptions",(function(){return nt})),n.d(t,"getPaymentOptions",(function(){return rt})),n.d(t,"getPaymentDetails",(function(){return it})),n.d(t,"clearPaymentDetails",(function(){return st})),n.d(t,"processPayment",(function(){return ot})),n.d(t,"sendFreeChinaUnionPaySms",(function(){return lt})),n.d(t,"clearChinaUnionPaySmsResponse",(function(){return ct})),n.d(t,"processBNPL",(function(){return ut})),n.d(t,"updatePaymentQuery",(function(){return dt})),n.d(t,"cancelPayment",(function(){return pt})),n.d(t,"purchase",(function(){return ht})),n.d(t,"selectBNPL",(function(){return ft})),n.d(t,"dropProducts",(function(){return mt})),n.d(t,"setPaymentSelected",(function(){return gt})),n.d(t,"clearPreviousPaymentState",(function(){return vt})),n.d(t,"canContinue",(function(){return yt})),n.d(t,"clearDCCOffers",(function(){return bt})),n.d(t,"getDCCOffers",(function(){return Ct})),n.d(t,"setDCCOption",(function(){return Et})),n.d(t,"getInsurance",(function(){return kt})),n.d(t,"getPostBookingInsurance",(function(){return Ot})),n.d(t,"processExternalPayments",(function(){return _t})),n.d(t,"updateInsurance",(function(){return Pt})),n.d(t,"updateInsuranceWithCart",(function(){return St})),n.d(t,"updateTotalForInsurance",(function(){return Nt})),n.d(t,"onCartItemRemove",(function(){return wt})),n.d(t,"isBankIdentificationValid",(function(){return At})),n.d(t,"processABNACNNumber",(function(){return Tt})),n.d(t,"getInstallmentPlansForSelectedCCType",(function(){return It})),n.d(t,"selectInstallmentPlan",(function(){return Dt})),n.d(t,"clearInstallmentPlans",(function(){return xt})),n.d(t,"clearSelectedInstallmentPlan",(function(){return jt})),n.d(t,"selectPaymentOption",(function(){return Lt})),n.d(t,"showInstallmentCreditCardDoesNotQualifyMessage",(function(){return Ft}))},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),C=n(1286),E=n(84),k=n(14),O=n(1305),_=n(1360),P=n(1320),S=n(1374),N=n(83),w=n.n(N),A=n(334),T=n.n(A);var I=function(e){var t=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.PASSENGERS,".").concat(e.crumbState),{passengerCount:T()(w()(e.passengers))});return y.a.createElement(P.a,{crumbSubTitle:t})},D=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(S.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PASSENGERS})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(_.a,{pageName:k.a.PASSENGERS,flowName:E.a.B2C})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(S.a,{crumbState:O.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PASSENGERS})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.PASSENGERS,".").concat(O.a.HOVER));return y.a.createElement(P.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(C.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:y.a.createElement(I,{crumbState:this.props.crumbState,passengers:this.props.searchCriteriaQueryParams.passengers}),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onPassengerCrumbClick(e.props.url)},className:"dxp-breadcrumb-item passenger-breadcrumb-item"})}}]),t}(v.Component);n.d(t,"a",(function(){return D}))},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u}));var a=n(47);n.d(t,"b",(function(){return a.i})),n.d(t,"a",(function(){return a.h}));var r="REMOTE_RETURN_REQUEST",i="REMOTE_RETURN_SET_STATUS",s="REMOTE_RETURN_RESET",o="REMOTE_RETURN_SET_SERVICE";function l(e){return{type:o,serviceName:e}}function c(e){return{type:r,serviceName:e}}function u(e){return{type:i,status:e}}},,function(e,t,n){"use strict";var a=n(1591);e.exports=a},function(e,t,n){var a=n(775),r=n(179),i=n(120),s=n(116);e.exports=function(e,t,n){return t=(n?r(e,t,n):void 0===t)?1:i(t),a(s(e),t)}},,function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,o,l,c,u,d=n(1),p=r(d),h=r(n(6)),f=n(1971),m=r(n(39)),g=r(n(1943)),v="transform",y=!0,b=0,C=-1,E=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var a=!0;a;){var r=e,i=t,s=n;a=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,i);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=s,a=!0,o=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.handleResize=this.handleResize.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleScrollStart=this.handleScrollStart.bind(this),this.delta=0,this.stickyTop=0,this.stickyBottom=0,this.frozen=!1,this.skipNextScrollEvent=!1,this.scrollTop=-1,this.bottomBoundaryTarget,this.topTarget,this.subscribers,this.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:0,pos:0,activated:!1}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getTargetHeight",value:function(e){return e&&e.offsetHeight||0}},{key:"getTopPosition",value:function(e){return"string"==typeof(e=e||this.props.top||this.props.topTarget||0)&&(this.topTarget||(this.topTarget=s.querySelector(e)),e=this.getTargetHeight(this.topTarget)),e}},{key:"getTargetBottom",value:function(e){if(!e)return-1;var t=e.getBoundingClientRect();return this.scrollTop+t.bottom}},{key:"getBottomBoundary",value:function(e){var t=e||this.props.bottomBoundary;return"object"==typeof t&&(t=t.value||t.target||0),"string"==typeof t&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=s.querySelector(t)),t=this.getTargetBottom(this.bottomBoundaryTarget)),t&&t>0?t:1/0}},{key:"reset",value:function(){this.setState({status:0,pos:0})}},{key:"release",value:function(e){this.setState({status:1,pos:e-this.state.y})}},{key:"fix",value:function(e){this.setState({status:2,pos:e})}},{key:"updateInitialDimension",value:function(e){e=e||{};var t=this.outerElement.getBoundingClientRect(),n=this.innerElement.getBoundingClientRect(),a=t.width||t.right-t.left,r=n.height||n.bottom-n.top,i=t.top+this.scrollTop;this.setState({top:this.getTopPosition(e.top),bottom:Math.min(this.state.top+r,C),width:a,height:r,x:t.left,y:i,bottomBoundary:this.getBottomBoundary(e.bottomBoundary),topBoundary:i})}},{key:"handleResize",value:function(e,t){this.props.shouldFreeze()||(C=t.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(e,t){this.frozen=this.props.shouldFreeze(),this.frozen||(this.scrollTop===t.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=t.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(e,t){this.skipNextScrollEvent?this.skipNextScrollEvent=!1:(b=t.scroll.delta,this.scrollTop=t.scroll.top,this.update())}},{key:"update",value:function(){if(!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||0===this.state.width&&0===this.state.height)0!==this.state.status&&this.reset();else{var e=b,t=this.scrollTop+this.state.top,n=this.scrollTop+this.state.bottom;if(t<=this.state.topBoundary)this.reset();else if(n>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>C-this.state.top)switch(this.state.status){case 0:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case 1:this.stickyBottom=this.stickyTop+this.state.height,e>0&&n>this.stickyBottom?this.fix(this.state.bottom-this.state.height):e<0&&t<this.stickyTop&&this.fix(this.state.top);break;case 2:var a=!0,r=this.state.pos,i=this.state.height;if(e>0&&r===this.state.top)this.stickyTop=t-e,this.stickyBottom=this.stickyTop+i;else if(e<0&&r===this.state.bottom-i)this.stickyBottom=n-e,this.stickyTop=this.stickyBottom-i;else if(r!==this.state.bottom-i&&r!==this.state.top){var s=r+i-this.state.bottom;this.stickyBottom=n-e+s,this.stickyTop=this.stickyBottom-i}else a=!1;a&&this.release(this.stickyTop)}else this.fix(this.state.top);this.delta=e}}},{key:"componentWillReceiveProps",value:function(e){this.updateInitialDimension(e),this.update()}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),e.enabled!==this.props.enabled&&(this.props.enabled?this.setState({activated:!0},(function(){n.updateInitialDimension(),n.update()})):this.setState({activated:!1},(function(){n.reset()})))}},{key:"componentWillUnmount",value:function(){for(var e=(this.subscribers||[]).length-1;e>=0;e--)this.subscribers[e].unsubscribe()}},{key:"componentDidMount",value:function(){u||(u=window,s=document,l=s.documentElement,o=s.body,C=u.innerHeight||l.clientHeight,(c=window.Modernizr)&&c.prefixed&&(y=c.csstransforms3d,v=c.prefixed("transform"))),this.scrollTop=o.scrollTop+l.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[(0,f.subscribe)("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),(0,f.subscribe)("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),(0,f.subscribe)("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(e,t){y&&this.props.enableTransforms&&this.state.activated?e[v]="translate3d(0,"+Math.round(t)+"px,0)":e.top=t+"px"}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.shouldFreeze()||(0,g.default)(this.props,e)&&(0,g.default)(this.state,t))}},{key:"render",value:function(){var e,t=this,n={position:2===this.state.status?"fixed":"relative",top:2===this.state.status?"0px":"",zIndex:this.props.innerZ},a={};this.translate(n,this.state.pos),0!==this.state.status&&(n.width=this.state.width+"px",a.height=this.state.height+"px");var r=(0,m.default)("sticky-outer-wrapper",this.props.className,(i(e={},this.props.activeClass,2===this.state.status),i(e,this.props.releasedClass,1===this.state.status),e)),s=this.props.children;return p.default.createElement("div",{ref:function(e){t.outerElement=e},className:r,style:a},p.default.createElement("div",{ref:function(e){t.innerElement=e},className:"sticky-inner-wrapper",style:n},"function"==typeof s?s({status:this.state.status}):s))}}]),t}(d.Component);E.displayName="Sticky",E.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null},E.propTypes={enabled:h.default.bool,top:h.default.oneOfType([h.default.string,h.default.number]),bottomBoundary:h.default.oneOfType([h.default.object,h.default.string,h.default.number]),enableTransforms:h.default.bool,activeClass:h.default.string,releasedClass:h.default.string,onStateChange:h.default.func,shouldFreeze:h.default.func,innerZ:h.default.oneOfType([h.default.string,h.default.number])},E.STATUS_ORIGINAL=0,E.STATUS_RELEASED=1,E.STATUS_FIXED=2,e.exports=E},function(e,t,n){(function(){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,a,i,s){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new r(a,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,a,r=[];if(0===this._eventsCount)return r;for(a in e=this._events)t.call(e,a)&&r.push(n?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=n?n+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var r=0,i=a.length,s=new Array(i);r<i;r++)s[r]=a[r].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,r,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,a),!0;case 4:return u.fn.call(u.context,t,a,r),!0;case 5:return u.fn.call(u.context,t,a,r,i),!0;case 6:return u.fn.call(u.context,t,a,r,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,a);break;case 4:u[c].fn.call(u[c].context,t,a,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,a,r){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||a&&o.context!==a||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||r&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}).call(window)},function(e,t){e.exports=function(e,t,n,a){var r=n?n.call(a,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(r=n?n.call(a,u,d,c):void 0)||void 0===r&&u!==d)return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return"dxp-breadcrumbs-container-view-".concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={INBOUND:"inbound",OUTBOUND:"outbound"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(36),r=n.n(a),i=n(84),s=n(101),o=n(14),l=n(10),c=n(1363),u=function(e){var t=e&&e.get("productTypes");return t&&t.every((function(e){return e===l.H}))};function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=Object(s.a)(n);if(d!==i.a.MTO)return e.getIn(["flows",d]);var p=r()(n.split("/"));return p!==o.a.ANCILLARIES&&(p===o.a.SEAT_SELECTION||a===c.a.ADD_MODIFY_SEATS||u(t)&&!l)?e.getIn(["flows",d,"seats"]):e.getIn(["flows",d,"ancillaries"])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),C=n.n(b),E=n(25),k=n(1714),O=n(326),_=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"shouldComponentUpdate",(function(e){return Object(E.f)()||Object(k.b)({left:n.props,right:e,keys:["defaultValue","placeholder","label","className","noResultsText","index"]})||Object(k.a)({left:n.props,right:e,keys:["options","validators"]})})),n}return f()(t,e),s()(t,[{key:"onChange",value:function(e){return this.props.onChange&&this.props.onChange(e)}},{key:"getValue",value:function(){return this.fieldAutoComplete.getValue()}},{key:"focus",value:function(){return this.fieldAutoComplete.focus()}},{key:"isValid",value:function(){return this.fieldAutoComplete.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.label,r=t.options,i=t.placeholder,s=t.noResultsText,o=t.validators,l=t.defaultValue,c=t.index,u=t.id;return y.a.createElement("div",{className:C()(n,"airport-selection","airport-fields"),id:u},y.a.createElement(O.a,{ref:function(t){e.fieldAutoComplete=t},label:a,keyProp:"".concat(this.props.keyProp).concat(c),options:r,placeholder:i,noResultsText:s,onChange:function(t){return e.onChange(t)},validators:o,useLabelFeedback:!0,defaultValue:l,className:n,index:c}))}}]),t}(v.Component);g()(_,"defaultProps",{validators:[],options:[],className:void 0,defaultValue:"",index:"",placeholder:void 0,noResultsText:void 0,label:void 0,onChange:void 0,id:void 0})},function(e,t,n){"use strict";function a(e,t){if(t)for(var n=Object.keys(t),a=0,r=n.length;a<r;a++)e[n[a]]=t[n[a]];return e}function r(e){return a({},e)}var i=/^\d$/,s=/^[A-Za-z]$/,o=/^[\dA-Za-z]$/,l={"*":{validate:function(e){return o.test(e)}},1:{validate:function(e){return i.test(e)}},a:{validate:function(e){return s.test(e)}},A:{validate:function(e){return s.test(e)},transform:function(e){return e.toUpperCase()}},"#":{validate:function(e){return o.test(e)},transform:function(e){return e.toUpperCase()}}};function c(e,t,n,a){if(!(this instanceof c))return new c(e,t,n);this.placeholderChar=n||"_",this.formatCharacters=t||l,this.source=e,this.pattern=[],this.length=0,this.firstEditableIndex=null,this.lastEditableIndex=null,this._editableIndices={},this.isRevealingMask=a||!1,this._parse()}function u(e){if(!(this instanceof u))return new u(e);if(null==(e=a({formatCharacters:null,pattern:null,isRevealingMask:!1,placeholderChar:"_",selection:{start:0,end:0},value:""},e)).pattern)throw new Error("InputMask: you must provide a pattern.");if("string"!=typeof e.placeholderChar||e.placeholderChar.length>1)throw new Error("InputMask: placeholderChar should be a single character or an empty string.");this.placeholderChar=e.placeholderChar,this.formatCharacters=function(e){var t=r(l);if(e)for(var n=Object.keys(e),a=0,i=n.length;a<i;a++){var s=n[a];null==e[s]?delete t[s]:t[s]=e[s]}return t}(e.formatCharacters),this.setPattern(e.pattern,{value:e.value,selection:e.selection,isRevealingMask:e.isRevealingMask})}c.prototype._parse=function(){for(var e=this.source.split(""),t=0,n=[],a=0,r=e.length;a<r;a++){var i=e[a];if("\\"===i){if(a===r-1)throw new Error("InputMask: pattern ends with a raw \\");i=e[++a]}else i in this.formatCharacters&&(null===this.firstEditableIndex&&(this.firstEditableIndex=t),this.lastEditableIndex=t,this._editableIndices[t]=!0);n.push(i),t++}if(null===this.firstEditableIndex)throw new Error('InputMask: pattern "'+this.source+'" does not contain any editable characters.');this.pattern=n,this.length=n.length},c.prototype.formatValue=function(e){for(var t=new Array(this.length),n=0,a=0,r=this.length;a<r;a++)if(this.isEditableIndex(a)){if(this.isRevealingMask&&e.length<=n&&!this.isValidAtIndex(e[n],a))break;t[a]=e.length>n&&this.isValidAtIndex(e[n],a)?this.transform(e[n],a):this.placeholderChar,n++}else t[a]=this.pattern[a],e.length>n&&e[n]===this.pattern[a]&&n++;return t},c.prototype.isEditableIndex=function(e){return!!this._editableIndices[e]},c.prototype.isValidAtIndex=function(e,t){return this.formatCharacters[this.pattern[t]].validate(e)},c.prototype.transform=function(e,t){var n=this.formatCharacters[this.pattern[t]];return"function"==typeof n.transform?n.transform(e):e},u.prototype.input=function(e){if(this.selection.start===this.selection.end&&this.selection.start===this.pattern.length)return!1;var t=r(this.selection),n=this.getValue(),a=this.selection.start;if(a<this.pattern.firstEditableIndex&&(a=this.pattern.firstEditableIndex),this.pattern.isEditableIndex(a)){if(!this.pattern.isValidAtIndex(e,a))return!1;this.value[a]=this.pattern.transform(e,a)}for(var i=this.selection.end-1;i>a;)this.pattern.isEditableIndex(i)&&(this.value[i]=this.placeholderChar),i--;for(this.selection.start=this.selection.end=a+1;this.pattern.length>this.selection.start&&!this.pattern.isEditableIndex(this.selection.start);)this.selection.start++,this.selection.end++;return null!=this._historyIndex&&(this._history.splice(this._historyIndex,this._history.length-this._historyIndex),this._historyIndex=null),("input"!==this._lastOp||t.start!==t.end||null!==this._lastSelection&&t.start!==this._lastSelection.start)&&this._history.push({value:n,selection:t,lastOp:this._lastOp}),this._lastOp="input",this._lastSelection=r(this.selection),!0},u.prototype.backspace=function(){if(0===this.selection.start&&0===this.selection.end)return!1;var e=r(this.selection),t=this.getValue();if(this.selection.start===this.selection.end)this.pattern.isEditableIndex(this.selection.start-1)&&(this.value[this.selection.start-1]=this.placeholderChar),this.selection.start--,this.selection.end--;else{for(var n=this.selection.end-1;n>=this.selection.start;)this.pattern.isEditableIndex(n)&&(this.value[n]=this.placeholderChar),n--;this.selection.end=this.selection.start}return null!=this._historyIndex&&this._history.splice(this._historyIndex,this._history.length-this._historyIndex),("backspace"!==this._lastOp||e.start!==e.end||null!==this._lastSelection&&e.start!==this._lastSelection.start)&&this._history.push({value:t,selection:e,lastOp:this._lastOp}),this._lastOp="backspace",this._lastSelection=r(this.selection),!0},u.prototype.paste=function(e){var t={value:this.value.slice(),selection:r(this.selection),_lastOp:this._lastOp,_history:this._history.slice(),_historyIndex:this._historyIndex,_lastSelection:r(this._lastSelection)};if(this.selection.start<this.pattern.firstEditableIndex){for(var n=0,i=this.pattern.firstEditableIndex-this.selection.start;n<i;n++)if(e.charAt(n)!==this.pattern.pattern[n])return!1;e=e.substring(this.pattern.firstEditableIndex-this.selection.start),this.selection.start=this.pattern.firstEditableIndex}for(n=0,i=e.length;n<i&&this.selection.start<=this.pattern.lastEditableIndex;n++){if(!this.input(e.charAt(n))){if(this.selection.start>0){var s=this.selection.start-1;if(!this.pattern.isEditableIndex(s)&&e.charAt(n)===this.pattern.pattern[s])continue}return a(this,t),!1}}return!0},u.prototype.undo=function(){if(0===this._history.length||0===this._historyIndex)return!1;var e;if(null==this._historyIndex){this._historyIndex=this._history.length-1,e=this._history[this._historyIndex];var t=this.getValue();e.value===t&&e.selection.start===this.selection.start&&e.selection.end===this.selection.end||this._history.push({value:t,selection:r(this.selection),lastOp:this._lastOp,startUndo:!0})}else e=this._history[--this._historyIndex];return this.value=e.value.split(""),this.selection=e.selection,this._lastOp=e.lastOp,!0},u.prototype.redo=function(){if(0===this._history.length||null==this._historyIndex)return!1;var e=this._history[++this._historyIndex];return this._historyIndex===this._history.length-1&&(this._historyIndex=null,e.startUndo&&this._history.pop()),this.value=e.value.split(""),this.selection=e.selection,this._lastOp=e.lastOp,!0},u.prototype.setPattern=function(e,t){t=a({selection:{start:0,end:0},value:""},t),this.pattern=new c(e,this.formatCharacters,this.placeholderChar,t.isRevealingMask),this.setValue(t.value),this.emptyValue=this.pattern.formatValue([]).join(""),this.selection=t.selection,this._resetHistory()},u.prototype.setSelection=function(e){if(this.selection=r(e),this.selection.start===this.selection.end){if(this.selection.start<this.pattern.firstEditableIndex)return this.selection.start=this.selection.end=this.pattern.firstEditableIndex,!0;for(var t=this.selection.start;t>=this.pattern.firstEditableIndex;){if(this.pattern.isEditableIndex(t-1)&&this.value[t-1]!==this.placeholderChar||t===this.pattern.firstEditableIndex){this.selection.start=this.selection.end=t;break}t--}return!0}return!1},u.prototype.setValue=function(e){null==e&&(e=""),this.value=this.pattern.formatValue(e.split(""))},u.prototype.getValue=function(){return this.value.join("")},u.prototype.getRawValue=function(){for(var e=[],t=0;t<this.value.length;t++)!0===this.pattern._editableIndices[t]&&e.push(this.value[t]);return e.join("")},u.prototype._resetHistory=function(){this._history=[],this._historyIndex=null,this._lastOp=null,this._lastSelection=r(this.selection)},u.Pattern=c,e.exports=u},function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return A}));var a=n(3),r=n.n(a),i=n(98),s=n.n(i),o=n(0),l=n.n(o),c=n(65),u=n.n(c),d=n(2),p=n.n(d),h=n(77),f=n.n(h),m=n(13),g=n.n(m),v=n(21),y=n.n(v),b=n(331),C=n(153);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={INCLUDES:function(e,t){return y()(e,t)},EQUALS:function(e,t){return e===t},GT:function(e,t){return e>t},LT:function(e,t){return e<t},MATCH:function(e,t){return!p()(t.match(e))}},_=function(e,t,n){var a=k({},n);return g()(e,(function(e){a[e]=t})),a},P=function(e,t,n){!e.state.backUpEnabledFields&&e.setState({backUpEnabledFields:k({},e.state.enabledFields)});var a=_(t,n,e.state.enabledFields);f()(a,e.state.enabledFields)||e.setState({enabledFields:a})},S={setValue:function(e,t){var n=t[e.controlledField];n&&(n.state.formattedNumber?n.setState({formattedNumber:e.value}):n.setValueAndCheckIfValid?n.setValueAndCheckIfValid(e.value):n.setValue?(n.setValue(e.value),n.state.status===b.f&&n.isValid&&n.isValid()):n.state.selectedValue&&n.setState({selectedValue:e.value}))},alterValidations:function(e,t){var n=t[e.controlledField],a=t.state.updatedValidatorsWithRequiredValidation,r=t.state.backUpValidators;n&&(u()(r,e.controlledField)||(r[e.controlledField]=t[e.controlledField].props.validators),a[e.controlledField]=e.value,t.setState({updatedValidatorsWithRequiredValidation:a,backUpValidators:r,formDataBeforeAlteringValidation:t.getValue()}))},alterSectionFieldValidations:function(e,t,n){var a=n["".concat(e.controlledSection,"Section")];if(a){var r=a[e.controlledField];if(r){var i=n.getBackUpValidators(),s=l()(i,e.controlledSection,{});s[e.controlledField]=r.state.validators,i[e.controlledSection]=s,n.setBackUpValidators(i);var o=r.state.label;Object(C.b)(e.value)&&!o.includes("*")&&r.setState({label:"".concat(o,"*"),validators:e.value})}}},hideFields:function(e,t,n){var a=e.controlledFieldSetFields,r=e.controlledFields;a&&g()(a,(function(e,t){P(n[t],e,!1)})),r&&P(t,r,!1)},showFields:function(e,t,n){var a=e.controlledFieldSetFields,r=e.controlledFields;a&&g()(a,(function(e,t){P(n[t],e,!0)})),r&&P(t,r,!0)},hideSections:function(e,t,n){var a=n.getEnabledSections();!n.getBackedUpSections()&&n.backUpEnabledSections(k({},a));var r=_(e.controlledSections,!1,a);f()(r,a)||n.setEnabledSections(r)},showSections:function(e,t,n){var a=n.getEnabledSections(),r=e.controlledSections.concat(e.controllingSectionName);!n.getBackedUpSections()&&n.backUpEnabledSections(a),n.controlledFieldSections&&n.controlledFieldSections(r);var i=s()(a,e.controlledSections);f()(i,a)||n.setEnabledSections(i,(function(){}))}},N={alterValidations:function(e,t){var n=t[e.controlledField];n&&(p()(t.state.backUpValidators)||t.setState({updatedValidatorsWithRequiredValidation:t.state.backUpValidators,backUpValidators:{},formDataBeforeAlteringValidation:t.getValue()}),n.setState({error:"",isValid:!0,status:"default"}))},alterSectionFieldValidations:function(e,t,n){var a=n["".concat(e.controlledSection,"Section")];if(a){var r=a[e.controlledField];if(r){var i=n.getBackUpValidators(),s=l()(i,e.controlledSection,{})[e.controlledField],o=r.state.label;p()(s)||Object(C.b)(s)||!o.includes("*")||r.setState({label:"".concat(o.replace("*","")),validators:s})}}},hideFields:function(e,t,n){var a=e.controlledFieldSetFields,r=e.controlledFields;a&&g()(a,(function(e,t){n[t].state.backUpEnabledFields&&n[t].setState({enabledFields:k({},n[t].state.backUpEnabledFields)})})),r&&t.state.backUpEnabledFields&&t.setState({enabledFields:k({},t.state.backUpEnabledFields)})},showFields:function(e,t,n){var a=e.controlledFieldSetFields,r=e.controlledFields;a&&g()(a,(function(e,t){n[t].state.backUpEnabledFields&&n[t].setState({enabledFields:k({},n[t].state.backUpEnabledFields)})})),r&&t.state.backUpEnabledFields&&t.setState({enabledFields:k({},t.state.backUpEnabledFields)})},hideSections:function(e,t,n){n.getBackedUpSections()&&n.setEnabledSections(n.getBackedUpSections())},showSections:function(e,t,n){n.getBackedUpSections()&&n.setEnabledSections(n.getBackedUpSections())}},w=function(e,t){return!p()(t)&&l()(t,e)&&t.enabled},A=function e(t,n,a,r){var i=t.mutations;g()(i,(function(i){(function(e,t,n){return e.indexOf("NOT")>-1?!O[e.split("_")[1]](t,n):O[e](t,n)})(i.condition,i.input,n)?"showSections"===i.action?S[i.action](i,a,r,(function(){return e(t,n,a,r)})):S[i.action](i,a,r):N[i.action]&&N[i.action](i,a,r)}))}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var a="dxp-confirmation-view",r="dxp-exchange-confirmation-view",i="dxp-mto-confirmation-view",s="dxp-bnpl-confirmation-view",o="dxp-upgrade-confirmation-view",l="dxp-cancel-flight-confirmation-view",c="dxp-confirmation-header"},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),i=n(1942),s=n.n(i),o=!1;if("undefined"!=typeof window)try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l)}catch(e){}var c=o,u={connections:{},EE:new s.a,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:c},d=u.supportPassiveEvent,p={capture:!1,passive:!1};var h=function(e,t,n,a){var i="addEventListener",s="removeEventListener",o=t,l=!!d&&r()({},p,a);return!e.addEventListener&&e.attachEvent&&(i="attachEvent",s="detachEvent",o="on"+t),e[i](o,n,l),{remove:function(){e[s](t,n)}}},f=!1;if("undefined"!=typeof navigator){var m=navigator.userAgent.match(/MSIE (\d+\.\d+)/);m&&(f=parseFloat(m[1],10)<9)}var g=f,v=n(92),y=n.n(v),b=n(1385),C=n.n(b),E=n(122),k=n.n(E),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var P={width:0,height:0},S={delta:0,top:0},N={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},w=function(e){var t={x:0,y:0},n=document.body,a=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+a.scrollLeft,t.y=e.clientY+n.scrollTop+a.scrollTop),t},A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,e);var n=(t.mainType||"").toLowerCase(),a=(t.subType||"").toLowerCase();this.mainType=n,this.subType=a,this.type=n+a.charAt(0).toUpperCase()+a.slice(1)||"",this.scroll=S,this.resize=P,this.touch=N}return O(e,[{key:"update",value:function(e){var t=this.mainType,n=this.subType,a=document.documentElement;if(u.enableScrollInfo&&("scroll"===t||"touchmove"===t)){var r=a.scrollTop+document.body.scrollTop;r!==this.scroll.top&&(this.scroll.delta=r-this.scroll.top,this.scroll.top=r)}if(u.enableResizeInfo&&"resize"===t&&(this.resize.width=window.innerWidth||a.clientWidth,this.resize.height=window.innerHeight||a.clientHeight),u.enableTouchInfo&&e.touches&&("touchstart"===t||"touchmove"===t||"touchend"===t)){var i=void 0,s=void 0,o=void 0;"touchstart"===t||"start"===n?(i=w(e.touches[0]),this.touch.axisIntention="",this.touch.startX=i.x,this.touch.startY=i.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===t&&(i=w(e.touches[0]),this.touch.deltaX=i.x-this.touch.startX,this.touch.deltaY=i.y-this.touch.startY,""===this.touch.axisIntention&&(s=Math.abs(this.touch.deltaX),o=Math.abs(this.touch.deltaY),s>5&&s>=o?this.touch.axisIntention="x":o>5&&o>s&&(this.touch.axisIntention="y")))}}}]),e}(),T=n(1691),I=n.n(T),D=Date.now||function(){return(new Date).getTime()};var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=void 0,a=void 0,r=0,i=0,s=function s(){var o=D();t-(o-r)<=0?(r=o,i=0,e.apply(n,a)):i=I()(s)};return function(){n=this,a=arguments,i||(i=I()(s))}},j=u.connections,L=u.EE,F=u.listeners,B=u.removers,R=void 0,M=void 0,V=void 0,U=0;function q(e){return e.id||"target-id-"+U++}function H(e,t,n,a){return L.on(e,t||k.a,n),j[a=a||e]=(j[a]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){L.removeListener(e,t,n),j[a]--,0===j[a]&&(F[a].remove(),F[a]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var r=B.length-1;r>=0;r--){if(B[r]===this){B.splice(r,1);break}}}}}}function W(e,t,n){return function(a,r,i,s){var o=i.context,l=i.target,c=l&&q(l),u=c?":"+c:"",d=t+"Start:"+a+u,p=t+"End:"+a+u,f=t+":"+a+u,m=H(n+":"+a+u,r,o,f);if(B.push(m),F[f])return m;var v={start:new A({mainType:t,subType:"start"}),main:new A({mainType:t}),end:new A({mainType:t,subType:"end"})};"raf"===a?(a=16,k=x(k)):a>0&&(k=C()(k,a));var b=void 0;function E(e){v.end.update(e),L.emit(p,e,v.end),b=null}function k(e){b||(v.start.update(e),L.emit(d,e,v.start)),clearTimeout(b),v.main.update(e),L.emit(f,e,v.main),b=g?setTimeout((function(){E(y()(e))}),a+100):setTimeout(E.bind(null,e),a+100)}return F[f]=h(l||e,t,k,s),m}}function G(e,t){return function(n,a,r,i){var s=r.context,o=r.target,l=o&&q(o),c=t+":0"+(l?":"+l:""),u=H(c,a,s);if(B.push(u),F[c])return u;var d=new A({mainType:t});return F[c]=h(o||e,t,(function(e){d.update(e),L.emit(c,e,d)}),i),u}}"undefined"!=typeof window&&(V=(R=(M=window).document||document).body);var K={scrollStart:W(M,"scroll","scrollStart"),scrollEnd:W(M,"scroll","scrollEnd"),scroll:W(M,"scroll","scroll"),resizeStart:W(M,"resize","resizeStart"),resizeEnd:W(M,"resize","resizeEnd"),resize:W(M,"resize","resize"),visibilitychange:G(R,"visibilitychange"),touchmoveStart:W(V,"touchmove","touchmoveStart"),touchmoveEnd:W(V,"touchmove","touchmoveEnd"),touchmove:W(V,"touchmove","touchmove"),touchstart:G(V,"touchstart"),touchend:G(V,"touchend")};var z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.useRAF||!1,r=parseInt(n.throttleRate,10),i=n.eventOptions;return isNaN(r)&&(r=50),a&&(r="raf"),g&&(r=0),u.enableScrollInfo=u.enableScrollInfo||n.enableScrollInfo||!1,u.enableResizeInfo=u.enableResizeInfo||n.enableResizeInfo||!1,u.enableTouchInfo=u.enableTouchInfo||n.enableTouchInfo||!1,K[e](r,t,n,i)},Y=u.removers;var Q=function(e,t){for(var n=void 0,a=Y.length-1;a>=0;a-=1)(n=Y[a])._cb===t&&n._type.indexOf(e)>=0&&(n.unsubscribe(),Y.splice(a,1))};n.d(t,"listen",(function(){return $})),n.d(t,"subscribe",(function(){return Z})),n.d(t,"unsubscribe",(function(){return ee}));var X="undefined"!=typeof window;function J(){0}var $=X?h:J,Z=X?z:J,ee=X?Q:J},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1),C=n.n(b),E=n(39),k=n.n(E),O=(n(6),n(1537)),_=n(1385),P=n.n(_),S=n(16),N=n.n(S),w=n(2),A=n.n(w),T=n(18),I=n.n(T),D=n(5),x=n.n(D),j=n(36),L=n.n(j),F=n(286),B=n.n(F),R=n(52),M=n.n(R),V=(n(194),n(11)),U=n(123),q=n(174),H=n(195),W=n(1286),G=n(50),K=n(12),z=n(1565),Y=n.n(z),Q=n(105),X=n.n(Q),J=n(35),$=n.n(J),Z=n(1564),ee=n.n(Z),te=n(0),ne=n.n(te),ae=n(27),re=n.n(ae),ie=n(17),se=n.n(ie),oe=n(85);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e,t){var n=ne()(e,"itineraryParts[0].date");return ne()(e,"itineraryParts[1].date")||se()(n).add(t,"days")},de=n(527),pe=n(544),he=n(68),fe=n(146),me=n(2151),ge=n(2149),ve=n(84),ye=n(24),be=n(14),Ce=n(46),Ee=n(1524),ke=n(1525),Oe=n(1305),_e=n(1320),Pe=n(1360),Se=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){var e=n.props.breadcrumbConfiguration.getIn(["flowIcons","home"]);return C.a.createElement(G.c,{name:e})})),g()(p()(n),"getCrumbTitle",(function(e){return C.a.createElement(Pe.a,{pageName:be.a.HOME,flowName:ve.a.B2C,hideTitle:e})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(K.i)("summaryBar.flowCrumbs.".concat(be.a.HOME,".").concat(Oe.a.HOVER));return C.a.createElement(_e.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return C.a.createElement(W.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(!0),subTitle:this.getCrumbTitle(!1),icon:this.getCrumbIcon(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onHomeCrumbClick(e.props.url)},className:"dxp-home-breadcrumb-item"})}}]),t}(b.Component),Ne=n(2031),we=n(1934),Ae=n(1588),Te=n(1732),Ie=n(1535),De=n(82),xe=n.n(De),je=n(42),Le=n(214),Fe=n(2008),Be=n(327),Re=n(328),Me=n(1560),Ve=n(1526),Ue=n(58),qe=n.n(Ue),He=function(e){return e.seatSelection.get("selectedSeats",Object(V.List)())},We=function(e){return e.seatSelection.get("uniquePassengers",Object(V.List)())},Ge=function(e){return e.seatSelection.get("seatSelectionSkipped")},Ke=Object(je.a)((function(e){return e.shoppingCart.get("data").get("segments",Object(V.List)())}),(function(e){return qe()(e.valueSeq().toArray().map((function(e){return e.segments}))).length})),ze=function(e){return e.metadata.get("seatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},Ye=n(2014),Qe=n(1482),Xe=n(1567),Je=function(e){return e.metadata.get("breadcrumbs")},$e=function(e){return e.flightSelection.get("isSearchingForFlights")},Ze=function(e){return e.flightSelection.get("isSelectingFlights")},et=function(e){return e.metadata},tt=function(e){return e.shoppingCart.get("isLoading")},nt=function(e){return e.shoppingCart.getIn(["data","products"])},at=Object(je.a)((function(e,t){return ne()(t,"location.query",{})}),(function(e){return"true"===e.awardBooking})),rt=function(e){return e.metadata.get("flows")},it=function(e){return!e.ancillaries.get("ancillariesAvailable",!1)},st=Object(je.a)(Object(Le.a)(),(function(e){return e})),ot=Object(je.a)(et,q.a,q.b,(function(e,t,n){return e.getIn(["summaryBar","showNewItinerarySearchWarning",t,n])})),lt=Object(je.a)(Object(Le.a)(),Object(Fe.a)(),Je,Ve.a,(function(e){return e.metadata.getIn(["flightSelectionConfiguration","priceJump","displayType"])}),(function(e){return e.session.get("user")}),(function(e,t,n,a,r,i){var s=n.getIn(["displayRunningFlightSelectionTotal","isEnabled"]),o=n.getIn(["displayRunningFlightSelectionTotal","displayRevenueFarePerPax"]),l=n.getIn(["displayRunningFlightSelectionTotal","displayRedemptionFarePerPax"]),c=ne()(t,"selectedFlights"),u=ne()(t,"selectedBrands");return s&&xe()(a)&&c.size>0?Object(Qe.c)(c,u,e,r,o,l,i):a})),ct=n(2154),ut=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,be.a.HOME,(function(e,t,n){return a.renderHomeBreadcrumbItem(e,t,n)})),g()(n,be.a.FLIGHT_SELECTION,(function(e,t,n){return a.renderFlightSelectionBreadcrumbItem(e,t,n)})),g()(n,be.a.PASSENGERS,(function(e,t,n){return a.renderPassengersBreadcrumbItem(e,t,n)})),g()(n,be.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,be.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,be.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{isEditPanelOpen:!1,isNewSearchCriteriaAlertOpen:!1,journeyTypeChanged:!1,currentSearchCriteria:a.props.searchCriteriaQueryParams,newSearchCriteria:void 0,showCondensed:void 0}),g()(p()(a),"onNewItinerarySearchModalClose",(function(){a.setState({isNewSearchCriteriaAlertOpen:!1})})),g()(p()(a),"getActiveStep",(function(e){var t=e.b2cFlowConfiguration,n=e.lastPath,r=e.seatsOnExtrasPage;return a.isCurrentPageSubflowOfAncillaries(n,r)?be.a.ANCILLARIES:t.keySeq().includes(n)?n:ye.a.B2C})),g()(p()(a),"getActualSteps",(function(e,t){for(var n=[],a=e.size,r=e.get("start");r&&n.length<a&&!Object(Ee.d)(e,r);)n.push(r),r=e.get(r);return t?B()(n,be.a.DATE_SELECTION,be.a.MATRIX):B()(n,be.a.DATE_SELECTION,be.a.MATRIX,be.a.HOME)})),g()(p()(a),"getTripEditIcon",(function(){var e=a.props.breadcrumbConfiguration.getIn(["flowIcons","edit-trip"]);return C.a.createElement(G.c,{name:e})})),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleHomeBreadcrumbClick",(function(e){var t=a.props.breadcrumbConfiguration.get("homeBreadcrumbRedirectionURL");t?window.location.href=t:a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleItineraryEdit",(function(e){a.props.setCartDefault(),a.handleNewSearchCriteria(e)})),g()(p()(a),"handleNewItinerarySearch",(function(){a.props.setRecentSearches(I()(a.state.currentSearchCriteria,a.state.newSearchCriteria)),a.onNewItinerarySearchModalClose(),a.closeEditPanel(),a.props.summaryBarEditSearchRequest(),a.handleItineraryEdit(a.state.newSearchCriteria),a.props.clearFlightSelectionState()})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"handleTripEditButtonOpen",(function(){a.setState((function(e){return{isEditPanelOpen:!e.isEditPanelOpen}})),window.scrollTo(0,0)})),g()(p()(a),"isCurrentPageSubflowOfAncillaries",(function(e,t){var n=t&&t.get("isEnabled")&&e===be.a.SEAT_SELECTION;return e===be.a.CARS||e===be.a.HOTEL_DETAILS||e===be.a.HOTELS_SEARCH||n})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){return C.a.createElement(Te.a,{searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ee.b)(be.a.ANCILLARIES,e,n,t),url:Object(Ee.c)(ye.a.B2C,be.a.ANCILLARIES),ancillaries:a.props.ancillaries,index:n,onAncillariesCrumbClick:a.handleCrumbClick,key:be.a.ANCILLARIES,isAncillariesAvailable:a.props.isAncillariesAvailable,seatAncillaries:a.props.seatAncillaries})})),g()(p()(a),"renderFlightSelectionBreadcrumbItem",(function(e,t,n){return C.a.createElement(Ne.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ee.b)(be.a.FLIGHT_SELECTION,e,n,t),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:n,url:Object(Ee.c)(ye.a.B2C,be.a.FLIGHT_SELECTION),onFlightSelectionCrumbClick:a.handleCrumbClick,key:be.a.FLIGHT_SELECTION})})),g()(p()(a),"renderHomeBreadcrumbItem",(function(e,t,n){return C.a.createElement(Se,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ee.b)(be.a.HOME,e,n,t),index:n,url:Object(Ee.c)(ye.a.B2C,be.a.HOME),onHomeCrumbClick:a.handleHomeBreadcrumbClick,key:be.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPassengersBreadcrumbItem",(function(e,t,n){return C.a.createElement(we.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ee.b)(be.a.PASSENGERS,e,n,t),searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:n,url:Object(Ee.c)(ye.a.B2C,be.a.PASSENGERS),onPassengerCrumbClick:a.handleCrumbClick,key:be.a.PASSENGERS})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return C.a.createElement(Ie.a,{searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ee.b)(be.a.PAYMENT,e,n,t),url:Object(Ee.c)(ye.a.B2C,be.a.PAYMENT),index:n,onPaymentCrumbClick:a.handleCrumbClick,key:be.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return C.a.createElement(Ae.a,{searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ee.b)(be.a.SEAT_SELECTION,e,n,t),url:Object(Ee.c)(ye.a.B2C,be.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:n,onSeatSelectionCrumbClick:a.handleCrumbClick,key:be.a.SEAT_SELECTION})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=P()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"onEditPanelCancel",value:function(){this.setState({isEditPanelOpen:!1})}},{key:"onEditPanelSave",value:function(e,t){if(e.journeyType!==t.journeyType){var n=function(e,t){var n=X()(e,(function(e){return A()(e)&&!ee()(e)})),a=ce({},n,{journeyType:e.journeyType}),r=N()({},n,a),i=re()(r.itineraryParts);if(e.journeyType===oe.a.ONE_WAY){var s=ce({},r,{itineraryParts:[i]});return N()({},n,s)}if(e.journeyType===oe.a.ROUND_TRIP){var o=ce({},r,{itineraryParts:[i,{origin:ne()(r,"itineraryParts[1].origin")||ne()(i,"destination"),destination:ne()(r,"itineraryParts[1].destination")||ne()(i,"origin"),date:ue(r,t)}]});return N()({},n,o)}return r}(e,this.props.metadata.get("defaultReturnDateOffset"));this.updateNewSearchCriteriaInState(n)}this.updateCurrentSearchCriteriaInState(t),!Object(fe.a)(e,t)||this.state.journeyTypeChanged?(this.updateNewSearchCriteriaInState(e),this.isNewChangesConfirmationModalNeeded()?this.setState({isNewSearchCriteriaAlertOpen:!0}):(this.props.setRecentSearches(I()(t,e)),this.closeEditPanel(),this.props.summaryBarEditSearchRequest(),this.handleItineraryEdit(e)),this.setState({journeyTypeChanged:!1})):this.closeEditPanel()}},{key:"closeEditPanel",value:function(){this.setState({isEditPanelOpen:!1})}},{key:"handleNewSearchCriteria",value:function(e){var t=function(e,t){var n=re()(e.itineraryParts),a=ce({},e,{origin:ne()(n,"origin"),destination:ne()(n,"destination")});return $()(N()({},t,a),"flightIds")}(e,this.props.searchCriteriaQueryParams),n=Object(fe.t)(t),a=N()({},n,{direction:0});this.props.updateURLQueryParameters("/".concat(be.a.FLIGHT_SELECTION),a)}},{key:"isNewChangesConfirmationModalNeeded",value:function(){return!!this.props.isShowItineraryChangesWarning&&!A()(this.props.products,Object(V.List)())}},{key:"updateCurrentSearchCriteriaInState",value:function(e){this.setState({currentSearchCriteria:e})}},{key:"updateNewSearchCriteriaInState",value:function(e){this.setState({newSearchCriteria:e})}},{key:"renderEditPanel",value:function(){var e=this;return C.a.createElement(me.a,null,C.a.createElement(ge.a,{onCancel:function(t){return e.onEditPanelCancel(t)},onSave:function(t){return e.onEditPanelSave(t,e.props.searchCriteriaQueryParams)},isRBEEnabled:this.props.isRBEEnabled,dateFormat:this.props.dateFormat,language:this.props.language,metadata:this.props.metadata,flowAndPage:Object(q.c)(this.props.currentFlow,this.props.currentPage),airlineCode:Object(Ce.b)().airlineCode,location:this.props.location}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=t.cartCollapsed,l=t.isSearchingForFlights,c=t.isSelectingFlights,u=t.metadata,d=t.isShoppingCartLoading,p=t.currentFlow,h=n.get(ve.a.B2C),f=L()(a.pathname.split("/")),m=this.getActiveStep({b2cFlowConfiguration:h,lastPath:f,seatsOnExtrasPage:u.getIn(["seatsOnExtrasPage",p])}),g=this.getActualSteps(h,r.get("displayHomeCrumb")),v=M()(g,m),y=Object(H.a)(s,"breadcrumbs"),b=g.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",E=k()("dxp-breadcrumbs",b);return C.a.createElement("div",y,C.a.createElement(Y.a,null,C.a.createElement(W.b,{stickyBottomBoundaryID:void 0,className:E,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,showTripEditButton:!0,tripEditIcon:this.getTripEditIcon(),onTripEditButtonClick:this.handleTripEditButtonOpen,cartPrice:this.props.total,showCondensed:this.state.showCondensed&&!this.state.isEditPanelOpen,cartCollapsed:o,showPriceProcessing:c||l||d,dropDownLabel:Object(K.i)("summaryBar.mobileBreadcrumbDropdownLabel")},x()(g,(function(t){return e.flowsToBreadcrumbComponentMapper[t](m,g,v)}))),this.state.isNewSearchCriteriaAlertOpen&&C.a.createElement(ct.a,{closeModalDelegation:this.onNewItinerarySearchModalClose,handleNewItinerarySearch:this.handleNewItinerarySearch}),this.state.isEditPanelOpen&&this.renderEditPanel()))}}]),t}(b.PureComponent));g()(ut,"defaultProps",{seatAncillaries:void 0,seatsCrumbData:void 0,ancillaries:Object(V.List)(),onCartSummaryClick:y.a,setCartDefault:void 0,isShowItineraryChangesWarning:!1,products:Object(V.List)(),total:void 0,isAuthorable:!0,cartCollapsed:!0,isSearchingForFlights:!1,isSelectingFlights:!1,isShoppingCartLoading:!1});var dt=Object(U.b)((function(){return Object(je.b)({isShoppingCartLoading:tt,searchCriteriaQueryParams:st,breadcrumbConfiguration:Je,tripParams:Object(Me.a)(),flowConfiguration:rt,seatsCrumbData:Object(je.b)({selectedSeats:He,passengers:We,passengersExcludedFromSeatSelection:ze,flightsCount:Ke,seatSelectionSkipped:Ge}),ancillaries:Ye.a,metadata:et,isRBEEnabled:at,language:Be.a,dateFormat:Re.b,currentFlow:q.a,seatAncillaries:Xe.a,currentPage:q.b,products:nt,isShowItineraryChangesWarning:ot,total:lt,isAncillariesAvailable:it,isSearchingForFlights:$e,isSelectingFlights:Ze})}),{updateURLQueryParameters:ke.a,setRecentSearches:he.C,summaryBarEditSearchRequest:pe.l,clearFlightSelectionState:pe.e,setCartDefault:de.h})(ut);n.d(t,"a",(function(){return pt}));var pt=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return C.a.createElement(dt,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.children,o=e.id,l=e.onCartItemRemove,c=e.subtitle,u=k()(t,{"is-visible":this.state.isCartExpanded});return C.a.createElement(O.a,{className:u,location:n,title:a,subtitle:c,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,id:o,onCartItemRemove:l},s)}}]),t}(b.PureComponent);g()(pt,"defaultProps",{className:"",title:"",subtitle:void 0,id:"",authorableAttributes:{},isCartEnabled:!0,onCartItemRemove:y.a})},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=n(39),C=n.n(b),E=(n(6),n(1537)),k=n(1385),O=n.n(k),_=n(122),P=n.n(_),S=n(5),N=n.n(S),w=n(36),A=n.n(w),T=n(52),I=n.n(T),D=(n(194),n(123)),x=n(11),j=n(1286),L=n(12),F=n(195),B=n(84),R=n(24),M=n(14),V=n(1524),U=n(1525),q=n(2031),H=n(1934),W=n(1588),G=n(1732),K=n(1535),z=n(1587),Y=n(1305),Q=n(1360),X=n(1320),J=n(1374),$=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(J.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:M.a.SEARCH})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=Object(L.i)("summaryBar.flowCrumbs.".concat(M.a.SEARCH,".").concat(n.props.crumbState));return y.a.createElement(X.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(Q.a,{pageName:M.a.SEARCH,flowName:B.a.EXCHANGE})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(J.a,{crumbState:Y.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:M.a.SEARCH})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(L.i)("summaryBar.flowCrumbs.".concat(M.a.SEARCH,".").concat(Y.a.HOVER));return y.a.createElement(X.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(j.a,{index:this.props.index,state:this.props.crumbState,icon:this.getCrumbIcon(),title:this.getCrumbTitle(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubtitle(),hoverIcon:this.getHoverIcon(),onClick:function(){return e.props.onSearchCrumbClick(e.props.url)}})}}]),t}(v.Component),Z=n(42),ee=n(214),te=n(1560),ne=n(1526),ae=n(58),re=n.n(ae),ie=function(e){return e.seatSelection.get("selectedSeats",Object(x.List)())},se=function(e){return e.seatSelection.get("uniquePassengers",Object(x.List)())},oe=function(e){return e.seatSelection.get("seatSelectionSkipped")},le=Object(Z.a)((function(e){return e.shoppingCart.get("data").get("segments",Object(x.List)())}),(function(e){return re()(e.valueSeq().toArray().map((function(e){return e.segments}))).length})),ce=function(e){return e.metadata.get("seatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},ue=function(e){var t=e.ancillaries.getIn(["cartData","result","ancillaries"],Object(x.Map)()),n=e.shoppingCart.getIn(["data","insurance"],Object(x.Map)()),a=n&&n.size?n.get("breakdownElements"):Object(x.List)();return(t&&t.size?t.get("breakdownElements",Object(x.List)()):Object(x.List)()).merge(a)},de=n(101),pe=n(1567),he=function(e){return e.metadata.get("breadcrumbs")},fe=function(e){return e.metadata.get("flows")},me=function(e,t){return e.metadata.getIn(["seatsOnExtrasPage",Object(de.a)(t.location.pathname),"isEnabled"],!1)},ge=Object(Z.a)(Object(ee.a)(),(function(e){return e})),ve=function(e){return!e.ancillaries.get("ancillariesAvailable",!1)},ye=(n(1568),n(1569),n(1570),n(1571),n(2311),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,M.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,M.a.EXCHANGE,(function(e,t,n){return a.renderExchangeBreadcrumbItem(e,t,n)})),g()(n,M.a.SEARCH,(function(e,t,n){return a.renderSearchBreadcrumbItem(e,t,n)})),g()(n,M.a.FLIGHT_SELECTION,(function(e,t,n){return a.renderFlightSelectionBreadcrumbItem(e,t,n)})),g()(n,M.a.PASSENGERS,(function(e,t,n){return a.renderPassengersBreadcrumbItem(e,t,n)})),g()(n,M.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,M.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,M.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){return y.a.createElement(G.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.ANCILLARIES,e,n,t),url:Object(V.c)(R.a.EXCHANGE,M.a.ANCILLARIES),ancillaries:a.props.ancillaries,index:I()(t,M.a.ANCILLARIES),onAncillariesCrumbClick:a.handleCrumbClick,key:M.a.ANCILLARIES,isAncillariesAvailable:a.props.isAncillariesAvailable,seatAncillaries:a.props.seatAncillaries})})),g()(p()(a),"renderExchangeBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.EXCHANGE,e,n,t),url:Object(V.c)(R.a.EXCHANGE,M.a.EXCHANGE),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:I()(t,M.a.EXCHANGE),onFlightSelectionCrumbClick:a.handleCrumbClick,key:M.a.EXCHANGE,displayPnrFlightData:!0})})),g()(p()(a),"renderFlightSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.FLIGHT_SELECTION,e,n,t),url:Object(V.c)(R.a.EXCHANGE,M.a.FLIGHT_SELECTION),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:I()(t,M.a.FLIGHT_SELECTION),onFlightSelectionCrumbClick:a.handleCrumbClick,key:M.a.FLIGHT_SELECTION})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(z.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.HOME,e,n,t),index:n,url:Object(V.c)(M.a.MYB,M.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:M.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPassengersBreadcrumbItem",(function(e,t,n){return y.a.createElement(H.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.PASSENGERS,e,n,t),searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:I()(t,M.a.PASSENGERS),url:Object(V.c)(R.a.EXCHANGE,M.a.PASSENGERS),onPassengerCrumbClick:a.handleCrumbClick,key:M.a.PASSENGERS})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(K.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.PAYMENT,e,n,t),url:Object(V.c)(R.a.EXCHANGE,M.a.PAYMENT),index:I()(t,M.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:M.a.PAYMENT})})),g()(p()(a),"renderSearchBreadcrumbItem",(function(e,t,n){return y.a.createElement($,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.SEARCH,e,n,t),index:I()(t,M.a.SEARCH),url:Object(V.c)(R.a.EXCHANGE,M.a.SEARCH),onSearchCrumbClick:a.handleCrumbClick,key:M.a.SEARCH})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(W.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.SEAT_SELECTION,e,n,t),url:Object(V.c)(R.a.EXCHANGE,M.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:I()(t,M.a.SEAT_SELECTION),onSeatSelectionCrumbClick:a.handleCrumbClick,key:M.a.SEAT_SELECTION})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=O()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"getActiveStep",value:function(e){return this.props.isSeatsOnExtrasPageEnabled&&e===M.a.SEAT_SELECTION?M.a.ANCILLARIES:this.props.flowConfiguration.get(B.a.EXCHANGE).keySeq().includes(e)?e:R.a.B2C}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=n.get(B.a.EXCHANGE),l=A()(a.pathname.split("/")),c=this.getActiveStep(l),u=Object(V.a)(o,r.get("displayHomeCrumb")),d=I()(u,c),p=Object(F.a)(s,"breadcrumbs"),h=u.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",f=C()("dxp-breadcrumbs",h);return y.a.createElement("div",p,y.a.createElement(j.b,{stickyBottomBoundaryID:void 0,className:f,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,cartPrice:this.props.total,showCondensed:this.state.showCondensed,dropDownLabel:Object(L.i)("summaryBar.mobileBreadcrumbDropdownLabel")},N()(u,(function(t){return e.flowsToBreadcrumbComponentMapper[t](c,u,d)}))))}}]),t}(v.PureComponent));g()(ye,"defaultProps",{seatAncillaries:void 0,seatsCrumbData:void 0,ancillaries:Object(x.List)(),onCartSummaryClick:P.a,total:void 0,isAuthorable:!0,cartCollapsed:!0,isSeatsOnExtrasPageEnabled:!1});var be=Object(D.b)((function(){return Object(Z.b)({searchCriteriaQueryParams:ge,breadcrumbConfiguration:he,tripParams:Object(te.a)(),flowConfiguration:fe,seatsCrumbData:Object(Z.b)({selectedSeats:ie,passengers:se,passengersExcludedFromSeatSelection:ce,flightsCount:le,seatSelectionSkipped:oe}),seatAncillaries:pe.a,ancillaries:ue,total:ne.a,isAncillariesAvailable:ve,isSeatsOnExtrasPageEnabled:me})}),{updateURLQueryParameters:U.a})(ye);n.d(t,"a",(function(){return Ce}));var Ce=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(be,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.params,o=e.children,l=e.id,c=C()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(E.a,{className:c,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,params:s,id:l},o)}}]),t}(v.PureComponent);g()(Ce,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},params:{},isCartEnabled:!0})},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(39)),k=n.n(E),O=n(1334),_=n(12),P=n(244),S=n(1981),N=(n(2215),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onOpen",(function(e){n.closeIcon&&n.closeIcon.focus(),n.props.onOpen(e)})),g()(p()(n),"closePopover",(function(e){return(P.a.is(P.a.code.special.enter,e.which)||P.a.is(P.a.code.special.esc,e.which))&&n.sparkInstance.close()})),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.position,n=t.anchorX,a=t.anchorY,r=e.onClose,i=e.toggleEl;this.sparkInstance=new O.Popover(this.container,{anchorX:n,anchorY:a,onOpen:this.onOpen,onClose:r,toggleEl:i})}},{key:"componentWillUnmount",value:function(){this.sparkInstance.close(),this.sparkInstance=void 0}},{key:"onKeyPress",value:function(e){return e&&e.preventDefault(),(P.a.is(P.a.code.special.enter,e.which)||P.a.is(P.a.code.special.space,e.which))&&this.togglePopover()}},{key:"togglePopover",value:function(){this.sparkInstance.toggle()}},{key:"render",value:function(){var e=this,t=k()("spark-popover",this.props.className);return C.a.createElement("div",{ref:function(t){e.container=t},className:t},C.a.createElement("div",{className:"spark-popover-trigger"}," ",this.props.toggleEl," "),C.a.createElement("div",{className:k()("spark-popover__content",{"spark-popover-header":!this.props.includesHeader}),role:"tooltip"},this.props.showClose&&C.a.createElement("a",{ref:function(t){e.closeIcon=t},className:"spark-popover__close",onKeyDown:this.closePopover,role:"button",tabIndex:"0",title:Object(_.i)("app.close"),"aria-label":Object(_.i)("app.close")}),this.props.children,C.a.createElement("span",{className:"spark-popover__caret"})))}}]),t}(b.PureComponent));g()(N,"defaultProps",{position:S.a.BOTTOM,onOpen:y.a,onClose:y.a,showClose:!0,className:"",includesHeader:!1})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={LEFT:{anchorX:"left",anchorY:"middle"},RIGHT:{anchorX:"right",anchorY:"middle"},TOP:{anchorX:"center",anchorY:"top"},BOTTOM:{anchorX:"center",anchorY:"bottom"}}},function(e,t,n){"use strict";var a=n(1885);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(194),n(78)),s=n(39),o=n.n(s),l=n(12);function c(e){var t=e.rulesAndFeeData,n=e.className,a=o()("fare-rules-link",n),s=t.fareRules.get("isExternalLinkEnabled"),c=t.fareRules.get("link");return s?r.a.createElement(i.a,{className:a,href:c,target:"_blank",rel:"external",isExternalLink:!0},Object(l.a)("fareRules.title")):r.a.createElement(i.a,{className:o()(a,"link-underlined"),onClick:function(t){return n=t,a=e.onFareRulesClick,n.preventDefault(),a&&a(n);var n,a},tabIndex:"0"},Object(l.a)("fareRules.title"))}c.defaultProps={onFareRulesClick:void 0,className:void 0},t.a=c},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(194),n(78)),s=n(12);function o(e){var t=e.rulesAndFeeData,n=t.bagFee.get("isExternalLinkEnabled"),a=t.bagFee.get("link");return n?r.a.createElement(i.a,{href:a,target:"_blank",rel:"external",isExternalLink:!0,className:"bag-fee-link"},Object(s.a)("bagfee.title")):r.a.createElement(i.a,{className:"link-underlined bag-fee-link",onClick:function(t){return n=t,a=e.onBagFeeLinkClick,n.preventDefault(),a&&a(n);var n,a},tabIndex:"0"},Object(s.a)("bagfee.title"))}o.defaultProps={onBagFeeLinkClick:void 0},t.a=o},function(e,t,n){var a=n(554),r=n(779),i=n(104),s=n(23),o=n(766);e.exports=function(e,t){return(s(e)?a:r)(e,o(i(t,3)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u}));var a=n(2105),r=n(2106),i="dxp-passenger-view",s="dxp-exchange-passenger-view",o="dxp-passenger-list",l="passenger-form",c="passenger-basic-info-form",u=(r.a,r.b,r.c,function(e){return"phone".concat(e)});a.b,a.a},function(e,t,n){var a=n(285),r=n(761),i=Object.prototype.hasOwnProperty,s=r((function(e,t,n){i.call(e,n)?++e[n]:a(e,n,1)}));e.exports=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return h}));var a=n(321),r=n.n(a),i=n(1566),s="dxp-payment-view",o="dxp-exchange-payment-view",l="dxp-mto-payment-view",c="dxp-payment-component",u="dxp-cart-review-shopping-cart-container",d=(Object(i.c)(u),Object(i.a)(u),Object(i.e)(u),Object(i.f)(u),"complete-payment-panel"),p="payment-options-container",h=function(e){return"payment-option-".concat(r()(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CANCELLED:"WK",CONFIRMED:"HK",SCHEDULE_CHANGE:"SC",HKALL:"hk-sc-wk",NON_REVENUE:"MM"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n.n(a);function i(e){return r()(e,(function(e,t,n){return"".concat(e).concat(n,"=").concat(t,"&")}),"")}},,,,,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(12)),s=n(39),o=n.n(s),l=function(e){var t=o()("ancillary-common",e.className,e.displayType);return r.a.createElement("div",{className:t},e.isRecommended&&r.a.createElement("div",{className:"recommendation"},r.a.createElement("h3",{className:"lead"},Object(i.a)([e.PACKAGE_NAME_CLASSIFIED,"recommended"]))),e.children)};l.defaultProps={className:void 0,children:void 0,displayType:"tile",isRecommended:!1};var c=l,u=n(26),d=n.n(u),p=n(22),h=n.n(p),f=n(29),m=n.n(f),g=n(28),v=n.n(g),y=n(30),b=n.n(y),C=n(2),E=n.n(C),k=n(1561),O=n(1490),_=n(1264),P=n(50),S=n(1249),N=function(e){function t(){return d()(this,t),m()(this,v()(t).apply(this,arguments))}return b()(t,e),h()(t,[{key:"componentDidUpdate",value:function(){this.props.isCurrentlyActive&&this.button.focus()}},{key:"getAriaDescribedBy",value:function(){var e=[],t=this.props,n=t.price,a=t.isAddedToCart,r=t.startingFromText,i=t.code,s=t.id;return n&&!a&&e.push("".concat(i,"-ancillary-price-").concat(s)),a&&e.push("".concat(i,"-added-to-cart-").concat(s)),r&&e.push("".concat(i,"-starting-from-text")),e.length>0?e.join(","):void 0}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.code,s=t.hasDiscounts,l=t.isPreselected,c=t.isAddedToCart,u=t.displayOriginalPrice,d=t.originalPrice,p=t.isIncludedInPrice,h=t.title,f=t.priceBeforeDiscount,m=t.isLoading,g=t.isFree,v=t.price,y=t.discountPrice,b=t.priceForAllPassengers,C=t.priceNote,N=t.isDealBannerDisplayed,w=t.dealBannerClasses,A=t.displayQuantityRemaining,T=t.availableInventoryText,I=t.bagDisclosure,D=t.summaryButtonContent,x=t.startingFromText,j=t.isExpanded,L=t.PACKAGE_NAME_CLASSIFIED,F=t.id,B=t.retainedTotal,R=o()("ancillary-summary-common",n),M=!E()(B),V=r.a.createElement(S.a,{PACKAGE_NAME_CLASSIFIED:L,className:"ancillary-discount-info",price:y});return r.a.createElement("div",{className:R,"data-ancillary":a},s&&r.a.createElement("div",{className:"dxp-ancillary-sale"},r.a.createElement("span",null,Object(i.a)([L,"sale"]))),r.a.createElement("div",{className:"summary-content spark-panel spark-panel--card"},r.a.createElement("div",{className:"spark-panel__content spark-expand"},l&&r.a.createElement("div",{className:"preselected-container"},r.a.createElement(P.c,{className:"preselected-icon",size:"md",fill:!0,name:P.a.CHECK_CIRCLE}),r.a.createElement("span",{className:"preselected-cart-title"},Object(i.a)([L,"preselected"]))),M&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"retained-total-title",id:"".concat(a,"-retained-total-").concat(F)},r.a.createElement(P.c,{size:"md",name:P.a.CHECK}),Object(i.a)([L,"retainedTotal"])),r.a.createElement(S.a,{PACKAGE_NAME_CLASSIFIED:L,className:"retained-price",price:B,includeDecimal:!0}),r.a.createElement("div",{className:"added-to-cart-title",id:"".concat(a,"-added-to-cart-").concat(F)},r.a.createElement(P.c,{size:"md",name:P.a.CHECK}),Object(i.a)([L,"newlyAdded"]))),c&&!M&&r.a.createElement("div",{className:"added-to-cart-title",id:"".concat(a,"-added-to-cart-").concat(F)},r.a.createElement(P.c,{size:"md",name:P.a.CHECK}),Object(i.a)([L,"addedToCart"])),u&&r.a.createElement("div",null,r.a.createElement(P.c,{name:P.a.TAG})," ",r.a.createElement(S.a,{PACKAGE_NAME_CLASSIFIED:L,className:"original-price",price:d,includeDecimal:!0})),p&&r.a.createElement("div",{className:"title"},Object(i.a)([L,"includedInPrice"])),h&&r.a.createElement("div",{className:"title"},h),x&&r.a.createElement("div",{id:"".concat(a,"-starting-from-text"),className:"starting-from caption"},x),f&&r.a.createElement(S.a,{PACKAGE_NAME_CLASSIFIED:L,className:"original-max-price",price:f}),!m&&!g&&v&&r.a.createElement(S.a,{PACKAGE_NAME_CLASSIFIED:L,id:"".concat(a,"-ancillary-price-").concat(F),className:"ancillary-price",price:v,includeDecimal:!0,raiseDecimal:!0}),s&&r.a.createElement("div",{className:"ancillary-discount"},Object(i.k)([L,"discountInfo"],{price:V})),g&&!m&&r.a.createElement("div",{className:"price"},Object(i.a)([L,"free"])),m&&r.a.createElement(k.a,{className:"dark"}),b&&r.a.createElement("div",{className:"caption"},b),C&&r.a.createElement("div",{className:"caption"},C),N&&d&&r.a.createElement("div",{className:w},r.a.createElement(P.c,{name:P.a.TAG})," ",Object(i.a)([L,"deal"])),A&&r.a.createElement("div",{className:"quantity-left"},Object(i.a)([L,"ancillaryRunningOut"],{ancillaryType:h})),T&&r.a.createElement("div",{className:"quantity-left"},T," ",Object(i.a)([L,"left"])),I)),r.a.createElement("div",{className:"summary-button"},r.a.createElement(_.a,{isExpanded:j,disabled:this.props.summaryButtonDisabled,isSecondaryButton:c,onClick:this.props.onClick,label:D,"data-test-id":"add-ancillary-".concat(a),ariaDescribedBy:this.getAriaDescribedBy(),ref:function(t){e.button=t}},c&&r.a.createElement(P.c,{name:P.a.PENCIL}))),r.a.createElement(O.a,{className:"summary-link",onClick:this.props.onClick},Object(i.a)([L,"moreDetails"])))}}]),t}(a.PureComponent);N.defaultProps={className:void 0,code:void 0,title:void 0,priceForAllPassengers:void 0,priceNote:void 0,dealBannerClasses:void 0,availableInventoryText:void 0,bagDisclosure:void 0,startingFromText:void 0,hasDiscounts:!1,isPreselected:!1,isAddedToCart:!1,displayOriginalPrice:void 0,isIncludedInPrice:!1,isLoading:!1,isFree:!1,isDealBannerDisplayed:void 0,displayQuantityRemaining:void 0,discountPrice:void 0,price:void 0,originalPrice:void 0,priceBeforeDiscount:void 0,summaryButtonContent:void 0,summaryButtonDisabled:!1,isExpanded:!1,isCurrentlyActive:!1,onClick:void 0,id:"",retainedTotal:[]};var w=n(1359),A=n(111),T=function(e){var t=e.className,n=e.code,a=e.altText,i=e.imgStyle,s=e.iconName,l=e.title,c=e.intro,u=e.discountLabel,d=e.isBundle,p=e.ancillaryBundle,h=e.imgPath,f=o()("dxp-ancillary-content",t,e.displayType);return r.a.createElement("div",{className:f,"data-ancillary":n},r.a.createElement(w.a,{tag:"h3",className:"title",iconName:s,iconSize:"lg",title:l}),r.a.createElement("div",{className:"description"},r.a.createElement("img",{alt:a,className:"img-div",src:Object(A.f)(h),style:i}),r.a.createElement("p",{className:"intro"},c,u)),d&&r.a.createElement("div",{className:"bundle"},p))};T.defaultProps={className:void 0,code:void 0,altText:void 0,imgStyle:void 0,iconName:void 0,title:void 0,intro:void 0,discountLabel:void 0,isBundle:!1,ancillaryBundle:void 0,imgPath:void 0,displayType:"tile"};var I=T;n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return I}));t.c=c},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(122)),C=n.n(b),E=n(39),k=n.n(E),O=n(1249),_=n(1371);var P=function(e){var t=e.price,n=e.packageName;return y.a.createElement(O.a,{price:t,PACKAGE_NAME_CLASSIFIED:n})},S=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onToggle",(function(e){var t=e.isExpanded;n.setState({isExpanded:t},(function(){return n.props.onToggle({isExpanded:t})}))})),n.state={isExpanded:n.props.isExpanded},n.accordionElement=y.a.createRef(),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isExpanded:e.isExpanded})}},{key:"expand",value:function(){this.accordionElement.current&&this.accordionElement.current.expand()}},{key:"collapse",value:function(){this.accordionElement.current&&this.accordionElement.current.collapse()}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.title,a=e.iconName,r=e.children,i=e.price,s=e.packageName,o=e.classname,l=e.lazyInitContent,c=e.disabled,u=this.state.isExpanded&&!c,d=i?function(){return P({price:i,packageName:s})}:C.a,p=k()("ducp-component-cart-panel-section",o,{"accordion-expanded":u,"hide-accordion-content":!r});return y.a.createElement("li",{className:p,id:t,key:t},y.a.createElement(_.a,{ref:this.accordionElement,title:n,disabled:c,iconName:a,id:"accordion-".concat(t),renderAdditionalAccordionHeaderContent:d,isExpanded:u,onToggle:this.onToggle,headerIcon:this.props.headerIcon,iconSize:"md",lazyInitContent:l},r))}}]),t}(v.PureComponent);g()(S,"defaultProps",{packageName:"",children:void 0,classname:void 0,isExpanded:!1,price:void 0,onToggle:C.a,headerIcon:void 0,disabled:!1,lazyInitContent:!1});t.a=S},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(95),s=n.n(i),o=n(15),l=n.n(o),c=n(4),u=n.n(c),d=n(5),p=n.n(d),h=n(0),f=n.n(h),m=n(13),g=n.n(m),v=n(2),y=n.n(v),b=n(58),C=n.n(b),E=n(19),k=n.n(E),O=n(27),_=n.n(O),P=n(249),S=n.n(P),N=n(34),w=n.n(N),A=n(36),T=n.n(A),I=n(128),D=n.n(I),x=n(17),j=n.n(x),L=n(545),F=n(54),B=n.n(F),R=n(21),M=n.n(R),V=function(e,t){return k()(t,(function(t){var n=t.breakdownElementAssignment;if(y()(n.travelPart))return!1;var a=f()(n,"travelPart.segments",[]);if(!y()(a)){var r=l()(a,(function(t){return l()(e,t)}));return!y()(r)}return l()(e,n.travelPart)}))},U=function(e){var t=["ancillariesPrice","seatsPrice"];return function(e){return u()(e,(function(e,t){var n=t.subElements,a=void 0===n?[]:n;return[].concat(B()(a),B()(e))}),[])}(k()(e,(function(e){var n=e.label,a=void 0===n?"":n;return M()(t,a)})))};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){return 1===e.length}function W(e){if(2===e.length){var t=f()(D()(e),"segments",[]),n=f()(T()(e),"segments",[]),a={origin:f()(D()(t),"origin"),destination:f()(T()(t),"destination")},r={origin:f()(D()(n),"origin"),destination:f()(T()(n),"destination")};return a.origin===r.destination&&a.destination===r.origin}return!1}function G(e){return!y()(e)&&!H(e)&&!W(e)}function K(e,t,n){return p()(e,(function(e){var a,i,s,o,c,u,d,h,m,g=(i=t,s=(a=e).segments,o=void 0===s?[]:s,c=a.cancelledSegments,u=void 0===c?[]:c,d=a.totalDuration,h=a.connectionInformations,m=y()(o)?u:o,{origin:f()(D()(m),"origin"),destination:f()(T()(m),"destination"),departure:j()(f()(D()(m),"departure")),arrival:j()(f()(T()(m),"arrival")),stops:Object(L.d)(m),duration:j.a.duration(d,"minutes"),connectionInfo:h,cabinClass:f()(D()(m),"cabinClass",""),ancillaries:V(m,i)}),v=y()(e.segments)?e.cancelledSegments:e.segments;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g,{segments:p()(v,(function(e){var t=function(e,t){var n=l()(t,(function(t){var n=t.segmentKey;return S()(n.arrival,e.arrival)&&S()(n.departure,e.departure)&&S()(n.destination,e.destination)&&S()(n.origin,e.origin)}));return n?f()(n,"description","").replace("/",""):""}(e,n);return{origin:e.origin,destination:e.destination,departure:j()(e.departure),arrival:j()(e.arrival),flight:e.flight,duration:j.a.duration(e.duration,"minute"),equipment:e.equipment,fareBasis:e.fareBasis,brandId:t,segmentStatusCode:e.segmentStatusCode}}))})}))}function z(e,t,n){var a=e.itineraryParts,r=K(w()(a),t,n);return{itineraryType:function(e){return{isRoundTrip:W(e),isOneWayTrip:H(e),isMultiCityTrip:G(e)}}(a),itineraryParts:r}}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){return _()(C()(e.alternatives))||{}},J=function(e){var t=Q({},e),n=f()(e,"subElements",[]);return t.price=X(e.price),y()(n)||(t.subElements=function e(t){var n=[];return y()(t)||g()(t,(function(t){var a=Q({},t);y()(f()(t,"price"))||(a.price=X(t.price)),y()(f()(t,"subElements",[]))||(a.subElements=e(t.subElements)),n.push(a)})),n}(n)),t};t.a=function(e){var t=e.pnr,n=t.reloc,a=t.iropAffected,r=t.itinerary,i=t.specialServiceRequests,o=t.travelPartsAdditionalDetails,c=t.payments,d=t.insuranceInformation,h=void 0===d?{}:d,m=t.passengers,g=void 0===m?[]:m,v=J(f()(t,"priceBreakdown",{})),y=f()(v,"subElements",[]),b=U(y),E=k()(i,{code:"BRND"}),O=z(r,b,E=k()(E,(function(e){return void 0!==e.segmentKey}))),_=function(e,t){return p()(e,(function(e){return{passengerDetails:f()(e,"passengerDetails",{}),passengerInfo:f()(e,"passengerInfo",{}),flights:u()(t,(function(t,n){var a=l()(n.passengers,{passenger:e});return a&&"Segment"===f()(n,'travelPart["@type"]')&&t.push({eTicket:a.eticketNumber,seat:a.seat&&a.seat.seatCode||"-",segment:{origin:f()(n,"travelPart.origin"),destination:f()(n,"travelPart.destination"),airlineCode:f()(n,"travelPart.flight.airlineCode"),flightNumber:f()(n,"travelPart.flight.flightNumber")}}),t}),[])}}))}(g,o),P=function(e){var t=e.map((function(e){return e.eligibilities}));return s()(C()(t))}(o);return{pnr:n,iropAffected:a,totalPaid:f()(v,"price",{}),itineraryParts:f()(O,"itineraryParts",[]),itineraryType:f()(O,"itineraryType"),paymentOptionsDetails:c,products:y,passengers:_,eligibilities:P,insuranceInformation:h}}},function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(58),s=n.n(i),o=n(0),l=n.n(o),c=n(51),u=n.n(c),d=n(42),p=n(11),h=n(324),f=n(84),m=n(14),g="EXCH",v=n(2),y=n.n(v),b=n(157),C=n(60);function E(e,t,n){return e.getIn(["data",t,"total"],n)}function k(e){var t=E(e,"ancillaries",Object(p.List)()).toJS(),n=function(e){return e.getIn(["data","external","breakdownElements"],Object(p.List)()).some((function(e){return e.get("label")===b.d}))}(e)?t:Object(C.c)(t,E(e,"insurance",Object(p.List)()).toJS()),a=E(e,"external",Object(p.Map)()).get("alternatives",Object(p.List)()).toJS();return y()(n)||y()(a)?y()(n)?Object(p.fromJS)(a):Object(p.fromJS)(n):Object(p.fromJS)(Object(C.d)(n,a))}var O=n(1442),_=n(45),P=n(214),S=n(1946),N=function(e){return e.metadata.get("shoppingCart")},w=function(e){return u()(e.ancillaries,"toJS")},A=function(e){return e.payment},T=function(e){return e.cars.get("selectedCarOfferTransformed")},I=function(e){return{fareRules:e.metadata.get("fareRules"),bagFee:e.metadata.get("bagFee")}},D=function(e,t){if(t!==m.a.PAYMENT)return Object(p.List)();var n=e.toObject().selectedPaymentOptions;return(void 0===n?Object(p.List)():n).filter((function(e){return e&&e.getIn(["surcharge","amount"],0)>0}))},x=function(e,t){return Object(S.a)(e.metadata,e.payment,t.location.pathname,e.sessionStorage.get("selectedTripOption"))},j=function(e,t){return e.findIndex((function(e){return O.a[e.get("sectionName")]===t}))},L=function(e){var t=e.hotels.get("selectedHotel");return t?t.merge(e.shoppingCart.getIn(["data","hotelProduct"])):e.shoppingCart.getIn(["data","hotelProduct"])},F=Object(d.a)((function(e){return e.shoppingCart}),(function(e){var t=k(e);return e.get("isLoading")?e:e.setIn(["data","ancillaries","total"],t)})),B=function(e){return e.metadata.get("defaultDateFormats")},R=function(e){return e.metadata.get("selectedLocale")},M=function(e){return e.flightSelection.get("isCompanionFareSearch")},V=function(e){var t=l()(e,"pnrInfo",Object(p.Map)()).get("payments",Object(p.List)()),n=t.isEmpty()?Object(p.List)():t.filter((function(e){return e.get("paymentDCCSummary")}));return n.isEmpty()?Object(p.Map)():n.getIn(["0","paymentDCCSummary"])},U=function(e,t){return l()(t,"location.query.exchangeType")},q=function(e){var t=l()(e,"pnrInfo",Object(p.Map)()).get("documents",Object(p.List)()),n=s()(t.map((function(e){return e.get("coupons")})).toJS());return r()(n,(function(e){return e.couponStatus===g}))},H=function(e,t,n,a){var r=e.get("cartSections"),i="true"===_.a.get("isSeatsExtrasCombined");if(t===f.a.MTO&&a!==m.a.CONFIRMATION&&!i)return n.includes("seat-selection")?r.delete(j(r,O.a.ANCILLARIES)):r.delete(j(r,O.a.SEATS));if(t===f.a.B2C)return n.includes("seat-selection")||r.delete(j(r,O.a.SEATS)),n.includes("ancillaries")||r.delete(j(r,O.a.ANCILLARIES)),r;if(t===f.a.CANCEL){var s=r.delete(j(r,O.a.ANCILLARIES));return s.delete(j(s,O.a.SEATS))}return t===f.a.UPGRADE?r.delete(j(r,O.a.ANCILLARIES)):r};t.a=function(){var e=Object(d.a)(Object(h.c)(),(function(e){return e}));return Object(d.a)(w,N,F,e,A,I,T,L,B,Object(P.a)(),x,M,V,U,q,R,(function(e,t,n,a,r,i,s,o,l,c,u,d,h,f,g,v){return{ancillaries:e,configuration:t,shoppingCart:n,isLoading:n.get("isLoading"),currentPage:a.currentPage,currentFlow:a.currentFlow,rulesAndFeeData:i,paymentData:r,paymentSurcharges:D(r,a.currentPage),paymentSurchargeTotal:a.currentPage===m.a.PAYMENT?r.get("totalSurcharge"):Object(p.List)(),selectedCarOffer:s,hotelProduct:o,defaultDateFormats:l,isRoundTrip:c.isRoundTrip,isMultiCity:c.isMultiCity,itineraryParts:c.itineraryParts,flowConfiguration:u,isCompanionFareSearch:d,paymentDCCSummary:h,exchangeType:f,isPnrExchanged:g,isConfirmationOrMybPage:[m.a.MYB,m.a.CONFIRMATION].includes(a.currentPage),cartSections:H(t,a.currentFlow,u,a.currentPage),selectedLocale:v}}))}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(5),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(39)),k=n.n(E),O=n(50),_=n(1264),P=n(1297),S=n.n(P),N=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).onClick=n.onClick.bind(p()(n)),n.links={},n}return f()(t,e),s()(t,[{key:"onClick",value:function(e,t){var n=t.disabled,a=t.clickKey;return!n&&this.props.onClick&&this.props.onClick(e,a)}},{key:"onKeyDown",value:function(e,t){(S.a.isEventKey(e,"enter")||S.a.isEventKey(e,"space"))&&this.onClick(e,t)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!(!this.links||!this.links[e])&&this.links[e].focus()}},{key:"renderIconOnlyButtons",value:function(){var e=this,t=this.props.items;return y()(t,(function(t){var n=t.icon,a=t.size,r=void 0===a?"md":a,i=t.disabled,s=t.ariaLabel,o=t.label,l=t.clickKey,c=t.tooltipId;return C.a.createElement(_.a,{key:l,className:k()("toolbar-icon-item",t.className,{"toolbar-item-hidden":t.hidden}),isIconButton:!0,ariaLabel:s,label:o,onClick:function(n){return e.onClick(n,t)},onKeyDown:function(n){return e.onKeyDown(n,t)},disabled:i,iconName:n,iconSize:r,tooltipId:c})}))}},{key:"renderTextButtons",value:function(){var e=this,t=this.props.items;return y()(t,(function(n){return C.a.createElement(_.a,{key:n.clickKey,ariaLabel:n.ariaLabel||n.label,tabIndex:n.disabled?-1:0,isTextButton:!0,disabled:n.disabled,className:k()("toolbar-item","count-".concat(t.length),n.className,{"toolbar-item-hidden":n.hidden,disabled:n.disabled}),onClick:function(t){return e.onClick(t,n)},onKeyDown:function(t){return e.onKeyDown(t,n)}},n.icon&&C.a.createElement(O.c,{name:n.icon,size:"md",className:k()({disabled:n.disabled}),fill:!0}),C.a.createElement("span",{className:"tool-bar-item-text"},n.label))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.iconOnly;return C.a.createElement("div",{ref:function(t){e.toolbar=t},role:"toolbar",className:k()("ducp-component-action-bar",n,{"icon-action-button":a})},a&&this.renderIconOnlyButtons(),!a&&this.renderTextButtons())}}]),t}(b.Component);g()(N,"defaultProps",{className:void 0,iconOnly:!1,items:[],onClick:void 0});t.a=N},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(56),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(39)),k=n.n(E),O=n(1334),_=n(50),P=n(1264),S=n(12),N=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"carouselRef",C.a.createRef()),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.sparkCarousel=new O.Carousel(this.carouselRef.current),this.focusSelectedItem()}},{key:"componentDidUpdate",value:function(e){y()(this.props.children)!==y()(e.children)&&(this.sparkCarousel.change(),this.focusSelectedItem())}},{key:"componentWillUnmount",value:function(){this.sparkCarousel&&(this.sparkCarousel._removeListeners(),this.sparkCarousel.remove())}},{key:"focusSelectedItem",value:function(){var e=this,t=this.sparkCarousel.items.find((function(t){return t.order===e.props.selectedItemIndex}));t&&(t.setSelected(!0),this.sparkCarousel._scrollTo(t))}},{key:"render",value:function(){return C.a.createElement("div",{className:k()("ducp-component-filmstrip-carousel","spark-carousel",this.props.className),ref:this.carouselRef,"data-spark-carousel-panel":!0},C.a.createElement("div",{className:"spark-carousel__outer-container "},C.a.createElement("div",{className:"spark-carousel__container-mask"},C.a.createElement("div",{className:"spark-carousel__container"},this.props.children)),C.a.createElement("div",{className:"spark-carousel__controls"},C.a.createElement(P.a,{type:"button",isSecondaryButton:!0,className:"spark-carousel__back xs",onClick:this.props.onLeftArrowClick,disabled:this.props.isLoading||!this.props.isLeftArrowEnabled},C.a.createElement(_.c,{name:_.a.CHEVRON_LEFT,srOnlyText:Object(S.i)("".concat(this.props.packageName,".prev"))})),C.a.createElement(P.a,{type:"button",isSecondaryButton:!0,className:"spark-carousel__forward xs",onClick:this.props.onRightArrowClick,disabled:this.props.isLoading||!this.props.isRightArrowEnabled},C.a.createElement(_.c,{name:_.a.CHEVRON_RIGHT,srOnlyText:Object(S.i)("".concat(this.props.packageName,".next"))})),C.a.createElement("div",{className:"spark-carousel__dots"}))))}}]),t}(b.Component);g()(N,"defaultProps",{className:"",selectedItemIndex:0,isLeftArrowEnabled:!0,isRightArrowEnabled:!0,isLoading:!1});var w=function(e){return C.a.createElement("div",{className:"spark-carousel__item"},e.children)};w.defaultProps={children:void 0};var A=w;n.d(t,"a",(function(){return A}));t.b=N},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={BT:"TRAVEL_BANK",LP:"AWARD"},r={ADD_COLLECT:"payment",EXCHANGE:"exchange",REFUND:"refund"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(27),r=n.n(a),i=n(17),s=n.n(i),o=n(131);function l(e){return e.map((function(e){var t=e.get("segments");return{origin:t.first().get("origin"),departure:s()(t.first().get("departure")).locale("en").format("YYYY-MM-DDTHH:mm:ss"),destination:t.last().get("destination"),arrival:s()(t.last().get("arrival")).locale("en").format("YYYY-MM-DDTHH:mm:ss")}}))}function c(e){return e.map((function(e){return{firstName:e.get("passengerDetails").get("firstName"),lastName:e.get("passengerDetails").get("lastName"),type:e.get("passengerInfo").get("type")}}))}function u(e){return e.first().first().get("currency")===o.b?{amount:e.first().last().get("amount"),currency:e.first().last().get("currency")}:{amount:e.first().first().get("amount"),currency:e.first().first().get("currency")}}function d(e){return r()(e.split("-"))}},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(4),s=n.n(i),o=n(109),l=n.n(o),c=n(15),u=n.n(c),d=n(0),p=n.n(d),h=n(51),f=n.n(h),m=n(56),g=n.n(m),v=n(42),y=n(11),b=n(214),C=n(1593),E=n(2009),k=n(101),O=n(532),_=n(328),P=n(327),S=n(531),N=n(438),w=n(566),A=n(174),T=n(549);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var D=function(e,t){return e.metadata.getIn(["flows",Object(k.a)(t.location.pathname)])},x=function(e){return f()(e.flightSelection.get("ribbons"),"toJS",e.flightSelection.get("ribbons"))||{}},j=function(e){return f()(e.metadata.get("calendarRibbon"),"toJS",{})},L=function(e){return e.flightSelection.get("isSearchingForFlights")},F=function(e){return e.flightSelection.get("isSelectingFlights")},B=function(e){return e.flightSelection.get("isSearchCallCompleted",!1)},R=function(e){return e.metaSearch.get("error")||e.flightSelection.get("error")},M=function(e){return e.metadata.get("selectedLocale")},V=function(e){return e.metadata.get("locales")},U=function(e){return f()(e.flightSelection.get("appliedFilters"),"toJS",{})},q=function(e){return e.flightSelection.get("previouslyAppliedFilters",{})},H=function(e){return e.flightSelection.get("filteredFlights",Object(y.List)())},W=function(e){return e.flightSelection.get("flights",Object(y.Map)())},G=function(e,t){return p()(t,"location.query.exchangeType")},K=function(e){return f()(e.flightSelection.get("filters"),"toJS",{})},z=function(e){return e.flightSelection.get("promocodeValid")},Y=function(e){return e.flightSelection.get("negotiateFarePresent")},Q=function(e){return e.flightSelection.get("combinabilityMapping")},X=function(e){return e.flightSelection.get("summaryBarSearchEditRequested")},J=function(e){return f()(e.flightSelection.get("appliedSorting"),"toJS",{})},$=function(e,t){var n=e.metadata.get("flightSelectionConfiguration");return Object(b.a)()(e,t).isMultiCity?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{displayOffersBy:T.a.BRAND}):n},Z=function(e){return p()(e.metadata.get("flightSelectionConfiguration"),"displayFlightAdvisories",!1)},ee=function(e){return e.flightSelection.get("warnings")||Object(y.List)()},te=function(e){return e.flightSelection.get("messages")},ne=function(e){return e.advisoryMessages.get("globalAdvisories")},ae=function(e){return e.advisoryMessages.get("travelPartAdvisories")},re=function(e){return e.flightSelection.get("minimalPointsThresholdNotMetForSomeFlights",!1)},ie=function(e){return e.metadata.get("seatSelectionConfiguration")},se=function(e){return e.seatSelection.get("seatMapsPreview")},oe=function(e){return e.seatSelection.get("legendPreview")},le=function(e){return e.seatSelection.get("segmentsPreview")},ce=function(e){return e.session.get("isSigningIn")},ue=function(e){return e.seatSelection.get("isFetchingSeatMapPreview")},de=function(e){return e.seatSelection.get("seatMapPreviewError")},pe=function(e){return e.flightSelection.get("isBundledOffers",!1)},he=function(e){return e.flightSelection.get("isLowFareOffers",!1)},fe=Object(v.a)(Object(b.a)(),(function(e){return void 0===e.direction?0:Number(e.direction)})),me=function(e){return e.flightSelection.get("selectedFlights",Object(y.Map)())},ge=function(e){return e.flightSelection.get("selectedBrands",Object(y.Map)())},ve=function(e){return e.flightSelection.get("requiredPointsForSelectedFlights")},ye=function(e){return e.flightSelection.get("isAllFlightsSelected",!1)},be=function(e){return e.flightSelection.get("showSpinner",!1)},Ce=function(e){return e.flightSelection.get("isSelectedFlightsSubmitted",!1)},Ee=function(e){return e.flightSelection.get("selectedFlightIds",Object(y.Map)())},ke=function(e){return e.flightSelection.get("shouldSetSelectedFlights",!0)},Oe=function(e){return e.metadata.get("upsellConfiguration")},_e=function(e){return e.metadata.get("defaultSummaryBarOffset")},Pe=function(e,t){return Object(w.a)(e,t)},Se=function(e){return e.metadata.get("defaultHeaderOffset")},Ne=function(e){return f()(e.metadata.get("contextShopping"),"toJS",{})},we=function(e){return e.metadata.get("defaultSearchType")},Ae=function(e){return e.metadata.getIn(["pointOfSale","isEnabled"])},Te=function(e){return e.metadata.getIn(["currencySelection","isEnabled"])},Ie=function(e){return e.metadata.getIn(["currencySelection","currencies"])},De=function(e){return e.metadata.getIn(["currencySelection","applicableRoutes"])},xe=function(e){return e.metadata.getIn(["pointOfSale","allowCurrencySelection"])},je=function(e){return f()(e.metadata.getIn(["classes","options"]),"toJS",{})},Le=function(e){return f()(e.metadata.get("cabinClasses"),"toJS",{})},Fe=function(e){return f()(e.metadata.get("brandSortOrder"),"toJS",{})},Be=function(e){return e.metadata.get("exchangeBackLink","/myb")},Re=function(e){return e.metadata.get("errorBackLink","/home")},Me=function(e){return e.metadata.get("airlineHostedHomepage",!1)},Ve=function(e){return e.metadata.get("viewBreakPoint")},Ue=function(e){return e.metadata.get("awardBooking")},qe=function(e){return e.metadata.get("getMaximumDaysInCalendar",365)},He=function(e){return e.metadata.get("isFlightNotFoundEnabled",!1)},We=function(e){return e.metadata.getIn(["defaultDateFormats","short"])},Ge=function(e){return e.metadata.getIn(["defaultDateFormats","irops"])},Ke=function(e){return e.metadata.get("flightDetails")},ze=function(e){return e.session.get("isChanging")},Ye=function(e){return e.session.get("user")},Qe=function(e){return e.metadata.get("countries")},Xe=function(e){return!e.session.get("user").isEmpty()},Je=function(e){return e.flightSelection.get("isCompanionFareSearch")},$e=function(e){return e.flightSelection.get("currency")},Ze=function(e){return e.flightSelection.get("availableBrandOffersCodes")},et=function(e){return e.metadata.get("ancillaryMap")},tt=function(e){return e.metadata.get("flightSelectionBackRedirectionURL")},nt=function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])},at=Object(v.a)((function(e){return e.metadata.get("brandBonusesConfiguration")}),(function(e){return f()(e.flightSelection.get("brandBenefitReferences"),"toJS",[])}),(function(e,t){return s()(t,(function(t,n){return t[n]=p()(e,n),t}),{})})),rt=Object(v.a)((function(e){return e.shoppingCart}),Ye,(function(e,t){var n=e.get("data"),a=p()(u()(l()(n.total),{currency:"FFCURRENCY"}),"amount",0);return p()(t,"loyaltyDetails.balance",0)<a})),it=Object(v.a)(Object(C.a)(),(function(e){return e})),st=Object(v.a)(it,(function(e){return f()(e.flightSelection.get("selectedOfferIds"),"toJS",[])}),(function(e,t){return g()(t)===g()(e)})),ot=Object(v.a)((function(e,t){return p()(t,"location.query",{})}),(function(e){return"true"===e.awardBooking}));t.a=function(){var e=Object(v.b)({isSearchingForFlights:L,isSelectingFlights:F,error:R,isUserLoggedIn:Xe,isRBEEnabled:ot,appliedFilters:U,filteredFlights:H,flights:W,direction:fe,exchangeType:G,searchCriteria:Object(b.a)(),flightIds:it,isSearchCallCompleted:B,IsFrequentFlyerBalanceAmountAvailable:rt}),t=Object(v.b)({filters:K,direction:fe,filteredFlights:H,appliedFilters:U}),n=Object(v.b)({configuration:j,ribbons:x}),a=Object(v.b)({seatMapsPreview:se,legendPreview:oe,segmentsPreview:le,isFetchingSeatMapPreview:ue,seatMapPreviewError:de,seatsConfiguration:ie}),r=Object(v.b)({maximumNumberOfDays:qe,isFlightNotFoundEnabled:He,defaultHeaderOffset:Se,contextShopping:Ne,searchType:we,isPointOfSaleEnabled:Ae,allowPointOfSaleCurrencySelection:xe,isCurrencySelectionEnabled:Te,currencies:Ie,applicableRoutesForCurrencyDropdown:De,classesOptions:je,cabinClasses:Le,brandSortOrder:Fe,exchangeBackLink:Be,errorBackLink:Re,airlineHostedHomepage:Me,viewBreakPoint:Ve,awardBooking:Ue,defaultDateFormat:We,iropDateFormat:Ge,flightDetails:Ke,brandBonusesConfiguration:at,countries:Qe,ancillaryMap:et,travelBankConfiguration:nt});return Object(v.b)({flowConfiguration:D,flightSelection:e,filter:t,appliedFilters:U,filteredFlights:H,error:R,promocodeValid:z,negotiateFarePresent:Y,combinabilityMapping:Q,summaryBarSearchEditRequested:X,isRBEEnabled:ot,flights:W,direction:fe,messages:te,globalAdvisories:ne,travelPartAdvisories:ae,previouslyAppliedFilters:q,minimalPointsThresholdNotMetForSomeFlights:re,appliedSorting:J,flightIds:it,calendarRibbons:n,isAllFlightSelectionsSubmitted:st,configuration:$,displayFlightAdvisories:Z,seatMapPreview:a,warnings:ee,isBundledOffers:pe,isLowFareOffers:he,selectedFlights:me,selectedFlightIds:Ee,selectedBrands:ge,isAllFlightsSelected:ye,showSpinner:be,isSelectedFlightsSubmitted:Ce,shouldSetSelectedFlights:ke,defaultSummaryBarOffset:_e,metadata:r,selectedLocale:M,isSessionChanging:ze,upsellData:Object(E.a)(),locales:V,requiredPointsForSelectedFlights:ve,upsellConfiguration:Oe,searchCriteria:Object(b.a)(),user:Ye,isCompanionFareSearch:Je,isSigningIn:ce,dateFormat:_.b,getNextPage:O.a,language:P.a,formatDateTime:_.c,background:Object(S.a)(),currentFlow:A.a,getBackLinkProps:N.a,currency:$e,availableBrandOffersCodes:Ze,signInProperties:Pe,flightSelectionBackRedirectionURL:tt})}},function(e,t,n){"use strict";var a=n(42);t.a=function(){return Object(a.b)({upsellOptions:function(e){return e.upsell.get("upsellOptions")},isUpsellOffersLoading:function(e){return e.upsell.get("isUpsellOffersLoading")},initiallySelectedHashCodes:function(e){return e.upsell.get("initiallySelectedHashCodes")},upsellSelectionError:function(e){return e.upsell.get("upsellSelectionError")},isUpsellSelectionLoading:function(e){return e.upsell.get("isUpsellSelectionLoading")},upsellSelectionSuccess:function(e){return e.upsell.get("upsellSelectionSuccess")},hasPremiumSeatRemovedWarning:function(e){return e.upsell.get("hasPremiumSeatRemovedWarning")}})}},,function(e,t,n){var a=n(555),r=n(159);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=r(n))==n?n:0),void 0!==t&&(t=(t=r(t))==t?t:0),a(r(e),t,n)}},function(e,t,n){"use strict";var a=n(12),r=n(17),i=n.n(r);t.a=function(e){var t=i.a.duration(e,"minutes"),n=Math.floor(t.asDays()),r=Math.floor(t.subtract(n,"days").asHours()),s=Math.floor(t.subtract(r,"hours").asMinutes()),o=Math.floor(t.subtract(s,"minutes").asSeconds()),l=0===n?"":n+Object(a.i)("time.days",{days:n}),c=0===r?"":r+Object(a.i)("time.hours",{hours:r}),u=s+Object(a.i)("time.minutes",{minutes:s}),d=o+Object(a.i)("time.seconds",{seconds:o});return"".concat(l," ").concat(c," ").concat(u," ").concat(d)}},function(e,t,n){"use strict";var a=n(16),r=n.n(a),i=n(1),s=n.n(i),o=n(6),l=(n(194),n(12)),c=n(528),u=n(78),d=n(1983),p=n(1984),h=n(1566);function f(e){var t=e.checkboxEnabled,n=e.checkboxChecked,a=e.handleCheckboxChange,r=e.purchaseAgreementLinks,i=e.rulesAndFeeData,o=e.onBagFeeLinkClick,u=e.onFareRulesClick;return s.a.createElement("span",{className:"dxp-cart-terms-checkbox"},s.a.createElement(c.a,{id:h.g,translatedLabel:Object(l.h)("payment.completePurchaseAgreementDescription",m(r,i,o,u),"span"),checked:t&&n,disabled:!t,onChange:function(e,t){return a&&a(e,t)}}))}function m(e,t,n,a){var i=e.reduce((function(e,t,n){return e["purchaseAgreementLink".concat(n)]=s.a.createElement(u.a,{className:"link-underlined",href:t,target:"_blank",rel:"external",isExternalLink:!0},Object(l.i)("payment.purchaseAgreementTitles[".concat(n,"]"))),e}),{});return r()({},{fareRules:s.a.createElement(d.a,{rulesAndFeeData:t,onFareRulesClick:a}),baggageInformation:s.a.createElement(p.a,{rulesAndFeeData:t,onBagFeeLinkClick:n})},i)}f.defaultProps={checkboxEnabled:!1,checkboxChecked:!1,handleCheckboxChange:void 0,onBagFeeLinkClick:void 0,onFareRulesClick:void 0},f.contextTypes={translateWithComponents:o.func.isRequired},t.a=f},function(e,t,n){"use strict";var a=n(11),r=n(10);t.a=function(e){var t=e.shoppingCart.getIn(["data","products"],Object(a.Map)()).find((function(e){return e.get("label")===r.c.toLowerCase()})),n=e.shoppingCart.getIn(["data","insurance"],Object(a.Map)()),i=n.isEmpty()||n.get("breakdownElements").isEmpty()?Object(a.List)():Object(a.fromJS)([n]);return(t&&t.size?t.get("breakdownElements",Object(a.List)()):Object(a.List)()).merge(i)}},,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=n(39),C=n.n(b),E=n(158),k=n.n(E),O=(n(6),n(1537)),_=n(1385),P=n.n(_),S=n(5),N=n.n(S),w=n(36),A=n.n(w),T=n(52),I=n.n(T),D=(n(194),n(123)),x=n(11),j=n(1286),L=n(12),F=n(195),B=n(84),R=n(24),M=n(14),V=n(1524),U=n(1525),q=n(1934),H=n(1588),W=n(1732),G=n(1535),K=n(1587),z=n(2),Y=n.n(z),Q="myb-review",X=n(1305),J=n(1360),$=n(1320),Z=n(1374),ee=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(Z.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:Q})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.breadcrumbConfiguration,r=e.tripParams,i=e.searchCriteriaQueryParams,s=Object(L.i)("summaryBar.flowCrumbs.".concat(Q,".").concat(t),{tripDate:Y()(r.originDate)&&Y()(r.destinationDate)?"":n.getTripDate(i,a,r.originDate,r.destinationDate)});return y.a.createElement($.a,{crumbSubTitle:s})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(J.a,{pageName:Q,flowName:R.a.BNPL})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(Z.a,{crumbState:X.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:Q})})),g()(p()(n),"getTripDate",(function(e,t,n,a){var r=t.get("flightSelectionCrumbDateFormat");return e.isOneWay?n.format(r):Object(L.i)("summaryBar.flowCrumbs.tripDate",{originDate:n.format(r),destinationDate:a.format(r)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(j.a,{index:this.props.index,state:this.props.crumbState,icon:this.getCrumbIcon(),title:this.getCrumbTitle(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getCrumbSubTitle(),hoverIcon:this.getHoverIcon(),onClick:function(){return e.props.onMybReviewCrumbClick(e.props.url)}})}}]),t}(v.Component),te=n(42),ne=n(214),ae=n(1560),re=n(1526),ie=function(e){return e.seatSelection.get("selectedSeats",Object(x.List)())},se=function(e){return e.seatSelection.get("uniquePassengers",Object(x.List)())},oe=Object(te.a)((function(e){return e.seatSelection.get("segments",Object(x.List)())}),(function(e){return e.flatten(!0).size})),le=function(e){return e.metadata.get("seatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},ce=n(2014),ue=function(e){return e.metadata.get("breadcrumbs")},de=function(e){return e.metadata.get("flows")},pe=Object(te.a)(Object(ne.a)(),(function(e){return e})),he=function(e){return!e.bnplAncillaries.get("ancillariesAvailable",!1)},fe=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,M.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,M.a.BNPL,(function(e,t,n){return a.renderMYBReviewBreadcrumbItem(e,t,n)})),g()(n,M.a.PASSENGERS,(function(e,t,n){return a.renderPassengersBreadcrumbItem(e,t,n)})),g()(n,M.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,M.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,M.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){return y.a.createElement(W.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.ANCILLARIES,e,n,t),url:Object(V.c)(R.a.BNPL,M.a.ANCILLARIES),ancillaries:a.props.ancillaries,index:I()(t,M.a.ANCILLARIES),onAncillariesCrumbClick:a.handleCrumbClick,key:M.a.ANCILLARIES,isAncillariesAvailable:a.props.isAncillariesAvailable})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(K.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.HOME,e,n,t),index:n,url:Object(V.c)(M.a.MYB,M.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:M.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderMYBReviewBreadcrumbItem",(function(e,t,n){return y.a.createElement(ee,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.BNPL,e,n,t),index:I()(t,M.a.BNPL),url:Object(V.c)(R.a.BNPL,M.a.BNPL),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,onMybReviewCrumbClick:a.handleCrumbClick,key:M.a.BNPL})})),g()(p()(a),"renderPassengersBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.PASSENGERS,e,n,t),searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:I()(t,e),url:Object(V.c)(R.a.BNPL,M.a.PASSENGERS),onPassengerCrumbClick:a.handleCrumbClick,key:M.a.PASSENGERS})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(G.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.PAYMENT,e,n,t),url:Object(V.c)(R.a.BNPL,M.a.PAYMENT),index:I()(t,M.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:M.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(H.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(M.a.SEAT_SELECTION,e,n,t),url:Object(V.c)(R.a.BNPL,M.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:I()(t,M.a.SEAT_SELECTION),onSeatSelectionCrumbClick:a.handleCrumbClick,key:M.a.SEAT_SELECTION})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=P()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.isAuthorable,s=n.get(B.a.BNPL),o=A()(a.pathname.split("/")),l=s.keySeq().includes(o)?o:R.a.B2C,c=Object(V.a)(s,r.get("displayHomeCrumb")),u=I()(c,l),d=Object(F.a)(i,"breadcrumbs"),p=c.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",h=C()("dxp-breadcrumbs",p);return y.a.createElement("div",d,y.a.createElement(j.b,{stickyBottomBoundaryID:void 0,className:h,PACKAGE_NAME_CLASSIFIED:"app",cartPrice:this.props.total,showCondensed:this.state.showCondensed,dropDownLabel:Object(L.i)("summaryBar.mobileBreadcrumbDropdownLabel")},N()(c,(function(t){return e.flowsToBreadcrumbComponentMapper[t](l,c,u)}))))}}]),t}(v.PureComponent));g()(fe,"defaultProps",{seatsCrumbData:void 0,ancillaries:Object(x.List)(),total:void 0,isAuthorable:!0,cartCollapsed:!0});var me=Object(D.b)((function(){return Object(te.b)({searchCriteriaQueryParams:pe,breadcrumbConfiguration:ue,tripParams:Object(ae.a)(),flowConfiguration:de,seatsCrumbData:Object(te.b)({selectedSeats:ie,passengers:se,passengersExcludedFromSeatSelection:le,flightsCount:oe}),ancillaries:ce.a,total:re.a,isAncillariesAvailable:he})}),{updateURLQueryParameters:U.a})(fe);n.d(t,"a",(function(){return ge}));var ge=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(me,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.params,o=e.children,l=e.id,c=C()(t,{"is-mobile":k.a.mobile,"is-visible":this.state.isCartExpanded});return y.a.createElement(O.a,{className:c,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,params:s,id:l},o)}}]),t}(v.Component);g()(ge,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},params:{},isCartEnabled:!0})},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=n(39),C=n.n(b),E=(n(6),n(50)),k=n(1562),O=n.n(k),_=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onClick",(function(e){var t=e.clickKey,a=e.destination,r=e.disabled;return function(){return!r&&n.props.onClick&&n.props.onClick({clickKey:t,destination:a})}})),g()(p()(n),"onItemClick",(function(e){var t=e.clickKey,a=e.destination,r=e.disabled;return function(e){return!r&&!e.currentTarget.classList.value.includes("open")&&n.props.onItemClick&&n.props.onItemClick({clickKey:t,destination:a})}})),g()(p()(n),"isNodeElement",(function(e){return!(!e.type||!e.props)})),n}return f()(t,e),s()(t,[{key:"renderToolBarSubItem",value:function(e){var t=e.ariaLabel,n=e.clickKey,a=e.label,r=e.disabled;return y.a.createElement("li",{className:C()({"spark-toolbar__item--disabled":r}),"aria-label":t||a,key:n,onClick:this.onClick(e),onKeyPress:this.onClick(e),role:"menuitem",tabIndex:"0"},a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,a=t.ariaLabel,r=t.icon,i=t.clickKey,s=t.destination,o=t.subItems,l=t.className,c=t.onItemClick,u=t.disabled,d=a||n;return y.a.createElement("div",{onClick:o?this.onItemClick({clickKey:i,destination:s,disabled:u}):this.onClick({clickKey:i,destination:s,disabled:u}),onKeyPress:o?this.onItemClick({clickKey:i,destination:s,disabled:u}):this.onClick({clickKey:i,destination:s,disabled:u}),className:C()("spark-toolbar__item",{"no-icon":!r,"spark-toolbar__item--disabled":u},l),id:"".concat("ducp-component-toolbar","-").concat(i,"-").concat(this.props.id),label:n,"aria-label":d,role:"menuitem",tabIndex:"-1"},o&&y.a.createElement("div",{className:"spark-toolbar__item--content",onClick:c&&function(e){return e.stopPropagation()},onKeyPress:c&&function(e){return e.stopPropagation()},role:"menuitem",tabIndex:"-1",key:"".concat(i,"-subitems")},this.isNodeElement(o[0])?o:y.a.createElement("ul",{className:"spark-toolbar__list spark-toolbar__item--close-on-click"},o.map((function(t){return e.renderToolBarSubItem(t)})))),r&&y.a.createElement(E.c,{name:r,className:"spark-toolbar__item-helper",key:"".concat(i,"-icon")}))}}]),t}(v.Component);g()(_,"defaultProps",{label:void 0,ariaLabel:void 0,icon:void 0,subItems:void 0,id:void 0,destination:void 0,className:void 0,onClick:void 0,onItemClick:void 0,disabled:void 0});var P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"componentWillUnmount",(function(){n.sparkInstance&&n.sparkInstance._removeListeners()})),g()(p()(n),"isNodeElement",(function(e){return!(!e.type||!e.props)})),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.sparkInstance=new O.a(this.toolbar),O.a.prototype._removeListeners=function(){document.removeEventListener("click",this._handleWindowClick),document.removeEventListener("touchstart",this._onTouchStartBound,!0),document.removeEventListener("touchend",this._onTouchEndBound,!0),window.removeEventListener("resize",this._handleResize),this.el.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("blur",this._handleBlur,!0),document.removeEventListener("focus",this._handleFocus,!0),document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0)}}},{key:"componentDidUpdate",value:function(){this.props.enableDidUpdate&&this.sparkInstance&&(this.sparkInstance._initItems(),this.sparkInstance.update())}},{key:"renderToolBarItem",value:function(e){var t=e.label,n=e.ariaLabel,a=e.icon,r=e.clickKey,i=e.destination,s=e.subitems,o=e.disabled;return y.a.createElement(_,{key:r,id:this.props.id,onClick:this.props.onClick,label:t,ariaLabel:n,icon:a,clickKey:r,destination:i,subItems:s,disabled:o})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.isIconList,r=t.items,i=t.collapsedText,s=t.showMoreIcon,o=t.showMoreText,l=t.alwaysVisible,c=C()("ducp-component-toolbar",n,{"always-visible":l}),u=C()("spark-toolbar",{"spark-toolbar--icon":a}),d=C()("spark-toolbar__show-more",{"show-collapsed-text":i});return y.a.createElement("div",{className:c},y.a.createElement("div",{className:u,role:"menubar",tabIndex:"0",ref:function(t){e.toolbar=t}},y.a.createElement("div",{key:"spark-toolbar-visible",className:"spark-toolbar__container--visible"},r.map((function(t){return e.isNodeElement(t)?t:e.renderToolBarItem(t)}))),y.a.createElement("div",{key:"text-and-action",className:d,tabIndex:"-1"},o&&y.a.createElement("div",{key:"show-more-text",className:"show-more-text"},o),i&&y.a.createElement("div",{key:"show-action-action",className:"more-action-text"},i),y.a.createElement(E.c,{key:"icon",name:s,className:"default-icon",fill:!0})),y.a.createElement("div",{key:"spark-toolbar-hidden",className:"spark-toolbar__container--hidden"})))}}]),t}(v.Component);g()(P,"defaultProps",{className:void 0,isIconList:!0,collapsedText:void 0,showMoreText:void 0,showMoreIcon:E.c.ICONS.ARROW_TRIANGLE_DOWN,onClick:void 0,id:void 0,enableDidUpdate:!0,alwaysVisible:void 0}),n.d(t,"a",(function(){return _}));t.b=P},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(2),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(12)),k=n(1286),O=n(50),_=n(14),P=n(1305),S=n(85),N=n(1320),w=n(1374),A=function(e){var t=e.origin,n=e.tripIcon,a=e.destination;return C.a.createElement("span",{className:"dxp-flight-breadcrumb-title-container"},t&&C.a.createElement("span",{className:"dxp-flight-selection-origin"},t),!t&&C.a.createElement("span",{className:"sr-only"},Object(E.i)("origin.label")),C.a.createElement(O.c,{name:n,size:"sm"}),a&&C.a.createElement("span",{className:"dxp-flight-selection-destination"},a),!a&&C.a.createElement("span",{className:"sr-only"},Object(E.i)("destination.label")))},T=(n(2266),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return C.a.createElement(w.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:_.a.FLIGHT_SELECTION})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.tripParams,r=Object(E.i)("summaryBar.flowCrumbs.".concat(_.a.FLIGHT_SELECTION,".").concat(t),{tripDate:y()(a.originDate)&&y()(a.destinationDate)?"":n.getTripDate()});return C.a.createElement(N.a,{crumbSubTitle:r})})),g()(p()(n),"getCrumbTitle",(function(){var e=n.props,t=e.tripParams,a=e.searchCriteriaQueryParams;if(!e.displayPnrFlightData){var r=a.isRoundTrip?O.a.ARROWS_LEFT_RIGHT:O.a.ARROW_BASIC_RIGHT;return C.a.createElement(A,{origin:t.origin,tripIcon:r,destination:t.destination})}var i=t.reservationRoute||{},s=(y()(i.tripType)?a.isRoundTrip:i.tripType===S.a.ROUND_TRIP)?O.a.ARROWS_LEFT_RIGHT:O.a.ARROW_BASIC_RIGHT;return C.a.createElement(A,{origin:i.origin,tripIcon:s,destination:i.destination})})),g()(p()(n),"getHoverIcon",(function(){return C.a.createElement(w.a,{crumbState:P.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:_.a.FLIGHT_SELECTION})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(E.i)("summaryBar.flowCrumbs.".concat(_.a.FLIGHT_SELECTION,".").concat(P.a.HOVER));return C.a.createElement(N.a,{crumbSubTitle:e})})),g()(p()(n),"getTripDate",(function(){var e,t,a,r=n.props,i=r.breadcrumbConfiguration,s=r.tripParams,o=r.searchCriteriaQueryParams,l=r.displayPnrFlightData,c=i.get("flightSelectionCrumbDateFormat");return l?(e=y()(s.reservationDates)?s.originDate:s.reservationDates.originDate,t=y()(s.reservationDates)?s.destinationDate:s.reservationDates.destinationDate,a=y()(s.reservationRoute)?o.isOneWay:s.reservationRoute.tripType===S.a.ONE_WAY):(e=s.originDate,t=s.destinationDate,a=o.isOneWay),a?e.locale("en").format(c):Object(E.i)("summaryBar.flowCrumbs.tripDate",{originDate:e.locale("en").format(c),destinationDate:t.locale("en").format(c)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return C.a.createElement(k.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onFlightSelectionCrumbClick(e.props.url)},className:"dxp-breadcrumb-item flight-selection-breadcrumb-item"})}}]),t}(b.Component));g()(T,"defaultProps",{displayPnrFlightData:!1}),n.d(t,"a",(function(){return T}))},,function(e,t,n){"use strict";var a=n(36),r=n.n(a),i=n(128),s=n.n(i),o=(n(6),n(1)),l=n.n(o),c=n(39),u=n.n(c),d=(n(2277),function(e){var t=e.name,n=e.className,a=t.trim().split(" ");return l.a.createElement("div",{className:u()("user-initial",n)},s()(t)+s()(r()(a)))});n.d(t,"a",(function(){return d}))},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(16),y=n.n(v),b=n(2),C=n.n(b),E=n(5),k=n.n(E),O=n(0),_=n.n(O),P=n(1),S=n.n(P),N=(n(6),n(11)),w=(n(194),n(12)),A="addressType",T="streetOne",I="streetTwo",D="city",x="country",j="state",L="zipCode",F=n(129),B=n(529),R=n(326),M=n(153),V=n(1289),U=n(114);n(2392);n.d(t,"a",(function(){return q}));var q=function(e){function t(e){var n;r()(this,t),n=l()(this,u()(t).call(this,e));var a=_()(p()(n),"props.data.country",_()(e,"configuration.country.defaultCountryCode","")),i=_()(e.configuration,"isEnabled",!1)?{addressType:_()(e.configuration,"addressType.isEnabled",!1),streetOne:_()(e.configuration,"streetOne.isEnabled",!1),streetTwo:_()(e.configuration,"streetTwo.isEnabled",!1),city:_()(e.configuration,"city.isEnabled",!1),country:_()(e.configuration,"country.isEnabled",!1),state:n.isStateEnabled(a),zipCode:_()(e.configuration,"zipCode.isEnabled",!1)}:{};return n.state={enabledFields:i,selectedCountry:a},n}return f()(t,e),s()(t,[{key:"getLabel",value:function(e){var t=this.props.prefix||"passengers";return Object(V.d)(e,this.props.configuration,this.props.validations,t)}},{key:"getStatesForSelectedCountry",value:function(e){var t=this.props.provinces.countries.find((function(t){return t.code===e}));return k()(_()(t,"states",[]),(function(e){return{label:Object(w.i)("state.".concat(t.code,".").concat(e)),value:e}}))}},{key:"getValue",value:function(){var e=this.state.enabledFields,t=e.addressType,n=e.streetOne,a=e.streetTwo,r=e.city,i=e.country,s=e.state,o=e.zipCode;return{addressType:t&&this.addressType?(this.addressType.getValue()||"").toUpperCase():"",street1:n&&this.streetOne?this.streetOne.getValue():"",street2:a&&this.streetTwo?this.streetTwo.getValue():"",city:r&&this.city?this.city.getValue():"",country:i&&this.country?this.country.getValue():"",postcode:o&&this.zipCode?this.zipCode.getValue():"",state:s&&this.province?this.province.getValue():""}}},{key:"setStateOptionsForSelectedCountry",value:function(e){var t=this;this.setState((function(n){return{selectedCountry:e,enabledFields:y()({},n.enabledFields,{state:t.isStateEnabled(e)})}})),this.province&&this.province.clearSelection()}},{key:"isStateEnabled",value:function(e){var t=_()(this.props,"configuration.state.isEnabled");return _()(this.props,"configuration.country.isEnabled")&&!C()(e)&&t&&this.selectedCountryHasStates(e)}},{key:"isValid",value:function(){return Object(M.c)(this.state.enabledFields,{addressType:this.addressType,streetOne:this.streetOne,streetTwo:this.streetTwo,city:this.city,country:this.country,zipCode:this.zipCode,state:this.province})}},{key:"selectedCountryHasStates",value:function(e){return this.props.provinces.countries.filter((function(t){return t.code===e})).some((function(e){return!C()(e.states)}))}},{key:"renderAddressType",value:function(){var e=this,t=this.props,n=t.configuration,a=t.validations,r=t.prefix,i=t.serverValidationErrors,s=t.id,o=Object(U.j)("addressType",n),l=_()(this.props,"data.addressType")&&"".concat(_()(this.props,"data.addressType","").toUpperCase());return S.a.createElement(B.a,{label:this.getLabel("addressType"),keyProp:A,id:"".concat(s,"-addressType"),defaultValue:l,options:o,className:"field-address-type",validators:Object(V.h)(a,_()(n,["addressType","validators"],[])),useLabelFeedback:!0,ref:function(t){e.addressType=t},disabled:!_()(n,"addressType.isEditable",!0),isValid:!i.has("".concat(r,"addressType")),error:i.get("".concat(r,"addressType"))})}},{key:"renderCity",value:function(){var e=this,t=this.props,n=t.id,a=t.validations,r=t.configuration,i=t.prefix,s=t.serverValidationErrors;return S.a.createElement(F.a,{label:this.getLabel("city"),keyProp:D,defaultValue:_()(this.props,"data.city"),validators:Object(V.h)(a,_()(r,["city","validators"],[])),useLabelFeedback:!0,ref:function(t){e.city=t},disabled:!_()(r,"city.isEditable",!0),className:"city",id:n,isValid:!s.has("".concat(i,"city")),error:s.get("".concat(i,"city"))})}},{key:"renderCountry",value:function(){var e=this,t=this.props,n=t.countries,a=t.id,r=t.validations,i=t.configuration,s=t.prefix,o=t.serverValidationErrors;return S.a.createElement(R.a,{label:this.getLabel("country"),keyProp:x,options:n,defaultValue:this.state.selectedCountry||_()(this.props,"data.country"),validators:Object(V.h)(r,_()(i,["country","validators"],[])),useLabelFeedback:!0,ref:function(t){e.country=t},onChange:function(t){e.setStateOptionsForSelectedCountry(t)},disabled:!_()(i,"country.isEditable",!0),className:"country",id:"".concat(a,"-country"),isValid:!o.has("".concat(s,"country")),error:o.get("".concat(s,"country"))})}},{key:"renderState",value:function(){var e=this,t=this.props,n=t.id,a=t.validations,r=t.configuration,i=t.prefix,s=t.serverValidationErrors,o=this.state.selectedCountry;return S.a.createElement(R.a,{label:this.getLabel("state"),keyProp:j,options:this.getStatesForSelectedCountry(o),defaultValue:_()(this.props,"data.state"),validators:Object(V.h)(a,_()(r,["state","validators"],[])),useLabelFeedback:!0,ref:function(t){e.province=t},disabled:!_()(r,"state.isEditable",!0),className:"state",id:n,isValid:!s.has("".concat(i,"state")),error:s.get("".concat(i,"state"))})}},{key:"renderStreetOne",value:function(){var e=this,t=this.props,n=t.id,a=t.validations,r=t.configuration,i=t.prefix,s=t.serverValidationErrors;return S.a.createElement(F.a,{label:this.getLabel("streetOne"),keyProp:T,defaultValue:_()(this.props,"data.street1"),validators:Object(V.h)(a,_()(r,["streetOne","validators"],[])),useLabelFeedback:!0,ref:function(t){e.streetOne=t},disabled:!_()(r,"streetOne.isEditable",!0),className:"streetOne",id:n,isValid:!s.has("".concat(i,"streetOne")),error:s.get("".concat(i,"streetOne"))})}},{key:"renderStreetTwo",value:function(){var e=this,t=this.props,n=t.id,a=t.validations,r=t.configuration,i=t.prefix,s=t.serverValidationErrors;return S.a.createElement(F.a,{label:this.getLabel("streetTwo"),keyProp:I,defaultValue:_()(this.props,"data.street2"),validators:Object(V.h)(a,_()(r,["streetTwo","validators"],[])),useLabelFeedback:!0,ref:function(t){e.streetTwo=t},disabled:!_()(r,"streetTwo.isEditable",!0),className:"streetTwo",id:n,isValid:!s.has("".concat(i,"streetTwo")),error:s.get("".concat(i,"streetTwo"))})}},{key:"renderZipCode",value:function(){var e=this,t=this.props,n=t.id,a=t.validations,r=t.configuration,i=t.prefix,s=t.serverValidationErrors,o="zipCode";return S.a.createElement(F.a,{label:this.getLabel(o),keyProp:L,defaultValue:_()(this.props,"data.postcode"),validators:Object(V.h)(a,_()(r,[o,"validators"],[])),useLabelFeedback:!0,ref:function(t){e.zipCode=t},disabled:!_()(r,"zipCode.isEditable",!0),className:o,id:n,isValid:!s.has("".concat(i).concat(o)),error:s.get("".concat(i).concat(o))})}},{key:"render",value:function(){var e=this.state.enabledFields;return S.a.createElement("div",{className:"passenger-home-address"},e.addressType&&this.renderAddressType(),e.streetOne&&this.renderStreetOne(),e.streetTwo&&this.renderStreetTwo(),e.city&&this.renderCity(),e.country&&this.renderCountry(),e.state&&this.renderState(),e.zipCode&&this.renderZipCode())}}]),t}(P.Component);g()(q,"defaultProps",{validations:{},countries:[],provinces:[],prefix:void 0,serverValidationErrors:Object(N.Map)()})},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(321),y=n.n(v),b=n(145),C=n.n(b),E=n(5),k=n.n(E),O=(n(6),n(1)),_=n.n(O),P=n(39),S=n.n(P),N=n(12),w=(n(2216),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={selectedValue:e.defaultValue||"",focusedValue:""},n}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.defaultValue!==this.props.defaultValue&&this.setState({selectedValue:e.defaultValue})}},{key:"onBlur",value:function(){this.setState({focusedValue:""})}},{key:"onClick",value:function(e,t){this.setState({selectedValue:t}),this.props.onClick&&this.props.onClick(e,t)}},{key:"onFocus",value:function(e){this.setState({focusedValue:e})}},{key:"getValue",value:function(){return this.state.selectedValue}},{key:"isValid",value:function(){return!0}},{key:"renderButtons",value:function(e,t,n,a){var i=this,s=t?{checked:"checked"}:{},o=S()("toggle-button-item",y()(n));return _.a.createElement("li",{className:o,key:a},_.a.createElement("label",{htmlFor:"toggle-button-group-".concat(y()(a)),className:e},this.props.prefix?Object(N.a)("".concat(this.props.prefix,".").concat(n)):Object(N.a)(n),_.a.createElement("input",r()({id:"toggle-button-group-".concat(y()(a)),type:"radio",className:"hidden"},s,{name:"toggle-button-group-".concat(y()(a)),value:n,onClick:function(e){return i.onClick(e,n)},onChange:function(e){return i.onClick(e,n)},onFocus:function(){return i.onFocus(n)},onBlur:function(){return i.onBlur()},"aria-describedby":this.props.ariaDescribedBy}))))}},{key:"renderToggleBar",value:function(){var e=this;return k()(C()(0,Number(this.props.numberOfOptions||2)),(function(t){var n=S()("toggle-button dxp-toggle-button-option-".concat(t),e.props.buttonClassNames,{selected:e.props.options[t]===e.state.selectedValue,focused:e.props.options[t]===e.state.focusedValue}),a=e.props.options[t]===e.state.selectedValue,r=e.props.options[t];return e.renderButtons(n,a,r,t)}))}},{key:"render",value:function(){var e=S()("dxp-toggle-button clearfix",this.props.className,{processing:this.props.processing});return _.a.createElement("fieldset",{className:e,disabled:this.props.disabled},_.a.createElement("legend",{className:"dxp-toggle-button-label"},Object(N.a)(this.props.label)),_.a.createElement("ul",{className:"btn-group toggle-button-group"},this.renderToggleBar()))}}]),t}(O.Component));g()(w,"defaultProps",{className:"",processing:!1,buttonClassNames:"",ariaDescribedBy:void 0,label:"",disabled:!1}),n.d(t,"a",(function(){return w}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(105),y=n.n(v),b=n(2),C=n.n(b),E=(n(6),n(1)),k=n.n(E),O=n(153),_=n(27),P=n.n(_),S=n(0),N=n.n(S),w=n(50),A=n(39),T=n.n(A),I=n(12),D=n(129),x=n(88),j=function(e){function t(e){var n;r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"handlePromoCodeBlur",(function(e){e&&e.preventDefault();var t=n.promoCode.current.getValue(),a=t?[t]:[];C()(a)&&n.onPromoCodeClose(),n.props.onBlur&&n.props.onBlur({promoCodes:a})})),g()(p()(n),"handlePromoCodeClick",(function(e){e&&e.preventDefault(),n.setState({isPromoCodeFieldDisplayed:!0},(function(){n.promoCode.current&&n.promoCode.current.setFocusToTheInput()}))}));var a=!C()(N()(e,"promoCodes"));return n.promoCode=k.a.createRef(),n.promoCodeMask=k.a.createRef(),n.state={isPromoCodeFieldDisplayed:a||!1},n}return f()(t,e),s()(t,[{key:"onPromoCodeClose",value:function(){this.setState({isPromoCodeFieldDisplayed:!1}),this.promoCodeMask.current.focus()}},{key:"isValid",value:function(){return C()(this.promoCode.current)||Object(O.c)({promoCode:"promoCode"},{promoCode:this.promoCode.current})}},{key:"renderPromoCodeField",value:function(){var e=this.props,t=e.validators,n=e.promoCodes;return k.a.createElement(D.a,{validators:t,ref:this.promoCode,defaultValue:P()(n),label:"".concat(Object(I.i)("flightSearch.promoCode.label")," (").concat(Object(I.i)("app.optional"),")"),onBlur:this.handlePromoCodeBlur,className:"promo-code"})}},{key:"renderPromoCodeMask",value:function(){var e=T()("small secondary dxp-promo-code-button");return k.a.createElement(x.a,{id:"promo-code-mask",className:e,onClick:this.handlePromoCodeClick,ref:this.promoCodeMask},k.a.createElement(w.c,{name:w.a.TAG,size:this.props.size,fill:!0})," ",Object(I.a)("flightSearch.promoCode.label"))}},{key:"render",value:function(){var e=this.state.isPromoCodeFieldDisplayed;return k.a.createElement("div",{className:"dxp-promo-code"},e&&this.renderPromoCodeField(),!e&&this.renderPromoCodeMask())}}]),t}(E.Component);g()(j,"defaultProps",{validators:[],promoCodes:[],size:void 0});n(2263);n.d(t,"a",(function(){return B}));var L="awardBookingPromoCode",F="flightSearchPromoCode",B=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"handlePromoCodeBlur",(function(e){n.isValid()&&n.props.onPromoCodeChange(e)})),n}return f()(t,e),s()(t,[{key:"isValid",value:function(){var e={awardBookingPromoCode:this.props.isPromoCodeEnabledWhenRBE&&!C()(this.awardBookingPromoCode),flightSearchPromoCode:!C()(this.flightSearchPromoCode)};return Object(O.c)(e,y()({awardBookingPromoCode:this.awardBookingPromoCode,flightSearchPromoCode:this.flightSearchPromoCode},C.a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRBEEnabled,a=t.promoCodes,r=t.isPromoCodeEnabledWhenRBE,i=t.promoCodeValidators,s=t.awardBookingPromoCodeValidators,o=t.size,l=n&&r?s:i,c=n&&r?L:F;return k.a.createElement(j,{validators:l,ref:function(t){e[c]=t},promoCodes:a,size:o,onBlur:this.handlePromoCodeBlur})}}]),t}(E.Component);g()(B,"defaultProps",{isRBEEnabled:!1,promoCodes:[],isPromoCodeEnabledWhenRBE:!1,promoCodeValidators:[],awardBookingPromoCodeValidators:[],size:void 0})},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2011),g=n.n(m),v=n(67),y=n.n(v),b=n(0),C=n.n(b),E=(n(6),n(1)),k=n.n(E),O=n(39),_=n.n(O),P=n(17),S=n.n(P),N=n(114),w=n(1886),A=(n(2158),function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={hourFocused:!1,minFocused:!1,minuteValue:0,hourValue:0},a}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setValue(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setValue(e.value)}},{key:"onBlur",value:function(e,t){this.setFocused(t,!1);var n,a=parseInt(e.target.value,10),r=this.props,i=r.max,s=r.min;if("hour"===t){var o=g()(a,0,23);n=S.a.duration("".concat(o,":").concat(this.state.minuteValue)).asMinutes()}else{var l=g()(a,0,59);n=S.a.duration("".concat(this.state.hourValue,":").concat(l)).asMinutes()}var c=g()(n,s,i);this.setValue(c),this.props.onChange&&this.props.onChange({target:{value:S.a.utc(6e4*c).format("HH:mm")}})}},{key:"onChange",value:function(e,t){var n,a=parseInt(e.target.value,10);n="hour"===t?S.a.duration("".concat(a,":").concat(this.state.minuteValue)).asMinutes():S.a.duration("".concat(this.state.hourValue,":").concat(a)).asMinutes(),this.setValue(n)}},{key:"setFocused",value:function(e,t){"hour"===e&&this.setState({hourFocused:t}),"min"===e&&this.setState({minFocused:t})}},{key:"setValue",value:function(e){return Object(N.h)("time")?null:y()(e)?this.setState({minuteValue:C()(e.split(":"),"1",0),hourValue:C()(e.split(":"),"0",0)}):this.setState({minuteValue:S.a.utc(6e4*e).format("mm"),hourValue:S.a.utc(6e4*e).format("HH")})}},{key:"isFocused",value:function(){return this.state.hourFocused||this.state.minFocused}},{key:"renderNumberField",value:function(){var e=this;return k.a.createElement("div",{className:_()("dxp-time-input",this.props.className)},k.a.createElement("div",{className:_()("dxp-time-input-container",{"is-focused":this.isFocused()})},k.a.createElement("input",{className:"hour-input",step:"1",placeholder:"00",type:w.a.NUMBER,min:"0",max:"23",id:"".concat(this.props.id,"-hours"),disabled:this.props.disabled,value:this.state.hourValue,onFocus:function(){return e.setFocused("hour",!0)},onBlur:function(t){return e.onBlur(t,"hour")},onChange:function(t){return e.onChange(t,"hour")}}),k.a.createElement("span",{className:"separator"},":"),k.a.createElement("input",{className:"min-input",step:"1",placeholder:"00",type:w.a.NUMBER,disabled:this.props.disabled,min:"0",max:"59",id:"".concat(this.props.id,"-minutes"),onFocus:function(){return e.setFocused("min",!0)},onBlur:function(t){return e.onBlur(t,"min")},value:this.state.minuteValue,onChange:function(t){return e.onChange(t,"min")}})))}},{key:"renderTimeField",value:function(){return k.a.createElement("input",{id:this.props.id,type:w.a.TIME,onChange:this.props.onChange,onBlur:this.props.onBlur,value:this.props.value})}},{key:"render",value:function(){return Object(N.h)(w.a.TIME)?this.renderTimeField():this.renderNumberField()}}]),t}(E.Component));f()(A,"defaultProps",{className:"",onBlur:function(){},id:"input"}),n.d(t,"a",(function(){return A}))},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(0),l=n.n(o),c=n(2),u=n.n(c),d=n(105),p=n.n(d),h=n(11),f=n(7),m=n(1740),g=n(1741),v=n(45),y=n(1533),b=n(9),C=n(154);function E(e){var t,n="".concat(Object(b.l)("cancelAndRefundConfirm"));return u()(e)?t={body:{confirmed:!0}}:((t={body:{confirmed:!0,paymentData:Object(C.e)(e).getQuery()}}).body.paymentData.payment=t.body.paymentData.payment[0],t.body.paymentData.payment["@id"]="1"),Object(b.g)(n,b.c,t).then((function(e){var t,n;return t=e.cancelledReloc,n=e,u()(t)||u()(n)||v.a.set(t,JSON.stringify(n)),e}))}var k=n(440),O=n(14);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.pnr,a=void 0===n?"":n,r=e.lastName,i=void 0===r?t:r,o=e.email,c=void 0===o?"":o,d=p()(P({},e,{lastName:i}),u.a);return function(e,t){var n=t(),r=n.metadata.getIn(["shoppingCart","showGroupedTaxes"]),o=s()(n.metadata.getIn(["shoppingCart","paymentSurcharges"]),"toJS",[]),u=s()(n.metadata.getIn(["shoppingCart","excludeStandAloneAncillaries"]),"toJS",[]),p={flightDetails:n.metadata.get("flightDetails"),ancillaryMap:n.metadata.get("ancillaryMap")},v=!n.tripDetails.get("pnrInfo",Object(h.Map)()).isEmpty();e({type:f.sf,confirmationPage:v});return Object(y.d)(d,p,!0,r,o,u).then((function(s){if(n.tripDetails.get("pnrInfo",Object(h.Map)()).isEmpty())e({type:f.tf,tripDetails:s}),e({type:f.eb,results:s.cart});else{e({type:f.Dc,parityData:{tripOptions:l()(s,"tripOptions",[]),documents:l()(s.pnrInfo,"documents",[]),documentPaymentDetails:l()(s.pnrInfo,"documentPaymentDetails",[]),carReservationSummary:l()(s.pnrInfo,"carReservationSummary",{}),passengerTypeCount:l()(s.cart,"passengerTypeCount",[])}});var p=t();e({type:f.eb,results:r?Object(m.a)(p.tripDetails.toJS(),o,u):Object(g.a)(p.tripDetails.toJS(),o,u)})}e({type:f.Cc,tripDetails:s}),e({type:f.fe,pnrInfo:l()(s,"pnrInfo",{})}),e(Object(k.c)(d,O.a.CONFIRMATION)),e({type:f.Bf,data:{pnr:a,lastName:i,email:c}})})).catch((function(t){e({type:f.rf,error:t.response})}))}}n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return A}));var N=function(e){return function(t){return t({type:f.Yb}),E(e).then((function(e){t({type:f.Zb,cancelConfirmation:e})})).catch((function(e){t({type:f.Gb}),t({type:f.Xb,error:P({},e)})}))}},w=function(){return function(e){e({type:f.Hb})}},A=function(e){return function(t){t({type:f.lf}),v.a.set("pnr",e)}}},function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(1),s=n.n(i),o=n(78),l=(n(6),n(177)),c=n(39),u=n.n(c),d=n(17),p=n.n(d),h=n(12);n(2156);function f(e){var t=e.origin,n=e.destination,a=e.departure,i=e.flight,c=e.configuration,d=e.className,f=function(e,t,n,a,i){var s=p()(n),o={flightNumber:a.flightNumber,airline:a.airlineCode,origin:e,destination:t,departureDate:s.format(i.departureDateFormat),departureTime:s.format(i.departureTimeFormat)},c=r()(i.urlQueryParameters,(function(e,t){return e[i.fieldMapping[t]]=o[t],e}),{});return"".concat(i.url,"?").concat(Object(l.stringify)(c))}(t,n,a,i,c);return s.a.createElement(o.a,{className:u()("dxp-on-time-performance",d),title:Object(h.i)("flightSelection.onTimePerformance"),isExternalLink:!0,target:"_blank",rel:"external",href:f},Object(h.a)("flightSelection.onTimePerformance"))}f.defaultProps={className:""};var m=f;n.d(t,"a",(function(){return m}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return Y}));var a=n(3),r=n.n(a),i=n(73),s=n.n(i),o=n(19),l=n.n(o),c=n(15),u=n.n(c),d=n(4),p=n.n(d),h=n(21),f=n.n(h),m=n(2),g=n.n(m),v=n(95),y=n.n(v),b=n(5),C=n.n(b),E=n(8),k=n.n(E),O=n(0),_=n.n(O),P=n(27),S=n.n(P),N=n(154),w=n(2044),A=n(2045);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){return e&&e.alternatives.some((function(e){return 0!==e.length}))&&e.alternatives||[]},x=function(e,t){var n=D(e.price),a={label:_()(e,"label","")};return S()(n.amount)>0&&!f()(a.label.toLowerCase(),"refund_amount")&&(a.isPaid=!0),a[t]=n,a},j=function(e){var t,n=x(e,"total");return g()(n)?null:(g()(e.subElements)||(n.breakdownElements=(t=e.subElements,C()(y()(t),(function(e){return x(e,"price")})))),n)},L=function(e,t){return C()(t,(function(t){return function(e,t){var n=l()(e,(function(e){return e.label===t}));return g()(n)?null:n[0]}(e,t)}))},F=function(e){return t=_()(e,"refundTargets"),S()(t).refund?C()(t,(function(e){var t=e.refund,n=t.price,a=_()(e,"refund.identifier");return n.amount||k()(e,"refund.price",D(n)),a&&k()(e,"refund.identifier",function(e){return e.slice?e.slice(-4):e}(a)),t})):{};var t},B=function(e){return _()(e,"payments",[])},R=function(e){return _()(e,"ancillaryToggleSelections[0].option",w.a.POINTS)===w.a.POINTS},M=function(e){return _()(e,"paymentInfo.paymentType")},V=function(e,t){return!g()(t)||g()(e.payments)},U=function(e,t){var n=e.map((function(e){return{paymentType:e.paymentInfo.paymentType,paymentCode:e.paymentInfo.paymentCode}}));return p()(e.filter((function(e){return!(t&&"AWARD"!==M(e))})),(function(e,t){var a=M(t),r=t.paymentInfo;return r.combinablePaymentProducts=n,(e[a]||(e[a]=[])).push(r),e}),{})},q=function(e,t){var n=B(e),a=R(t);return{paymentCodesByType:U(n,a)}},H=function(e){var t=B(e);return u()(t,(function(e){return _()(e,"paymentInfo.paymentType","")===N.b.AWARD}))},W=function(e){var t=B(e);return u()(t,(function(e){return _()(e,"paymentInfo.paymentType","")===N.b.CREDIT_CARD}))},G=function(e,t){var n=H(e),a=W(e),r=R(t),i=_()(B(e),"[0].productType[0]","FEE"),s=[],o={amount:0,currency:"FFCURRENCY"},l={amount:0,currency:""};if(n){var c=_()(n,"paymentInfo.amount",{});s.push({option:w.a.POINTS,amount:c,awardAncillaryToggleOptionStatus:A.a.ENABLED}),r&&(o.amount=c.amount)}if(a){var u=_()(a,"paymentInfo.amount",{});s.push({option:w.a.CASH,amount:u,awardAncillaryToggleOptionStatus:A.a.ENABLED}),r||(l.amount=u.amount,l.currency=u.currency)}return s.length?function(e,t,n,a,r){return{AWARD:{fareSlider:{awardMoneyTicks:[],currentPositionIndex:0,currentTick:{moneyAmount:{amount:0,currency:n.currency},awardAmount:{amount:0,currency:"FFCURRENCY"}}},ancillaryToggles:[{groupCode:a,options:e,currentState:r?w.a.POINTS:w.a.CASH}],awardTotal:t,cashTotal:n}}}(s,o,l,i,r):{}},K=function(e){return p()(_()(e,"totalRefund.subElements"),(function(e,t){return e[s()(t.label)]=j(t),e}),{})},z=function(e,t){return I({total:D(_()(e,"totalRefund.price")),products:y()(function(e,t){var n=C()(e,(function(e){return j(e)}));return L(n,_()(t,"refundCart.cancel.orderedCartItems",[]))}(_()(e,"totalRefund.subElements"),t))},K(e))},Y=function(e,t){var n,a,r=D(_()(e,"totalRefund.price")),i=I({total:r},K(e)),s=F(e);return{result:{refundTargets:s,totalRefund:r,payments:_()(e,"payments",[]),paymentOptions:q(e,t),paymentDetails:G(e,t),paymentTypes:(n=e,a=[],W(n)&&a.push(N.b.CREDIT_CARD),H(n)&&a.push(N.b.AWARD),a),isContinueEnabled:V(e,t),refundTargetToAccount:g()(s)&&!g()(_()(e,"refundTargets"))},cartResponse:i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={POINTS:"POINTS",CASH:"CASH"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ENABLED:"ENABLED",DISABLED:"DISABLED",UNAVAILABLE:"UNAVAILABLE"}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var a="main-trip-details",r="dxp-cancel-flight-summary-refund-details",i="dxp-flight-summary-payment-details"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="FREE"},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));var a="CREDIT_CARD",r="AWARD",i="CUPSP",s="REMOTE"},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(586),r=n(7),i=n(68),s=n(2387);function o(){return function(e){return e({type:r.kd}),a.b().then((function(t){e({type:r.ld,response:t})})).catch((function(t){throw e({type:r.jd,error:t.response}),t}))}}function l(e){return function(t){var n=Object(s.a)(e);return t({type:r.Mf,profile:n}),a.c(n).then((function(e){t({type:r.ne,response:e}),t({type:i.h,profile:e.profile})})).catch((function(e){throw t({type:r.oe,error:e.response}),e}))}}function c(e){return{type:r.Lf,profile:e}}function u(){return{type:r.Jb}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(9),r=n(114),i=n(381);function s(e,t){var n=[{url:"".concat(Object(a.l)("ancillariesMtoPnr"),"?").concat(Object(r.l)(e)),method:a.b,options:{ignoreExecKey:!0}},{url:Object(a.l)("ancillariesMto"),method:a.b,options:{onComplete:function(e){return Object(i.a)(e,t)},ignoreExecKey:!0}}];return Object(a.h)(n)}function o(e){var t=[{url:"".concat(Object(a.l)("ancillariesMtoPnr"),"?").concat(Object(r.l)(e)),method:a.b,options:{ignoreExecKey:!0}},{url:Object(a.l)("ancillariesMto"),method:a.b,options:{ignoreExecKey:!0,saveExecutionKey:!0}}];return Object(a.h)(t)}},,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(21),C=n.n(b),E=n(321),k=n.n(E),O=n(0),_=n.n(O),P=n(2),S=n.n(P),N=n(82),w=n.n(N),A=n(36),T=n.n(A),I=n(27),D=n.n(I),x=n(122),j=n.n(x),L=n(1),F=n.n(L),B=n(6),R=(n(194),n(123)),M=n(11),V=n(39),U=n.n(V),q=n(12),H=n(50),W=(n(1292),"ducp-component-cart-panel");var G=function(e){var t=e.children;return F.a.createElement("ul",{className:"".concat(W,"-list")},t)},K=n(1249),z=n(1393),Y=n(1414),Q=n(1561);function X(e){var t=e.packageName,n=e.parentType,a=e.removeItem,r=e.cancelRemoval,i=e.removalFailed,s=e.removalProcessing,o=U()("cart-item-remove-confirmation",{error:i}),l=n?".".concat(n.toLowerCase()):"";return F.a.createElement("div",{className:o},F.a.createElement("span",{className:"cart-item-remove-confirmation-text"},i&&Object(q.a)("".concat(t,".removeItemError").concat(l)),!i&&Object(q.a)("".concat(t,".removeItemConfirmation").concat(l))),F.a.createElement("div",{className:"cart-item-remove-confirmation-actions"},F.a.createElement("button",{type:"button",onClick:r,className:"secondary spark-btn spark-btn--xs spark-btn--secondary"},Object(q.a)("".concat(t,".cancel"))),F.a.createElement("button",{type:"button",onClick:a,className:"primary spark-btn spark-btn--xs"},s&&F.a.createElement(Q.a,{className:"small"}),!s&&i&&Object(q.a)("".concat(t,".retry")),!s&&!i&&Object(q.a)("".concat(t,".yes")))))}X.defaultProps={removalFailed:!1,removalProcessing:!1,parentType:void 0};var J=X,$=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{showRemoveConfirmation:!1,removeConfirmationError:!1,removalProcessing:!1,showBreakdown:n.props.isExpanded}),y()(f()(n),"onCancelRemoveClick",(function(){n.setState({showRemoveConfirmation:!1,removeConfirmationError:!1})})),y()(f()(n),"onRemoveItem",(function(){var e=n.props.onRemoveItemClick;return n.setState({showRemoveConfirmation:!1,removalProcessing:!0}),e&&e(n.props.item).then((function(){!n.componentIsUnmounted&&n.setState({removalProcessing:!1})})).catch((function(){!n.componentIsUnmounted&&n.setState({removeConfirmationError:!0,removalProcessing:!1})}))})),y()(f()(n),"onToggleClick",(function(){n.setState((function(e){return{showBreakdown:!e.showBreakdown}}))})),n}return g()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.componentIsUnmounted=!0}},{key:"handleRemoveItemClick",value:function(){this.props.showRemoveConfirmation?this.setState({showRemoveConfirmation:!0}):this.onRemoveItem(this.props.item)}},{key:"handleSeatDisplay",value:function(){var e=this.props,t=e.showNewOldSeatAsOneEntry,n=e.label,a=e.originalSeat,r=e.seatType;return t?F.a.createElement("div",{className:"seats-together"},F.a.createElement("div",{className:"cart-item-label"},n),a&&F.a.createElement("div",{className:"original-seat"},a)):F.a.createElement("div",{className:"seats-separately"},F.a.createElement("div",{className:"cart-item-label"},n),r&&F.a.createElement("div",{className:"seat-type"},r))}},{key:"renderRemoveItem",value:function(){var e=this;return F.a.createElement("button",{type:"button",className:"item-remove spark-icon-close-circle",onClick:function(){return e.handleRemoveItemClick(e.props.item)}},F.a.createElement("span",{className:"spark-assistive-text"},Object(q.i)([this.props.packageName,"removeItem"])))}},{key:"renderToggleIcon",value:function(e){var t=this.state.showBreakdown?"expanded":"collapsed";return F.a.createElement("button",{type:"button",className:"breakdown-icon",onClick:this.onToggleClick},F.a.createElement(H.c,{className:"breakdown-elements-icon",name:e,srOnlyText:Object(q.i)([this.props.packageName,t])}))}},{key:"renderRemoveConfirmation",value:function(){return F.a.createElement(J,{packageName:this.props.packageName,parentType:this.props.parentType,removeItem:this.onRemoveItem,cancelRemoval:this.onCancelRemoveClick,removalFailed:this.state.removeConfirmationError,removalProcessing:this.state.removalProcessing})}},{key:"render",value:function(){var e=this.props,n=e.iconName,a=e.iconFill,r=e.labelSize,i=e.initial,s=e.className,o=e.price,l=e.isCartItemRemovable,c=e.tooltipText,u=e.packageName,d=e.children,p=e.id,h=e.isFree,f=e.isAlreadyPaid,m=e.isIncluded,g=e.initialAriaLabel,v=e.showBreakdown,y=e.breakdownElements,b=U()("ducp-component-cart-item","cart-item",s,r,{"have-icon":n||i}),C=this.state.showBreakdown?H.a.ARROW_CHEVRON_UP:H.a.ARROW_CHEVRON_DOWN;return F.a.createElement("div",{className:b},F.a.createElement("div",{className:"main-content"},F.a.createElement("div",{className:"left-content"},n&&F.a.createElement(H.c,{className:"flex-items",name:n,fill:a}),!n&&i&&t.createInitialTooltip(i,c,p,g),this.handleSeatDisplay()),F.a.createElement("div",{className:"right-content"},f&&F.a.createElement("div",{className:"already-paid"},Object(q.a)([u,"alreadyPaid"])),!f&&m&&F.a.createElement("div",{className:"included"},Object(q.a)([u,"included"])),!f&&!m&&h&&F.a.createElement("div",{className:"free"},Object(q.a)([u,"free"])),!f&&!m&&!h&&o&&F.a.createElement("div",{className:"cart-item-price flex-items"},F.a.createElement(K.a,{price:o,PACKAGE_NAME_CLASSIFIED:u})),v&&this.renderToggleIcon(C),l&&F.a.createElement("div",{className:"remove-item flex-items"},this.renderRemoveItem()))),this.state.showBreakdown&&F.a.createElement("div",{className:"breakdown-elements"},y),d&&F.a.createElement("div",{className:"additional-details"},d),(this.state.showRemoveConfirmation||this.state.removeConfirmationError)&&this.renderRemoveConfirmation())}}],[{key:"createInitialTooltip",value:function(e,t,n,a){var r=F.a.createElement(z.a,{className:"trigger flex-items",isLight:!0,initial:e,size:"xs"});return t?F.a.createElement(Y.b,{ariaLabel:a,position:Y.a.LEFT,tooltip:t,id:"".concat(n,"-tooltip")},r):r}}]),t}(L.PureComponent);y()($,"defaultProps",{breakdownElements:void 0,showBreakdown:!1,item:void 0,showRemoveConfirmation:!1,parentType:"",children:void 0,onRemoveItemClick:void 0,initial:"",className:"",isCartItemRemovable:!1,tooltipText:"",price:void 0,label:void 0,iconName:void 0,iconFill:!0,labelSize:"sm",isFree:!1,isAlreadyPaid:!1,isIncluded:!1,initialAriaLabel:void 0,isExpanded:!1,seatType:void 0,originalSeat:void 0,showNewOldSeatAsOneEntry:!0});var Z=$;function ee(e){var t=e.children,n=e.totalPrice,a=e.PACKAGE_NAME_CLASSIFIED;return F.a.createElement("div",{className:"".concat(W,"-footer")},t,n&&F.a.createElement(Z,{id:"cart-total",className:"cart-total",packageName:a,price:n,label:Object(q.a)([a,"cartTotalCost"])}))}ee.defaultProps={children:void 0,totalPrice:void 0,PACKAGE_NAME_CLASSIFIED:void 0};var te=ee;function ne(e){var t=e.label,n=e.subTitle,a=e.children,r=e.className,i=e.titleTag;return F.a.createElement("div",{className:U()(W,r)},F.a.createElement(i,{className:"title"},t),n&&F.a.createElement("div",{className:"cart-panel-subtitle"},n),a)}ne.CartPanelList=G,ne.CartPanelFooter=te,ne.defaultProps={className:void 0,subTitle:void 0,titleTag:"h3"};var ae=ne,re=n(1997),ie=n(1602),se=n(1324),oe=n(2051),le=n(322),ce=n(60),ue=n(10),de=n(4),pe=n.n(de),he=n(5),fe=n.n(he),me=n(1281),ge=n(154),ve=n(14);n(2222);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){return{price:{alternatives:e.get("alternatives",[]).toArray().map((function(e){return[D()(e.toArray()).toObject()]}))}}}function Ee(e){return e.valueSeq().toArray().map((function(e){var t,n,a=e.toObject();return be({},a,{},a.price?Ce(a.price):{},{},a.refund?(t=a.refund,{refund:be({},n=t.toObject(),{},n.price?Ce(n.price):{})}):{})}))}function ke(e,t){var n=e.paymentOptionsDetails,a=e.title,r=e.carPrice,i=e.hotelPrice,s=e.id,o=e.currentPage,l=e.className,c=t.translateWithComponents,u=Ee(n);return S()(u)&&S()(r)?null:F.a.createElement("div",{id:s,className:U()("payment-details",l)},F.a.createElement(me.a,{className:"payment-details-title",title:a,tag:"h4"}),!S()(u)&&F.a.createElement("ul",{className:"payment-details-list"},function(e,t){var n=t===ve.a.MYB?function(e){return pe()(e,(function(e,t){if(w()(_()(t,"price",void 0)))return t.refund&&t.refund.paymentCode&&(e[t.refund.paymentCode]=t),e;if(w()(e[t.paymentCode])&&(e[t.paymentCode]={price:{alternatives:[]},identifier:t.identifier,paymentCode:t.paymentCode,paymentType:t.paymentType,paymentSubCode:t.paymentSubCode}),Object(ce.k)(_()(t,["price","alternatives"],[])))return e;var n=_()(e[t.paymentCode].price,"alternatives",[]),a=_()(t.price,"alternatives",[]);return e[t.paymentCode].price={alternatives:Object(ce.q)(n,a)},e}),{})}(e):e;return fe()(n,(function(e,t){var n=function(e){if(w()(e.refund))return _()(e,"paymentCode",_()(e,"paymentType",""));return _()(e,"refund.paymentCode",_()(e,"refund.paymentType",""))}(e),a=e.thirdPartyTransactionId,r=e.thirdPartyReferenceNumber,i=e.paymentSubCode,s=e.refund?e.refund.paymentType:e.paymentType,o=function(e){if(w()(e.refund))return pe()([e.price],(function(e,t){return Object(ce.q)(e,_()(t,"alternatives",[]))}),0);return _()(e,"refund.price.alternatives")}(e),l=U()("".concat(n,"-card"),"credit-card-image",s!==ge.b.CREDIT_CARD&&"non-credit-card");return F.a.createElement("li",{key:n+t},F.a.createElement("span",{className:"payment-card-amount"},F.a.createElement("span",{className:l}),F.a.createElement("span",{className:"card-identifier-details"},!i&&F.a.createElement("span",{className:"payment-method"},Object(q.a)("paymentMethods.".concat(n))),i&&F.a.createElement("span",{className:"payment-method"},Object(q.a)("paymentMethods.".concat(n,".").concat(i))),F.a.createElement("span",{className:"payment-card-details"}," ",e.identifier," ")),F.a.createElement("span",{className:"dxp-cart-item-amount"},F.a.createElement(K.a,{price:o}))),a&&F.a.createElement("div",{className:"third-party-transaction-id"},Object(q.a)("paymentDetails.thirdPartyTransactionId",{thirdPartyTransactionId:a})),r&&F.a.createElement("div",{className:"third-party-reference-number"},Object(q.a)("paymentDetails.thirdPartyReferenceNumber",{thirdPartyReferenceNumber:r})))}))}(u,o)),!S()(r)&&c("confirmation.carPaymentDetails",{price:F.a.createElement(K.a,{price:r})}),!S()(i)&&c("confirmation.hotelPaymentDetails",{price:F.a.createElement(K.a,{price:i})}))}ke.defaultProps={paymentOptionsDetails:[],carPrice:{},hotelPrice:void 0,id:void 0,currentPage:"",className:void 0},ke.contextTypes={translateWithComponents:B.func.isRequired};var Oe=ke,_e=n(1565),Pe=n.n(_e),Se=n(1944),Ne=n(1442),we=n(84),Ae=n(1539),Te=n(521),Ie=n(2078),De=n(195),xe=n(534),je=n(542),Le=n(527),Fe=n(439),Be=n(1999);function Re(e){var t=e.children,n=e.airports,a=e.label,r=e.className,i=e.PACKAGE_NAME_CLASSIFIED,s=e.routeSeparator,o=e.showFlightRoute;return F.a.createElement("div",{className:U()("ducp-component-cart-flight-segment",r)},F.a.createElement("div",{className:"cart-flight-segment-header"},F.a.createElement("div",{className:"flight-segment-title"},F.a.createElement("div",null,a),o&&F.a.createElement(se.b,{airports:n,packageName:i,separator:s}))),F.a.createElement("div",{className:"cart-flight-segment-content"},t))}Re.defaultProps={className:void 0,PACKAGE_NAME_CLASSIFIED:"airports",routeSeparator:"-",showFlightRoute:!0};var Me=Re,Ve=n(52),Ue=n.n(Ve),qe=n(51),He=n.n(qe),We=n(23),Ge=n.n(We),Ke=n(109),ze=n.n(Ke),Ye=n(15),Qe=n.n(Ye),Xe=n(155);function Je(e,t){var n=t.get("price");if(w()(n))return!1;var a,r,i=(a=n,r=Ge()(a)?a:[a],!Boolean(Qe()(ze()(r),(function(e){return 0!==e.amount}))));return t.get("label")!==Xe.a.SEAT||!i||e.get("freePremiumSeatsRemovable")}function $e(e,t,n,a,r){return function(e,t,n){return e.getIn(["enableAncillaryRemove",t,n],!1)}(e,a,r)&&Je(e,t)&&function(e,t,n){var a=n.toObject(),r=a.removableItemTypes,i=a.ancillariesNotRemovable;return!!r.includes(t)&&(t!==Xe.a.ANCILLARY||-1===Ue()(He()(i,"toJS",[]),_()(He()(e,"toJS",{}),"label")))}(t,n,e)}var Ze=n(125),et=n(574),tt=(n(2224),function(e){var t=e.element,n=e.breakDownConfiguration,a=n.showZeroTaxBreakdown,r=n.collapseCartWithOneItem,i=t.get("label")===ue.G,s=t.get("subElements",Object(M.List)()).filter((function(e){return e.get("label")!==ue.L||Object(ce.m)(e.get("price"),a)}));return Object(le.e)(s.size,r)&&F.a.createElement("ul",{className:"cart-items-additional-breakdown"},function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.reduce((function(e,n,a){var r=t&&n.get("label")===ue.s?"shoppingCart.discountCartItems.SEAT":"shoppingCart.subElements.".concat(n.get("label"));return e.push(F.a.createElement("li",{key:"sub-element-".concat(n.get("label"),"-").concat(a),className:U()("sub-element","".concat(n.get("label").toLowerCase()))},F.a.createElement(Z,{className:U()("sub-element-label","".concat(n.get("label").toLowerCase(),"-label")),item:n.toJS(),packageName:"shoppingCart",price:n.get("price"),label:Object(q.a)(r),id:"sub-element-".concat(n.get("label"),"-").concat(a)}))),e}),[])}(s,i))});function nt(e){var t=e.getIn(["passengerDetails","firstName"],"").toUpperCase(),n=e.getIn(["passengerDetails","lastName"],"").toUpperCase();return Object(q.i)("shoppingCart.passengerName",{firstName:t,lastName:n})}n(2225);function at(e,t,n,a,r,i,s,o,l){var c="".concat(n.get("origin")).concat(n.get("destination")).concat(a);return t.getIn([c],Object(M.List)()).map((function(t,c){return t.valueSeq().toArray().map((function(u){return function(e,t,n,a,r,i,s,o,l,c,u,d){var p,h,f=l.get("price")&&l.get("price",Object(M.List)());if(s===we.a.MTO){if(u&&2===d.size){if(l.get("seatType")===et.a.OLD)return null;var m=d.filter((function(e){return e.get("seatType")===et.a.OLD}));p=Object(q.i)("shoppingCart.originalSeatNumber",{originalSeat:m.getIn(["0","seatNumber"])})}l.get("seatNumber")&&(h=l.get("seatType",Object(M.List)())===et.a.NEW?et.a.NEW:et.a.ORIGINAL)}var g="".concat(n.get("origin")).concat(n.get("destination")).concat(a),v=l.getIn(["passenger","passengerInfo","type"]),y=r.get(l.getIn(["passenger","passengerIndex"])-1),b=Object(q.a)("shoppingCart.seatNumber",{seatNumber:l.get("seatNumber")}),C=l.get("seatNumber")?b:Object(q.a)("shoppingCart.emptyPassenger"),E=v===Ze.a.INF?Object(q.a)("shoppingCart.infantPassenger"):C,k=Xe.a.SEAT,O=!w()(l.get("seatNumber"))&&$e(e,l,k,s,o),P=e.get("cartItemsWithRemoveConfirmation"),S=P&&P.includes(k),N=v!==Ze.a.INF&&(f.isEmpty()&&!w()(l.get("seatNumber"))),A=Object(le.b)(e),T=Object(le.e)(l.get("subElements",Object(M.List)()).size,_()(A,"collapseCartWithOneItem"))&&!N,I=T&&F.a.createElement(tt,{element:l,breakDownConfiguration:A});return F.a.createElement("li",{className:U()("seat-cart-item",{"grouped-taxes-breakdown":T,"remove-confirmation-icon":O}),key:"".concat(c,"-").concat(g,"-").concat(l.get("seatNumber"))},F.a.createElement(Z,{showBreakdown:T,breakdownElements:I,isFree:N,showRemoveConfirmation:S,isCartItemRemovable:O,parentType:k,item:l.toJS(),configuration:e,onRemoveItemClick:i,packageName:"shoppingCart",price:f,tooltipText:nt(l.get("passenger")),label:E,initial:y,id:"".concat(c,"-").concat(g,"-").concat(a,"-cart-item"),originalSeat:p,showNewOldSeatAsOneEntry:u,seatType:h}))}(e,0,n,a,r,i,s,o,u,c,l,t)}))}))}var rt=function(e){var t=e.configuration,n=e.seatAssignmentPerSegment,a=e.passengerTypeCount,r=e.segments,i=e.onRemoveItemClick,s=e.currentFlow,o=e.currentPage,l=e.showNewOldSeatAsOneEntry;return r.map((function(e,r){var c=e.get("origin"),u=e.get("destination"),d={departure:{code:c,name:c},arrival:{code:u,name:u}};return F.a.createElement("div",{className:"seat-cart-items",key:"".concat(c,"-").concat(u,"-").concat(r)},F.a.createElement(Me,{airports:d,label:Object(q.a)("shoppingCart.flight")},F.a.createElement("ul",{className:"cart-item-list"},at(t,n,e,r,a,i,s,o,l))))}))};rt.defaultProps={onRemoveItemClick:j.a,currentFlow:"b2c",currentPage:"seat-selection",searchCriteria:{passengers:{ADT:1}},segments:Object(M.List)()};var it=rt;n(2226);function st(e,t,n,a,r,i,s,o){var l="".concat(r.get("origin")).concat(r.get("destination")).concat(i),c=r&&r.get("price"),u=r.get("seatNumber")?Object(q.a)("shoppingCart.exchangeSeat",{origin:r.get("origin"),destination:r.get("destination"),quantity:r.get("quantity")}):Object(q.a)("shoppingCart.emptyPassenger"),d=S()(o)||o.getIn(["passengerInfo","type"])!==Ze.a.INF?u:Object(q.a)("shoppingCart.infantPassenger"),p=r.size?r.toJS():{},h=$e(e,r,Xe.a.SEAT,n,a),f=e.get("cartItemsWithRemoveConfirmation"),m=f&&f.includes(Xe.a.SEAT),g=(w()(c)||c.isEmpty())&&!w()(r.get("seatNumber")),v=Object(le.b)(e),y=Object(le.e)(r.get("subElements",Object(M.List)()).size,_()(v,"collapseCartWithOneItem"))&&!g,b=y&&F.a.createElement(tt,{element:r,breakDownConfiguration:v});return F.a.createElement("li",{className:U()("exchange-seat-cart-item",{"grouped-taxes-breakdown":y,"remove-confirmation-icon":h}),key:l},F.a.createElement(Z,{showBreakdown:y,breakdownElements:b,isFree:g,showRemoveConfirmation:m,isCartItemRemovable:h,parentType:Xe.a.SEAT,item:p,configuration:e,onRemoveItemClick:t,packageName:"shoppingCart",tooltipText:!S()(o)&&nt(o),price:c,label:d,initial:s,id:"".concat(l,"-cart-item")}))}var ot=function(e){var t=e.seatConfiguration,n=e.seatAssignment,a=e.onRemoveItemClick,r=e.currentFlow,i=e.currentPage,s=e.segments,o=e.passengerTypeCount,l=e.passengers;return s.map((function(e){var s=e.get("origin"),c=e.get("destination"),u={departure:{code:s,name:s},arrival:{code:c,name:c}},d=n.filter((function(e){return e.get("origin")===s&&e.get("destination")===c}));return F.a.createElement("div",{className:"exchange-seat-cart-items",key:"".concat(s,"-").concat(c)},F.a.createElement(Me,{airports:u,label:Object(q.a)("shoppingCart.flight")},F.a.createElement("ul",{className:"exchange-cart-item-list"},d.size>0?d.toArray().map((function(e,n){return st(t,a,r,i,e,n)})):o.toArray().map((function(e,n){return st(t,a,r,i,Object(M.fromJS)({origin:s,destination:c}),n,e,l.get(n))})))))}))};var lt=function(e){var t=e.upgradeItem,n=e.passengerTypeCount,a=e.breakDownConfiguration,r=e.id,i=t.get("price"),s=t.getIn(["passenger","passengerIndex"]),o=n.get(s-1),l=function(e){var t=e.get("additionalProductInformation",Object(M.Map)()),n=t.get("originalBookingClass"),a=t.get("selectedBookingClass"),r=e.getIn(["travelPart","bookingClass"]),i=e.get("label");if(n&&a)return F.a.createElement("div",{className:U()("upgrade-offer-label",i)},Object(q.a)("upgrade.bookingClass.".concat(n)),F.a.createElement(H.c,{name:H.a.ARROW_EMPTY_RIGHT,size:"sm",fill:!0}),Object(q.a)("upgrade.bookingClass.".concat(a)));if(e.get("label")===ue.P){var s=e.getIn(["travelPart","segments"],Object(M.Map)()).getIn(["0","bookingClass"],void 0);return F.a.createElement("div",{className:"upgrade-offer-label"},s&&F.a.createElement("span",null,Object(q.a)("upgrade.bookingClass.".concat(s))," ",Object(q.i)("upgrade.flightSegmentStatus.upgradeLabelSeparator")," "),F.a.createElement("span",null,Object(q.a)("upgrade.flightSegmentStatus.waitlisted",{bookingClass:Object(q.i)("upgrade.bookingClass.".concat(r))})))}return e.get("label")===ue.d?F.a.createElement("div",{className:"upgrade-offer-label"},Object(q.a)("cart.taxes.ANCILLARY_FEE_TAX")):F.a.createElement("div",{className:U()("upgrade-offer-label",i)},Object(q.i)("upgrade.bookingClass.".concat(r))," - ",Object(q.a)("upgrade.upgradedText.".concat(i)))}(t),c=t.getIn(["subElements","0"],Object(M.List)()),u=Object(le.e)(c.size,_()(a,"collapseCartWithOneItem")),d=u&&F.a.createElement(tt,{element:c,breakDownConfiguration:a});return F.a.createElement("div",{className:"dxp-upgrade-cart-item"},F.a.createElement(Z,{packageName:"shoppingCart",showBreakdown:u,breakdownElements:d,price:i,tooltipText:nt(t.get("passenger")),label:l,initial:o,id:r}))};lt.defaultProps={upgradeItem:Object(M.Map)(),passengerTypeCount:Object(M.List)()};var ct=lt,ut=(n(2227),function(e){var t=e.upgradeProducts,n=e.passengerTypeCount,a=e.breakDownConfiguration,r=t.get("breakdownElements",Object(M.List)()).groupBy((function(e){return e.getIn(["travelPart","departure"])})).valueSeq().toArray();return!r.length>0?F.a.createElement("div",{className:"no-upgrades"},F.a.createElement(H.c,{name:H.a.STAR,fill:!0}),F.a.createElement("span",{className:"no-upgrades-label"},Object(q.a)("shoppingCart.noUpgradesSelected"))):F.a.createElement("div",{className:"upgrade-cart-items"},r.map((function(e){var t=e.first().get("travelPart"),r=t.get("origin")||t.get("segments").first().get("origin"),i=t.get("destination")||t.get("segments").first().get("destination"),s={departure:{code:r,name:r},arrival:{code:i,name:i}};return F.a.createElement("div",{className:"upgrade-cart-item",key:"".concat(r,"-").concat(i)},F.a.createElement(Me,{airports:s,label:Object(q.a)("shoppingCart.flight")},e.map((function(e,t){var s="".concat(e.get("label"),"-").concat(r,"-").concat(i);return F.a.createElement(ct,{upgradeItem:e,passengerTypeCount:n,key:s,id:"".concat(s,"-").concat(t),breakDownConfiguration:a})}))))})))});ut.defaultProps={upgradeProducts:Object(M.Map)(),passengerTypeCount:Object(M.List)()};var dt=ut,pt=(n(2228),function(){return F.a.createElement("div",{className:"no-extras"},F.a.createElement(H.c,{name:H.a.SUITCASE,fill:!0}),F.a.createElement("span",{className:"no-extras-label"},Object(q.i)("shoppingCart.travelExtras.noExtras")))}),ht=n(103),ft=n.n(ht),mt=n(117),gt=n(17),vt=n.n(gt);n(2229);function yt(e){var t=e.selectedHotel,n=e.dateFormat,a=e.cartItemsWithRemoveConfirmation,r=e.isRemoveHotelEnabled,i=e.onRemoveHotelItem,s=t.getIn(["hotelRoomType","price","amount"]),o=t.getIn(["hotelRoomType","price","currency"]),l=Xe.a.HOTEL,c=a&&a.includes(l);return F.a.createElement(Z,{showRemoveConfirmation:c,isCartItemRemovable:r,parentType:l,item:t.toJS(),onRemoveItemClick:i,className:"selected-hotel-details",packageName:"shoppingCart",id:"hotel-details",iconName:H.a.HOTEL,label:Object(q.i)("shoppingCart.travelExtras.selectedHotel"),price:{amount:s,currency:o}},function(e,t){var n=e.get("hotelName"),a=e.getIn(["address","street"]),r=e.getIn(["address","city"]),i=vt()(e.get("checkinDate")),s=vt()(e.get("checkoutDate"));return F.a.createElement("div",{className:"hotel-details",role:"region"},F.a.createElement("div",{className:"hotel-stay-details"},F.a.createElement("span",{className:"hotel-stay-info"},F.a.createElement("div",null,F.a.createElement("span",{className:"check-in-date"},"".concat(i.format(t))),F.a.createElement("span",{className:"check-out-date"},"".concat(s.format(t)))))),F.a.createElement("div",{className:"hotel-information"},F.a.createElement("div",{className:"hotel-name"},n),F.a.createElement("div",{className:"hotel-address"},F.a.createElement("span",null,"".concat(a,", ").concat(r)))))}(t,n))}yt.defaultProps={isRemoveHotelEnabled:!1,onRemoveHotelItem:j.a};var bt=yt;n(2230),n(2231);function Ct(e){return F.a.createElement(K.a,{price:e.getIn(["car","rentalRate","estimatedTotal"])})}function Et(e){var t=e.cartItemsWithRemoveConfirmation,n=e.selectedCarOffer,a=e.isRemoveCarsEnabled,r=e.onRemoveCarItem,i=n.getIn(["car","rentalRate","estimatedTotal","amount"]),s=n.getIn(["car","rentalRate","estimatedTotal","currency"]),o=Xe.a.CARS,l=t&&t.includes(o);return F.a.createElement(Z,{showRemoveConfirmation:l,isCartItemRemovable:a,parentType:o,item:n.toJS(),onRemoveItemClick:r,className:"selected-car-details",packageName:"shoppingCart",id:"car-details",iconName:H.a.CAR_RENTAL,label:Object(q.i)("shoppingCart.travelExtras.carHire"),price:{amount:i,currency:s}},function(e){var t=e.getIn(["car","model"]),n=e.getIn(["car","carCharacteristics"]),a=n.getIn(["passengerCapacity","values"]),r=n.getIn(["baggageCapacity","values"]),i=n.getIn(["features","transmissionType"]),s=n.getIn(["features","airCondition"]),o=e.getIn(["vendorInfo","name"],"").toLowerCase(),l=Object(q.a)("shoppingCart.car.transmissionType.".concat(i.toLowerCase())),c=Object(q.a)("shoppingCart.car.airCondition.".concat(s));return F.a.createElement("div",{className:"car-details"},F.a.createElement("div",{className:"car-offer-header"},F.a.createElement("span",{className:"car-offer-header-title"},t)),F.a.createElement("div",{className:"car-offer-info"},F.a.createElement("span",{className:"passenger-capacity"},F.a.createElement(H.c,{name:H.a.USER,fill:!0}),a),F.a.createElement("span",{className:"baggage-capacity"},F.a.createElement(H.c,{name:H.a.SUITCASE,fill:!0}),r),F.a.createElement("span",{className:"is-automatic"},l," "),F.a.createElement("span",{className:"has-air-conditioner"},c)),F.a.createElement("div",{className:"car-provider"},o),F.a.createElement("div",{className:"note"},F.a.createElement(H.c,{name:H.a.INFO_CIRCLE}),F.a.createElement("span",{className:"car-offer-details-summary"},Object(q.k)("car.selectedOffer.summary",{price:Ct(e)}))))}(n))}Et.defaultProps={onRemoveCarItem:j.a,isRemoveCarsEnabled:!1};var kt=Et;n(2232);function Ot(e){var t=e.insuranceProduct,n=e.numberOfPassengers,a=e.onRemoveItemClick,r=e.configuration,i=e.cartItemsWithRemoveConfirmation,s=e.isRemoveInsuranceEnabled,o=e.showInsuranceDisclaimer,l=e.market,c=Xe.a.INSURANCE,u=i&&i.includes(c),d=Object(le.b)(r),p=t.get("subElements",Object(M.List)()).filter((function(e){return e.get("label")!==ue.L||Object(ce.m)(e.get("price"),_()(d,"showZeroTaxBreakdown"))})),h=Object(le.e)(p.size,_()(d,"collapseCartWithOneItem")),f=h&&F.a.createElement(tt,{element:t,breakDownConfiguration:d});return F.a.createElement("div",{className:"selected-insurance"},F.a.createElement(Z,{showBreakdown:h,breakdownElements:f,item:t.toJS(),showRemoveConfirmation:u,onRemoveItemClick:a,isCartItemRemovable:s,parentType:c,packageName:"shoppingCart",id:"insurance-details",iconName:H.a.SHIELD_CHECK,label:Object(q.i)("shoppingCart.travelExtras.travelInsurance"),price:t.get("total")},!h&&function(e,t,n){return F.a.createElement(F.a.Fragment,null,F.a.createElement("div",{className:"insurance-details"},F.a.createElement(H.c,{name:H.a.USER,fill:!0}),F.a.createElement("span",{className:"passengers-count"},"(",e,")")),t&&F.a.createElement("div",{className:"insurance-disclaimer"},Object(q.a)("shoppingCart.travelExtras.travelInsuranceDisclaimer.".concat(n))))}(n,o,l)))}Ot.defaultProps={onRemoveItemClick:j.a,isRemoveInsuranceEnabled:!1,showInsuranceDisclaimer:!1,market:""};var _t=Ot;function Pt(e){var t=e.cartItemsWithRemoveConfirmation,n=e.ancillaries,a=e.passengerTypeCount,r=e.configuration,i=e.currentFlow,s=e.currentPage,o=e.onRemoveAncillaryItem,l=e.className;return n.map((function(e,n){var c=e.getIn(["passenger","passengerIndex"]),u=e.get("passenger"),d=w()(u)?"":nt(e.get("passenger")),p=w()(u)?"":a.get(c-1),h=$e(r,e,Xe.a.ANCILLARY,i,s),f=t.includes(e.get("label")),m="".concat(n,"-").concat(c,"-").concat(e.get("label"),"-entire-trip-ancillary-item"),g=Object(le.b)(r),v=Object(le.e)(e.get("subElements",Object(M.List)()).size,_()(g,"collapseCartWithOneItem")),y=v&&F.a.createElement(tt,{element:e,breakDownConfiguration:g}),b=U()(i,l,{"grouped-taxes-breakdown":v,"remove-confirmation-icon":h});return F.a.createElement(Z,{className:b,breakdownElements:y,showBreakdown:v,parentType:Xe.a.ANCILLARY,isCartItemRemovable:h,item:e.toJS(),showRemoveConfirmation:f,onRemoveItemClick:o,packageName:"shoppingCart",price:e.get("price"),initial:p,tooltipText:d,label:Object(q.a)("cart.quantity",{translation:Object(q.i)("ancillary.items.".concat(e.get("label"),".name")),quantity:e.get("quantity",0),symbol:"x"}),key:m,id:m})})).toArray()}Pt.defaultProps={onRemoveAncillaryItem:j.a,className:void 0};var St=Pt,Nt=function(e){var t=e.cartItemsWithRemoveConfirmation,n=e.ancillary,a=e.passengerTypeCount,r=e.id,i=e.onRemoveAncillaryItem,s=e.configuration,o=e.currentFlow,l=e.currentPage,c=n.getIn(["passenger","passengerIndex"]),u=a.get(c-1),d=$e(s,n,Xe.a.ANCILLARY,o,l),p="".concat(r,"-").concat(c,"-ancillary-cart-item-").concat(n.get("label")),h=n.get("passenger"),f=w()(h)?"":nt(h),m=t&&t.includes(n.get("label")),g=Object(le.b)(s),v=Object(le.e)(n.get("subElements",Object(M.List)()).size,_()(g,"collapseCartWithOneItem")),y=v&&F.a.createElement(tt,{element:n,breakDownConfiguration:g});return F.a.createElement("li",{className:U()("ancillary-cart-item",o,n.get("label"),{"grouped-taxes-breakdown":v,"remove-confirmation-icon":d}),key:p},F.a.createElement(Z,{showBreakdown:v,breakdownElements:y,parentType:Xe.a.ANCILLARY,isCartItemRemovable:d,item:n.toJS(),showRemoveConfirmation:m,onRemoveItemClick:i,packageName:"shoppingCart",price:n.get("price"),initial:u,tooltipText:f,label:Object(q.a)("cart.quantity",{translation:Object(q.i)("ancillary.items.".concat(n.get("label"),".name")),quantity:n.get("quantity",0),symbol:"x"}),id:"".concat(r,"-").concat(c,"-").concat(n.get("label"),"-segment-ancillary-item")}))};Nt.defaultProps={onRemoveAncillaryItem:j.a};var wt=Nt,At=function(e){var t=e.cartItemsWithRemoveConfirmation,n=e.ancillaries,a=e.flights,r=e.passengerTypeCount,i=e.ancillariesType,s=e.configuration,o=e.currentFlow,l=e.currentPage,c=e.onRemoveAncillaryItem;return a.reduce((function(e,a,u){var d=a.get("origin"),p=a.get("destination"),h="".concat(d).concat(p).concat(u),f=n.get(h),m=o===we.a.EXCHANGE?Object(le.a)(f):f;if(m.isEmpty())return e;var g={departure:{name:d},arrival:{name:p}},v="".concat(h,"-").concat(i,"-").concat(d,"-").concat(p);return e.push(F.a.createElement(Me,{airports:g,label:Object(q.a)("shoppingCart.flight"),key:v},F.a.createElement("ul",{className:U()("".concat(i,"-ancillaries"),"".concat(d,"-").concat(p))},m.map((function(e){return F.a.createElement(wt,{cartItemsWithRemoveConfirmation:t,onRemoveAncillaryItem:c,ancillary:e,passengerTypeCount:r,id:"".concat(v,"-").concat(e.get("label")),key:"".concat(v,"-").concat(e.get("label")),configuration:s,currentFlow:o,currentPage:l})}))))),e}),[])};At.defaultProps={onRemoveAncillaryItem:j.a};var Tt=At;n(2233);function It(e){var t=e.onRemoveAncillaryItem,n=e.onRemoveHotelItem,a=e.onRemoveCarItem,r=e.configuration,i=e.onRemoveInsuranceItem,s=e.currentFlow,o=e.currentPage,l=e.insuranceProduct,c=e.passengers,u=e.selectedCarOffer,d=e.hotelProduct,p=e.longDateFormat,h=e.segmentAncillaries,f=e.segments,m=e.passengerTypeCount,g=e.itineraryPartAncillaries,v=e.standaloneAncillaries,y=e.itineraryPartAirports,b=e.itineraryEntireTripAncillaries,C=e.retainedAmount,E=r.get("cartItemsWithRemoveConfirmation"),k=r.getIn(["enableAncillaryRemove",s,o],!1),O=function(e){var t=e.configuration,n=e.segments.first(Object(M.Map)()).get("origin"),a=t.getIn(["insurance","airportMarketMapping",n])||t.getIn(["insurance","airportMarketMapping","DEFAULT"]);return[t.getIn(["insurance","marketsForInsuranceDisclaimer"],Object(M.List)()).includes(a),a]}({configuration:r,segments:f}),_=ft()(O,2),P=_[0],S=_[1];return F.a.createElement("div",{className:"ancillary-cart-items"},!C.isEmpty()&&Object(q.k)("shoppingCart.retainedAmountMessage",{amount:F.a.createElement(K.a,{price:C}),item:Object(q.i)("app.extras")}),!v.isEmpty()&&F.a.createElement(St,{className:mt.b.STANDALONE.toLowerCase(),currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:E,ancillaries:v,passengerTypeCount:m}),!h.isEmpty()&&F.a.createElement(Tt,{currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:E,ancillaries:h,flights:f,passengerTypeCount:m,ancillariesType:mt.b.SEGMENT_ANCILLARY.toLowerCase()}),!g.isEmpty()&&F.a.createElement(Tt,{currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:E,ancillaries:g,flights:y,passengerTypeCount:m,ancillariesType:mt.b.ITINERARY_PART_ANCILLARY.toLowerCase()}),!b.isEmpty()&&F.a.createElement(St,{currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:E,ancillaries:b,passengerTypeCount:m}),l.has("total")&&0!==l.get("total").size&&F.a.createElement(_t,{insuranceProduct:l,numberOfPassengers:c.size,configuration:r,onRemoveItemClick:i,cartItemsWithRemoveConfirmation:E,isRemoveInsuranceEnabled:k,showInsuranceDisclaimer:P,market:S}),u&&F.a.createElement(kt,{onRemoveCarItem:a,cartItemsWithRemoveConfirmation:E,selectedCarOffer:u,isRemoveCarsEnabled:k}),d&&F.a.createElement(bt,{onRemoveHotelItem:n,cartItemsWithRemoveConfirmation:E,selectedHotel:d,dateFormat:p,isRemoveHotelEnabled:k}))}It.defaultProps={longDateFormat:"D MMM YYYY",hotelProduct:void 0,passengers:Object(M.List)(),insuranceProduct:Object(M.Map)(),selectedCarOffer:void 0,segmentAncillaries:Object(M.Map)(),itineraryPartAncillaries:Object(M.Map)(),passengerTypeCount:Object(M.List)(),itineraryEntireTripAncillaries:Object(M.List)(),standaloneAncillaries:Object(M.List)(),itineraryPartAirports:Object(M.List)(),onRemoveAncillaryItem:j.a,onRemoveHotelItem:j.a,onRemoveCarItem:j.a,onRemoveInsuranceItem:j.a,retainedAmount:Object(M.List)()};var Dt=It,xt=(n(2234),function(e){var t=e.shoppingCart,n=e.paymentSurchargeTotal,a=t.get("isRefundCart"),r=!S()(t.getIn(["data","paymentCompleted"])),i=t.get("isLoading"),s=Object(ce.e)(Object(ce.b)(t.getIn(["data","total"],Object(M.List)()),n)),o=a?Object(q.i)("app.refund"):Object(q.i)("shoppingCart.tripTotal");return F.a.createElement("div",{className:"trip-total"},F.a.createElement("div",{className:"label"},o),!i&&!r&&F.a.createElement("div",{className:"total"},F.a.createElement(K.a,{price:s,PACKAGE_NAME_CLASSIFIED:"shoppingCart"})))});xt.defaultProps={paymentSurchargeTotal:Object(M.List)()};var jt=xt,Lt=n(250),Ft=n.n(Lt),Bt=n(73),Rt=n.n(Bt);n(2235);function Mt(e,t,n){return F.a.createElement("li",{className:k()(e),key:"".concat(e,"-'.label'")},e!==ue.w&&e!==ue.N&&F.a.createElement(Z,{packageName:"shoppingCart",price:t,label:Object(q.a)("shoppingCart.".concat(Rt()(e)))}),(e===ue.w||e===ue.N)&&F.a.createElement("div",{className:"".concat(Rt()(e),"-cart")},F.a.createElement("div",{className:"main-content"},F.a.createElement("div",{className:"left-content"},F.a.createElement("div",{className:"cart-item-label"}," ",Object(q.a)("shoppingCart.".concat(Rt()(e)))," ")),F.a.createElement("div",{className:"right-content"},F.a.createElement("div",{className:"cart-item-label"},F.a.createElement("span",{className:"price-info"}," ",n," ",t," "))))))}var Vt=function(e){var t=e.originalFare,n=e.cancellationFee,a=_()(t.toJS(),"breakdownElements[0]"),r=_()(t.toJS(),"breakdownElements[1]"),i=_()(n.toJS(),"breakdownElements[0]"),s=_()(n.toJS(),"breakdownElements[1]"),o=Ft()(_()(a,"price[0][0].amount"),_()(i,"price[0][0].amount")),l=Ft()(_()(r,"price[0][0].amount"),_()(s,"price[0][0].amount")),c=_()(a,"price[0][0].currency");return F.a.createElement("div",{className:"fare-refund-cart-items"},F.a.createElement("ul",{className:"cart-items-refund"},!S()(a)&&Mt(_()(a,"label",""),_()(a,"price","")),!S()(i)&&Mt(_()(i,"label",""),_()(i,"price","")),!S()(a)&&Mt(ue.w,o,c),!S()(r)&&Mt(_()(r,"label",""),_()(r,"price","")),!S()(s)&&Mt(_()(s,"label",""),_()(s,"price","")),!S()(r)&&Mt(ue.N,l,c)))};var Ut=function(e){var t=e.taxes,n=e.isTaxBreakdownEnabled;return F.a.createElement("ul",{className:"tax-cart-items"},t.map((function(e,t){var a,r,i,s,o=n&&!e.get("subElements",Object(M.List)()).isEmpty(),l=U()({"has-tax-breakdown":o}),c=o&&!e.get("breakdownElementAssignment").isEmpty()?(a=e.get("breakdownElementAssignment"),r=a.get("quantity"),i=a.get("passengerType"),s="shoppingCart.passengerDetails.label.".concat(i),Object(q.i)("cart.taxes.".concat(a.get("passengerType"))),Object(q.i)(s,{quantity:r})):Object(q.i)("cart.taxes.".concat(e.get("label")));return F.a.createElement("li",{className:"tax-cart-item",key:"tax.get('label')-".concat(t)},F.a.createElement(Z,{packageName:"shoppingCart",price:e.get("price"),label:c,id:"".concat(e.get("label"),"-").concat(t),className:l,key:"".concat(e.get("label"),"-").concat(t)},o&&F.a.createElement("ul",{className:"tax-breakdown-items"},e.get("subElements").map((function(n){return F.a.createElement(Z,{packageName:"shoppingCart",className:n.get("label"),price:n.get("price"),label:Object(q.i)("cart.taxes.".concat(n.get("label"))),id:"".concat(n.get("label"),"-").concat(t),key:"".concat(e.get("label"),"-").concat(n)})})))))})))};Ut.defaultProps={isTaxBreakdownEnabled:!1};var qt=Ut,Ht=function(e){var t=e.changeFees.getIn(["breakdownElements","0","subElements"],Object(M.List)()),n=t.find((function(e){return e.get("label")===ue.f}))||Object(M.Map)(),a=(t.find((function(e){return e.get("label")===ue.L}))||Object(M.Map)()).get("subElements",Object(M.List)());return F.a.createElement("div",{className:"change-fees-cart-items"},F.a.createElement("ul",{className:"change-fees-cart-items-list"},F.a.createElement("li",{className:"change-fee-cart-item",key:"change-fee-base-fare"},F.a.createElement(Z,{className:"change-fee-cart-item base",packageName:"shoppingCart",id:"change-fee-base",label:Object(q.i)("shoppingCart.changeFeesFare"),price:n.get("price"),key:"base"})),!a.isEmpty()&&a.map((function(e,t){return F.a.createElement("li",{className:"change-fee-cart-item",key:"change-fee-base-fare-".concat(e.get("label"),"-").concat(t)},F.a.createElement(Z,{packageName:"shoppingCart",price:e.get("price"),label:Object(q.i)("cart.taxes.".concat(e.get("label"))),id:"".concat(e.get("label"),"-").concat(t),key:"tax.get('label')-".concat(t)}))}))))};var Wt=function(e){var t=e.fees.get("breakdownElements",Object(M.List)());return F.a.createElement("ul",{className:"fees-cart-items"},function(e){return e.map((function(e){var t=e.get("label");return F.a.createElement("li",{className:"fees-cart-item",key:"fees-cart-item-".concat(t)},F.a.createElement(Z,{id:"fees-cart-item-".concat(t),className:"fees-cart-item-".concat(t),packageName:"shoppingCart",label:Object(q.i)("shoppingCart.feesCartItems.".concat(t)),price:e.get("price"),key:t}))}))}(t))},Gt=function(e){var t=e.refundableItems,n=e.passengerTypeCount;return F.a.createElement("ul",{className:"refund-cart-items-list"},t.get("breakdownElements").reduce((function(e,t,a){if(!t.get("price").isEmpty()){var r=t.get("label"),i=t.getIn(["breakdownElementAssignment","passenger"]),s=!S()(i)&&n.get(t.getIn(["breakdownElementAssignment","passenger","passengerIndex"])-1),o=t.getIn(["breakdownElementAssignment","quantity"],0),l="refundable-item-".concat(r,"-").concat(a);e.push(F.a.createElement("li",{className:"refundable-cart-item",key:l},F.a.createElement(Z,{initial:s,className:r,packageName:"shoppingCart",id:l,label:Object(q.a)("cart.quantity",{translation:Object(q.i)("ancillary.items.".concat(r,".name")),quantity:o,symbol:"x"}),price:t.get("price"),tooltipText:!S()(i)&&nt(i)})))}return e}),[]))},Kt=function(e){var t=e.nonRefundableItems,n=e.passengerTypeCount;return F.a.createElement("ul",{className:"non-refundable-cart-items-list"},t.get("breakdownElements").reduce((function(e,t,a){if(!t.get("price").isEmpty()){var r=t.get("label"),i=t.getIn(["breakdownElementAssignment","passenger"]),s=t.getIn(["breakdownElementAssignment","passenger","passengerIndex"]),o=!S()(i)&&n.get(s-1),l=t.getIn(["breakdownElementAssignment","quantity"],0),c=!S()(i)&&nt(i),u="non-refundable-item-".concat(r,"-").concat(a);e.push(F.a.createElement("li",{className:"non-refundable-cart-item",key:u},F.a.createElement(Z,{className:r,packageName:"shoppingCart",id:u,initial:o,label:Object(q.a)("cart.quantity",{translation:Object(q.i)("ancillary.items.".concat(r,".description")),quantity:l,symbol:"x"}),price:t.get("price"),tooltipText:c})))}return e}),[]))},zt=n(1419),Yt=n(1601),Qt=n(1945),Xt=n(545);n(2236),n(2237);var Jt=function(e){var t=e.itineraryPart,n=e.isMultiCity,a=e.index,r=e.departureTimeFormat,i=e.locale,s=n?Object(q.i)("shoppingCart.flightDetails.multiCity",{index:a+1}):Object(q.i)("shoppingCart.flightDetails.nonMultiCity",{index:a}),o=t.getIn(["segments","0","departure"]);return vt.a.locale(i),F.a.createElement("div",{className:"itinerary-part-header"},F.a.createElement("span",null,s),F.a.createElement("span",{className:"date-time"},vt()(o).locale(i).format(r)))};Jt.defaultProps={departureTimeFormat:""};var $t=Jt,Zt=(n(2238),n(2239),function(e,t){return function(e){if(e)return e.map((function(e){return F.a.createElement("div",{className:"disclaimer ".concat(e)},Object(q.a)("shoppingCart.disclaimers.".concat(e)))}))}(t.get("disclaimers").get("brand").get(e))}),en=function(e){var t=e.selectedBrands,n=e.itineraryParts,a=e.isMultiCity,r=e.configuration,i=e.exchangeType,s=e.currentFlow,o=e.isConfirmationOrMybPage,l=e.locale;return n.map((function(e,n){var c=S()(e.get("segments"))||0===e.get("segments").size?e.get("cancelledSegments"):e.get("segments"),u=function(e){return{origin:e.first().get("origin"),destination:e.last().get("destination")}}(c),d=u.origin,p=u.destination,h=e.get("totalDuration"),f={departure:{name:Object(q.i)("airportCityAndCode",{cityName:Object(q.i)("city.".concat(d)),code:d})},arrival:{name:Object(q.i)("airportCityAndCode",{cityName:Object(q.i)("city.".concat(p)),code:p})}},m=e.get("stops"),g=i===Qt.a.INBOUND&&0===n?1:0,v=s==="".concat(we.a.EXCHANGE)&&i===Qt.a.INBOUND?g:n,y=Object(Xt.d)(c.toJS()),b=o?t.getIn(["".concat(v),"brand"]):t.get(v);return F.a.createElement("div",{className:"itinerary-part-details",key:"itinerary-part-".concat(d,"-").concat(p,"-").concat(c.first().get("departure"))},F.a.createElement("div",{className:"itinerary-part-time-details"},F.a.createElement($t,{itineraryPart:e,isMultiCity:a,index:n,locale:l,departureTimeFormat:r.get("departureTimeFormat")})),F.a.createElement("div",{className:"itinerary-part-flight-details"},F.a.createElement(se.b,{separator:F.a.createElement(H.c,{name:H.a.AIRPLANE_ROUTE}),airports:f,packageName:"shoppingCart",className:"origin-destination"}),r.get("displayDuration")&&F.a.createElement("div",{className:"duration-stop-details"},F.a.createElement("span",{className:"duration-label"},Object(q.a)("shoppingCart.flightDetails.duration")),F.a.createElement(zt.a,{duration:vt.a.duration(h,"minutes")}),F.a.createElement("span",{className:"duration-stops-separator"}),F.a.createElement("span",{className:"number-of-stops"},Object(q.a)("shoppingCart.flightDetails.totalStops",{stops:m})),F.a.createElement("span",{className:"stops"},m?function(e){return F.a.createElement("span",{className:"stop-airports"},"(",fe()(e,(function(e){return e.airport})).join(","),")")}(y):"")),r.get("displayBrand")&&F.a.createElement("div",{className:"brand-id"},Object(q.a)("brand.".concat(b))),r.get("displayFlightNumber")&&function(e,t){return F.a.createElement("ul",{className:"segment-operated-by-list"},e.map((function(e){return F.a.createElement("li",{key:"".concat(e.get("origin"),"-").concat(e.get("destination"),"-").concat(e.getIn(["flight","flightNumber"]))},F.a.createElement(Yt.a,{segment:e.toJS(),operatedBy:t.get("operatedBy").toJS(),tag:"div"}),t.get("displayCabinClass")&&F.a.createElement("span",{className:"cabin-class"},e.get("cabinClass")),t.get("displayFareBasis")&&F.a.createElement("span",{className:"fare-basis"},Object(q.a)("flightDetails.details.fareBasis")," ",e.get("fareBasis")))})))}(c,r),r.get("displayDisclaimers")&&Zt(t.get(n),r)))})).toArray()};en.defaultProps={isMultiCity:!1,selectedBrands:Object(M.List)(),isConfirmationOrMybPage:!1,configuration:Object(M.Map)({displayDuration:!0,displayFlightNumber:!0,displayBrand:!1,displayCabinClass:!1,displayFareBasis:!1,operatedBy:Object(M.Map)({displayCarrierLogo:"",alwaysDisplayOperatingCarrier:!1,displayAircraftLeaseText:!1}),departureTimeFormat:""}),locale:"en-US"};var tn=en,nn=n(293),an=n.n(nn),rn=n(287),sn=n.n(rn),on=(n(2240),function(e){var t=e.passengers,n=e.passengerType;return F.a.createElement("ul",{className:"passenger-cart-list-by-type ".concat(n)},t.map((function(e,t){var a=an()(e.getIn(["passengerDetails","firstName"])),r=an()(e.getIn(["passengerDetails","lastName"])),i=sn()(e.getIn(["passengerDetails","prefix"])),s=sn()(e.getIn(["passengerDetails","middleName"])),o=sn()(e.getIn(["passengerDetails","maidenName"])),l=sn()(e.getIn(["passengerDetails","suffix"])),c="".concat(D()(n)).concat(t+1).toUpperCase();return F.a.createElement("li",{className:"passenger-details",key:c},Object(q.i)("shoppingCart.passengerDetails.fullName",{initial:c,firstName:a,lastName:r,prefix:i,middleName:s,maidenName:o,suffix:l}))})))}),ln=(n(2241),n(2242),function(e){var t=e.airProducts,n=e.passengers,a=e.showGroupedTaxes,r=e.formatPriceWithZeroPointsAndCurrency,i=n.groupBy((function(e){return e.getIn(["passengerInfo","type"])}));return(a?t.get("breakdownElements",Object(M.List)()):t.get("subElements",Object(M.List)())).map((function(e){var t=e.get("label"),n=i.get(t,Object(M.List)()).filter((function(e){return!S()(e.getIn(["passengerDetails","firstName"],""))})),a=e.getIn(["breakdownElementAssignment","quantity"],0),s=r?Object(le.c)(e.get("price")):e.get("price");return F.a.createElement(Z,{className:"passenger-cart-item ".concat(t),packageName:"shoppingCart",id:"passenger-details-".concat(t),label:Object(q.i)("shoppingCart.passengerDetails.label.".concat(t),{quantity:a}),price:s,key:t},!n.isEmpty()&&F.a.createElement(on,{passengers:n,passengerType:t}))}))}),cn=n(533),un=n.n(cn);n(2243);function dn(e,t,n,a){var r=e.get("subElements").filter((function(e){return e.get("label")!==Ze.a.INF}));return F.a.createElement("ul",{className:U()("cart-items-additional-breakdown",{"tax-breakdown-enabled":t})},r.map((function(e,r){return F.a.createElement("li",{className:"sub-element",key:"".concat(e.get("label"),"-").concat(r)},F.a.createElement(Z,{packageName:"shoppingCart",showBreakdown:Object(le.e)(e.get("subElements",Object(M.List)()).size,_()(a,"collapseCartWithOneItem")),price:e.get("price"),breakdownElements:t&&!e.get("subElements",Object(M.List)()).isEmpty()&&F.a.createElement(tt,{element:e,breakDownConfiguration:a}),label:Object(q.i)("cart.taxes.".concat(e.get("label"))),id:"".concat(e.get("label"),"-").concat(n),key:"".concat(e.get("label"),"-").concat(r)}))})))}var pn=function(e){var t=e.baseFareBreakdown,n=e.isTaxBreakdownEnabled,a=e.breakDownConfiguration;return F.a.createElement("ul",{className:"fare-cart-items"},t.map((function(e,t){var r=!e.get("subElements",Object(M.List)()).isEmpty(),i=Object(q.i)("cart.".concat(e.get("label")));return(e.get("price",Object(M.List)()).size>0||e.get("total",Object(M.List)()).size>0)&&F.a.createElement("li",{className:U()("fare-cart-item",un()(i),{"has-breakdown":r}),key:"".concat(e.get("label"),"-").concat(t)},F.a.createElement(Z,{id:"".concat(e.get("label"),"-").concat(t),showBreakdown:r,breakdownElements:r&&dn(e,n,t,a),label:i,price:e.get("price")||e.get("total"),packageName:"shoppingCart",key:"".concat(e.get("label"),"-").concat(t)}))})))};pn.defaultProps={isTaxBreakdownEnabled:!1};var hn=pn,fn=(n(2244),function(e){var t=e.selectedBrands,n=e.itineraryParts,a=e.airProducts,r=e.passengers,i=e.isMultiCity,s=e.configuration,o=e.exchangeType,l=e.baseFareBreakdown,c=e.showGroupedTaxes,u=e.formatPriceWithZeroPointsAndCurrency,d=e.isTaxBreakdownEnabled,p=e.currentFlow,h=e.isConfirmationOrMybPage,f=e.hideTripcostFlightItinerary,m=e.locale;return F.a.createElement("div",{className:"cart-flight-details"},!f&&F.a.createElement(tn,{selectedBrands:t,itineraryParts:n,isMultiCity:i,configuration:s,exchangeType:o,currentFlow:p,isConfirmationOrMybPage:h,locale:m}),F.a.createElement(ln,{airProducts:a,passengers:r,showGroupedTaxes:c,formatPriceWithZeroPointsAndCurrency:u}),l.size>0&&F.a.createElement(hn,{baseFareBreakdown:l,isTaxBreakdownEnabled:d,breakDownConfiguration:Object(le.b)(s)}))});fn.defaultProps={isMultiCity:!1,configuration:Object(M.Map)(),airProducts:Object(M.Map)(),selectedBrands:Object(M.List)(),baseFareBreakdown:Object(M.List)(),isTaxBreakdownEnabled:!1,exchangeType:void 0,hideTripcostFlightItinerary:!1,isConfirmationOrMybPage:!1,showGroupedTaxes:!1,formatPriceWithZeroPointsAndCurrency:!1};var mn=fn;var gn=function(e){var t=e.products,n=e.paymentSurcharges,a=e.breakDownConfiguration,r=e.passengerTypeCount,i=t.get("breakdownElements",Object(M.List)());return F.a.createElement("ul",{className:"surcharge-cart-items"},function(e,t,n){return e.map((function(e){var a=e.get("label"),r=e.getIn(["breakdownElementAssignment","quantity"],0),i=e.getIn(["breakdownElementAssignment","passenger"],Object(M.Map)()),s=!S()(i)&&n.get(i.get("passengerIndex")-1),o=Object(le.e)(e.get("subElements",Object(M.List)()).size,_()(t,"collapseCartWithOneItem")),l=o&&F.a.createElement(tt,{element:e,breakDownConfiguration:t});return F.a.createElement("li",{className:"surcharge-cart-item",key:"surcharge-cart-item-".concat(a)},F.a.createElement(Z,{showBreakdown:o,initial:s,tooltipText:!S()(i)&&nt(i),breakdownElements:l,id:"surcharge-cart-item-".concat(a),className:"surcharge-cart-item-".concat(a),packageName:"shoppingCart",label:Object(q.i)("shoppingCart.passengerDetails.label.".concat(a),{quantity:r}),price:e.get("price"),key:a}))}))}(i,a,r),function(e){return e.map((function(e){var t=e.get("paymentType"),n=t===ge.b.AFOP?e.get("afopCode"):e.get("paymentCode"),a="".concat(t,"-").concat(n);return F.a.createElement("li",{className:"surcharge-cart-item",key:"surcharge-cart-item-".concat(a)},F.a.createElement(Z,{id:"surcharge-cart-item-".concat(a),className:"surcharge-cart-item-".concat(a),packageName:"shoppingCart",label:Object(q.i)(Object(ge.f)({paymentType:t,subCode:n})),price:e.get("surcharge"),key:a}))}))}(n))};gn.defaultProps={products:Object(M.Map)(),paymentSurcharges:Object(M.List)(),passengerTypeCount:Object(M.List)()};var vn=gn;var yn=function(e){var t=e.products.get("breakdownElements",Object(M.List)());return F.a.createElement("ul",{className:"discount-cart-items"},function(e){return e.map((function(e){var t=e.get("productType"),n=e.get("quantity",0);return F.a.createElement("li",{className:"discount-cart-item",key:"discount-cart-item-".concat(t)},F.a.createElement(Z,{id:"discount-cart-item-".concat(t),className:"discount-cart-item-".concat(t),packageName:"shoppingCart",label:Object(q.i)("shoppingCart.discountCartItems.".concat(t),{quantity:n}),price:e.get("price"),key:t}))}))}(t))},bn=function(e){var t=e.carPriceTotal,n=e.carHireDuration;return F.a.createElement(Z,{id:"car-section-breakdown",className:"car-section-breakdown",packageName:"shoppingCart",label:Object(q.i)("shoppingCart.hireTextWithDuration",{duration:n}),price:t,key:"car-section-breakdown"})};bn.defaultProps={carPriceTotal:void 0,carHireDuration:void 0};var Cn=bn,En=(n(2245),function(e){var t=e.data,n=e.paymentDCCSummary,a=e.paymentData,r=(0===n.size?a.get("dccOptionSelected",Object(M.Map)()):n).get("creditCardCurrencyAmount",Object(M.Map)()),i=r.get("currency"),s=t.getIn(["total","0","0","currency"]),o=0===n.size?"shoppingCartInfo":"confirmationCartInfo",l=n.size>0&&F.a.createElement("div",{className:"dcc-confirmation-disclaimer-information"},F.a.createElement("span",{className:"dcc-confirmation-confirmation-disclaimer"},Object(q.a)("payment.dcc.confirmationDisclaimer",{exchangeRateSource:n.get("exchangeRateSource"),marginPercentRate:n.get("marginPercentRate"),supplierId:n.get("supplierId")})),F.a.createElement("span",{className:"dcc-confirmation-option-exchange-info"},Object(q.a)("payment.dcc.optionExchangeInfo",{firstCurrencyUnit:s,exchangeRate:n.get("exchangeRate"),secondCurrencyUnit:n.getIn(["creditCardCurrencyAmount","currency"])}))),c=a.get("selectedPaymentOptions").size>1?Object(M.List)([[a.getIn(["selectedPaymentOptions","0","amount"]),r]]):r;return F.a.createElement("div",{className:"dxp-confirmation-dcc-item trip-total"},F.a.createElement("div",{className:"label"},Object(q.a)("payment.dcc.".concat(o),{currency:Object(q.i)("currency.".concat(i)),currencyUnit:i})),F.a.createElement("div",{className:"total"},F.a.createElement(K.a,{price:c,showDecimal:!0,currencyDisplay:"code"})),Object(q.a)("payment.dcc.chargeInCurrencyShown"),l)});En.defaultProps={paymentDCCSummary:Object(M.Map)(),paymentData:Object(M.Map)(),data:Object(M.Map)()};var kn=En,On=(n(2246),n(2247),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{isBagFeeOpen:!1,isFareRulesOpen:!1}),y()(f()(n),"onBagFeeCloseClick",(function(e){e&&e.preventDefault(),n.setState({isBagFeeOpen:!1})})),y()(f()(n),"onBagFeeLinkClick",(function(e){e&&e.preventDefault(),n.setState({isBagFeeOpen:!0})})),y()(f()(n),"onFareRulesClick",(function(e){e&&e.preventDefault(),n.setState({isFareRulesOpen:!0})})),y()(f()(n),"onFareRulesCloseClick",(function(e){e&&e.preventDefault(),n.setState({isFareRulesOpen:!1})})),y()(f()(n),"onRemoveAncillaryItem",(function(e){return n.props.removeAncillaryFromCart({label:e.label,breakdownElementAssignment:{passenger:e.passenger,travelPart:e.travelPart}},n.props.currentFlow,n.props.location).then((function(){n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveCarItem",(function(e){return n.props.removeSelectedCarOffer(e).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveHotelItem",(function(e){return n.props.removeHotelFromCart(e).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveInsuranceItem",(function(e){return n.props.removeInsuranceFromCart(e,n.props.currentFlow,n.props.location,n.props.ancillaries).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveSeatItem",(function(e){return n.props.removeSeatFromCart(e,n.props.currentFlow,n.props.location,[]).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"getCartSectionTranslation",(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t!==Ne.a.BASE_FARE||a?Object(q.i)(e):n.getFlightTitle()})),y()(f()(n),"getCompanionFareIcon",(function(){return n.props.isCompanionFareSearch&&F.a.createElement(H.c,{className:"companion-fare-icon",name:H.a.TAG,fill:!0})})),y()(f()(n),"getFlightTitle",(function(){var e=n.props,t=e.itineraryParts,a=e.isRoundTrip,r=e.isMultiCity,i=_()(D()(t),["origin"],""),s=r?_()(T()(t),["destination"],""):_()(D()(t),["destination"],""),o=a?H.a.AIRPLANE_ROUTE_ROUND:H.a.AIRPLANE_ROUTE,l={departure:{name:i},arrival:{name:s}};return F.a.createElement(se.b,{iconName:o,airports:l,packageName:"shoppingCart",className:"itinerary-to-from"})})),y()(f()(n),"getSectionItemsRenderer",(function(e){var t;return(t={},y()(t,Ne.a.BASE_FARE,n.renderBaseFareSectionItems.bind(f()(n))),y()(t,Ne.a.SEATS,n.renderSeatsSectionItems.bind(f()(n))),y()(t,Ne.a.ANCILLARIES,n.renderAncillariesSectionItems.bind(f()(n))),y()(t,Ne.a.CAR_PRICE,n.renderCarPriceSectionItems.bind(f()(n))),y()(t,Ne.a.SURCHARGES,n.renderSurchargesSectionItems.bind(f()(n))),y()(t,Ne.a.DISCOUNT,n.renderDiscountSectionItems.bind(f()(n))),y()(t,Ne.a.TAXES,n.renderTaxesSectionItems.bind(f()(n))),y()(t,Ne.a.ORIGINAL_BOOKING_TOTAL,j.a),y()(t,Ne.a.REFUNDABLE_ITEMS,n.renderRefundableItemsSectionItems.bind(f()(n))),y()(t,Ne.a.NON_REFUNDABLE_ITEMS,n.renderNonRefundableItemsSectionItems.bind(f()(n))),y()(t,Ne.a.NON_REFUNDABLE_AMOUNT,j.a),y()(t,Ne.a.CHANGE_FEES,n.renderChangeFeesSectionItems.bind(f()(n))),y()(t,Ne.a.FEES,n.renderFeesSectionItems.bind(f()(n))),y()(t,Ne.a.UPGRADES,n.renderUpgradesSectionItems.bind(f()(n))),y()(t,Ne.a.WAITLISTED_UPGRADES,n.renderWaitListedUpgradesSectionItems.bind(f()(n))),y()(t,Ne.a.VCR_REFUND_AMOUNT,n.renderVcrRefundAmountSectionItems.bind(f()(n))),y()(t,Ne.a.EMD_REFUND_AMOUNT,j.a),y()(t,Ne.a.CANCELLATION_FEE,j.a),y()(t,Ne.a.PAYMENT_SURCHARGE,j.a),t)[e]||j.a})),y()(f()(n),"renderFareRules",(function(){return F.a.createElement(Ie.a,{useCheckboxToAgree:n.props.useCheckboxToAgree,checkboxEnabled:n.props.checkboxEnabled,checkboxChecked:n.props.checkboxChecked,handleCheckboxChange:n.props.handleCheckboxChange,purchaseAgreementLinks:n.props.purchaseAgreementLinks,rulesAndFeeData:n.props.rulesAndFeeData,onBagFeeLinkClick:n.onBagFeeLinkClick,onFareRulesClick:n.onFareRulesClick,currentFlow:n.props.currentFlow,currentPage:n.props.currentPage})})),y()(f()(n),"renderTaxesSectionItems",(function(){var e=n.props.shoppingCart.getIn(["data","taxes","breakdownElements"],Object(M.List)()),t=n.props.configuration;return F.a.createElement(qt,{taxes:e,isTaxBreakdownEnabled:t.get("isTaxBreakdownEnabled")})})),n}return g()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){!this.props.selectedCarOffer&&this.props.fetchSelectedOffer(),!this.props.hotelProduct&&this.props.fetchSelectedHotel()}},{key:"getDCCOptionSelected",value:function(){var e=this.props,t=e.paymentDCCSummary,n=e.paymentData,a=e.currentPage;return a===ve.a.MYB||a===ve.a.CONFIRMATION?t:a===ve.a.PAYMENT?S()(n.get("dccOptionSelected"))?Object(M.Map)():n.get("dccOptionSelected"):Object(M.Map)()}},{key:"getIsShoppingCartLoading",value:function(){return this.props.shoppingCart.get("isLoading")}},{key:"getTotal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.shoppingCart,a="baseFare"===e&&t?n.getIn(["data","updatedBaseFare","total"]):n.getIn(["data",e,"total"]);return a?Object(ce.e)(a):a}},{key:"isCartPanelDisabledForPage",value:function(e,t,n){var a,r=this.props,i=r.flowConfiguration,s=r.currentPage,o=(a={},y()(a,Ne.a.SEATS,ve.a.SEAT_SELECTION),y()(a,Ne.a.ANCILLARIES,ve.a.ANCILLARIES),a);if(t||!o[e])return!1;if(this.props.configuration.getIn(["disableIfEmptyOnPage",e],!1))return!0;if(o[e]===s)return!1;if(n===we.a.MTO&&!i.contains(e))return!1;for(var l=o[e],c=i.get(ve.a.START);!S()(c);){if(c===s)return!0;if(c===l)return!1;c=i.get(c)}return!0}},{key:"calculateHeaderPrice",value:function(e,t,n,a){return"exchange"===a?e?void 0:this.getTotal(t,n):e?void 0:this.getTotal(t)}},{key:"createCartPanelSections",value:function(e,t,n){var a=this,r=this.getIsShoppingCartLoading(),i=[Ne.a.ORIGINAL_BOOKING_TOTAL,Ne.a.REFUNDABLE_ITEMS,Ne.a.NON_REFUNDABLE_ITEMS];return e.reduce((function(e,s){var o=a.renderSection(s,r,t,n);return o?C()(i,Ne.a[s.get("sectionName")])?(e.originalBookingSections.push(o),e):(e.defaultSections.push(o),e):e}),{originalBookingSections:[],defaultSections:[]})}},{key:"renderAncillariesSectionItems",value:function(){var e=this.props,t=e.defaultDateFormats,n=e.hotelProduct,a=e.selectedCarOffer,r=e.shoppingCart,i=e.configuration,s=e.currentPage,o=e.currentFlow,l=r.get("data"),c=l.get("segments",Object(M.List)()),u=l.getIn(["passengers","passengers"]),d=l.get("ancillaries",Object(M.Map)()),p=l.get("segmentAncillaries",Object(M.Map)()),h=l.get("itineraryPartAirports"),f=l.get("itineraryPartAncillaries"),m=l.get("itineraryEntireTripAncillaries"),g=l.get("standaloneAncillaries"),v=l.get("insurance"),y=l.get("passengerTypeCount");return d.get("breakdownElements",Object(M.List)()).isEmpty()&&(w()(v)||v&&v.get("breakdownElements",Object(M.List)()).isEmpty())&&w()(n)&&w()(a)?F.a.createElement(pt,null):F.a.createElement(Dt,{onRemoveCarItem:this.onRemoveCarItem,onRemoveHotelItem:this.onRemoveHotelItem,onRemoveAncillaryItem:this.onRemoveAncillaryItem,onRemoveInsuranceItem:this.onRemoveInsuranceItem,currentFlow:o,currentPage:s,configuration:i,longDateFormat:t.get("long"),passengers:u,hotelProduct:n,selectedCarOffer:a,passengerTypeCount:y,insuranceProduct:v,segmentAncillaries:p,itineraryPartAirports:h,itineraryPartAncillaries:f,itineraryEntireTripAncillaries:m,standaloneAncillaries:g,segments:c,retainedAmount:d.get("retainedAmount")})}},{key:"renderBagFeeModal",value:function(){return F.a.createElement(ie.a,{key:"bagfee",currentFlow:this.props.currentFlow,currentPage:this.props.currentPage,className:"modal",onCloseClick:this.onBagFeeCloseClick})}},{key:"renderBaseFareSectionItems",value:function(){var e=this.props.shoppingCart.get("data"),t=this.props,n=t.isRoundTrip,a=t.isMultiCity,r=t.configuration,i=t.exchangeType,s=t.currentFlow,o=t.isConfirmationOrMybPage,l=e.getIn(["itinerary","itineraryParts"],Object(M.List)()),c=r.get("showGroupedTaxes"),u=c?e.getIn(["updatedBaseFare","breakdownElements"],Object(M.List)()):e.getIn(["baseFare","breakdownElements"],Object(M.List)()),d=u.find((function(e){return e.get("label")===ue.g})),p=e.get("selectedBrands"),h=e.getIn(["passengers","passengers"],Object(M.List)()),f=_()(this.props,"location.query.locale",Object(Fe.b)()),m=c?u.filter((function(e){return e.get("label")!==ue.g&&e.get("label")!==ue.s&&e.get("label")!==ue.K})):u.filter((function(e){return e.get("label")!==ue.g}));return F.a.createElement(mn,{selectedBrands:p,itineraryParts:l,airProducts:d,passengers:h,isRoundTrip:n,isMultiCity:a,configuration:r,exchangeType:i,baseFareBreakdown:m,showGroupedTaxes:c,formatPriceWithZeroPointsAndCurrency:r.get("formatPriceWithZeroPointsAndCurrency"),isTaxBreakdownEnabled:r.get("isTaxBreakdownEnabled"),currentFlow:s,isConfirmationOrMybPage:o,hideTripcostFlightItinerary:o&&r.get("hideTripcostFlightItinerary",!1),locale:f})}},{key:"renderCarPriceSectionItems",value:function(){var e=this.props.shoppingCart,t=e.getIn(["data","carPrice","total"],void 0);return F.a.createElement(Cn,{carPriceTotal:t,carHireDuration:e.getIn(["data","carPrice","breakdownElements","0","label"])})}},{key:"renderChangeFeesSectionItems",value:function(){var e=this.props.shoppingCart.get("data").get("changeFees",Object(M.Map)());return F.a.createElement(Ht,{changeFees:e})}},{key:"renderDiscountSectionItems",value:function(){var e=this.props.shoppingCart.get("data").get("discount");return F.a.createElement(yn,{products:e})}},{key:"renderFareRulesModal",value:function(){return F.a.createElement(Ae.a,{key:"fare-rules",currentFlow:this.props.currentFlow,currentPage:this.props.currentPage,onCloseClick:this.onFareRulesCloseClick})}},{key:"renderFeesSectionItems",value:function(){var e=this.props.shoppingCart.get("data").get("fees",Object(M.Map)());return F.a.createElement(Wt,{fees:e})}},{key:"renderRefundableItemsSectionItems",value:function(){var e=this.props.shoppingCart.getIn(["data","refundableItems"]),t=this.props.shoppingCart.getIn(["data","passengerTypeCount"],Object(M.List)());return F.a.createElement(Gt,{refundableItems:e,passengerTypeCount:t})}},{key:"renderNonRefundableItemsSectionItems",value:function(){var e=this.props.shoppingCart.getIn(["data","nonRefundableItems"]),t=this.props.shoppingCart.getIn(["data","passengerTypeCount"],Object(M.List)());return F.a.createElement(Kt,{nonRefundableItems:e,passengerTypeCount:t})}},{key:"renderSeatsSectionItems",value:function(){var e=this.props,n=e.currentFlow,a=e.currentPage,r=e.configuration,i=this.props.shoppingCart.get("data"),s=i.getIn(["seats","retainedAmount"],Object(M.List)()),o=i.get("checkIfExchangeSeatsHasPassenger"),l=i.get("segments",Object(M.List)()),c=i.getIn(["passengers","passengers"],Object(M.List)()),u=i.get("passengerTypeCount",Object(M.List)()),d=i.get("seatAssignmentPerSegment",Object(M.Map)());return n!==we.a.EXCHANGE||a===ve.a.CONFIRMATION||o?F.a.createElement(F.a.Fragment,null,n===we.a.EXCHANGE&&a!==ve.a.CONFIRMATION&&!s.isEmpty()&&t.renderRetainedAmount(s),F.a.createElement(it,{configuration:r,seatAssignmentPerSegment:d,passengerTypeCount:u,segments:n===we.a.EXCHANGE&&a!==ve.a.CONFIRMATION?Object(le.d)({shoppingCartData:i}):l,onRemoveItemClick:this.onRemoveSeatItem,currentFlow:n,currentPage:a,showNewOldSeatAsOneEntry:r.get("showNewOldSeatAsOneEntry")})):F.a.createElement(F.a.Fragment,null,!s.isEmpty()&&t.renderRetainedAmount(s),F.a.createElement(ot,{seatConfiguration:r,seatAssignment:d,onRemoveItemClick:this.onRemoveSeatItem,currentFlow:n,currentPage:a,segments:Object(le.d)({shoppingCartData:i}),passengerTypeCount:u,passengers:c}))}},{key:"renderSurchargesSectionItems",value:function(){var e=this.props,t=e.shoppingCart,n=e.configuration,a=e.paymentSurcharges,r=t.getIn(["data","surcharges"]),i=t.getIn(["data","passengerTypeCount"],Object(M.List)());return F.a.createElement(vn,{products:r,paymentSurcharges:a,passengerTypeCount:i,breakDownConfiguration:Object(le.b)(n)})}},{key:"renderUpgradesSectionItems",value:function(){var e=this.props,t=e.shoppingCart,n=e.configuration,a=t.get("data"),r=a.get("upgrades"),i=a.get("passengerTypeCount",Object(M.List)());return F.a.createElement(dt,{upgradeProducts:r,passengerTypeCount:i,breakDownConfiguration:Object(le.b)(n)})}},{key:"renderVcrRefundAmountSectionItems",value:function(){var e=this.props.shoppingCart.get("data"),t=e.get("cancellationFee",Object(M.Map)()),n=e.get("originalFare",Object(M.Map)());return F.a.createElement(Vt,{originalFare:n,cancellationFee:t})}},{key:"renderWaitListedUpgradesSectionItems",value:function(){var e=this.props,t=e.shoppingCart,n=e.configuration,a=t.get("data"),r=a.get("waitListedUpgrades"),i=a.get("passengerTypeCount",Object(M.List)());return F.a.createElement(dt,{upgradeProducts:r,passengerTypeCount:i,breakDownConfiguration:Object(le.b)(n)})}},{key:"renderSection",value:function(e,t,n,a){var r,i,s,o,l=e.get("sectionName"),c=e.get("title"),u=e.get("icon"),d=e.get("expanded"),p=e.get("showIfEmpty"),h=Ne.a[l],f=(r={item:h,shoppingCart:this.props.shoppingCart,selectedCarOffer:this.props.selectedCarOffer},i=r.item,s=r.shoppingCart,o=r.selectedCarOffer,!s.getIn(["data",i,"breakdownElements"],Object(M.List)()).isEmpty()||Object(ce.l)(s.getIn(["data",i,"total"],Object(M.List)()))||i===Ne.a.ANCILLARIES&&o),m=p||f,g=this.isCartPanelDisabledForPage(h,f,a),v=this.props.configuration.get("displayTextTitleForBaseFareSection");return m&&F.a.createElement(re.a,{classname:k()("".concat(h,"-section")),name:h,key:h,title:this.getCartSectionTranslation(c,h,v),price:this.calculateHeaderPrice(t,h,n,a),iconName:H.a[u],isExpanded:d,disabled:g,packageName:"shoppingCart",headerIcon:h===Ne.a.BASE_FARE&&this.getCompanionFareIcon()},t?F.a.createElement(Te.a,{isDark:!0}):this.getSectionItemsRenderer(h)())}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthorable,a=t.shoppingCart,i=t.id,s=t.currentFlow,o=t.paymentDCCSummary,l=t.paymentData,c=t.configuration,u=t.currentPage,d=t.cartSections,p=t.paymentSurchargeTotal,h=t.refundOptionsDetails,f=t.isCancelFlightSummary,m=t.isPnrExchanged,g=Object(De.a)(n,"shoppingCart"),v=a.getIn(["data","paymentOptionsDetails"]),y=a.get("data"),b=this.getDCCOptionSelected(),C=b.isEmpty()?Object(M.Map)():b.get("creditCardCurrencyAmount",Object(M.Map)()),E=C.size&&C.get("currency"),k=y.getIn(["total","0"],Object(M.Map)()),O=k.size>1?k.getIn(["1","currency"]):k.getIn(["0","currency"]),_=a.getIn(["data","carPrice","total"],void 0),P=!y.getIn(["waitListedUpgrades","breakdownElements"],Object(M.List)()).isEmpty(),N=U()({exchanged:m}),w=this.createCartPanelSections(d,c.get("showGroupedTaxes"),s),A=w.originalBookingSections,T=w.defaultSections;a.getIn(["data","nonRefundableAmount","total","0","0"],Object(M.List)()),a.getIn(["data","emdRefundAmount","total","0","0"],Object(M.List)()).toJS(),a.getIn(["data","newCharge","total","0","0"],Object(M.Map)()).toJS(),a.getIn(["data","taxes","total","0","0"],Object(M.Map)()).toJS();return F.a.createElement(Pe.a,{top:"#".concat(Object(Se.a)(s)),bottomBoundary:"#".concat(i)},F.a.createElement("div",r()({className:"dxp-shopping-cart ".concat(s)},g,{id:i,ref:function(t){e.shoppingCart=t}}),!S()(A)&&F.a.createElement(ae,{label:Object(q.i)("shoppingCart.originalBookingTitle")},F.a.createElement(ae.CartPanelList,null,A)),F.a.createElement(ae,{label:Object(q.i)(S()(A)?"shoppingCart.title":"shoppingCart.newBookingTitle")},c.get("showFareRulesReview")&&s!==we.a.CANCEL&&F.a.createElement("div",{className:"top-fare-rules"},this.renderFareRules()),F.a.createElement(ae.CartPanelList,null,T),F.a.createElement(ae.CartPanelFooter,null,F.a.createElement(jt,{shoppingCart:a,paymentSurchargeTotal:p}),P&&F.a.createElement("div",{className:"dxp-upgrade-waitlisted-cart-disclaimer"},F.a.createElement(H.c,{className:"spark-icon-note",name:H.a.NOTE,fill:!0}),Object(q.i)("cart.waitListedUpgradeDisclaimer")),(u===ve.a.CONFIRMATION||u===ve.a.MYB)&&(f?F.a.createElement(Oe,{id:oe.c,className:N,paymentOptionsDetails:h,title:"titles.refundDetails"}):!S()(v)&&F.a.createElement(Oe,{id:oe.b,className:N,paymentOptionsDetails:v,carPrice:_,currentPage:u,title:"titles.paymentDetails"})),!b.isEmpty()&&O!==E&&F.a.createElement(kn,{data:y,paymentDCCSummary:o,paymentData:l}),c.get("showFareRulesReview")&&s!==we.a.CANCEL&&this.renderFareRules())),this.state.isBagFeeOpen&&this.renderBagFeeModal(),this.state.isFareRulesOpen&&this.renderFareRulesModal()))}}],[{key:"renderRetainedAmount",value:function(e){return Object(q.k)("shoppingCart.retainedAmountMessage",{amount:F.a.createElement(K.a,{price:e}),item:Object(q.i)("app.seats")})}}]),t}(L.Component));y()(On,"contextTypes",{translateWithComponents:B.func}),y()(On,"defaultProps",{isConfirmationOrMybPage:!1,isAuthorable:!0,selectedCarOffer:void 0,shoppingCart:Object(M.Map)(),hotelProduct:void 0,defaultDateFormats:Object(M.Map)(),useCheckboxToAgree:!1,checkboxEnabled:!1,checkboxChecked:!1,handleCheckboxChange:void 0,purchaseAgreementLinks:Object(M.List)(),onBagFeeLinkClick:void 0,onFareRulesClick:void 0,configuration:Object(M.Map)(),paid:void 0,isRefundCart:void 0,bnpl:{},isCartItemExpandable:void 0,isCompanionFareSearch:!1,owe:void 0,totalAmountLabel:void 0,confirmation:!1,isRemoteBooking:!1,paymentDCCSummary:Object(M.Map)(),paymentData:void 0,id:void 0,onCartItemRemove:j.a,removeSelectedCarOffer:j.a,onBNPLCancel:j.a,removeSeatFromCart:j.a,removeAncillaryFromCart:j.a,fetchSelectedOffer:j.a,removeHotelFromCart:j.a,fetchSelectedHotel:j.a,isRoundTrip:!1,isMultiCity:!1,isOneWay:!1,refundOptionsDetails:Object(M.List)(),isCancelFlightSummary:!1,paymentSurcharges:Object(M.List)(),paymentSurchargeTotal:Object(M.List)(),location:void 0,exchangeType:void 0,cartSections:Object(M.List)(),isPnrExchanged:!1});var _n=Object(R.b)(Be.a,{removeAncillaryFromCart:Le.d,removeSeatFromCart:Le.f,fetchSelectedOffer:xe.d,removeSelectedCarOffer:xe.j,removeHotelFromCart:je.f,fetchSelectedHotel:je.d,removeInsuranceFromCart:Le.e})(On);n.d(t,"a",(function(){return _n}))},,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(18),C=n.n(b),E=n(0),k=n.n(E),O=n(1),_=n.n(O),P=n(6),S=n(12),N=n(2038),w=n(1441),A=n(88),T=n(521),I=n(540),D=n(195),x=n(17),j=n.n(x),L=n(137),F=n.n(L),B=n(1724),R=n(529),M=n(1692),V=n(153);function U(e,t){var n=j()().format(e),a=j()().add(1,"days"),r=j()().subtract(1,"days"),i=a.format(e),s=r.format(e);return[t&&{label:Object(S.i)("flightStatus.form.departureDate.yesterdaysDate",{date:s}),value:s},{label:Object(S.i)("flightStatus.form.departureDate.todaysDate",{date:n}),value:n},{label:Object(S.i)("flightStatus.form.departureDate.tomorrowsDate",{date:i}),value:i}].filter(Boolean)}n(2251),n(2252);var q=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"onOriginChange",(function(e){n.setState({selectedOrigin:e,destinationAirports:n.buildTranslatedAirportsOptions(n.props.routes.destinationsPerOrigin[e])})})),y()(f()(n),"buildTranslatedAirportsOptions",(function(e){return n.props.configuration.sortAirportsByLabel?n.sortAirportsByLabel(Object(M.a)(e)):F()(Object(M.a)(e),["value"])})),y()(f()(n),"sortAirportsByLabel",(function(e){var t=new Intl.Collator(n.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))})),n.state={originAirports:n.buildTranslatedAirportsOptions(k()(e.routes,"origins",[])),destinationAirports:[]},e.origin&&(n.state.destinationAirports=n.buildTranslatedAirportsOptions(e.routes.destinationsPerOrigin[e.origin])),n}return g()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.locale!==this.props.locale&&(this.setState({originAirports:this.buildTranslatedAirportsOptions(k()(this.props.routes,"origins",[]))}),this.state.selectedOrigin&&this.setState((function(e){return{destinationAirports:t.buildTranslatedAirportsOptions(t.props.routes.destinationsPerOrigin[e.selectedOrigin])}})))}},{key:"getValue",value:function(){var e=this.props.configuration.departureDate.dateFormat;return{origin:this.origin.getValue(),destination:this.destination.getValue(),date:j()(this.departureDate.getValue(),e).format("YYYY-MM-DD")}}},{key:"isValid",value:function(){var e=this.props.configuration,t={origin:k()(e,"origin.isEnabled",!1),destination:k()(e,"destination.isEnabled",!1),departureDate:k()(e,"departureDate.isEnabled",!1)};return Object(V.c)(t,{origin:this.origin,destination:this.destination,departureDate:this.departureDate})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.date,r=a?j.a.utc(a,"MM-DD-YYYY").format(n.departureDate.dateFormat):"";return _.a.createElement("div",{className:"flight-status-search-by-route-form"},_.a.createElement("div",{className:"flight-status-search-by-route-airports"},_.a.createElement(B.a,{options:this.state.originAirports,ref:function(t){e.origin=t},defaultValue:this.props.origin,keyProp:"flightStatusOrigin",label:"flightSearch.origin.label",onChange:this.onOriginChange,validators:k()(n,"origin.validators"),className:"flight-status-origin-selection",noResultsText:Object(S.i)("flightSearch.noOriginAirports"),placeholder:Object(S.i)("flightSearch.origin.placeHolder")}),_.a.createElement(B.a,{options:this.state.destinationAirports,ref:function(t){e.destination=t},defaultValue:this.props.destination,keyProp:"flightStatusDestination",label:"flightSearch.destination.label",validators:k()(n,"destination.validators"),className:"flight-status-destination-selection",noResultsText:Object(S.i)("flightSearch.noDestinationAirports"),placeholder:Object(S.i)("flightSearch.destination.placeHolder")})),_.a.createElement("div",{className:"flight-status-search-by-route-date"},_.a.createElement(R.a,{label:"flightStatus.form.departureDate.label",keyProp:"flight-status-departureDate",options:U(n.departureDate.dateFormat,!1),defaultValue:r,useLabelFeedback:!0,validators:k()(n,"departureDate.validators"),ref:function(t){e.departureDate=t},className:"flight-status-departure-date"})))}}]),t}(O.Component);y()(q,"defaultProps",{origin:"",destination:"",date:""});var H=n(129),W=(n(2253),n(2254),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.props.configuration.departureDate.dateFormat;return{flightNumber:this.flightNumber.input.value,date:j()(this.departureDate.getValue(),e).format("YYYY-MM-DD")}}},{key:"isValid",value:function(){var e=this.props.configuration,t={flightNumber:k()(e,"flightNumber.isEnabled",!1),departureDate:k()(e,"departureDate.isEnabled",!1)};return Object(V.c)(t,{flightNumber:this.flightNumber,departureDate:this.departureDate})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.flightNumber,r=t.date,i=r?j.a.utc(r,"MM-DD-YYYY").format(n.departureDate.dateFormat):"";return _.a.createElement("div",{className:"flight-status-search-by-flight-form"},_.a.createElement(H.a,{ref:function(t){e.flightNumber=t},className:"flight-status-flight-number",keyProp:"flight-status-flight-number",label:"flightStatus.form.flightNumber.label",defaultValue:a,useLabelFeedback:!0,validators:k()(n,"flightNumber.validators")}),_.a.createElement(R.a,{label:"flightStatus.form.departureDate.label",keyProp:"flight-status-departureDate",options:U(n.departureDate.dateFormat,!0),useLabelFeedback:!0,defaultValue:i,validators:k()(n,"departureDate.validators"),ref:function(t){e.departureDate=t},className:"flight-status-departure-date"}))}}]),t}(O.Component));y()(W,"defaultProps",{flightNumber:"",date:""});n(2255);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var K=function(e){function t(e){var n;s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"handleSearch",(function(e){(e.preventDefault(),n.isValid())&&(0,n.props.onSearch)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.getValue()))})),y()(f()(n),"updateFlightStatusSearchType",(function(e,t){e.preventDefault(),n.setState({searchType:t})}));var a=k()(e,"configuration.defaultFlightStatusSearchType"),r=k()(e.location,"query.searchType",a);return n.state={searchType:r},n}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.state.searchType===I.a.ROUTE?this.flightStatusByRoute.getValue():this.flightStatusByFlight.getValue();return C()(e,{searchType:this.state.searchType,redirection:!0,airlineCode:this.props.airlineCode})}},{key:"isValid",value:function(){return this.flightStatusByFlight&&this.flightStatusByFlight.isValid()||this.flightStatusByRoute&&this.flightStatusByRoute.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoading,a=t.configuration,i=t.routes,s=t.minDate,o=t.showSearchButton,l=t.location,c=t.isAuthorable,u=Object(D.a)(c,"flightStatusSearch"),d=this.state.searchType,p=l.query,h=p.origin,f=p.destination,m=p.date,g=p.flightNumber,v=k()(a,"isFlightStatusSearchTypeToggleEnabled"),y=k()(a,"defaultFlightStatusSearchType");return _.a.createElement("div",r()({id:"dxp-flight-status",className:"dxp-flight-status"},u),_.a.createElement("form",{className:"flight-status-form"},_.a.createElement("fieldset",{className:"header-title dxp-fieldset"},_.a.createElement("legend",{className:"flight-status-form-legend"},_.a.createElement("h2",{className:"flight-status-form-header"},Object(S.i)("flightStatus.formHeader"))),_.a.createElement(w.a,null),v&&_.a.createElement(N.a,{className:"flight-status-search-type",prefix:"flightStatus.searchType",options:k()(a,"flightSearchOptions",[]),buttonClassNames:["small","secondary"],numberOfOptions:k()(a,"flightSearchOptions",[]).length,defaultValue:d||y,ref:function(t){e.searchType=t},onClick:this.updateFlightStatusSearchType}),d===I.a.ROUTE&&_.a.createElement(q,{configuration:a.flightRouteSearch,routes:i,minDate:s,origin:h,destination:f,date:m,ref:function(t){e.flightStatusByRoute=t},locale:this.props.locale}),d===I.a.FLIGHT_NUMBER&&_.a.createElement(W,{minDate:s,date:m,flightNumber:g,configuration:a.flightNumberSearch,ref:function(t){e.flightStatusByFlight=t}})),o&&_.a.createElement(A.a,{id:"flight-status-button-search",className:"flight-status-button search primary pull-right",onClick:this.handleSearch},n&&_.a.createElement(T.a,null),!n&&_.a.createElement("span",{className:"label"},Object(S.i)("flightStatus.search")))))}}]),t}(O.Component);y()(K,"contextTypes",{language:P.string}),y()(K,"defaultProps",{onSearch:void 0,showSearchButton:!0,isLoading:!1,minDate:new Date,isAuthorable:!0}),n.d(t,"a",(function(){return K}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(34),g=n.n(m),v=n(13),y=n.n(v),b=n(52),C=n.n(b),E=n(0),k=n.n(E),O=n(16),_=n.n(O),P=n(5),S=n.n(P),N=n(2),w=n.n(N),A=n(4),T=n.n(A),I=n(1),D=n.n(I),x=(n(6),n(39)),j=n.n(x),L=n(12),F=n(50),B=n(341),R=n(244),M=n(125),V=n(67),U=n.n(V),q=n(23),H=n.n(q),W=(n(194),n(11)),G=n(1891),K=n(1536),z=function(e){var t=e.passengerAllowance,n=e.quantity,a=e.itineraryPartKey,r=t.get("totalUnits"),i=t.get("totalWeight"),s=D.a.createElement(F.c,{name:F.a.INFO_CIRCLE}),o=n&&n>0?"ancillary.baggage.allowance":"ancillary.baggage.freeAllowanceOnly";return D.a.createElement("div",null,D.a.createElement("span",{className:"passenger-bag-allowance-info"},Object(L.a)(o,{totalUnits:r})),D.a.createElement(K.a,{className:"dxp-popover-bag-allowance",position:"right",id:"bag-allowance-".concat(a),trigger:s},r&&D.a.createElement("div",null,Object(L.a)("ancillary.baggage.totalUnits",{totalUnits:r})),i&&D.a.createElement("div",null,Object(L.a)("ancillary.baggage.totalWeight",{totalWeight:i}))))};z.defaultProps={quantity:void 0};var Y=z,Q=(n(2259),n(2260),function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return p()(t,e),u()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.defaultValue!==e.defaultValue&&(e.defaultValue===e.min&&this.incrementButton.focus(),e.defaultValue===e.max&&this.decrementButton.focus())}},{key:"getMax",value:function(){return this.props.max||1/0}},{key:"getMin",value:function(){return this.props.min||-1/0}},{key:"handleDecrementClick",value:function(e){return e.preventDefault(),this.props.defaultValue>this.getMin()?this.props.onChange&&this.props.onChange(this.props.defaultValue-1):null}},{key:"handleIncrementClick",value:function(e){return e.preventDefault(),this.props.defaultValue<this.getMax()?this.props.onChange&&this.props.onChange(this.props.defaultValue+1):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.defaultValue,a=t.max,r=t.min,i=t.hideControls,s=t.disabled,o=t.label,l=t.type,c=t.ageGroup,u=t.incrementDisabled,d=t.decrementDisabled,p=t.bagAllowance,h=j()("btn-decrement",{disabled:n===r}),f=j()("btn-increment",{disabled:n===a}),m=j()("passenger-selection-option",this.props.className);return D.a.createElement("li",{className:m},D.a.createElement("div",{className:"passenger-type-details"},D.a.createElement("div",{className:"passenger-type-details-label"},Object(L.a)(o)),D.a.createElement("div",{className:"passenger-type-details-age"},D.a.createElement("div",null,c),!p.isEmpty()&&D.a.createElement("div",{className:"passenger-type-bag-allowance"},D.a.createElement(Y,{passengerAllowance:p,itineraryPartKey:this.props.itineraryPartKey,quantity:n})))),!i&&D.a.createElement("div",{className:"passenger-selection-controls"},D.a.createElement("div",{className:"control-icons"},D.a.createElement("button",{type:"button",disabled:s||d||n===r,ref:function(t){e.decrementButton=t},onClick:function(t){return e.handleDecrementClick(t)},className:h},D.a.createElement(F.c,{name:F.a.MATH_SUBTRACT,size:"sm",srOnlyText:"".concat(o," ").concat(l," ").concat(Object(L.i)("passengers.decrement"))})),D.a.createElement("div",{className:"passenger-type-value","aria-live":"polite"},n),D.a.createElement("button",{type:"button","data-test-id":G.a,disabled:s||u||n===a,ref:function(t){e.incrementButton=t},onClick:function(t){return e.handleIncrementClick(t)},className:f},D.a.createElement(F.c,{name:F.a.MATH_ADD,size:"sm",srOnlyText:"".concat(Object(L.i)(o)," ").concat(l," ").concat(Object(L.i)("passengers.increment"))})))))}}],[{key:"extractValuesFromMinOrMax",value:function(e,t){return S()(e,(function(e){return U()(e)?(t[e]||{}).value||0:e}))}},{key:"getMax",value:function(e,n){if(H()(e.max)){var a=t.extractValuesFromMinOrMax(e.max,n);return Math.min.apply(void 0,a)}return e.max}},{key:"getMin",value:function(e,n){if(H()(e.min)){var a=t.extractValuesFromMinOrMax(e.min,n);return Math.max.apply(void 0,a)}return e.min}}]),t}(I.Component));f()(Q,"defaultProps",{disabled:!1,incrementDisabled:!1,decrementDisabled:!1,hideControls:!1,bagAllowance:Object(W.Map)(),itineraryPartKey:"",className:""});n(2261),n(2262);n.d(t,"a",(function(){return X}));var X=function(e){function t(e){var n;return r()(this,t),(n=s()(this,l()(t).call(this,e))).state={expanded:!1,options:t.transformOptions(e.options,e.defaultValue),isValid:!0},n}return p()(t,e),u()(t,null,[{key:"transformOptions",value:function(e,t){return T()(e,(function(e,n){if(n.isEnabled){var a=g()(n);return a.value=t[n.key],e[n.key]=a,e}return e}),{})}}]),u()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({options:t.transformOptions(e.options,e.defaultValue)})}},{key:"UNSAFE_componentWillUpdate",value:function(e){e.isRBEEnabled&&this.removeExcludedPassengers()}},{key:"onChange",value:function(e,t){var n=this;this.setState((function(n){var a=_()({},n.options);return a[e].value=t,{options:a,isValid:!0}}),(function(){return n.props.onChange&&n.props.onChange(n.getValue())}))}},{key:"onClick",value:function(e){e.preventDefault(),this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"getValue",value:function(){return T()(this.state.options,(function(e,t){return e[t.key]=t.value,e}),{})}},{key:"_onKeyPress",value:function(e){R.a.is(R.a.code.special.enter,e.which)&&this.onClick(e)}},{key:"calculateExcludedPassengerCount",value:function(){var e=this.state.options;return T()(e,(function(e,t){return t.excludeInMaxPaxCount?e+t.value:e}),0)}},{key:"calculateMaxCapacity",value:function(e,t,n){var a=this.calculateExcludedPassengerCount(),r=k()(this.props,"totalMaxPassengers",0),i=k()(this.props,"currentPassengers",0),s=r+a+(t.value||k()(n,t.key,0))-i;return t.excludeInMaxPaxCount?e:Math.min(e,Math.max(s,0))}},{key:"isPassengerDisabled",value:function(e){return e===M.a.CMP||e===M.a.CMA||this.props.isRBEEnabled&&C()(this.props.excludedPassengerTypes,e)>-1}},{key:"isValid",value:function(){var e=0!==this.props.currentPassengers;return this.setState({isValid:e}),e}},{key:"removeExcludedPassengers",value:function(){var e=this;y()(this.state.options,(function(t){e.isPassengerDisabled(t.key)&&0!==e.state.options[t.key].value&&e.onChange(t.key,0)}))}},{key:"render",value:function(){var e=this,t=this.props.defaultValue,n=this.state,a=n.options,r=n.isValid,i=j()("passenger-selection",{"is-open":this.state.expanded,"is-empty":w()(this.props.label),"field-success":this.state.isValid,"field-error":!this.state.isValid},this.props.className);return D.a.createElement("div",{className:i,ref:function(t){e.passengerSelectionDropdown=t}},D.a.createElement("button",{type:"button",className:"passenger-selection-button",onClick:function(t){return e.onClick(t)},"aria-expanded":this.state.expanded},D.a.createElement("div",{className:"passenger-selection-summary clearfix"},r&&D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{className:"passenger-selection-label"},Object(L.a)(this.props.label),D.a.createElement(F.c,{name:F.a.ARROW_TRIANGLE_DOWN,className:"passenger-selection-icon",fill:!0})),D.a.createElement("div",{className:"passenger-count"},this.props.summary)),!r&&D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{className:"passenger-selection-is-required"},Object(L.a)("passengerSelection.isRequired"),D.a.createElement(F.c,{name:F.a.ARROW_TRIANGLE_DOWN,className:"passenger-selection-icon",fill:!0}))))),this.state.expanded&&D.a.createElement(B.a,{className:"passenger-selection-options",active:this.state.expanded,onClick:function(t){return e.onClick(t)},focusOnOpen:!0,closeOnEsc:!0},D.a.createElement("fieldset",{className:"passenger-selection-fieldset dxp-fieldset"},D.a.createElement("legend",{className:"passenger-selection-legend sr-only"},Object(L.a)("passengerType.noOfPassengers")),D.a.createElement("ul",null,S()(a,(function(n){var a=e.isPassengerDisabled(n.key),r=Q.getMax(n,e.state.options),i=Q.getMin(n,e.state.options);return n.isEnabled&&D.a.createElement(Q,{className:"passenger-type-".concat((n.key||"").toLowerCase()),key:"passenger-type-".concat(n.key),label:n.label,ageGroup:n.ageGroup,defaultValue:n.value||t[n.key],onChange:function(t){return e.onChange(n.key,t)},disabled:a,type:"passenger",min:i,max:e.calculateMaxCapacity(r,n,t)})}))))))}}]),t}(I.Component);f()(X,"defaultProps",{className:void 0,isRBEEnabled:!1,currentPassengers:0})},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),C=n.n(b),E=n(2105),k=n(129),O=n(31),_=n.n(O),P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(_()(n),"name","controlled-field-text"),n}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e||this.props||{};return void 0!==t.isValid&&void 0!==t.error?this.setState({isValid:t.isValid,error:t.error}):this.setValue(e.value)}}]),t}(n(583).a),S=(n(2394),function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={error:void 0,isValid:!0,confirmEmail:""},n}return p()(t,e),s()(t,[{key:"onChangeConfirmEmail",value:function(e,t){var n=this.props.index;!g()(this["email".concat(n)])&&this.props.showConfirmEmail&&this.validateEmail(e,t)}},{key:"onChangeEmail",value:function(e,t){var n=this.props.index;!g()(this["confirmEmail".concat(n)])&&this.props.showConfirmEmail&&this.validateEmail(e,t)}},{key:"getValue",value:function(){var e=this.props.index;return this["email".concat(e)]&&this["email".concat(e)].getValue()}},{key:"checkIsEqual",value:function(){return!(this["confirmEmail".concat(this.props.index)].getValue().length>0)||this["email".concat(this.props.index)].getValue().toLowerCase()===this["confirmEmail".concat(this.props.index)].getValue().toLowerCase()}},{key:"handleConfirmEmailChange",value:function(e,t){this[t]&&this.state.confirmEmail!==this[t].getValue()&&this.setState({confirmEmail:this[t].getValue()})}},{key:"isValid",value:function(){var e=this.props.index;return this.props.showConfirmEmail&&this["confirmEmail".concat(e)].isValid(),this["email".concat(e)].isValid()&&(!this.props.showConfirmEmail||this["confirmEmail".concat(e)].isValid()&&this.validateEmail())}},{key:"validateEmail",value:function(){return this.checkIsEqual()?this.setState({isValid:!0,error:void 0}):this.setState({isValid:!1,error:"passengers.confirmEmailAddress.isNotEqual"}),this.checkIsEqual()}},{key:"renderConfirmationEmail",value:function(){var e=this,t=this.props,n=t.index,a=t.confirmEmailLabel,r=t.validators,i=t.id,s=t.prefix;return y.a.createElement(P,{className:"dxp-confirm-email-".concat(n),ref:function(t){e["confirmEmail".concat(n)]=t},isValid:this.state.isValid,error:this.state.error,label:a,useLabelFeedback:!0,validators:r,value:this.state.confirmEmail,onBlur:function(t){return e.onChangeConfirmEmail(t,"confirmEmail".concat(n))},onChange:function(t){return e.handleConfirmEmailChange(t,"confirmEmail".concat(n))},disabled:this.props.disabled,id:"".concat(s).concat(i),keyProp:E.a,inputType:"email"})}},{key:"renderEmail",value:function(){var e=this,t=this.props,n=t.index,a=t.defaultValue,r=t.emailLabel,i=t.validators,s=t.id,o=t.prefix,l=t.isOptional;return y.a.createElement(k.a,{className:"dxp-email-".concat(n),ref:function(t){e["email".concat(n)]=t},defaultValue:a,label:r,useLabelFeedback:!0,validators:i,onBlur:function(t){return e.onChangeEmail(t,"email".concat(n))},disabled:this.props.disabled,id:"".concat(o).concat(s),keyProp:E.b,inputType:"email",isOptional:l})}},{key:"render",value:function(){return y.a.createElement("div",{className:C()("dxp-email-group",this.props.className)},this.renderEmail(),this.props.showConfirmEmail&&this.renderConfirmationEmail())}}]),t}(v.Component));f()(S,"defaultProps",{className:"",showConfirmEmail:!1,disabled:!1,id:"",index:0,prefix:"",isOptional:!1,defaultValue:""}),n.d(t,"a",(function(){return S}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(0),g=n.n(m),v=n(1),y=n.n(v),b=n(6),C=n(2080),E=n(31),k=n.n(E),O=n(54),_=n.n(O),P=n(593),S=n.n(P),N=n(173),w=n.n(N),A=n(5),T=n.n(A),I=n(145),D=n.n(I),x=n(2),j=n.n(x),L=n(17),F=n.n(L),B=n(1720),R=n.n(B),M=n(39),V=n.n(M),U=n(12),q=n(153),H=n(2106),W=n(439),G=n(326),K=n(1289);n(2398),n(2399);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Y=D()(1,13),Q=Y.concat(D()(13,32)),X=function(e){return T()(Q,(function(t){return{label:Object(U.i)("dateFieldset.day.".concat(t))==="dateFieldset.day.".concat(t)?t.toLocaleString(e):Object(U.i)("dateFieldset.day.".concat(t)),value:t<10?"0".concat(t):"".concat(t)}}))},J=function(e){return T()(Y,(function(t){return{label:Object(U.i)("dateFieldset.month.".concat(t))==="dateFieldset.month.".concat(t)?t.toLocaleString(e):Object(U.i)("dateFieldset.month.".concat(t)),value:t<10?"0".concat(t):"".concat(t)}}))},$=function(e,t,n,a,r){var i=F()(e,a).year(),s=F()(t,a).year(),o=Object(U.i)("dateFieldset.year.".concat(i))==="dateFieldset.year.".concat(i)&&Object(U.i)("dateFieldset.year.".concat(i))==="dateFieldset.year.".concat(i),l=r?D()(i,s+1):T()(D()(s,i-1));return T()(l,(function(e){return{label:o?e.toLocaleString(n).replace(/|,|\.|\s/,""):Object(U.i)("dateFieldset.year.".concat(e)),value:"".concat(e)}}))},Z=function(e){return[{label:"",value:""}].concat(_()(e))},ee=function(e){function t(e,n){var a;r()(this,t),a=l()(this,u()(t).call(this,e,n)),f()(k()(a),"handleFocus",(function(){return a.dateContainer.focus()})),f()(k()(a),"joinDateParts",(function(e){return e.join(a.dateSeparator)})),f()(k()(a),"splitDate",(function(e){return e.split(a.dateSeparator)})),f()(k()(a),"isValid",(function(){a.visitedHighestIndex=a.displayOrder.length-1;var e=a.getValidationObject(a.state.selectedValue);return e.isValid||a.handleFocus(),a.setState(e),!e.error}));var i=e.defaultValue,s=e.validators,o=e.minDate,c=e.maxDate,d=e.displayYearOptionsAscending;a.language=n.language||"en-US",a.dateFormat=e.dateFormat||"YYYY-MM-DD",a.dateSeparator=function(e){return e.replace(/[a-z]/gi,"")[0]}(a.dateFormat),a.displayOrder=a.splitDate(a.dateFormat);var p=w()(s,["name","required"]);a.isRequired=-1!==p;var h=k()(a),m=h.dateFormat,g=h.displayOrder,v=h.language,b=h.isRequired,C=h.disabled;return a.dateParts=i&&F()(i,m,!0).isValid()?a.splitDate(i):Array(g.length).fill(""),a.validators=b&&!C?[s[p]]:[],a.yearOptions=b?$(o,c,v,m,d):Z($(o,c,v,m,d)),a.dayOptions=b?X(v):Z(X(v)),a.monthOptions=b?J(v):Z(J(v)),a.visitedHighestIndex=-1,a.day=y.a.createRef(),a.month=y.a.createRef(),a.year=y.a.createRef(),a.errorAriaLabel="",a.state={selectedValue:i&&a.getFormattedDefaultValue(i)||e.placeholder||"",error:"",isValid:!0,validators:e.validators||[]},a}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){var n=t.language;if(n!==this.context.language){var a=this.props.dateFormat||"YYYY-MM-DD";this.yearOptions=$(e.minDate,e.maxDate,n,a,e.displayYearOptionsAscending),this.dayOptions=X(n),this.monthOptions=J(n)}this.props.defaultValue!==e.defaultValue&&this.setState({selectedValue:e.defaultValue&&this.getFormattedDefaultValue(e.defaultValue)})}},{key:"onChangeFieldsetDate",value:function(e,t){var n=this.displayOrder,a=this.dateParts,r=n.indexOf(t);this.visitedHighestIndex<r&&(this.visitedHighestIndex=r),a[r]=e?e.toString():"";var i=""===a[r]&&""===a.join("").trim()?"":this.joinDateParts(a);this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedValue:i},this.getValidationObject(i,r)))}},{key:"getComponentClassName",value:function(){var e=this.state,t=e.isValid,n=e.error,a=e.selectedValue;return V()("field","fieldset-date",this.props.className,{"field-has-value":""!==a,"field-success":t&&-1!==this.visitedHighestIndex,"field-error":""!==n,"field-disabled":this.props.disabled})}},{key:"getErrorForDateParts",value:function(e){var t=this,n=e.reduce((function(e,n,a){return(""===n||S()(Number(n)))&&e.push(t.displayOrder[a]),e}),[]);return j()(n)?"":"baseWidgets.date.".concat(n.join("_"))}},{key:"getFormattedDefaultValue",value:function(e){return F.a.locale(W.a),F()(e,this.props.dateFormat,!0).isValid()?e:F()(e).format(this.props.dateFormat)}},{key:"getInvalidRangeErrorLabel",value:function(){return this.props.invalidRangeErrorLabel?this.props.invalidRangeErrorLabel:"baseWidgets.date.isInvalid"}},{key:"getLabel",value:function(){return this.state.error&&this.props.useLabelFeedback?Object(U.i)(this.state.error):Object(U.i)(this.props.legend)||Object(U.i)("baseWidgets.date.label")}},{key:"getSubValidator",value:function(e){return this.isRequired&&!this.props.disabled?[{name:"required",error:"passengers.dob.".concat(e,".isRequired"),options:2}]:[]}},{key:"getValidationObject",value:function(e){for(var t="",n=this.splitDate(e),a=this.displayOrder,r=this.dateFormat,i=this.visitedHighestIndex,s=_()(n);s.length<a.length;)s.push("");if(this.errorAriaLabel=this.getErrorForDateParts(s),""===e)return{isValid:!1,error:t=this.isRequired&&!this.props.disabled?this.validators[0].error:t};var o=F()(e,r,!0),l=o.isValid(),c=l;if(n.length===this.splitDate(this.props.dateFormat).length&&!c)return{isValid:c,error:t="passengers.dob.isDate"};if(l)return this.isInRange(o)?j()(this.props.validators)?{isValid:c,error:t}:this.validate(e):{isValid:c=!1,error:t=this.getInvalidRangeErrorLabel()};if(-1!==i){var u=n.slice(0,i),d=this.joinDateParts(u),p=this.joinDateParts(a.slice(0,u.length));return F()(d,p,!0).isValid()&&i===a.length-1?{isValid:c,error:t="baseWidgets.date.".concat(a[u.length])}:{isValid:c,error:t=this.getErrorForDateParts(u)}}return{isValid:c,error:this.getErrorForDateParts(n)}}},{key:"getValue",value:function(){return this.state.selectedValue}},{key:"DD",value:function(e){return this.renderDay(e)}},{key:"MM",value:function(e){return this.renderMonth(e)}},{key:"YYYY",value:function(e){return this.renderYear(e)}},{key:"focus",value:function(){R()(document.getElementsByClassName("fieldset-date-part-day"),"scroll",{offset:-150,duration:0})}},{key:"focus",value:function(){R()(document.getElementsByClassName("fieldset-date-part-day"),"scroll",{offset:-150,duration:0})}},{key:"clear",value:function(){this.setState({selectedValue:""})}},{key:"isInRange",value:function(e){var t=this.props,n=t.minDate,a=void 0!==n&&n,r=t.maxDate,i=void 0!==r&&r;if(a){var s=F()(a,this.dateFormat);if(Object(K.m)(s)&&e&&e.isBefore(s,"day"))return!1}if(i){var o=F()(i,this.dateFormat);if(Object(K.m)(o)&&e&&e.isAfter(o,"day"))return!1}return!0}},{key:"validate",value:function(e){var t=Object(q.e)(this.state.validators,e,this.dateFormat),n=t.error?t.error:"";return{isValid:t.isValid,error:n}}},{key:"renderDay",value:function(e){var t=this;return y.a.createElement(G.a,{label:Object(U.i)("dateFieldset.dayLabel"),options:this.dayOptions,useLabelFeedback:!0,ref:this.day,className:"fieldset-date-part-day",disabled:this.props.disabled,defaultValue:e,key:this.props.className?"".concat(this.props.className,"-day"):"day",id:"".concat(this.props.id,"-day"),validators:this.getSubValidator("DD"),onChange:function(e){return t.onChangeFieldsetDate(e,"DD")},keyProp:H.a})}},{key:"renderLegend",value:function(){var e=this.errorAriaLabel?Object(U.i)(this.errorAriaLabel):this.getLabel();return y.a.createElement("legend",{className:"dxp-fieldset-date-legend","aria-label":e,"aria-hidden":!!this.errorAriaLabel},this.getLabel())}},{key:"renderMonth",value:function(e){var t=this;return y.a.createElement(G.a,{label:Object(U.i)("dateFieldset.monthLabel"),options:this.monthOptions,useLabelFeedback:!0,ref:this.month,className:"fieldset-date-part-month",disabled:this.props.disabled,defaultValue:e,key:this.props.className?"".concat(this.props.className,"-month"):"month",id:"".concat(this.props.id,"-month"),validators:this.getSubValidator("MM"),onChange:function(e){return t.onChangeFieldsetDate(e,"MM")},keyProp:H.b})}},{key:"renderYear",value:function(e){var t=this;return y.a.createElement(G.a,{label:Object(U.i)("dateFieldset.yearLabel"),options:this.yearOptions,useLabelFeedback:!0,ref:this.year,className:"fieldset-date-part-year",disabled:this.props.disabled,defaultValue:e,key:this.props.className?"".concat(this.props.className,"-year"):"year",id:"".concat(this.props.id,"-year"),validators:this.getSubValidator("YYYY"),onChange:function(e){return t.onChangeFieldsetDate(e,"YYYY")},keyProp:H.c})}},{key:"render",value:function(){var e=this,t=this.props,n=t.minDate,a=void 0!==n&&n,r=t.maxDate,i=void 0!==r&&r;return this.dateParts=this.splitDate(this.state.selectedValue)||this.dateParts,y.a.createElement("div",{className:this.getComponentClassName(),ref:function(t){e.dateContainer=t},tabIndex:"-1"},y.a.createElement("fieldset",{className:"fieldset-date-fieldset","data-min":a,"data-max":i,"data-format":this.dateFormat},this.renderLegend(),T()(this.displayOrder,(function(t,n){return e[t](j()(e.dateParts[n])?"":e.dateParts[n])}))))}}]),t}(v.Component);f()(ee,"contextTypes",{language:b.string}),f()(ee,"defaultProps",{disabled:!1,validators:[],useLabelFeedback:!0,defaultValue:"",className:"",placeholder:"",invalidRangeErrorLabel:"",displayYearOptionsAscending:!1});var te=n(1480),ne=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getDateField",value:function(){var e=this,t=this.props,n=t.inputType,a=t.label,r=t.defaultValue,i=t.dateFormat,s=t.defaultLocale,o=t.keyProp,l=t.className,c=t.id,u=t.isValidProp,d=t.error,p=t.onChange,h=t.useLabelFeedback,f=t.maxDate,m=t.minDate,v=t.configuration;return y.a.createElement(te.a,{ref:function(t){e.dateField=t},type:n,label:a,defaultValue:r,useLabelFeedback:h,isDatePickerDisabled:g()(v,"isDatePickerDisabled",!0),dateFormat:g()(v,"dateFormat",i),defaultLocale:s,validators:g()(v,"validators"),disabled:!g()(v,"isEditable",!0),keyProp:o,className:l,id:c,isValid:u,error:d,onChange:p,invalidRangeErrorLabel:this.getErrorLabel(),minDate:m,maxDate:f})}},{key:"getErrorLabel",value:function(){var e=this.props.configuration;return g()(e,"validateAgeOnInboundDate",!1)?g()(e,"invalidRangeErrorLabelAtLastTravelDate"):g()(e,"invalidRangeErrorLabel")}},{key:"getFieldSetDate",value:function(){var e=this,t=this.props,n=t.configuration,a=t.dateFormat,r=t.defaultValue,i=t.label,s=t.defaultLocale,o=t.id,l=t.minDate,c=t.maxDate,u=t.className,d=t.keyProp,p=t.displayYearOptionsAscending;return y.a.createElement(ee,{ref:function(t){e.dateField=t},displayYearOptionsAscending:p,defaultValue:r,dateFormat:a||g()(n,"dateFormat"),legend:i,validators:g()(n,"validators"),defaultLocale:s,minDate:l,maxDate:c,disabled:!g()(n,"isEditable",!0),id:o,invalidRangeErrorLabel:this.getErrorLabel(),className:u,keyProp:d})}},{key:"getMaskedInput",value:function(){var e=this,t=this.props,n=t.configuration,a=t.keyProp,r=t.className,i=t.defaultValue,s=t.label,o=t.mask,l=t.shouldValidateOnChange,c=t.useLabelFeedback,u=t.disabled;return y.a.createElement(C.a,{ref:function(t){e.dateField=t},keyProp:a,mask:o,placeholder:g()(n,"dateFormat"),disabled:u||!g()(n,"isEditable",!0),className:r,defaultValue:i,label:s,validators:g()(n,"validators"),inputType:"text",shouldValidateOnChange:l,useLabelFeedback:c})}},{key:"getValue",value:function(){return this.dateField.getValue()}},{key:"clear",value:function(){return this.dateField.clear()}},{key:"isValid",value:function(){return this.dateField.isValid()}},{key:"render",value:function(){var e=this.props.configuration,t=e.isDateField,n=e.isMaskedInput;return t?this.getDateField():n?this.getMaskedInput():this.getFieldSetDate()}}]),t}(v.Component);f()(ne,"defaultProps",{inputType:void 0,dateFormat:void 0,className:"",useLabelFeedback:!1,mask:"",error:!1,isValidProp:!1,shouldValidateOnChange:!1,onChange:void 0,keyProp:void 0,defaultLocale:void 0,defaultValue:void 0,displayYearOptionsAscending:!1,disabled:!1}),n.d(t,"a",(function(){return ne}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(18),C=n.n(b),E=n(1),k=n.n(E),O=n(6),_=n(12),P=n(1441),S=n(88),N=n(521),w=n(195),A=n(122),T=n.n(A),I=n(2),D=n.n(I),x=n(0),j=n.n(x),L=n(17),F=n.n(L),B=n(137),R=n.n(B),M=n(1724),V=n(1480),U=n(1692),q=n(153),H=(n(2256),function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"onOriginChange",(function(e){n.setState({selectedOrigin:e,destinationAirports:n.buildTranslatedAirportsOptions(n.props.routes.destinationsPerOrigin[e])})})),y()(f()(n),"onDateChange",(function(e){if(!D()(e)){var t={origin:n.origin.getValue(),destination:n.destination.getValue(),date:F()(n.departureDate.getValue(),n.departureDate.getFormat()).format("YYYY-MM-DD")};n.props.onChange&&n.props.onChange(t)}})),y()(f()(n),"buildTranslatedAirportsOptions",(function(e){return n.props.configuration.sortAirportsByLabel?n.sortAirportsByLabel(Object(U.a)(e)):R()(Object(U.a)(e),["value"])})),y()(f()(n),"sortAirportsByLabel",(function(e){var t=new Intl.Collator(n.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))})),n.state={originAirports:n.buildTranslatedAirportsOptions(j()(e.routes,"origins",[])),destinationAirports:[]},e.origin&&(n.state.destinationAirports=n.buildTranslatedAirportsOptions(e.routes.destinationsPerOrigin[e.origin])),n}return g()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.locale!==this.props.locale&&(this.setState({originAirports:this.buildTranslatedAirportsOptions(j()(this.props.routes,"origins",[]))}),this.state.selectedOrigin&&this.setState((function(e){return{destinationAirports:t.buildTranslatedAirportsOptions(t.props.routes.destinationsPerOrigin[e.selectedOrigin])}})))}},{key:"getValue",value:function(){return{origin:this.origin.getValue(),destination:this.destination.getValue(),date:F()(this.departureDate.getValue(),this.departureDate.getFormat()).format("YYYY-MM-DD")}}},{key:"isValid",value:function(){var e=this.props.configuration,t={origin:j()(e,"origin.isEnabled",!1),destination:j()(e,"destination.isEnabled",!1),departureDate:j()(e,"departureDate.isEnabled",!1)};return Object(q.c)(t,{origin:this.origin,destination:this.destination,departureDate:this.departureDate})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.minDate,r=t.origin,i=t.date,s=t.dateFormat,o=t.maximumDaysInCalendar,l=F()(a).subtract(1,"days"),c=F.a.utc().add(o,"days"),u=this.context.language,d=i?F.a.utc(i,"MM-DD-YYYY"):"";return k.a.createElement("div",{className:"flight-schedule-search-by-route-form"},k.a.createElement("div",{className:"flight-schedule-search-by-route-airports"},k.a.createElement(M.a,{options:this.state.originAirports,ref:function(t){e.origin=t},defaultValue:r,keyProp:"flightScheduleOrigin",label:"flightSearch.origin.label",onChange:function(t){return e.onOriginChange(t)},validators:j()(n,"origin.validators"),className:"flight-schedule-origin-selection",id:"dxp-flight-schedule-origin-selection",noResultsText:Object(_.i)("flightSearch.noOriginAirports"),placeholder:Object(_.i)("flightSearch.origin.placeHolder")}),k.a.createElement(M.a,{options:this.state.destinationAirports,ref:function(t){e.destination=t},defaultValue:this.props.destination,keyProp:"destination",label:"flightSearch.destination.label",validators:j()(n,"destination.validators"),className:"flight-schedule-destination-selection",id:"dxp-flight-schedule-destination-selection",noResultsText:Object(_.i)("flightSearch.noDestinationAirports"),placeholder:Object(_.i)("flightSearch.destination.placeHolder")})),k.a.createElement("div",{className:"flight-schedule-search-by-route-date"},k.a.createElement(V.a,{className:"departure-date",ref:function(t){e.departureDate=t},keyProp:"flight-schedule-departureDate",label:"flightStatus.form.departureDate.label",defaultLocale:u,dateFormat:s,defaultValue:d,minDate:l,maxDate:c,useLabelFeedback:!0,renderDatepickerOnTop:!0,validators:j()(n,"departureDate.validators"),onChange:this.onDateChange})))}}]),t}(E.Component));y()(H,"defaultProps",{origin:"",destination:"",date:"",maximumDaysInCalendar:365,onChange:T.a});n(2257),n(2258);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"handleSearch",(function(e){(e.preventDefault(),n.isValid())&&(0,n.props.onSearch)(G({},n.flightScheduleByRoute.getValue()))})),n}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.flightScheduleByRoute.getValue();return C()(e,{airlineCode:this.props.airlineCode})}},{key:"isValid",value:function(){return this.flightScheduleByRoute.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoading,a=t.routes,i=t.configuration,s=t.minDate,o=t.showSearchButton,l=t.location,c=t.isAuthorable,u=t.dateFormat,d=t.maximumDaysInCalendar,p=Object(w.a)(c,"flightScheduleSearch"),h=l.query,f=h.origin,m=h.destination,g=h.date;return k.a.createElement("div",r()({id:"dxp-flight-schedule",className:"dxp-flight-schedule"},p),k.a.createElement("div",{className:"clearfix"},k.a.createElement("form",{className:"flight-schedule-form"},k.a.createElement("fieldset",{className:"header-title dxp-fieldset"},k.a.createElement("legend",{className:"flight-schedule-form-legend"},k.a.createElement("h2",{className:"flight-schedule-form-header"},Object(_.i)("flightSchedule.formHeader"))),k.a.createElement(P.a,null),k.a.createElement(H,{configuration:i.flightScheduleSearch,routes:a,minDate:s,origin:f,destination:m,dateFormat:u,date:g,onChange:this.props.onSearchCriteriaChange,maximumDaysInCalendar:d,ref:function(t){e.flightScheduleByRoute=t},locale:this.props.locale})),o&&k.a.createElement(S.a,{id:"flight-schedule-button-search",className:"flight-schedule-button search primary pull-right",onClick:this.handleSearch,disabled:!1},n&&k.a.createElement(N.a,null),!n&&k.a.createElement("span",{className:"label"},Object(_.i)("flightSchedule.search"))))))}}]),t}(E.PureComponent);y()(K,"contextTypes",{language:O.string}),y()(K,"defaultProps",{onSearch:void 0,isLoading:!1,showSearchButton:!0,minDate:new Date,isAuthorable:!0,maximumDaysInCalendar:365,onSearchCriteriaChange:void 0}),n.d(t,"a",(function(){return K}))},function(e,t,n){"use strict";var a=n(54),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(36),C=n.n(b),E=n(122),k=n.n(E),O=n(38),_=n.n(O),P=n(16),S=n.n(P),N=n(76),w=n.n(N),A=n(0),T=n.n(A),I=n(2),D=n.n(I),x=n(1),j=n.n(x),L=(n(6),n(2070)),F=n(17),B=n.n(F),R=n(39),M=n.n(R),V=n(12),U=n(11),q=(n(194),n(1949)),H=n(529),W=n(1289),G=n(4),K=n.n(G),z=n(287),Y=n.n(z),Q=n(594),X=n(129),J=(n(2402),function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"updateFullName",(function(){var e=n.state.enabledFields,t=e.firstName,a=e.lastName;if(t&&a){var r=n.getValue();D()(r.firstName)||D()(r.lastName)?n.props.updateFullName():n.props.updateFullName(Object(V.i)("passengers.fullName",r))}})),n.state={enabledFields:{prefix:T()(e.configuration,"prefix.isEnabled",!1),firstName:T()(e.configuration,"firstName.isEnabled",!1),middleName:T()(e.configuration,"middleName.isEnabled",!1),maidenName:T()(e.configuration,"maidenName.isEnabled",!1),lastName:T()(e.configuration,"lastName.isEnabled",!1),suffix:T()(e.configuration,"suffix.isEnabled",!1)}},n}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.state.enabledFields,t=e.prefix,n=e.firstName,a=e.middleName,r=e.maidenName,i=e.lastName,s=e.suffix;return{prefix:t?this.prefix.getValue():"",firstName:n?this.firstName.getValue():"",middleName:a?this.middleName.getValue():"",maidenName:r?this.maidenName.getValue():"",lastName:i?this.lastName.getValue():"",suffix:s?this.suffix.getValue():""}}},{key:"handleOnChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"renderNameField",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.props,r=a.configuration,i=a.data,s=a.id,o=a.validations,l=a.serverValidationErrors;return j.a.createElement(X.a,{label:Object(W.d)(e,r,o,"passengers"),keyProp:n,defaultValue:T()(i,e),useLabelFeedback:!0,validators:Object(W.h)(o,T()(r,[e,"validators"],[])),ref:function(n){t[e]=n},key:e,className:e,disabled:!T()(r,"".concat(e,".isEditable"),!0),id:s,isValid:!l.has(e),error:l.get(e),onBlur:"lastName"===e?this.updateFullName:k.a,onChange:function(n){t.props.onControlChange("personName.".concat(e),n)}})}},{key:"renderPassengerFirstname",value:function(){var e=this,t=this.props,n=t.configuration,a=t.data,r=t.isFirst,i=t.isLoggedIn,s=t.rememberedFirstNames,o=t.id,l=t.validations,c=t.serverValidationErrors;return j.a.createElement(X.a,{label:Object(W.d)("firstName",n,l,"passengers"),keyProp:Q.a,defaultValue:a.firstName,useLabelFeedback:!0,validators:Object(W.h)(l,T()(n,["firstName","validators"],[])),ref:function(t){e.firstName=t},key:"firstName",className:"firstName",autoComplete:!r||i?"off":"on",onBlur:this.updateFullName,onChange:function(t,n){e.handleOnChange(t),e.props.onControlChange("personName.".concat("firstName"),n)},dataListItems:!r||i?[]:s,disabled:!T()(n,"firstName.isEditable",!0),isValid:!c.has("firstName"),error:c.get("firstName"),id:o})}},{key:"renderPassengerLastname",value:function(){return this.renderNameField("lastName",Q.b)}},{key:"renderPassengerMaidenname",value:function(){return this.renderNameField("maidenName")}},{key:"renderPassengerMiddlename",value:function(){return this.renderNameField("middleName")}},{key:"renderPassengerPrefix",value:function(){var e=this.props,t=e.prefixOptions,n=e.data,a=e.prefixValue||T()(n,"prefix");return this.renderPersonNameDropdown("prefix",a,t,Q.c)}},{key:"renderPassengerSuffix",value:function(){var e=this.props,t=e.data,n=e.suffixOptions,a=e.suffixValue||T()(t,"suffix");return this.renderPersonNameDropdown("suffix",a,n)}},{key:"renderPersonNameDropdown",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=this.props,s=i.configuration,o=i.id,l=i.validations,c=i.serverValidationErrors;return j.a.createElement(H.a,{label:Object(W.d)(e,s,l,"passengers"),options:n,defaultValue:t,useLabelFeedback:!0,validators:Object(W.h)(l,T()(s,[e,"validators"],[])),ref:function(t){a[e]=t},keyProp:r,key:e,className:e,disabled:!T()(s,"".concat(e,".isEditable"),!0),isValid:!c.has(e),error:c.get(e),id:"".concat(o,"-").concat(e),onChange:function(t){return a.props.onControlChange("personName.".concat(e),t)}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.personNameSortOrder,a=t.id,r=K()(n,(function(t,n){if(e.state.enabledFields[n]){var a="renderPassenger".concat(Y()(n));t.push(e[a]&&e[a]())}return t}),[]);return j.a.createElement("div",{className:M()("person-name"),key:a},r)}}]),t}(x.Component));y()(J,"defaultProps",{configuration:{},validations:void 0,isLoggedIn:!1,isFirst:void 0,rememberedFirstNames:void 0,id:void 0,onChange:void 0,onControlChange:k.a,prefixOptions:void 0,suffixOptions:void 0,serverValidationErrors:Object(U.Map)(),updateFullName:k.a,personNameSortOrder:["prefix","firstName","middleName","maidenName","lastName","suffix"],prefixValue:"",suffixValue:""});n(2403);n.d(t,"a",(function(){return $}));var $=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"onControlChange",(function(e,t){var a=n.props,r=a.controlFieldConfiguration,i=a.form,s=C()(e.split("."));return n.setState(y()({},s,t)),Object(q.b)(e,r)&&Object(q.a)(T()(r,e),t,f()(n),i)})),y()(f()(n),"addEmptyOption",(function(e){return[{label:"",value:""}].concat(r()(e))})),y()(f()(n),"onGenderChange",(function(e,t){var a=n.props,r=a.controlFieldConfiguration,i=a.form;return n.setState(y()({},t,e)),!!Object(q.b)(t,r)&&function(e){return Object(q.a)(r[t],e,f()(n),i)}})),n.state={enabledFields:{dateOfBirth:T()(e.configuration,"dateOfBirth.isEnabled",!1),gender:T()(e.configuration,"gender.isEnabled",!1)},prefix:"",suffix:"",gender:""},n}return g()(t,e),l()(t,[{key:"getDOBErrorLabel",value:function(){var e=this.props.configuration;return T()(e,"dateOfBirth.validateAgeOnInboundDate",!1)?T()(e,"dateOfBirth.invalidRangeErrorLabelAtLastTravelDate"):T()(e,"dateOfBirth.invalidRangeErrorLabel")}},{key:"getMaxDate",value:function(){var e=this.props,t=e.configuration,n=e.dateFormat,a=e.itineraryParts;return Object(W.e)(t,a,n).format(n)}},{key:"getMinDate",value:function(){var e=this.props,t=e.configuration,n=e.dateFormat,a=e.itineraryParts,r=Object(W.f)(t,a,n);return r.add(1,"days"),r.format(n)}},{key:"getValue",value:function(){var e=this.state.enabledFields,t=e.dateOfBirth,n=e.gender;return S()({},this.personName.getValue(),{dateOfBirth:t&&!D()(this.dateOfBirth.getValue())?B()(this.dateOfBirth.getValue(),this.props.dateFormat).locale("en").format("YYYY-MM-DD"):"",gender:n?this.gender.getValue():""})}},{key:"handleOnChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"isValid",value:function(){var e=this,t=!0,n={},a={};return w()(this.props.configuration,(function(t,n){!0===t.isEnabled&&(a[n]=e.personName[n]),void 0===a[n]&&(a[n]=e[n])})),w()(a,(function(e){void 0!==e&&e.isValid&&!e.isValid()&&(t=!1,D()(n)&&(n=e)),D()(n)||(n.isValid(),n.focus&&n.focus())})),t}},{key:"renderPassengerDateOfBirth",value:function(){var e=this,t=this.props,n=t.configuration,a=t.dateFormat,r=t.data,i=t.defaultLocale,s=t.id,o=t.controlFieldConfiguration,l=t.form,c=T()(n,"dateOfBirth.inputType","text"),u="dateOfBirth",d=Object(q.b)(u,o)?function(t){return Object(q.a)(o[u],t,e,l)}:void 0;return j.a.createElement(L.a,{defaultValue:D()(T()(r,u))?"":T()(r,u),dateFormat:a,type:c,useLabelFeedback:!0,onChange:d,label:"".concat(Object(V.i)(T()(n,"dateOfBirth.label"))),defaultLocale:i,invalidRangeErrorLabel:this.getDOBErrorLabel(),minDate:this.getMinDate(),maxDate:this.getMaxDate(),keyProp:u,ref:function(t){e.dateOfBirth=t},id:"".concat(s,"-dob"),displayYearOptionsAscending:!1,configuration:T()(n,"dateOfBirth")})}},{key:"renderPassengerGender",value:function(){var e=this,t=this.props,n=t.configuration,a=t.data,r=t.id,i=t.validations,s=t.genderOptions,o=Object(W.l)(T()(n,"gender.validators"))?s:this.addEmptyOption(s);return j.a.createElement(H.a,{label:Object(W.d)("gender",n,i,"passengers"),options:o,defaultValue:this.state.gender||T()(a,"gender")&&"".concat(T()(a,"gender")),useLabelFeedback:!0,validators:Object(W.h)(i,T()(n,["gender","validators"],[])),ref:function(t){e.gender=t},className:"gender",disabled:!T()(n,"".concat("gender",".isEditable"),!0),id:"".concat(r,"-gender"),onChange:function(t){return e.onGenderChange(t,"gender")}})}},{key:"renderPersonName",value:function(){var e=this,t=this.props,n=t.validations,a=t.configuration,r=t.data,i=t.isLoggedIn,s=t.isFirst,o=t.rememberedFirstNames,l=t.id,c=t.onChange,u=t.prefixOptions,d=t.suffixOptions,p=t.controlFieldConfiguration,h=t.form,f=t.personNameSortOrder,m=t.serverValidationErrors;return j.a.createElement(J,{validations:n,configuration:_()(a,["prefix","firstName","lastName","middleName","maidenName","suffix"]),data:r,isLoggedIn:i,isFirst:s,rememberedFirstNames:o,id:"".concat(l,"-name"),updateFullName:this.props.updateFullName,onChange:c,prefixOptions:u,suffixOptions:d,controlFieldConfiguration:p,form:h,personNameSortOrder:f,serverValidationErrors:m,ref:function(t){e.personName=t},onControlChange:this.onControlChange,prefixValue:this.state.prefix,suffixValue:this.state.suffix})}},{key:"render",value:function(){var e=this.state.enabledFields,t=e.dateOfBirth,n=e.gender;return j.a.createElement("div",{className:M()("passenger-basic-info-section-edit","editable-fields","clearfix",this.props.className),role:"group"},j.a.createElement("h3",{className:"passenger-info-panel-title basic-info-title"},Object(V.a)("passengers.sections.basicInfo")),this.renderPersonName(),j.a.createElement("div",{className:"dob-gender-row"},t&&this.renderPassengerDateOfBirth(),n&&this.renderPassengerGender()))}}]),t}(x.Component);y()($,"defaultProps",{className:"",configuration:{},validations:void 0,dateFormat:void 0,isLoggedIn:!1,isFirst:void 0,rememberedFirstNames:void 0,id:void 0,defaultLocale:void 0,onChange:void 0,prefixOptions:void 0,suffixOptions:void 0,genderOptions:void 0,controlFieldConfiguration:void 0,personNameSortOrder:void 0,form:void 0,itineraryParts:[],serverValidationErrors:Object(U.Map)(),updateFullName:k.a})},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(156),y=n.n(v),b=n(321),C=n.n(b),E=n(15),k=n.n(E),O=n(2),_=n.n(O),P=n(82),S=n.n(P),N=n(77),w=n.n(N),A=n(592),T=n.n(A),I=n(115),D=n.n(I),x=n(4),j=n.n(x),L=n(169),F=n.n(L),B=n(56),R=n.n(B),M=n(0),V=n.n(M),U=n(1),q=n.n(U),H=n(6),W=n(39),G=n.n(W),K=(n(194),n(11)),z=n(1996),Y=n(12),Q=(n(1249),n(157)),X=n(2110),J=n(1338),$=n(60),Z=n(19),ee=n.n(Z),te=n(58),ne=n.n(te),ae=n(5),re=n.n(ae);function ie(e){var t=ne()(re()(e,(function(e){return e.travelPartOffers}))),n=ne()(re()(t,(function(e){return e.passengerOffers})));return ee()(n,(function(e){return e.assignedQuantity>0}))}n(2426);var se=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onClick",(function(){return n.props.onClick&&n.props.onClick(n.props.ancillary.code)})),n}return f()(t,e),s()(t,[{key:"getBaggageDisclosure",value:function(){var e=this.props,t=e.bagAllowance,n=e.passengers,a=e.ancillary;if(!t.isEmpty()&&!_()(n)&&a.code===Q.b.BAGGAGE){if(1===R()(n)){var r=j()(a.offers.itineraryParts,(function(e,a){if(a.passengerOffers){var r=Object(J.e)(t,a,n[1]).get("totalUnits");void 0!==r?e.push(r):a.segmentsMap.forEach((function(r){var i=Object(J.e)(t,a.segments[r],n[1]);e.push(i.get("totalUnits"))}))}return e}),[]),i=y()(r);if(1===i.length)return q.a.createElement("div",{className:"bag-allowance"},Object(Y.a)("ancillary.bagAllowance",{totalUnits:i[0]}))}return q.a.createElement("div",{className:"bag-allowance"},Object(Y.a)("ancillary.defaultBagAllowance"))}return null}},{key:"getButtonTranslationKey",value:function(){return this.props.ancillary.isAddedToCart?"ancillary.change":"ancillary.add"}},{key:"getDiscountPrice",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.addedTotal;if(t&&n){var a=function(e){return re()(ie(e),(function(e){var t=V()(e,"dealDiscount.totalDiscount",void 0);return t?Object($.p)(t.alternatives,e.assignedQuantity):{}}))}(e.ancillaries||[e]);if(!_()(a))return a.reduce($.q)}var r=this.getUniqDiscounts(),i=k()(r,(function(t){return w()(V()(t,"totalPrice.alternatives",[]),V()(e,"offers.lowestPrice"))}));return V()(i,"totalDiscount.alternatives",[])}},{key:"getInsuranceButtonLabels",value:function(e,t){var n=this.getInsuranceButtonTranslationKey(t);return{insuranceButtonLabelLong:Object(Y.a)(n[0],{ancillary:e}),insuranceButtonLabelShort:Object(Y.a)(n[1],{ancillary:e})}}},{key:"getInsuranceButtonTranslationKey",value:function(e){var t=this.props.ancillary.isAddedToCart;return e?t?["ancillary.change","ancillary.change"]:["ancillary.add","ancillary.addInsuranceShort"]:t?["ancillary.remove","ancillary.removeInsuranceShort"]:["ancillary.add","ancillary.addInsuranceShort"]}},{key:"getPriceBeforeDiscount",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.addedTotal,a=e.offers.lowestPrice;if(t&&n){var r=function(e,t){return re()(ie(e),(function(e){var n=V()(e,t)||V()(e,"ancillaryPrice.totalPrice");return Object($.p)(n.alternatives,e.assignedQuantity)}))}(e.ancillaries||[e],"ancillaryPrice.originalTotalPrice");if(!_()(r))return r.reduce($.q)}var i=this.getUniqDiscounts(),s=k()(i,(function(e){return w()(V()(e,"totalPrice.alternatives",[]),a)}));return V()(s,"originalTotalPrice.alternatives",[])}},{key:"getSummaryButton",value:function(e,t){var n=this.props,a=n.ancillary,r=n.ancillariesConfiguration,i=a.code,s=a.hasInventory,o=a.availableInventory,l=V()(a,"offers.modificationAllowed",!0),c=i===V()(r,"insurance.code"),u=D()(o);if(l){if(c){var d=this.getInsuranceButtonLabels(e,t),p=d.insuranceButtonLabelLong,h=d.insuranceButtonLabelShort;return t?q.a.createElement("span",null,q.a.createElement("span",{className:"regular"},p),q.a.createElement("span",{className:"mobile"},h)):q.a.createElement("span",null,q.a.createElement("span",{className:"regular"},h),q.a.createElement("span",{className:"mobile"},h))}return u&&!s?Object(Y.a)("app.soldOut"):Object(Y.a)(this.getButtonTranslationKey(),{ancillary:Object(Y.i)("ancillary.items.".concat(i,".buttonName"))})}return Object(Y.a)("app.view")}},{key:"getUniqDiscounts",value:function(){var e=V()(this.props.ancillary,"offers.dealDiscounts",[]);return T()(e,w.a)}},{key:"render",value:function(){var e=this.props,n=e.ancillary,a=e.isDealBannerDisplayed,r=e.isOriginalPriceDisplayed,i=e.ancillariesConfiguration,s=e.isRenderedOnModal,o=e.retainedTotal,l=n.isAddedToCart,c=n.code,u=n.total,d=n.isLoading,p=n.totalInventory,h=n.addedTotal,f=n.hasInventory,m=n.availableInventory,g=i.ancillaryInventoryEnabled,v=V()(n,"offers.originalPrice"),y=Object(Y.a)("ancillary.items.".concat(c,".priceNote")),b=V()(n,"isPostInsurance",!1),E=Object(Y.a)("ancillary.items.".concat(c,".startingFrom")),k=Object(Y.a)("ancillary.items.".concat(c,".priceForAllPassengers")),O=Object(Y.i)("ancillary.items.".concat(c,".title")),P=V()(n,"offers.isFree",!1),N=c===V()(i,"insurance.code"),w=R()(n.products),A=D()(p),T=w>1&&N,I=O&&P,x=V()(i,"inventoryThreshold"),L=g&&m<=x,F=g&&f,B=V()(n,"offers.dealDiscounts",[]).length>0,M=B?this.getPriceBeforeDiscount():[],U=g&&t.checkForAncillaryInventoryForAllSubCodesBelowThreshold(n,x),H=G()("dxp-ancillary-summary","clearfix",C()(c),this.props.classNames,{"has-original-price":r&&v,"is-added-to-cart":l,"included-in-price":P,"has-inventory":g&&A&&!l}),W=G()("deal-banner",{"more-top-margin":!l&&r&&v}),K=V()(this.props,"ancillary.isPreselected",!1),Q=t.doesAncillaryHaveAnySubCodes(n),J=j()(n.offers.passengerOffers,(function(e,t){return V()(t,"prices.total",[]).length&&(e=Object($.q)(e,t.prices.total)),e}),[]),Z=l&&u&&!Object($.o)(u)?u:V()(n,"offers.lowestPrice",[]);if(n.groupPriceForPassengers&&(Z=J),N){var ee=S()(u)||0===u[0].amount?V()(this.props,"ancillary.price"):u,te=b?V()(this.props,"ancillary.insurance.price"):ee;Z=l?te:t.getLeadInsurancePrice(n)}h&&l&&(Z=h),_()(o)||(Z=Object($.q)(Z,Object($.p)(o,-1)));var ne=this.getBaggageDisclosure(),ae=l?X.b:X.c,re=(!l||N)&&!T,ie=V()(n,"ancillaries",[]).length>0&&!l;return q.a.createElement(z.b,{className:H,code:c,title:O,priceForAllPassengers:T?k:void 0,priceNote:re?y:void 0,dealBannerClasses:W,availableInventoryText:L&&F&&!l&&!Q&&m,bagDisclosure:ne,startingFromText:ie?E:void 0,hasDiscounts:B,isPreselected:K,isAddedToCart:Boolean(l),displayOriginalPrice:!l&&r&&!_()(v)&&!B,isIncludedInPrice:I,isLoading:d,isFree:P,isDealBannerDisplayed:a&&!_()(v),displayQuantityRemaining:!U&&g&&A,discountPrice:this.getDiscountPrice(),price:Z,originalPrice:v,priceBeforeDiscount:M,retainedTotal:o,summaryButtonContent:this.getSummaryButton(O,T),summaryButtonDisabled:A&&!f,onClick:this.onClick,id:s?"summary-on-modal":"summary",PACKAGE_NAME_CLASSIFIED:"ancillary","data-component-state":ae})}}],[{key:"checkForAncillaryInventoryForAllSubCodesBelowThreshold",value:function(e,t){return j()(V()(e,"children",[]),(function(e,n){return e&&V()(n,"travelPartOffers[0].availableInventory",0)>t}),!0)}},{key:"doesAncillaryHaveAnySubCodes",value:function(e){return R()(V()(e,"children"))>0}},{key:"getLeadInsurancePrice",value:function(e){var t=V()(e,"products"),n=F()(t,(function(e){return V()(e,"insurance.price.amount")}));return V()(n,"insurance.price")}}]),t}(U.Component);g()(se,"contextTypes",{translateWithComponents:H.func.isRequired}),g()(se,"defaultProps",{classNames:"",isDealBannerDisplayed:!1,isOriginalPriceDisplayed:!1,bagAllowance:Object(K.Map)(),passengers:{},isRenderedOnModal:!1,retainedTotal:[]}),n.d(t,"a",(function(){return se}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(38),y=n.n(v),b=n(51),C=n.n(b),E=n(49),k=n.n(E),O=n(4),_=n.n(O),P=n(16),S=n.n(P),N=n(145),w=n.n(N),A=n(5),T=n.n(A),I=n(2),D=n.n(I),x=n(0),j=n.n(x),L=n(1),F=n.n(L),B=(n(6),n(39)),R=n.n(B),M=n(12),V=n(11),U=(n(194),n(1986)),q=n(1290),H=n(2079),W=n(153),G=n(1949),K=n(1289),z=n(1912),Y=n(2162);n(2400);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var X=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onControlChange",(function(e,t){var a=n.props,r=a.controlFieldConfiguration,i=a.form;return Object(G.b)(t,r)?Object(G.a)(r[t],e,p()(n),i):null})),n.state={enabledFields:{phone:j()(e,"configuration.phone.isEnabled"),email:j()(e,"configuration.email.isEnabled")}},n}return f()(t,e),s()(t,[{key:"getLabel",value:function(e){return Object(K.a)("passengers.".concat(e,".label"),"passengers.optional",j()(this.props,"configuration.".concat(e,".validators"),[]))}},{key:"getLabelForOtherPhones",value:function(e){return"".concat(Object(M.i)("passengers.phoneNumber.label",{number:e+1})," ").concat(Object(M.i)("passengers.optional",{isRequired:Object(K.l)(j()(this.props,"configuration.phone.phoneNumber.secondaryPhoneNumberValidators",[]))}))}},{key:"getLabelForOtherPhonesType",value:function(e){return"".concat(Object(M.i)("passengers.phoneType.label",{number:e+1})," ").concat(Object(M.i)("passengers.optional",{isRequired:Object(K.l)(j()(this.props,"configuration.phone.phoneType.secondaryPhoneTypeValidators",[]))}))}},{key:"getLabelForPhoneNumber",value:function(e){var t=this.props.configuration;return j()(t,"phoneNumber.primaryPhoneNumberValidators")||j()(t,"phone.phoneNumber.secondaryPhoneNumberValidators")?0===e?this.getLabelForPrimaryPhone(e):this.getLabelForOtherPhones(e):"".concat(Object(M.i)("passengers.phoneNumber.label",{number:e+1})," ").concat(Object(M.i)("passengers.optional",{isRequired:Object(K.l)(j()(this.props,"configuration.phone.phoneNumber.validators",[]))}))}},{key:"getLabelForPhoneType",value:function(e){var t=this.props.configuration;return j()(t,"phoneType.primaryPhoneTypeValidators")||j()(t,"phone.phoneType.secondaryPhoneTypeValidators")?0===e?this.getLabelForPrimaryPhoneType(e):this.getLabelForOtherPhonesType(e):"".concat(Object(M.i)("passengers.phoneType.label",{number:e+1})," ").concat(Object(M.i)("passengers.optional",{isRequired:Object(K.l)(j()(this.props,"configuration.phone.phoneType.validators",[]))}))}},{key:"getLabelForPrimaryPhone",value:function(e){return"".concat(Object(M.i)("passengers.phoneNumber.label",{number:e+1})," ").concat(Object(M.i)("passengers.optional",{isRequired:Object(K.l)(j()(this.props,"configuration.phone.phoneNumber.primaryPhoneNumberValidators",[]))}))}},{key:"getLabelForPrimaryPhoneType",value:function(e){return"".concat(Object(M.i)("passengers.phoneType.label",{number:e+1})," ").concat(Object(M.i)("passengers.optional",{isRequired:Object(K.l)(j()(this.props,"configuration.phone.phoneType.primaryPhoneTypeValidators",[]))}))}},{key:"getPhoneFields",value:function(){return this.state.enabledFields.phone?_()(w()(j()(this.props,"configuration.phone.numberOfPhones")),(function(e,t){return e["phone".concat(t)]=!0,e}),{}):null}},{key:"getPhoneTypeValidators",value:function(e){var t=this.props.configuration;return j()(t,"phone.phoneType.primaryPhoneTypeValidators")||j()(t,"phone.phoneType.secondaryPhoneNumberValidators")?0===e?t.phone.phoneType.primaryPhoneTypeValidators:t.phone.phoneType.secondaryPhoneTypeValidators:j()(t,"phone.phoneType.validators")}},{key:"getPhoneValidators",value:function(e){var t=this.props.configuration;return j()(t,"phone.phoneNumber.primaryPhoneNumberValidators")||j()(t,"phone.phoneNumber.secondaryPhoneNumberValidators")?0===e?t.phone.phoneNumber.primaryPhoneNumberValidators:t.phone.phoneNumber.secondaryPhoneNumberValidators:j()(t,"phone.phoneNumber.validators")}},{key:"getPhonesValue",value:function(){var e=this,t=j()(this.props,"configuration.phone.numberOfPhones"),n=j()(this.props,"configuration.phone.defaultPhoneType","");return j()(this.props,"configuration.phone.isPhoneGroupEnabled",!1)?T()(w()(t),(function(t){return e["phone".concat(t)].getValue()})):_()(w()(t),(function(t,a){var r=e["phone".concat(a)].getValue();return D()(r)||t.push({type:n,countryCode:r.countryCode,number:r.number}),t}),[])}},{key:"getValue",value:function(){var e=this.state.enabledFields,t=e.phone,n=e.email;return{phones:t?this.getPhonesValue():[],emails:n?this.email.getValue():[]}}},{key:"isValid",value:function(){var e=this,t=this.getPhoneFields(),n=S()({},t,{email:this.state.enabledFields.email}),a=k()(t),r=_()(a,(function(t,n){return t[n]=e[n],t}),{});return Object(W.c)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({email:this.email},r))}},{key:"renderFieldPhone",value:function(e,t){var n=this,a=this.props,r=a.configuration,i=a.id,s=a.serverValidationErrors,o=a.phoneCountryCodes,l="phone".concat(t);return F.a.createElement(q.a,{key:t,className:R()("field-phone","phone-".concat(t)),label:this.getLabelForPhoneNumber(t),keyProp:Object(U.e)(t),defaultValue:e||{},useLabelFeedback:!0,validators:this.getPhoneValidators(t),defaultCountry:j()(r,"phone.phoneNumber.defaultCountry","us"),ref:function(e){n[l]=e},disabled:!j()(r,"phone.isEditable",!0),index:t,id:i,onChange:function(e){return n.onControlChange(e,l)},isResetPhoneField:j()(r,"phone.resetPhoneField",!0),hideCountryFlag:j()(r,"phone.hideCountryFlag",!0),isValid:!s.has(l),error:s.get(l),phoneCountryCodes:o})}},{key:"renderFieldPhoneGroup",value:function(e,t){var n=this,a=this.props,r=a.configuration,i=a.id,s=a.serverValidationErrors;return F.a.createElement(H.a,{key:"field-phone-group-".concat(t),classNames:"phone-".concat(t),phoneTypeLabel:this.getLabelForPhoneType(t),phoneNumberLabel:this.getLabelForPhoneNumber(t),phoneExtensionLabel:this.getLabel("phoneExtension"),keyProp:"phone".concat(t),defaultValue:e||{},useLabelFeedback:!0,configuration:C()(r,"phone"),phoneNumberValidators:this.getPhoneValidators(t),phoneTypeValidators:this.getPhoneTypeValidators(t),validators:this.getPhoneTypeValidators(t),ref:function(e){n["phone".concat(t)]=e},disabled:!j()(r,"phone.isEditable",!0),index:t,id:"".concat(i,"-").concat(t),serverValidationErrors:s,phoneCountryCodes:this.props.phoneCountryCodes})}},{key:"renderPassengerEmailAddress",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id;return F.a.createElement(Y.a,{keyProp:"email",defaultValue:j()(this.props.data,"emails",[]),ref:function(t){e.email=t},configuration:y()(n,["email"]),id:a})}},{key:"renderPassengerPhone",value:function(){return j()(this.props,"configuration.phone.isPhoneGroupEnabled",!1)?this.renderPassengerPhoneGroup():this.renderPassengerPhoneNumber()}},{key:"renderPassengerPhoneGroup",value:function(){var e=this,t=j()(this.props.data,"phones",[]),n=j()(this.props,"configuration.phone.numberOfPhones",1),a=t.length;if(a>0){a>n&&(t=t.slice(0,n));var r=T()(t,(function(t,n){return e.renderFieldPhoneGroup(t,n)})),i=T()(w()(n-(t.length||0)),(function(t){return e.renderFieldPhoneGroup({},t+a)}));return[].concat(r,i)}return T()(w()(j()(this.props,"configuration.phone.numberOfPhones",1)),(function(t){return e.renderFieldPhoneGroup({},t)}))}},{key:"renderPassengerPhoneNumber",value:function(){var e=this,t=j()(this.props.data,"phones",[]),n=j()(this.props,"configuration.phone.numberOfPhones",1),a=t.length;if(a>0){a>n&&(t=t.slice(0,n));var r=T()(t,(function(t,n){return e.renderFieldPhone(t,n)})),i=T()(w()(n-(t.length||0)),(function(t){return e.renderFieldPhone({},t+a)}));return[].concat(r,i)}return T()(w()(j()(this.props,"configuration.phone.numberOfPhones",1)),(function(t){return e.renderFieldPhone({},t)}))}},{key:"render",value:function(){var e=this.state.enabledFields,t=e.email,n=e.phone,a=j()(this.props,"configuration.phone.isPhoneGroupEnabled",!1),r=R()({"phone-section":!a,"phone-group-section":a});return F.a.createElement(z.a,{sectionName:"contact-info",title:"passengers.sections.contactInfo"},F.a.createElement("div",{className:r},n&&this.renderPassengerPhone()),F.a.createElement("div",{className:"email-section"},t&&this.renderPassengerEmailAddress()))}}]),t}(L.Component);g()(X,"defaultProps",{id:"",data:{},controlFieldConfiguration:{},form:void 0,serverValidationErrors:Object(V.Map)()}),n.d(t,"a",(function(){return X}))},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(0),s=n.n(i),o=n(58),l=n.n(o),c=n(42),u=n(11),d=n(1936),p=n(566),h=n(9),f=n(214),m=n(389),g=n(307),v=function(e){if(Object(g.a)())return e.metadata.getIn(["environments",Object(m.a)(),"backendUrl"])},y=n(101);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(){var e=Object(c.a)(Object(f.a)(),(function(e){return{searchCriteria:e,isAwardBooking:"false"!==s()(e,"awardBooking","false")}})),t=Object(c.b)({paymentOptionsLoading:function(e){return e.payment.get("paymentOptionsLoading")},pnr:function(e){return e.tripDetails.get("pnr")},shoppingCart:function(e){return e.shoppingCart},paymentSuccessful:function(e){return e.payment.get("paymentSuccessful")},provinces:function(e){return e.metadata.get("provincesConfiguration")},signIn:function(e,t){return Object(p.a)(e,t)},session:function(e){return e.session},defaultLocale:function(e){return e.metadata.get("defaultLocaleForDate")},paymentData:function(e){return e.payment},selectedLocale:function(e){return e.metadata.get("selectedLocale")},locales:function(e){return e.metadata.get("locales")},passengers:function(e){return e.shoppingCart.getIn(["data","passengers","passengers"])},PAYMENT_TYPES:function(){return d.b},PAYMENT_STATUSES:function(){return d.a},getExecutionKey:function(){return h.j},location:function(e,t){return t.location},error:function(e){return e.payment.get("error")},isAwardBooking:function(e){var t=e.shoppingCart&&e.shoppingCart.getIn(["data","itinerary","itineraryParts"]),n=t&&t.map((function(e){return e.get("segments")}));return n&&l()(n.toJS()).some((function(e){return e&&s()(e,"segmentOfferInformation.awardFare")}))},chinaUnionPay:function(e){return e.payment.get("chinaUnionPay")},metadata:function(e,t){var n=e.metadata.get("fareRules",Object(u.Map)()),a=e.metadata.get("bagFee",Object(u.Map)()),r=e.metadata.get("purchaseAgreementLinks",Object(u.List)()),i=e.metadata.get("additionalTermsAndConditions",Object(u.List)()),s=e.metadata.get("alternativeTermsAndConditions",Object(u.List)()),o=e.metadata.get("summaryBarConfiguration",Object(u.Map)()),l=e.metadata.get("flightDetails",Object(u.Map)()),c=e.metadata.get("defaultDateFormats",Object(u.Map)()),d=e.metadata.get("createAccount",Object(u.Map)()),p=e.metadata.get("languageForBooking",Object(u.Map)()),h=e.metadata.get("journeyTypes",Object(u.Map)()),f=e.metadata.get("classes",Object(u.Map)()),m=e.metadata.get("passengers",Object(u.Map)()),g=e.metadata.get("currencies",Object(u.Map)()),v=e.metadata.get("isDelayedCarPayment",!1),b=e.metadata.getIn(["seatsOnExtrasPage",Object(y.a)(t.location.pathname)],Object(u.Map)());return Object(u.fromJS)({fareRules:n,bagFee:a,purchaseAgreementLinks:r,additionalTermsAndConditions:i,alternativeTermsAndConditions:s,summaryBarConfiguration:o,flightDetails:l,defaultDateFormats:c,createAccount:d,languageForBooking:p,journeyTypes:h,classes:f,passengers:m,currencies:g,isDelayedCarPayment:v,seatsOnExtrasPage:b})},installments:function(e){return e.payment.get("installments")},user:function(e){return e.session.get("user")},backendUrl:v});return Object(c.a)(e,t,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t,{isAwardBooking:t.isAwardBooking||e.isAwardBooking})}))}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(21),y=n.n(v),b=n(51),C=n.n(b),E=n(19),k=n.n(E),O=n(321),_=n.n(O),P=n(5),S=n.n(P),N=n(1),w=n.n(N),A=(n(6),n(194),n(39)),T=n.n(A),I=n(1714),D=n(25),x=n(78),j=(n(2250),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"shouldComponentUpdate",(function(e){return Object(D.f)()||Object(I.b)({left:n.props,right:e,keys:["defaultValue","isRBEEnabled"]})||Object(I.a)({left:n.props,right:e,keys:["options"]})})),g()(p()(n),"onClick",(function(e){return n.props.onChange&&n.props.onChange(e)})),n}return f()(t,e),s()(t,[{key:"renderOptions",value:function(e){var t=this,n=this.props,a=n.isRBEEnabled,r=n.defaultValue,i=n.excludedJourneyTypes;return S()(e,(function(e){var n=C()(i,"toJS",[]),s=a&&y()(n,e.key),o=e.key===r,l=T()(_()(e.key),{active:o});return!s&&w.a.createElement("li",{className:T()("journey-type-selection-item",{active:o}),key:"journey-type-selection-".concat(e.key),id:"tab-".concat(e.key),"aria-controls":"panel-".concat(t.props.defaultValue),"aria-selected":o,role:"tab"},w.a.createElement(x.a,{key:"journey-type-".concat(e.key),className:l,disabled:s,onClick:function(n){return t.onClick(e.key,n)}},e.label))}))}},{key:"render",value:function(){var e=this.props,t=e.isRBEEnabled,n=e.excludedJourneyTypes,a=e.options,r=a;return t&&!n.isEmpty()&&(r=k()(a,(function(e){return!n.contains(e.key)}))),w.a.createElement("ul",{className:"journey-type-selection",role:"tablist"},this.renderOptions(r||[]))}}]),t}(N.Component));n.d(t,"a",(function(){return j}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(529),s=function(e){return r.a.createElement("div",{className:"class-selection"},r.a.createElement(i.a,e))};n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(194),n(6)),s=n(2013),o=n(84),l=n(14),c=n(12),u=n(1984),d=n(1983),p=function(e,t){var n=e.useCheckboxToAgree,a=e.isRefundCart,i=e.rulesAndFeeData,s=e.currentFlow,p=e.currentPage,h=t.translateWithComponents,f={fareRules:r.a.createElement(d.a,{rulesAndFeeData:e.rulesAndFeeData,onFareRulesClick:e.onFareRulesClick}),baggageInformation:r.a.createElement(u.a,{rulesAndFeeData:e.rulesAndFeeData,onBagFeeLinkClick:e.onBagFeeLinkClick})},m=i.bagFee.get("isExternalLinkEnabled")||s===o.a.B2C,g="payment.completePurchaseAgreementDescription";return n||(g=m?"shoppingCart.viewFareRules":"shoppingCart.viewFareRulesOnly"),a&&(g=m?"shoppingCart.refundCart.viewFareRules":"shoppingCart.refundCart.viewFareRulesOnly"),p===l.a.MYB&&(g=i.bagFee.get("isExternalLinkEnabled")?"shoppingCart.viewFareRules":"shoppingCart.viewFareRulesOnly"),r.a.createElement("div",{className:!n&&"dxp-shopping-cart-fare-rules"},Object(c.a)("shoppingCart.disclaimerNotice"),h(g,f),Object(c.a)("shoppingCart.disclaimerAdditionalFee"))};p.defaultProps={onBagFeeLinkClick:void 0,onFareRulesClick:void 0,isRefundCart:!1,useCheckboxToAgree:!1},p.contextTypes={translateWithComponents:i.func.isRequired};var h=p,f=(n(2223),function(e){return e.useCheckboxToAgree?r.a.createElement(s.a,{checkboxEnabled:e.checkboxEnabled,checkboxChecked:e.checkboxChecked,handleCheckboxChange:e.handleCheckboxChange,purchaseAgreementLinks:e.purchaseAgreementLinks,rulesAndFeeData:e.rulesAndFeeData,onBagFeeLinkClick:e.onBagFeeLinkClick,onFareRulesClick:e.onFareRulesClick}):r.a.createElement(h,{rulesAndFeeData:e.rulesAndFeeData,onBagFeeLinkClick:e.onBagFeeLinkClick,onFareRulesClick:e.onFareRulesClick,currentFlow:e.currentFlow,currentPage:e.currentPage})});f.defaultProps={useCheckboxToAgree:!1,checkboxEnabled:!1,checkboxChecked:!1,handleCheckboxChange:void 0,onBagFeeLinkClick:void 0,onFareRulesClick:void 0},f.contextTypes={translateWithComponents:i.func};t.a=f},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(0),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),C=n.n(b),E=n(11),k=(n(194),n(129)),O=n(529),_=n(1290),P=n(153),S=n(114),N=(n(2395),n(2396),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){var e=this.props.configuration;return{type:e.phoneType.isEnabled&&(this.phoneType.getValue()||"").toUpperCase()||"",number:e.phoneNumber.isEnabled&&this[this.props.keyProp||"phoneNumber"].getValue().number,countryCode:e.phoneNumber.isEnabled&&this[this.props.keyProp||"phoneNumber"].getValue().countryCode,extension:e.phoneExtension.isEnabled&&this.phoneExtension.getValue()||""}}},{key:"isValid",value:function(){var e,t,n=this.props,a=n.configuration,r=n.keyProp,i=(e={phoneType:a.phoneType.isEnabled},f()(e,r,a.phoneNumber.isEnabled),f()(e,"phoneExtension",a.phoneExtension.isEnabled),e);return Object(P.c)(i,(t={phoneType:this.phoneType},f()(t,r,this[r]),f()(t,"phoneExtension",this.phoneExtension),t))}},{key:"renderPhoneExtension",value:function(){var e=this,t=this.props,n=t.configuration,a=t.disabled,r=t.index,i=t.id,s=t.defaultValue,o=t.phoneExtensionLabel,l=t.serverValidationErrors;return y.a.createElement(k.a,{label:o||"passengers.phoneExtension",keyProp:"phoneExtension",ref:function(t){e.phoneExtension=t},className:"field-phone-ext",id:i,defaultValue:s&&s.extension,useLabelFeedback:!0,validators:g()(n,"phoneExtension.validators",[]),disabled:a,index:r,isValid:!l.has("phoneExtension"),error:l.get("phoneExtension")})}},{key:"renderPhoneNumber",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props,a=n.phoneNumberValidators,r=n.disabled,i=n.index,s=n.id,o=n.phoneNumberLabel,l=n.keyProp,c=n.configuration,u=n.shouldValidateOnChange,d=n.minLength,p=n.serverValidationErrors,h=n.phoneCountryCodes,f=t?"field-phone-input":"field-phone-input no-phone-extension";return y.a.createElement(_.a,{label:o||"baseWidgets.phoneLabel",className:f,ref:function(t){e[l]=t},keyProp:l,useLabelFeedback:!0,validators:a,defaultValue:g()(this.props,"defaultValue",{}),defaultCountry:g()(c,"phoneNumber.defaultCountry","us"),disabled:r,index:i,id:s,shouldValidateOnChange:u,minLength:d,hideCountryFlag:g()(c,"hideCountryFlag",!0),isResetPhoneField:g()(c,"resetPhoneField",!0),isValid:!p.has(l),error:p.get(l),phoneCountryCodes:h})}},{key:"renderPhoneType",value:function(){var e,t=this,n=this.props,a=n.phoneTypeValidators,r=n.configuration,i=n.phoneTypeLabel,s=n.disabled,o=n.id,l=n.serverValidationErrors,c=n.defaultValue,u=g()(c,"type",g()(r,"defaultPhoneType","")).toUpperCase(),d=Object(S.j)("phoneType",r),p=r.phoneType.validators,h=void 0===p?[]:p;return y.a.createElement(O.a,(e={label:i,keyProp:"phoneType",ref:function(e){t.phoneType=e},useLabelFeedback:!0,options:d,className:"field-phone-type",validators:h,defaultValue:u,disabled:s,id:o},f()(e,"useLabelFeedback",!0),f()(e,"validators",a),f()(e,"isValid",!l.has("phoneType")),f()(e,"error",l.get("phoneType")),e))}},{key:"render",value:function(){var e=this.props.configuration;return y.a.createElement("div",{className:C()("field-phone-group",this.props.classNames)},e.phoneType.isEnabled&&this.renderPhoneType(),e.phoneNumber.isEnabled&&this.renderPhoneNumber(e.phoneType.isEnabled),e.phoneExtension.isEnabled&&this.renderPhoneExtension())}}]),t}(v.Component));f()(N,"defaultProps",{disabled:!1,phoneTypeLabel:"passengers.phoneType",phoneNumberLabel:"baseWidgets.phoneLabel",phoneExtensionLabel:"passengers.phoneExtension",keyProp:"phoneNumber",classNames:"",shouldValidateOnChange:!1,minLength:void 0,serverValidationErrors:Object(E.Map)()}),n.d(t,"a",(function(){return N}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(339),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(94),C=n.n(b),E=n(249),k=n.n(E),O=n(13),_=n.n(O),P=n(156),S=n.n(P),N=n(0),w=n.n(N),A=n(6),T=n(1),I=n.n(T),D=n(1890),x=n(39),j=n.n(x),L=function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state.placeholder=e.placeholder,n}return g()(t,e),l()(t,[{key:"renderInput",value:function(e){var t=this,n={className:j()("field-input",this.props.className),type:this.getInputType(),placeholder:w()(this.state,"placeholder")||"",key:e,id:this.getIdForInput(e),disabled:this.props.disabled,autoComplete:this.props.autoComplete,onKeyUp:function(e){t.props.onKeyUp&&t.props.onKeyUp(e)},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)},onChange:function(e){return t.shouldValidateOnChange(e)}};return I.a.createElement("div",{key:"masked-field-wrapper-".concat(n.key)},this.renderMaskedInput(n))}},{key:"shouldValidateOnChange",value:function(e){return this.getValue().replace(/_/g,"").length===this.props.mask.length?this.props.shouldValidateOnChange?this.onBlur(e):this.onInputChange(e):this.props.onChange&&this.props.onChange()}},{key:"renderMaskedInput",value:function(e){var t=this;return I.a.createElement(D.a,r()({mask:this.props.mask,ref:function(e){return e&&t.setRefsForMaskedInput(e)},value:this.props.value||this.props.defaultValue,onChange:function(e){t.onInputChange(e)}},e))}},{key:"setRefsForMaskedInput",value:function(e){this.input=e.input,this.maskedInput=e}},{key:"renderMobileMaskedInput",value:function(e){var t=this;return I.a.createElement("input",r()({ref:function(e){t.input=e},defaultValue:this.props.value||this.props.defaultValue,maxLength:this.props.mask?this.props.mask.length:void 0,onChange:function(e){return t.formatOnChange(e)}},e))}},{key:"formatOnChange",value:function(e){var n="",a=this.props,r=a.mask,i=a.placeholderChar,s=S()(r.replace(/1/g,"")),o=e.target,l=o.value;-1!==l.indexOf(i)&&(l=l.slice(0,l.indexOf(i))),l.length>r.length&&(l=l.substr(0,r.length)),_()(l,(function(e,t){"1"===r[t]&&-1===s.indexOf(e)&&(n+=e),"1"!==r[t]&&-1===s.indexOf(e)&&(n=n+r[t]+e),"1"!==r[t]&&-1!==s.indexOf(e)&&(n+=e)}));var c=n.length;return n+=r.substr(c,r.length).replace(/1/g,i),k()(n,r.replace(/1/g,i))?(o.value="",t.setCursor(o,0)):(o.value=n,t.setCursor(o,c)),this.props.onChange&&this.props.onChange(e)}},{key:"onActive",value:function(){return this.setState({placeholder:this.props.placeholder||""}),f()(p()(t.prototype),"onActive",this).call(this)}},{key:"hasCompletedEntering",value:function(){var e=this.getValue();return e&&this.props.mask.length===e.replace(new RegExp(this.props.placeholderChar,"g"),"").length}},{key:"onInactive",value:function(){return this.setState({placeholder:this.props.mask.replace(/1/g,this.props.placeholderChar)}),f()(p()(t.prototype),"onInactive",this).call(this)}},{key:"clear",value:function(){this.input.value="",this.maskedInput&&this.maskedInput.mask.setValue("")}}],[{key:"setCursor",value:function(e,t){if("selectionStart"in e){var n=Math.min(t,e.value.length),a=Math.min(t,e.value.length);C()((function(){e.setSelectionRange(n,a)}))}else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",0),r.select()}}}]),t}(n(129).a);y()(L,"propTypes",{mask:A.string.isRequired,shouldValidateOnChange:A.bool,placeholderChar:A.string}),y()(L,"defaultProps",{shouldValidateOnChange:!1,mask:"",placeholderChar:"_"}),y()(L,"contextTypes",{isMobile:A.bool,isTablet:A.bool}),n.d(t,"a",(function(){return L}))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="CANCEL_PNR_LOOKUP_REQUEST",r="CANCEL_PNR_LOOKUP_RESPONSE",i="CANCEL_PNR_LOOKUP_ERROR"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(9),r=n(2043),i=function(e){return Object(a.g)(Object(a.l)("cancelAndRefundReview"),a.b).then((function(t){return Object(r.a)(t,e)}))},s=function(e){return Object(a.g)(Object(a.l)("cancelAndRefundReview"),a.b).then((function(t){return Object(r.b)(t,e)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="GEOLOCATION_REQUEST",r="GEOLOCATION_RESPONSE",i="GEOLOCATION_FAILURE"},,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return null===e}},function(e,t,n){"use strict";n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return L})),n.d(t,"a",(function(){return F}));var a=n(38),r=n.n(a),i=n(65),s=n.n(i),o=n(16),l=n.n(o),c=n(83),u=n.n(c),d=n(35),p=n.n(d),h=n(49),f=n.n(h),m=n(2),g=n.n(m),v=n(4),y=n.n(v),b=n(27),C=n.n(b),E=n(0),k=n.n(E),O=n(1726),_=n.n(O),P=n(9),S=n(150),N=n(45),w=n(1737);function A(e,t,n){return function(e,t,n){var a=Object(P.l)("passengers");return Object(P.g)(a,P.c,{body:{passengers:e,businessLoyalty:t,contact:n}})}(e,t,n)}function T(e,t,n){var a=Object(P.l)("exchangePassengers");return Object(P.g)(a,P.c,{body:{passengers:e,businessLoyalty:t,contact:n}})}function I(e,t,n){var a=l()({},{passengers:e},{contact:t}),r=Object(P.l)("updatePassengerInfo");return Object(P.g)("".concat(r,"?pnr=").concat(n),P.c,{body:a})}function D(){var e=Object(P.l)("passengers");return Object(P.g)(e,P.b).then((function(e){return Object(w.a)(e)}))}function x(){var e,t=S.a;return t.get("passengerInfo")&&"undefined"!==t.get("passengerInfo")&&(e=JSON.parse(t.get("passengerInfo"))),e}function j(e){var t=C()(f()(e)),n=k()(e,t),a=x();if(n.rememberMe){p()(n,["rememberMe","createAccount"]);var i=u()(r()(e,t)),o=_()(i,"firstName"),l=!1;g()(a)&&(a={}),g()(o)||(a=y()(o,(function(e,t,n){return l=!0,e[n]=o[n],e}),a)),!l&&g()(o)||S.a.set("passengerInfo",JSON.stringify(a))}else if(s()(a,n.firstName)){var c=p()(a,n.firstName);S.a.set("passengerInfo",JSON.stringify(c))}}function L(e){N.a.set("dxCreateAccount",JSON.stringify(e))}function F(){N.a.remove("dxCreateAccount")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b}));var a=n(77),r=n.n(a),i=n(5),s=n.n(i),o=n(49),l=n.n(o),c=n(0),u=n.n(c),d=n(73),p=n.n(d),h=n(16),f=n.n(h),m=n(47),g=new RegExp("\\[([0-9]+)\\]"),v=function(e){var t=e.split("."),n=t.shift(),a=r()(n,"passengers")?t.shift():n,i=t[1],s=t.join("."),o=a.match(g);return{fieldId:i,field:s,passenger:a,passengerNumber:o?o[1]:void 0}},y=function(e){return u()(e,"type").toLowerCase()===m.d.VALIDATION&&u()(e,"details")?(t=u()(e,"details"),s()(t,(function(e,t){return f()({errorType:m.d.VALIDATION,key:t,value:s()(e,(function(e){return e.replace("|",".").replace(/\s/g,"_")}))},v(t))}))):((n=e).statusText?["".concat(n.statusText," : ").concat(n.statusText)]:void 0)||function(e){var t=[];return e&&e.status&&e.message&&t.push({status:e.status,message:e.message,errorType:p()(e.type||""),errorCode:e.errorCode||""}),t}(e)||["passengers.defaultError"];var t,n},b=function(e){var t=l()(e);return s()(t,(function(t){var n=e[t];return f()({warningType:m.d.VALIDATION,key:t,value:n},v(t))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n.n(a),i=n(19),s=n.n(i),o=n(12),l=n(47),c=function(e,t){var n=t.passengerNumber;return n&&(e[n]=e[n]||{},e[n][t.fieldId]=Object(o.i)("passengers.".concat(t.field))+Object(o.i)("passengers.".concat(t.value))),e},u=function(e){var t=s()(e,(function(e){return e.errorType===l.d.VALIDATION}));return r()(t,c,{})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="email",r="confirm-email"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a="day",r="month",i="year"},function(e,t,n){"use strict";var a=n(1980);n.d(t,"b",(function(){return a.a}));var r=n(1981);n.d(t,"a",(function(){return r.a}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a=function(e){return"submit-".concat(e)},r="ancillary-added-to-cart",i="ancillary-not-added-to-cart"},function(e,t,n){var a=n(116),r=0;e.exports=function(e){var t=++r;return a(e)+t}},,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ae}));var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(122),C=n.n(b),E=n(51),k=n.n(E),O=n(36),_=n.n(O),P=n(19),S=n.n(P),N=n(2),w=n.n(N),A=n(0),T=n.n(A),I=n(1),D=n.n(I),x=n(6),j=(n(194),n(11)),L=n(158),F=n.n(L),B=n(1988),R=n(1557),M=n(524),V=n(3325),U=n(2332),q=n(60),H=n(24),W=n(84),G=n(346),K=n(154),z=n(12),Y=n(136),Q=n(88),X=n(1533),J=n(195),$=n(146),Z=n(45),ee=(n(1290),n(2477)),te=n(3029),ne=n(3327),ae=(n(3033),n(3034),function(t){function n(){var e,t;s()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=u()(this,(e=p()(n)).call.apply(e,[this].concat(r))),y()(f()(t),"isRedirected",!1),y()(f()(t),"state",{insuranceSelectionRequired:!1}),y()(f()(t),"onBNPLCancel",(function(){t.props.selectBNPL(!1)})),y()(f()(t),"purchase",(function(){var e=t.props,n=e.createAccount,a=e.metadata,r=e.configuration,i=e.currentFlow,s=e.paymentQuery,o=t.context.language;return w()(_()(s.combinablePaymentOptions))&&t.props.purchase({paymentQuery:s,metadata:a,configuration:r,language:o,createAccount:n,currentFlow:i})})),y()(f()(t),"updateQuery",(function(e){var n=t.props,a=n.paymentQuery,r=n.currentFlow,i=n.configuration;return t.props.updatePaymentQuery(e,a,r,i)})),y()(f()(t),"onPurchaseCompletedStartOverClick",(function(){t.props.handleStartOver&&t.props.handleStartOver()})),t}return g()(n,t),l()(n,[{key:"componentDidMount",value:function(){var e=this.props.setCallUpdateCartRequest;e&&e(),this.refreshPayment()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return!e.paymentSelected&&!e.paymentOptionsLoading&&w()(T()(e,"paymentOptions.paymentCodesByType",{}))&&this.props.setPaymentSelected(!0)}},{key:"componentDidUpdate",value:function(){!this.props.shouldWeRedirect||w()(this.props.redirectInfo)||this.isRedirected||(this.isRedirected=!0,this.handleRedirect())}},{key:"getTermsAndConditions",value:function(){var e=Object($.j)(this.props.searchCriteria),t=Object($.g)(this.props.searchCriteria),n=this.props.configuration.additionalTermsAndConditionsApplicableAirports,a=n.includes(e)||n.includes(t);return this.props.metadata.get(a?"additionalTermsAndConditions":"alternativeTermsAndConditions")}},{key:"handleRedirect",value:function(){var t,n;(t=this.props.redirectInfo["@type"],(n={},y()(n,K.b.PAY_PAL_REDIRECT_INFO,!0),y()(n,"POLI_REDIRECT_INFO",!0),n)[t])?e.location=this.props.redirectInfo.redirectUrl:(Z.a.set(this.props.PAYMENT_TYPES.CC_3DS,this.props.redirectInfo.transactionId),F.a.msie&&e.document.open(),e.document.write(this.props.redirectInfo.payerAuthenticationRequestForm),e.document.close())}},{key:"refreshPayment",value:function(){var e=this,t=this.props,n=t.location,a=t.requestCart,r=t.configuration,i=t.isAwardBooking,s=t.updateCartWithAwardSwitch,o=t.pnrLookupQuery,l=t.currentFlow,c=t.ancillariesConfiguration,u=Object($.j)(this.props.searchCriteria),d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=function(){return a(l,n)};return l===H.a.EXCHANGE&&(o=function(){return s("","",l)}),!i&&r.dynamicLoyaltyEnabled&&T()(r,["defaultSelectedPayment","paymentType"])!==K.b.AWARD&&(o=function(){return s(G.a.CASH,!1,l)}),o().then((function(){return t&&e.props.updateInsuranceWithCart(r)})).then((function(){return e.props.getPaymentOptions(l,n)}))};return T()(r,"BNPLEnabled",!1)&&l===W.a.B2C&&this.props.getBNPLholdOptions(),w()(this.props.savedInsurance)?T()(this.props,"configuration.insuranceEnabled",!1)?this.props.getInsurance(c,u).then((function(){return d(!0)})).catch(d):d():Object(X.d)(o).then((function(t){return e.props.getPostBookingInsurance(c,t,n,u)})).then((function(){return d(!0)}))}},{key:"shouldRedirect",value:function(e){var t;return(t={},y()(t,this.props.PAYMENT_TYPES.PAY_PAL,!0),y()(t,"POLI_REDIRECT_INFO",!0),t)[e]||!1}},{key:"showInsuranceSection",value:function(){var e=this.props,t=e.configuration,n=e.selectedHoldOption;return!T()(t,"insuranceEnabled",!1)||!T()(t,["BNPL","dropInsuranceOnBNPL"],!1)||w()(n)}},{key:"renderNonRefundableSection",value:function(e){return D.a.createElement(ne.a,{items:e,isLoading:this.props.shoppingCart.isLoading})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.selectedHoldOption,i=t.globalAdvisories,s=t.travelPartAdvisories,o=t.shoppingCart,l=t.updateProfile,c=t.currentFlow,u=t.isAuthorable,d=t.metadata,p=t.purchaseCompleted,h=t.location,f=t.paymentErrors,m=t.alerts,g=t.productTypes,v=t.paymentQuery,y=t.paymentOptions,b=t.paymentDetails,C=t.isAwardBooking,E=t.refundData,O=t.paymentOptionsLoading,_=t.getExecutionKey,P=t.cancelPayment,N=t.selectBNPL,A=t.refundConfiguration,I=t.dropProducts,x=t.getPaymentOptions,L=t.paymentTypesOrganized,F=t.loggedOut,W=t.selectedHotel,G=t.processABNACNNumber,X=t.ABNACNNumber,$=t.updateCartWithAwardSwitch,Z=t.clearPaymentDetails,ne=t.selectedLocale,ae=t.locales,re=t.sendFreeChinaUnionPaySms,ie=t.chinaUnionPay,se=t.clearChinaUnionPaySmsResponse,oe=t.provinces,le=t.getPaymentDetails,ce=t.user,ue=t.session,de=t.holdOptions,pe=t.dateFormat,he=t.selectedCarOffer,fe=t.passengers,me=t.processPayment,ge=t.travelBankConfiguration,ve=this.props.paymentType||"payment",ye=n.displayDayAdvisories&&!w()(s),be=n.displayGlobalAdvisories&&!w()(i),Ce=T()(o,["data","originalBookingTotal","breakdownElements"],[]),Ee=S()(Ce,(function(e){return"REFUNDABLE_ITEMS"===e.label})),ke=S()(Ce,(function(e){return"NON_REFUNDABLE_ITEMS"===e.label})),Oe=c===H.a.EXCHANGE&&!w()(ke)&&ke.some((function(e){return!Object(q.o)(e.total)})),_e=Object(J.a)(u,"payment"),Pe={fareRules:d.get("fareRules"),bagFee:d.get("bagFee")},Se=d.get("purchaseAgreementLinks",Object(j.List)()),Ne=w()(T()(this.props.configuration,"additionalTermsAndConditionsApplicableAirports",[]))?this.props.metadata.get("additionalTermsAndConditions"):this.getTermsAndConditions(),we=this.props.paymentProcessing||this.props.isCarBookProcessing||this.props.isBookHotelProcessing,Ae=T()(n,"tripSummary"),Te=Ae.flightsDateFormat,Ie=T()(Ae,"enabled",!1),De=k()(d.get("flightDetails"),"toJS"),xe=d.getIn(["defaultDateFormats","iropDateFormat"]),je=n.showCarHire&&he&&!he.isEmpty(),Le=n.showSelectedHotel&&W&&!W.isEmpty(),Fe=n.showTravelExtras&&(je||Le);return D.a.createElement("div",r()({className:"dxp-payment-component",id:B.e},_e),p&&D.a.createElement(Y.a,{className:"payment-completed",preventBackButtonDisplay:!0},D.a.createElement("h2",null,Object(z.a)("payment.paymentCompleted.title")),D.a.createElement("p",null,Object(z.a)("payment.paymentCompleted.description")),D.a.createElement("div",{className:"modal-buttons"},D.a.createElement(Q.a,{className:"primary medium purchase-complete",onClick:this.onPurchaseCompletedStartOverClick},Object(z.a)("payment.paymentCompleted.buttonTitle")))),be&&D.a.createElement(R.a,{advisories:i}),D.a.createElement("div",{className:"alerts-container","aria-live":"assertive"},D.a.createElement(te.a,{language:this.props.language,location:h,paymentErrors:f,alerts:m,configuration:n,metadata:d,actionUpdateURLQuery:this.props.actionUpdateURLQuery})),ye&&D.a.createElement(R.a,{advisories:s}),this.showInsuranceSection()&&D.a.createElement(V.a,{configuration:this.props.ancillariesConfiguration,updateInsurance:function(t,n){return e.props.updateInsurance(t,n,c,h)},updateTotalForInsurance:this.props.updateTotalForInsurance,isFetching:this.props.insuranceData.isFetching,insurance:this.props.insuranceData.insurance,paymentQuery:v,insuranceSelectionRequired:this.state.insuranceSelectionRequired,setInsuranceSelectionRequired:function(t){return e.setState({insuranceSelectionRequired:t})}}),Ie&&D.a.createElement(M.a,{className:"dxp-cart-review no-padding clearfix",id:"dxp-cart-review"},D.a.createElement("div",{className:"dxp-cart-review-body"},D.a.createElement(U.a,{id:B.h,showSelectedFlights:n.showSelectedFlights,showPassengerList:n.showPassengerList,showTravelExtras:Fe,showSelectedCarOffer:je,showSelectedHotel:Le,searchCriteria:this.props.searchCriteria,shoppingCart:this.props.shoppingCart,flightDetails:De,passengers:fe,tripSummary:Ae,defaultDateFormat:Te,iropDateFormat:xe,selectedCarOffer:he,selectedHotel:W,longDateFormat:this.props.metadata.getIn(["defaultDateFormats","long"])}))),Oe&&this.renderNonRefundableSection(ke),D.a.createElement(ee.a,{productTypes:g,paymentQuery:v,shoppingCart:o,configuration:n,paymentOptions:y,paymentDetails:b,PAYMENT_TYPES:K.b,isAwardBooking:C,dccOptionSelected:this.props.dccOptionSelected,dccOptions:this.props.dccOptions,refundData:E,paymentOptionsLoading:O,getExecutionKey:_,location:h,cancelPayment:P,selectBNPL:N,refundConfiguration:A,dropProducts:I,currentFlow:c,getPaymentOptions:x,paymentTypesOrganized:L,loggedOut:F,selectedHotel:W,processABNACNNumber:G,ABNACNNumber:X,updateCartWithAwardSwitch:$,clearPaymentDetails:Z,selectedLocale:ne,locales:ae,sendFreeChinaUnionPaySms:re,chinaUnionPay:ie,clearChinaUnionPaySmsResponse:se,onSelect:this.updateQuery,updateProfile:l,purchase:this.purchase,refundableItems:Ee,provinces:oe,getPaymentDetails:le,user:ce,session:ue,holdOptions:de,selectedHoldOption:a,metadata:this.props.metadata,onFareRulesClick:this.props.onFareRulesClick,onAgreementsClick:this.props.onAgreementsClick,isBankIdentificationValid:this.props.isBankIdentificationValid,requestCart:this.props.requestCart,validators:this.props.validators,signInCallback:this.props.signInCallback,getDCCOffers:this.props.getDCCOffers,dateFormat:pe,additionalTermsAndConditions:Ne,canContinue:this.props.canContinue,canUserContinue:this.props.canUserContinue,itineraryParts:this.props.searchCriteria.itineraryParts,language:this.context.language,navigation:this.props.navigation,onBagFeeLinkClick:this.props.onBagFeeLinkClick,paymentErrors:this.props.paymentErrors,paymentSelected:this.props.paymentSelected,paymentType:ve,purchaseAgreementLinks:Se,rulesAndFeeData:Pe,showPaymentProcessingModal:we,taxRates:n.taxRates,processPayment:me,getInstallmentPlansForSelectedCCType:this.props.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:this.props.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:this.props.selectInstallmentPlan,clearInstallmentPlans:this.props.clearInstallmentPlans,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,installments:this.props.installments,actionUpdateURLQuery:this.props.actionUpdateURLQuery,getNextPage:this.props.getNextPage,phoneCountryCodes:this.props.phoneCountryCodes,selectPaymentOption:this.props.selectPaymentOption,travelBankConfiguration:ge,insurance:this.props.insuranceData.insurance,setInsuranceSelectionRequired:function(t){return e.setState({insuranceSelectionRequired:t})},setDCCOption:this.props.setDCCOption,backendUrl:this.props.backendUrl}))}}]),n}(I.Component));y()(ae,"contextTypes",{translateWithComponents:x.func,language:x.string}),y()(ae,"defaultProps",{paymentErrors:{},PAYMENT_STATUSES:{},alerts:[],isAuthorable:!0,paymentOptionsLoading:!1,selectedCarOffer:void 0,language:"en-US",configuration:void 0,shoppingCart:void 0,searchCriteria:void 0,fetchFareRules:C.a,getBagFee:C.a,requestCart:C.a,getBNPLholdOptions:C.a,getPaymentOptions:C.a,shouldWeRedirect:!1,holdOptionSelected:void 0,globalAdvisories:void 0,travelPartAdvisories:void 0,metadata:Object(j.Map)(),onFareRulesClick:C.a,onAgreementsClick:C.a,onCartItemRemove:void 0,onBagFeeLinkClick:void 0,paymentSelected:void 0,redirectInfo:void 0,PAYMENT_TYPES:void 0,canContinue:void 0,selectBNPL:void 0,setCallUpdateCartRequest:void 0,paymentType:void 0,canUserContinue:!1,paymentProcessing:!1,paymentQuery:void 0,updatePaymentQuery:void 0,updateCartAndGetPaymentOptions:void 0,updateProfile:void 0,currentFlow:void 0,setPaymentSelected:void 0,createAccount:void 0,paymentOptions:{},purchase:void 0,isCarBookProcessing:!1,passengers:void 0,getInsurance:void 0,updateInsurance:void 0,updateTotalForInsurance:void 0,insuranceData:{},ancillariesConfiguration:{},selectedHotel:Object(j.Map)(),selectedHoldOption:{},isBookHotelProcessing:!1,savedInsurance:void 0,pnrLookupQuery:{},getPostBookingInsurance:C.a,sendFreeChinaUnionPaySms:void 0,chinaUnionPay:Object(j.Map)(),isAwardBooking:!1,productTypes:void 0,paymentDetails:void 0,refundData:void 0,getExecutionKey:void 0,cancelPayment:void 0,refundConfiguration:void 0,dropProducts:void 0,refundableItems:void 0,getPaymentDetails:void 0,paymentTypesOrganized:void 0,loggedOut:!1,purchaseCompleted:!1,ABNACNNumber:"",updateCartWithAwardSwitch:C.a,selectedLocale:void 0,locales:void 0,clearChinaUnionPaySmsResponse:void 0,session:Object(j.Map)(),user:Object(j.Map)(),holdOptions:[],isBankIdentificationValid:C.a,validators:{},signInCallback:void 0,dccOptionSelected:{},dccOptions:[],getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,getNextPage:C.a,selectPaymentOption:C.a,travelBankConfiguration:void 0,updateInsuranceWithCart:C.a,setDCCOption:C.a,backendUrl:void 0})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"n",(function(){return v}));var a="payment-credit-card-form",r="credit-card-number",i="credit-card-holderName",s="credit-card-expiration-date",o="credit-card-cvc",l="credit-card-street1",c="credit-card-street2",u="credit-card-country",d="credit-card-state",p="credit-card-city",h="credit-card-zip-code",f="credit-card-email-address",m="credit-card-phone",g="credit-card-house-number",v="dxp-credit-card-summary"},,function(e,t,n){var a=n(116);e.exports=function(e){return a(e).toLowerCase()}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Oe}));var a=n(57),r=n.n(a),i=n(54),s=n.n(i),o=n(26),l=n.n(o),c=n(22),u=n.n(c),d=n(29),p=n.n(d),h=n(28),f=n.n(h),m=n(31),g=n.n(m),v=n(30),y=n.n(v),b=n(3),C=n.n(b),E=n(13),k=n.n(E),O=n(173),_=n.n(O),P=n(245),S=n.n(P),N=n(77),w=n.n(N),A=n(105),T=n.n(A),I=n(27),D=n.n(I),x=n(19),j=n.n(x),L=n(15),F=n.n(L),B=n(122),R=n.n(B),M=n(2),V=n.n(M),U=n(0),q=n.n(U),H=n(18),W=n.n(H),G=n(1),K=n.n(G),z=n(2337),Y=n(1324),Q=n(2030),X=n(11),J=(n(6),n(194),n(12)),$=n(50),Z=n(2054),ee=n(1908),te=n(2351),ne=n(1539),ae=n(195),re=n(1955),ie=n(331),se=n(210),oe=n(2304),le=n(14),ce=n(2305),ue=n(114),de=n(2306),pe=n(2307),he=n(2175),fe=n(136),me=n(584),ge=n(1363),ve=n(521),ye=n(45),be=n(85),Ce=n(2308),Ee=n(2120);n(2490);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Oe=function(t){function n(){var t,a,r;l()(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=p()(this,(t=f()(n)).call.apply(t,[this].concat(s))),C()(g()(r),"state",{showActionError:!1,failureReason:"",showActionWarning:!1,selectedTripOption:Object(X.Map)(),isAddToCalendarModalOpen:!1,isFareRulesModalOpen:!1,isCancelUpgradeModalOpen:!1,showSpinner:!1,showLoginPanelForUpgrade:!1}),C()(g()(r),"subFunctionMapper",(a={},C()(a,Ce.e,(function(){return Object(ce.a)()&&r.generateConfirmation("print")})),C()(a,Ce.a,(function(){return r.showAddToCalendar()})),C()(a,Ce.f,(function(){return r.generateConfirmation("savePDF")})),C()(a,Ce.h,(function(){return r.showFareRules()})),C()(a,Ce.d,(function(){return r.onGoToDashboardClick()})),C()(a,Ce.i,(function(){return r.openInTripCase()})),a)),C()(g()(r),"onActionWarningProceedClick",(function(){return r.setState({showActionWarning:!1}),r.isLoyalty()&&r.state.selectedTripOption.get("loyaltyLogInRequired")?r.props.checkEligibility(r.state.selectedTripOption.valueSeq().toArray()):r.redirect(r.state.selectedTripOption)})),C()(g()(r),"onGoToDashboardClick",(function(){r.props.isUserLoggedIn?r.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(le.a.DASHBOARD)):r.setState({showActionError:!0,failureReason:ie.n})})),C()(g()(r),"onModalClose",(function(){r.setState({selectedTripOption:void 0,showActionWarning:!1})})),C()(g()(r),"onOffloadModalClose",(function(){r.setState({showOffloadModal:!1,showSpinner:!1})})),C()(g()(r),"getDCCSummary",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(X.Map)(),t=j()(e.toJS(),(function(e){return e.paymentDCCSummary}));return q()(D()(t),"paymentDCCSummary",{})})),C()(g()(r),"buildInstallmentPaymentDetails",(function(e){var t=e&&r.getPaymentDataByType(e,Z.c),n=t&&t.get("installmentDetails");return n?n.merge({installmentPaymentCreditCard:t.get("paymentCode")}):void 0})),C()(g()(r),"clearErrors",(function(){r.setState({showActionError:!1,failureReason:""})})),C()(g()(r),"closeUpgradeLoginPanel",(function(){r.props.handleUpgradeFlight(!1),r.setState({showLoginPanelForUpgrade:!1})})),C()(g()(r),"generateConfirmation",(function(t){var n=r.props,a=n.flightSummary,i=n.pnrInfo,s=n.isBNPLBooking,o=n.insuranceInformation,l=void 0===o?Object(X.Map)():o,c=n.tripType,u=n.tripManager,d=n.installmentPaymentDetails,p=a.passengers,h=a.itineraryAirports,f=a.itineraryParts,m=a.shoppingCart,g=a.pnr,v=a.cart,y=l.get("policyNumber",""),b=i.get("documentPaymentDetails"),C={journeyType:c},E=r.getDCCSummary(u.payments),k={pnr:g,passengers:p,itineraryParts:f,itineraryAirports:h,searchCriteria:C,cart:m.get("data")?m.get("data"):v,insurancePolicyNumber:y,paymentDCCSummary:E,isBNPLBooking:s,documentPaymentDetails:b,installmentPaymentDetails:d};ye.a.set(se.a,JSON.stringify(T()(k,V.a))),e.window.open("#/confirmation-print?action=".concat(t,"&locale=").concat(r.props.locale),"_blank")})),C()(g()(r),"handleSubFunctionClick",(function(e,t){e.preventDefault(),r.subFunctionMapper[t]()})),C()(g()(r),"handleTripOptionsClick",(function(e){r.setState({showSpinner:!0}),r.performTripOperations(e.clickKey)})),C()(g()(r),"hideAddToCalendar",(function(){return r.setState({isAddToCalendarModalOpen:!1})})),C()(g()(r),"hideCancelUpgrade",(function(){return r.setState({isCancelUpgradeModalOpen:!1})})),C()(g()(r),"hideFareRules",(function(){return r.setState({isFareRulesModalOpen:!1})})),C()(g()(r),"invokeOffload",(function(){var e=r.props,t=e.flightSummary,n=e.pnrQuery,a=e.origin,i=e.offloadPassenger,s=e.tripOptionsToRender,o=q()(t,["flights",0,"flightSegments","flightSegmentDetail",0]),l=q()(o,"departureTimeUnFormatted"),c=q()(o,"operatingAirline.flightNumber");return r.onOffloadModalClose(),r.setState({showSpinner:!0}),i({pnr:n.pnr,origin:a,flightNumber:c,departureDateTime:l}).then((function(){var e=F()(s,(function(e){return e.clickKey===ge.a.ADD_MODIFY_SEATS}));return e.url?r.redirect(e):r.action(e)})).catch((function(){return null}))})),C()(g()(r),"openInTripCase",(function(){var e=r.props.metadata.get("tripManager").get("tripCaseLink");k()(r.props.pnrQuery,(function(t,n){e=e.replace("{".concat(n,"}"),t)})),window.open(e)})),C()(g()(r),"renderAddToCalendarModal",(function(){return K.a.createElement(ee.a,{key:"add-to-calendar",pnrInfo:r.props.pnrInfo,metadata:r.props.metadata,flightSummary:r.props.flightSummary,onCloseClick:r.hideAddToCalendar})})),C()(g()(r),"renderCancelUpgradeModal",(function(){return K.a.createElement(he.a,{key:"cancel-upgrade",toggleModal:r.hideCancelUpgrade,modalSegmentUpgradeInfos:r.props.modalSegmentUpgradeInfos,cancelUpgradeOffers:r.props.cancelUpgradeOffers,showCancelModalLoading:r.props.showCancelModalLoading})})),C()(g()(r),"renderFareRulesModal",(function(){return K.a.createElement(ne.a,{key:"fare-rules",currentPage:r.props.currentPage,onCloseClick:r.hideFareRules,currentFlow:r.props.currentFlow})})),C()(g()(r),"renderSignInModal",(function(){return K.a.createElement(fe.a,{className:"upgrade-signIn-modal",preventBackButtonDisplay:!0,onCloseClick:r.closeUpgradeLoginPanel},K.a.createElement(me.a,{location:r.props.location,isLoggedIn:!1,id:"upgrade-login-component",title:Object(J.i)("upgrade.upgradeSignInTitle")}))})),C()(g()(r),"showAddToCalendar",(function(){return r.setState({isAddToCalendarModalOpen:!0})})),C()(g()(r),"showCancelUpgrade",(function(){return r.setState({isCancelUpgradeModalOpen:!0,showSpinner:!1})})),C()(g()(r),"showFareRules",(function(){return r.setState({isFareRulesModalOpen:!0})})),C()(g()(r),"signOut",(function(){r.props.signOut(),r.clearErrors()})),r}return y()(n,t),u()(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(w()(this.props.tripOptionsToRender,e.tripOptionsToRender)&&w()(this.state,t)&&w()(this.props.tripManager.redirectOption,e.tripManager.redirectOption)&&w()(this.props.checkInComponents,e.checkInComponents))}},{key:"componentDidUpdate",value:function(e){if(this.props.tripManager.eligibilityError&&this.props.tripManager.eligibilityError!==e.tripManager.eligibilityError&&this.setError(),X.Map.isMap(this.props.tripManager.redirectOption)&&this.props.tripManager.redirectOption!==e.tripManager.redirectOption){var t={url:this.props.tripManager.redirectOption.get("url"),externalUrl:this.props.tripManager.redirectOption.get("externalUrl")};this.redirect(t)}}},{key:"getFlightRoute",value:function(){var e=this.props,t=e.origin,n=e.destination,a=e.tripType===be.a.ROUND_TRIP?$.a.AIRPLANE_ROUTE_ROUND:$.a.AIRPLANE_ROUTE,r={departure:{name:Object(J.a)("airports.".concat(t)),code:t},arrival:{name:Object(J.a)("airports.".concat(n)),code:n}};return K.a.createElement(Y.b,{packageName:"confirmation",airports:r,className:"h4",iconName:a})}},{key:"getSupplementaryData",value:function(){var e=this.props,t=e.tripOptionsToRender,n=e.checkInComponents,a=t,r=n.get("emailAll"),i=n.get("printAll"),o=[];if(S()(r)||o.push(K.a.createElement(r,{key:"email-all"})),S()(i)||o.push(K.a.createElement(i,{key:"print-all"})),!V()(o)){var l=_()(a,{name:ge.a.CHECK_IN});a=-1!==l?[].concat(s()(a.slice(0,l+1)),o,s()(a.slice(l+1))):[].concat(o,s()(a))}var c=Object(J.i)("".concat("confirmation",".collapsedText"));return K.a.createElement(Q.b,{isIconList:!1,onClick:this.handleTripOptionsClick,items:a,collapsedText:c,id:1})}},{key:"setError",value:function(){this.setState({showActionError:!0,failureReason:this.props.tripManager.eligibilityError,showSpinner:!1})}},{key:"action",value:function(e){var t,n=this,a=this.props,r=a.pnrQuery,i=a.getCancelUpgradeOffers,s=a.location,o=a.goToCheckInFlow,l=a.handleUpgradeFlight;return(t={},C()(t,Ce.b,(function(){return i(r).then(n.showCancelUpgrade).catch((function(){return n.setState({showSpinner:!1})}))})),C()(t,Ce.c,(function(){return o(s.query)})),C()(t,Ce.g,(function(){return l(!0)})),t)[e.clickKey]()}},{key:"isLoyalty",value:function(){return(this.props.paymentOptionsDetails||this.props.payments).find((function(e){return e.get("paymentType")===Z.a}))}},{key:"performTripOperations",value:function(e){var t=F()(this.props.tripOptionsToRender,(function(t){return t.clickKey===e}));return t.showError?this.setState({showActionError:!0,showSpinner:!1,failureReason:t.failureReason}):t.showWarning?this.setState({showActionWarning:!0,showSpinner:!1,selectedTripOption:t}):(this.props.setSelectedTripOption&&this.props.setSelectedTripOption(e),ye.a.set("isSeatsExtrasCombined",t.isSeatsExtrasCombined),e===Ce.g&&!this.props.isUserLoggedIn&&this.props.enableForcedLoginForUpgrades?(this.setState({showSpinner:!1,showLoginPanelForUpgrade:!0}),this.action(t)):(e===Ce.b&&this.setState({showSpinner:!0}),e===ge.a.ADD_MODIFY_SEATS&&this.props.atLeastOnePassengerCheckedIn&&this.props.offloadPassenger?this.setState({showOffloadModal:!0}):this.isLoyalty()&&t.loyaltyLogInRequired?this.props.checkEligibility(t):t.url?this.redirect(t):this.action(t)))}},{key:"redirect",value:function(e){var t=this,n={locale:q()(this,"props.locale")};e.externalUrl?(n=W()(n,this.props.pnrQuery),window.location.href="".concat(e.url,"?").concat(Object(ue.l)(n))):this.props.metadata.get("isRulesEnabled")&&e.url==="/".concat(le.a.EDIT_PASSENGER)?Object(Ee.a)(this.props.pnrQuery,{}).finally((function(){return t.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.url,n)})):this.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.url,n)}},{key:"render",value:function(){var e=this.props,t=e.tripSubFunctions,n=e.pnrStatus,a=e.isAuthorable,i=e.pnrQuery,s=e.tripManager,o=e.showTripOptions,l=e.flightStatus,c=e.checkInComponents,u=Object(ae.a)(a,"confirmationHeader"),d=n||Object(J.i)("confirmation.status.".concat(l)),p=V()(i)?oe.a.NEUTRAL:oe.a.SUCCESS,h=q()(i,"pnr")||q()(s,"pnrQuery.pnr"),f=o?this.getSupplementaryData():this.getFlightRoute(),m=c.get("emailBoardingPass"),g=c.get("print"),v=c.get("viewBoardingPass");return K.a.createElement("div",r()({id:re.d},u,{className:"dxp-confirmation-header-wrapper"}),K.a.createElement(z.a,{key:"confirmation-header",supplementaryData:f,recordLocator:h,PACKAGE_NAME_CLASSIFIED:"confirmation",badgeText:d,badgeType:p,iconList:t,iconOnly:!0,onClick:this.handleSubFunctionClick}),this.state.showSpinner&&K.a.createElement(ve.a,{key:"spinner",isModalSpinner:!0}),this.state.showActionWarning&&K.a.createElement(pe.a,{key:"trip-manager-action-warning",tripOption:this.state.selectedTripOption,onModalClose:this.onModalClose,onProceedClick:this.onActionWarningProceedClick}),this.state.showActionError&&K.a.createElement(de.a,{key:"trip-manager-action-error",failureReason:this.state.failureReason,onSignOutClick:this.signOut,onCancelClick:this.clearErrors}),this.state.showLoginPanelForUpgrade&&this.renderSignInModal(),this.state.isAddToCalendarModalOpen&&this.renderAddToCalendarModal(),this.state.isFareRulesModalOpen&&this.renderFareRulesModal(),this.state.isCancelUpgradeModalOpen&&this.renderCancelUpgradeModal(),this.state.showOffloadModal&&K.a.createElement(te.a,{key:"offload-modal",onAcceptClick:this.invokeOffload,onCancelClick:this.onOffloadModalClose}),!S()(m)&&K.a.createElement(m,{isCheckInIntegrated:!0}),g&&K.a.createElement(g,null),v&&K.a.createElement(v,{isCheckInIntegrated:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.eligibilityErrorCode,a=e.isOffloadingInProgress,r=e.enableForcedLoginForUpgrades,i=e.isUserLoggedIn,s=t.prevEligibilityErrorCode,o=t.prevIsOffloadingInProgress,l={};return t.showLoginPanelForUpgrade&&r&&i&&(l.showLoginPanelForUpgrade=!1),(n!==s&&n||o&&!a)&&(l.showSpinner=!1),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l,{prevEligibilityErrorCode:n,prevIsOffloadingInProgress:a})}}]),n}(G.Component);C()(Oe,"defaultProps",{currentPage:void 0,isAuthorable:!0,pnrQuery:void 0,tripManager:void 0,showTripOptions:!1,paymentOptionsDetails:void 0,payments:Object(X.List)(),actionUpdateURLQuery:void 0,getCancelUpgradeOffers:R.a,onAddToCalendarClick:void 0,onShowFareRules:void 0,isUserLoggedIn:!1,signOut:void 0,checkEligibility:void 0,onPrint:void 0,onSaveToPDF:void 0,pnrStatus:void 0,atLeastOnePassengerCheckedIn:!1,checkInComponents:Object(X.Map)(),offloadPassenger:void 0,isOffloadingInProgress:!1,location:void 0,goToCheckInFlow:R.a,origin:void 0,destination:void 0,tripType:void 0,flightSummary:void 0,pnrInfo:void 0,handleUpgradeFlight:R.a,locale:"",metadata:void 0,isBNPLBooking:!1,eligibilityErrorCode:void 0,insuranceInformation:Object(X.Map)(),installmentPaymentDetails:{},flightStatus:"",modalSegmentUpgradeInfos:Object(X.List)(),cancelUpgradeOffers:R.a,showCancelModalLoading:!1,enableForcedLoginForUpgrades:!1,setSelectedTripOption:R.a})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return E}));var a=n(27),r=n.n(a),i=n(51),s=n.n(i),o=n(35),l=n.n(o),c=n(0),u=n.n(c),d=n(11),p=n(2102),h=n(1533),f=n(1289),m=n(7),g=n(2104),v=n(2103),y=n(2057);function b(e,t,n,a,i,o){return function(c,h){var y=s()(u()(h(),"tripDetails",d.default.Map()),"toJS",{}),b=r()(u()(y,"itineraryParts[0].segments",[])),C=u()(b,"flight.airlineCode",""),E=h().metadata.getIn(["editPassengerConfiguration"]),k=Object(f.p)(i,e,o),O=Object(f.n)(l()(k,"dateOfBirth"),E,C,!0);return c({type:"ADD_PASSENGER_REQUEST",passengers:O}),c({type:m.Jf,passengers:e}),p.e(e),p.h(O,t,n).then((function(e){c({type:m.Qb}),c({type:"PASSENGERS_ADDED",data:e,route:a})})).catch((function(e){if("HTTPERROR"===e.errorType){var t=Object(v.a)(e.response),n=Object(g.a)(t);c({type:"PASSENGERS_ERROR",passengersErrors:t,serverValidationErrors:n})}throw e}))}}function C(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){n({type:"GET_PASSENGERS_REQUEST"}),n({type:"ADVISORY_MESSAGES_REQUEST"});var r=a(),i={flightDetails:r.metadata.get("flightDetails"),ancillaryMap:r.metadata.get("ancillaryMap")};return h.c(e,i,t).then((function(e){n({type:"ADVISORY_MESSAGES_RESPONDED",globalAdvisories:u()(e,"advisories"),travelPartAdvisories:u()(e,"travelPartAdvisories")}),n({type:"GET_PASSENGERS_RESPONDED",passengers:e.passengers,multiFrequentFlyerData:e.multiFrequentFlyerData,contact:e.contact,businessLoyalty:e.businessLoyalty})}))}}function E(e){return new Promise((function(t,n){return Object(y.b)(e).then((function(){return t()})).catch((function(){return n()}))}))}},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(49),C=n.n(b),E=n(21),k=n.n(E),O=n(0),_=n.n(O),P=n(2),S=n.n(P),N=n(1),w=n.n(N),A=n(6),T=n(39),I=n.n(T),D=n(158),x=n.n(D),j=n(11),L=n(12),F=(n(194),n(195)),B=n(5),R=n.n(B),M=n(50),V=n(1907),U=n(1281);n(2406);function q(e,t){return"ancillary-".concat(e,"-itinerary-part-").concat(t)}var H=function(e){var t=e.itineraryPartIndex,n=e.ancillary,a=e.itineraryPartKey,r=e.journeyType,i=e.isCollapsed,s=e.children,o=0===t,l=_()(n,"offers.itineraryParts[".concat(a,"]")),c=function(e,t){var n;return I()((n={},y()(n,M.a.AIRPLANE_DEPART,e.isMultiCity||t),y()(n,M.a.AIRPLANE_ARRIVE,!e.isMultiCity&&!t),n))}(r,o),u=function(e,t,n,a){if(n.isMultiCity){var r=_()(e,"offers.itineraryParts",{}),i=C()(r),s=_()(r,"".concat(i[t],"].destination"),e.offers.destination),o=_()(r,"".concat(i[t],"].origin"),e.offers.origin);return Object(L.i)("ancillary.multiCityTitle",{index:t+1,from:Object(L.i)("airports.".concat(o)),to:Object(L.i)("airports.".concat(s))})}return a?"ancillary.departureFlights":"ancillary.returnFlights"}(n,t,r,o);return w.a.createElement(V.a,{hideHeaderIcon:!0,isCollapsed:i,className:I()("dxp-ancillary-flight","row",{"is-departure":o}),id:q(n.code,l.key)},w.a.createElement(V.a.Header,null,w.a.createElement(U.a,{className:"flight-title",icon:c,iconFill:!i,title:u})),w.a.createElement(V.a.Body,null,s))};H.defaultProps={isCollapsed:!1};var W=H,G=n(43),K=n.n(G),z=n(95),Y=n.n(z),Q=n(321),X=n.n(Q),J=n(117),$=n(100);n(2407);function Z(e){var t=e.parameters,n=e.ancillariesConfiguration,a=e.ancillary,r=e.itineraryPart,i=e.travelPartType,s=_()(r||_()(a,"offers"),"offeringType"),o=a&&n.ancillaryInventoryEnabled&&a.inventoryMessage&&s!==$.a.WEIGHT;return w.a.createElement("div",{className:I()("travel-part-title",X()(i))},w.a.createElement("span",{dir:"ltr"},t.airlineCode&&w.a.createElement("span",{className:"airline-code"},t.airlineCode),w.a.createElement("span",{className:"flight-number"},t.flightNumber)),w.a.createElement("span",{className:"origin"},t.origin),w.a.createElement(M.c,{name:M.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(L.i)("app.to")}),w.a.createElement("span",{className:"destination"},t.destination),o&&t.isInventoryControlled&&w.a.createElement("span",{className:"inventory-message"},Object(L.a)("ancillary.inventory.limitedAvailability")))}Z.defaultProps={parameters:{},ancillariesConfiguration:{},ancillary:{},itineraryPart:{},travelPartType:void 0};var ee=Z;function te(e){var t=e.ancillary,n=e.className,a=I()("unavailable-message-for-leg",n);return w.a.createElement("p",{className:a},Object(L.a)("ancillary.items.".concat(t.code,".unavailable")))}te.defaultProps={ancillary:{},className:""};var ne=te,ae=n(1338),re=n(157),ie="CHECKBOX",se=n(19),oe=n.n(se),le=n(83),ce=n.n(le),ue=n(115),de=n.n(ue),pe=n(34),he=n.n(pe),fe=n(13),me=n.n(fe),ge=n(8),ve=n.n(ge),ye=n(130),be=n.n(ye),Ce=n(176),Ee=n.n(Ce),ke=n(18),Oe=n.n(ke),_e=n(122),Pe=n.n(_e),Se=n(1324),Ne=n(1249),we=n(245),Ae=n.n(we),Te=n(1297),Ie=n.n(Te),De=n(1264),xe=n(1690),je=n.n(xe),Le=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onKeyUp",(function(e){e.preventDefault(),e.stopPropagation();var t=n.props,a=t.disableDecrement,r=t.disableIncrement;switch(e.keyCode){case Ie()("up"):!r&&n.sparkNumberSelector.increment();break;case Ie()("down"):!a&&n.sparkNumberSelector.decrement()}})),n}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.sparkNumberSelector=new je.a(this.numberSelectorEl,{onChange:this.props.onChange})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.label,r=t.id,i=t.min,s=t.max,o=t.steps,l=t.value,c=t.disableDecrement,u=t.disableIncrement,d=t.ariaLabelDecrementButton,p=t.ariaLabelIncrementButton,h=t.disableInput,f=t.ariaDescribedById,m=t.readOnlyText,g=I()("dx-number-selector-container",n,"ducp-component-number-selector"),v=Ae()(f)?"".concat(r," read-only-text-").concat(r):"".concat(r," read-only-text-").concat(r," ").concat(f);return w.a.createElement("div",{className:g},w.a.createElement("div",{className:"spark-number-selector",ref:function(t){e.numberSelectorEl=t}},w.a.createElement("div",{className:"spark-number-selector__item"},w.a.createElement("input",{className:"number-input",disabled:h,onKeyUp:this.onKeyUp,type:"number",id:r,min:i,max:s,step:o,value:l,"aria-live":"assertive","aria-describedby":"".concat(r,"-example-number-selector__message"),readOnly:!0}),w.a.createElement("span",{className:"spark-assistive-text",id:"read-only-text-".concat(r)},m),w.a.createElement(De.a,{ariaLabel:d,disabled:c,className:"spark-btn spark-icon spark-btn--secondary spark-icon-math-subtract spark-number-selector__down decrement-button","aria-controls":r,"aria-describedby":v}),w.a.createElement(De.a,{ariaLabel:p,disabled:u,className:"spark-btn spark-icon spark-btn--secondary spark-icon-math-add spark-number-selector__up increment-button","aria-controls":r,"aria-describedby":v}),w.a.createElement("label",{htmlFor:r},w.a.createElement("span",{className:"spark-assistive-text"},a))),w.a.createElement("span",{id:"".concat(r,"-example-number-selector__message"),className:"spark-number-selector__message",role:"alert"})))}}]),t}(N.PureComponent);y()(Le,"defaultProps",{className:void 0,min:0,max:void 0,label:void 0,steps:1,value:0,id:void 0,onChange:Pe.a,disableIncrement:!1,disableDecrement:!1,disableInput:!1,ariaLabelDecrementButton:void 0,ariaLabelIncrementButton:void 0,ariaDescribedById:void 0,readOnlyText:void 0});var Fe=function(e){var t=e.subCode,n=e.displayAncillaryLeft,a=e.availableInventory,r=e.price,i=e.originalPrice,s=e.displayNoSpaceAvailable,o=e.PACKAGE_NAME_CLASSIFIED,l=e.className,c=e.id;return w.a.createElement("div",{className:I()("bag-weight-container",l),id:c,"aria-hidden":"false"},w.a.createElement("div",{className:"bag-specs"},Object(L.a)([o,"baggage","subCodes",t])),r&&w.a.createElement("div",{className:"bag-item-price"},w.a.createElement(Ne.a,{price:r,originalPrice:i,PACKAGE_NAME_CLASSIFIED:o})),n&&w.a.createElement("div",{className:"inventory"},a,Object(L.a)([o,"left"])),s&&w.a.createElement("div",{className:"inventory"},Object(L.a)([o,"noSpaceAvailable"])))};Fe.defaultProps={displayAncillaryLeft:!1,displayNoSpaceAvailable:!1,availableInventory:void 0,price:void 0,originalPrice:void 0,className:void 0};var Be=Fe;function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"createOnChangeHandler",(function(e){var t=e.ancillary;return function(e){return n.props.onChange({subCode:t.subCode,count:e})}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,i=t.passenger,s=t.bagRowId,o=t.numberSelectorReadOnlyText,l=i.id,c=i.personName,u=i.total,d=i.baggageAllowance,p=i.baggageEntitlements,h=i.allowanceWithEntitlements,f=i.ancillaries,m=i.count,g=i.showRemoveButton,v=i.hasSelectedAncillary,y=i.isFulfilledStatus;return w.a.createElement("div",{className:I()("passenger-bag-row",n,{"has-selected":v}),key:l},w.a.createElement("div",{className:"each-cell passenger-name-container"},w.a.createElement("div",{className:"passenger-name"},Object(L.a)([a,"name"],Me({},c))),w.a.createElement("div",{className:"count-total-const-container"},w.a.createElement("div",{className:"passenger-suitcase-count"},w.a.createElement(M.c,{className:"passenger-total-bags",size:"md",fill:!0,name:M.a.SUITCASE}),Object(L.a)([a,"baggage","totalBagsForPassenger"],{totalBagsCount:m})),u&&w.a.createElement(Ne.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:a,price:u,includeDecimal:!0})),h>0&&w.a.createElement("div",{className:"allowance"},Object(L.a)([a,"baggage","allowance"],{allowance:d,entitlements:p,allowanceWithEntitlements:h,count:m})),g&&w.a.createElement("div",{className:"remove-button-container"},w.a.createElement("div",{className:"remove-help-text"},Object(L.a)([a,"baggage","removeBagsHelpText"])),w.a.createElement(De.a,{ariaLabel:Object(L.i)([a,"baggage","removeBagsAriaLabel"],Me({},c)),onClick:this.props.onRemoveClick,isNegativeButton:!0,className:"remove-bags xs",label:Object(L.a)([a,"baggage","removeBags"])})),y&&w.a.createElement("div",{className:"fulfilled-help-text"},Object(L.a)([a,"baggage","bagsAreFulfilled"]))),w.a.createElement("div",{className:"bag-items-container"},f.map((function(t){return w.a.createElement("div",{className:"each-passenger-bag each-cell",key:t.id},w.a.createElement(Be,r()({},t,{PACKAGE_NAME_CLASSIFIED:a,id:"bag-weight-".concat(s,"-").concat(t.subCode)})),w.a.createElement(Le,{max:t.max,disableIncrement:t.disableIncrement,disableDecrement:t.disableDecrement,disableInput:!0,ariaLabelDecrementButton:Object(L.i)([a,"baggage","decrementBagsAriaLabel"],Me({},c)),ariaLabelIncrementButton:Object(L.i)([a,"baggage","incrementBagsAriaLabel"],Me({},c)),id:"".concat(s,"-number-selector-").concat(t.subCode),value:t.count,label:Object(L.i)([a,"baggage","numberSelector"]),onChange:e.createOnChangeHandler({ancillary:t}),ariaDescribedById:"bag-weight-".concat(s,"-").concat(t.subCode),readOnlyText:o}))}))))}}]),t}(N.Component);y()(Ve,"defaultProps",{bagRowId:"",className:void 0,maxBagsPerPassenger:void 0,onChange:Pe.a,onRemoveClick:Pe.a,numberSelectorReadOnlyText:void 0});var Ue=function(e){var t=e.PACKAGE_NAME_CLASSIFIED,n=e.passenger;return w.a.createElement("div",{className:"unavailable-message"},w.a.createElement("div",{className:"passenger-name"},Object(L.a)([t,"name"],n.personName)),Object(L.a)([t,"unavailableForPassenger"],{typeName:Object(L.i)([t,"passengerType","codes",n.personName.type])}))},qe=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"createOnChangeHandler",(function(e){var t=e.passenger;return function(e){var a=e.subCode,r=e.count;return n.props.onChange({subCode:a,passengerId:t.id,count:r})}})),y()(f()(n),"createOnRemoveHandler",(function(e){var t=e.passenger;return function(){return n.props.onRemoveClick({passengerId:t.id})}})),n}return g()(t,e),l()(t,[{key:"renderPassenger",value:function(e){var t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment,r=t.maxBagsPerPassenger,i=t.numberSelectorReadOnlyText;return e.isNotAvailable?w.a.createElement(Ue,{PACKAGE_NAME_CLASSIFIED:n,passenger:e,key:"".concat(a.id,"-").concat(e.id)}):w.a.createElement(Ve,{maxBagsPerPassenger:r,key:"".concat(a.id,"-").concat(e.id),bagRowId:"".concat(a.id,"-").concat(e.id),passenger:e,onChange:this.createOnChangeHandler({passenger:e}),onRemoveClick:this.createOnRemoveHandler({passenger:e}),PACKAGE_NAME_CLASSIFIED:n,numberSelectorReadOnlyText:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment;return w.a.createElement("div",{className:"segment"},w.a.createElement(Se.b,{airports:a,packageName:n}),w.a.createElement("div",{className:"passengers"},a.passengers.map((function(t){return e.renderPassenger(t)}))))}}]),t}(N.PureComponent);y()(qe,"defaultProps",{onChange:Pe.a,maxBagsPerPassenger:void 0,onRemoveClick:Pe.a,numberSelectorReadOnlyText:void 0});var He=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"createOnChangeHandler",(function(e){var t=e.segment;return function(e){var a=e.subCode,r=e.passengerId,i=e.count;return n.props.onChange({segmentId:t.id,subCode:a,passengerId:r,count:i})}})),y()(f()(n),"createOnRemoveHandler",(function(e){var t=e.segment;return function(e){var a=e.passengerId;return n.props.onRemoveClick({segmentId:t.id,passengerId:a})}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.segments,i=t.maxBagsPerPassenger,s=t.numberSelectorReadOnlyText;return w.a.createElement("div",{className:I()("spark-panel",n,"ducp-component-bags")},w.a.createElement("div",{className:"spark-panel__content"},r.map((function(t){return w.a.createElement(qe,{onRemoveClick:e.createOnRemoveHandler({segment:t}),maxBagsPerPassenger:i,segment:t,PACKAGE_NAME_CLASSIFIED:a,onChange:e.createOnChangeHandler({segment:t}),key:t.id,numberSelectorReadOnlyText:s})}))))}}]),t}(N.PureComponent);y()(He,"defaultProps",{className:void 0,onChange:Pe.a,onRemoveClick:Pe.a,maxBagsPerPassenger:void 0,numberSelectorReadOnlyText:void 0});var We=He,Ge=n(35),Ke=n.n(Ge);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{count:n.props.passenger.count}),y()(f()(n),"onChange",(function(e){var t=n.props,a=t.onChange,r=t.passenger.id;n.count=e,n.setState({count:e},(function(){a({passengerId:r,count:e})}))})),y()(f()(n),"onRemoveClick",(function(e){return function(){n.props.onRemoveClick({passengerId:e})}})),n}return g()(t,e),l()(t,[{key:"getTotalCount",value:function(){var e=_()(this.state,"count",0);return this.props.passenger.hasSelectedAncillary?e+this.props.passenger.baggageAllowance:e}},{key:"shouldDisableIncrementButton",value:function(){var e=this.props.maxBagsPerPassenger||this.props.passenger.max;if(this.state.count>=e)return!0;var t=this.props.passenger,n=t.isFulfilledStatus,a=t.hasSelectedAncillary;return t.disableIncrement||a&&!n}},{key:"shouldDisableDecrementButton",value:function(){var e=this.props.passenger,t=e.isFulfilledStatus,n=e.hasSelectedAncillary;return e.disableDecrement||n&&!t}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.PACKAGE_NAME_CLASSIFIED,a=e.passenger,r=e.maxBagsPerPassenger,i=e.isBaggage,s=e.bagRowId,o=e.numberSelectorInputDisabled,l=e.numberSelectorReadOnlyText,c=a.id,u=a.personName,d=a.isFulfilledStatus,p=a.hasSelectedAncillary,h=a.baggageAllowance,f=a.displayAncillaryLeft,m=a.availableInventory,g=a.displayNoSpaceAvailable,v=a.total,y=a.min,b=a.max,C=a.ancillaries||{},E=C.subCode,k=C.price,O=p&&!d,_=b||r;return w.a.createElement("div",{className:I()("passenger-spinner-list",t,{"has-selected":O})},w.a.createElement("div",{className:"passenger-details-bag-amount-container"},w.a.createElement("div",{className:"each-cell passenger-name-container"},w.a.createElement("div",{className:"passenger-name"},Object(L.a)([n,"name"],u)),i&&w.a.createElement("div",{className:"passenger-suitcase-count"},w.a.createElement(M.c,{className:"passenger-total-bags",size:"md",fill:!0,name:M.a.SUITCASE}),Object(L.a)([n,"baggage","totalBagsForPassenger"],{totalBagsCount:this.getTotalCount()})),h>0&&w.a.createElement("div",{className:"allowance"},Object(L.a)([n,"baggage","allowance"],{allowance:h})),f&&w.a.createElement("div",{className:"inventory"},m,Object(L.a)([n,"left"])),O&&w.a.createElement("div",{className:"remove-button-container"},w.a.createElement("div",{className:"remove-help-text"},Object(L.a)([n,"baggage","removeBagsHelpText"])),w.a.createElement(De.a,{ariaLabel:Object(L.i)([n,"baggage","removeBagsAriaLabel"],Ye({},u)),onClick:this.onRemoveClick(c),isNegativeButton:!0,className:"remove-bags xs",label:Object(L.a)([n,"baggage","removeBags"])})),g&&w.a.createElement("div",{className:"inventory"},Object(L.a)([n,"noSpaceAvailable"]))),v&&w.a.createElement(Ne.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:n,price:v,includeDecimal:!0})),w.a.createElement("div",{className:"baggage-passenger-holder"},w.a.createElement("div",{className:"bag-weight-container",id:"bag-weight-container-".concat(s)},E&&w.a.createElement("div",{className:"baggage-weight"},Object(L.a)([n,"baggage","subCodes",E])),k&&w.a.createElement("div",{className:"bag-item-price"},w.a.createElement(Ne.a,{price:k,PACKAGE_NAME_CLASSIFIED:n}))),w.a.createElement("div",{className:"each-passenger-bag each-cell"},w.a.createElement(Le,{label:Object(L.i)([n,"baggage","numberSelector"]),id:s,min:y,max:_,value:this.state.count,disableIncrement:this.shouldDisableIncrementButton(),disableDecrement:this.shouldDisableDecrementButton(),disableInput:O||o,ariaLabelDecrementButton:Object(L.i)([n,"baggage","decrementBagsAriaLabel"],Ye({},u)),ariaLabelIncrementButton:Object(L.i)([n,"baggage","incrementBagsAriaLabel"],Ye({},u)),onChange:this.onChange,ariaDescribedById:"bag-weight-container-".concat(s),readOnlyText:l}))))}}]),t}(N.Component);y()(Qe,"defaultProps",{bagRowId:"",className:void 0,maxBagsPerPassenger:void 0,onChange:Pe.a,onRemoveClick:Pe.a,isBaggage:!1,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var Xe=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{segmentData:R()(n.props.segment.passengers,(function(e){return{passengerId:e.id,count:_()(e,"count",0)}}))}),y()(f()(n),"onChange",(function(e){n.setState((function(t){var n=t.segmentData,a=oe()(n,(function(t){return t.passengerId!==e.passengerId}));return a.push(e),{segmentData:a}}),(function(){return n.props.onChange(n.state.segmentData)}))})),n}return g()(t,e),l()(t,[{key:"renderPassenger",value:function(e){var t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment,r=t.maxBagsPerPassenger,i=t.onRemoveClick,s=t.isBaggage,o=t.numberSelectorInputDisabled,l=t.numberSelectorReadOnlyText;return e.isNotAvailable?w.a.createElement(Ue,{PACKAGE_NAME_CLASSIFIED:n,passenger:e,key:"".concat(a.id,"-").concat(e.id)}):w.a.createElement(Qe,{maxBagsPerPassenger:r,key:"".concat(a.id,"-").concat(e.id),bagRowId:"".concat(a.id,"-").concat(e.id),passenger:e,onChange:this.onChange,onRemoveClick:i,isBaggage:s,PACKAGE_NAME_CLASSIFIED:n,numberSelectorInputDisabled:o,numberSelectorReadOnlyText:l})}},{key:"render",value:function(){var e=this,t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment;return w.a.createElement("div",{className:"segment"},w.a.createElement(Se.b,{airports:a,packageName:n}),w.a.createElement("div",{className:"passengers"},a.passengers.map((function(t){return e.renderPassenger(t)}))))}}]),t}(N.PureComponent);y()(Xe,"defaultProps",{onChange:Pe.a,maxBagsPerPassenger:void 0,onRemoveClick:Pe.a,isBaggage:!1,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var Je=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{data:{}}),y()(f()(n),"onChange",(function(e){return function(t){n.setState((function(n){var a=n.data,r=Ke()(a,e);return r[e]=t,{data:r}}),(function(){return n.props.onChange(n.state.data)}))}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.segments,i=t.maxBagsPerPassenger,s=t.onRemoveClick,o=t.isBaggage,l=t.numberSelectorInputDisabled,c=t.numberSelectorReadOnlyText;return w.a.createElement("div",{className:I()("spark-panel",n,"ducp-component-bags")},w.a.createElement("div",{className:"spark-panel__content"},r.map((function(t){return w.a.createElement(Xe,{onRemoveClick:s,maxBagsPerPassenger:i,segment:t,PACKAGE_NAME_CLASSIFIED:a,onChange:e.onChange(t.id),key:t.id,isBaggage:o,numberSelectorInputDisabled:l,numberSelectorReadOnlyText:c})}))))}}]),t}(N.PureComponent);y()(Je,"defaultProps",{className:void 0,onChange:Pe.a,onRemoveClick:Pe.a,maxBagsPerPassenger:void 0,isBaggage:!1,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var $e=Je,Ze=n(4),et=n.n(Ze),tt=n(1987),nt=n.n(tt),at=n(2199),rt=function(e,t){return w.a.createElement("div",{className:"bag-specs"},w.a.createElement("div",{className:"weight-specs"},Object(L.a)([t,"baggage","subCodes",e.code])),e.price&&w.a.createElement(Ne.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:t,price:e.price,includeDecimal:!0}))},it=function(e){var t=e.subCodes,n=e.selectedSubCode,a=e.disabled,r=e.disabledSubCodes,i=e.PACKAGE_NAME_CLASSIFIED;return R()(t,(function(e){return{label:rt(e,i),checked:e.code===n,className:"bag-weight ".concat(e.code),value:e.code,disabled:a||r[e.code]}}))},st=function(e){var t=e.index,n=e.PACKAGE_NAME_CLASSIFIED,a=e.componentId,r=e.onChange,i=e.subCodes,s=e.selectedSubCode,o=e.disabled,l=e.disabledSubCodes;return w.a.createElement("div",{className:"bag-weights"},w.a.createElement("div",{className:"bag-index"},w.a.createElement(M.c,{size:"md",fill:!0,name:M.a.SUITCASE}),Object(L.a)([n,"checkedBag"],{index:t+1})),w.a.createElement("div",{className:"select-weight"},Object(L.a)([n,"selectWeight"])),w.a.createElement(at.a,{name:"bag-weights-toggle-".concat(a),onChange:function(e,t){return r(t)},items:it({subCodes:i,selectedSubCode:s,disabled:o,disabledSubCodes:l,PACKAGE_NAME_CLASSIFIED:n})}))};st.defaultProps={subCodes:[],selectedSubCode:void 0,disabled:!1,disabledSubCodes:{},onChange:Pe.a};var ot=st;function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"renderBagWeights",(function(e){var t=n.props,a=t.passenger,r=t.componentId,i=t.PACKAGE_NAME_CLASSIFIED;return w.a.createElement(ot,{index:e,key:"".concat(r,"-").concat(a.id,"-").concat(e),componentId:"".concat(r,"-").concat(a.id,"-").concat(e),subCodes:a.subCodes,selectedSubCode:a.selectedSubCodes[e],disabledSubCodes:n.getDisabledSubCodes(e),disabled:!a.modificationAllowed,onChange:function(t){return n.props.onWeightSelectionChange({index:e,subCode:t})},PACKAGE_NAME_CLASSIFIED:i})})),n}return g()(t,e),l()(t,[{key:"getDisabledSubCodes",value:function(e){var t=this.props.passenger,n=t.subCodes,a=t.selectedSubCodes,r=nt()(a.slice(0,e));return et()(n,(function(e,t){var n=r[t.code];return e[t.code]=n>=t.max,e}),{})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.passenger,i=t.bagRowId,s=t.numberSelectorInputDisabled,o=t.numberSelectorReadOnlyText,l=r.personName,c=r.baggageAllowance,u=r.total;return w.a.createElement("div",{className:I()("passenger-weights-list",n)},w.a.createElement("div",{className:"passenger-controls-container"},w.a.createElement("div",{className:"each-cell passenger-name-container"},w.a.createElement("div",{className:"passenger-name"},Object(L.a)([a,"name"],l)),c>0&&w.a.createElement("div",{className:"allowance"},Object(L.a)([a,"baggage","allowance"],{allowance:c})),r.displayAncillaryLeft&&w.a.createElement("div",{className:"inventory"},r.availableInventory,Object(L.a)([a,"left"])),r.displayNoSpaceAvailable&&w.a.createElement("div",{className:"inventory"},Object(L.a)([a,"noSpaceAvailable"]))),u&&w.a.createElement(Ne.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:a,price:u,includeDecimal:!0}),w.a.createElement("div",{className:"each-passenger-bag each-cell"},w.a.createElement(Le,{label:Object(L.i)([a,"baggage","numberSelector"]),id:i,min:r.min,max:r.max,value:r.value,ariaLabelDecrementButton:Object(L.i)([a,"baggage","decrementBagsAriaLabel"],ct({},l)),ariaLabelIncrementButton:Object(L.i)([a,"baggage","incrementBagsAriaLabel"],ct({},l)),disableIncrement:r.disableIncrement,disableDecrement:r.disableDecrement,onChange:function(t){return e.props.onQuantityChange({count:t})},disableInput:s,readOnlyText:o}))),w.a.createElement("div",{className:"weight-list"},Ee()(r.value,this.renderBagWeights)))}}]),t}(N.Component);y()(ut,"defaultProps",{bagRowId:"",className:void 0,onQuantityChange:Pe.a,onWeightSelectionChange:Pe.a,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var dt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onQuantityChange",(function(e){return function(t){var a=t.count;return n.props.onQuantityChange({passengerId:e,count:a})}})),y()(f()(n),"onWeightSelectionChange",(function(e){return function(t){var a=t.index,r=t.subCode;return n.props.onWeightSelectionChange({passengerId:e,index:a,subCode:r})}})),n}return g()(t,e),l()(t,[{key:"renderPassenger",value:function(e){var t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment,r=t.numberSelectorInputDisabled,i=t.numberSelectorReadOnlyText;return e.isNotAvailable?w.a.createElement(Ue,{PACKAGE_NAME_CLASSIFIED:n,passenger:e,key:"".concat(a.id,"-").concat(e.id)}):w.a.createElement(ut,{key:"".concat(a.id,"-").concat(e.id),bagRowId:"".concat(a.id,"-").concat(e.id),componentId:"".concat(a.id,"-").concat(e.id),passenger:e,onWeightSelectionChange:this.onWeightSelectionChange(e.id),onQuantityChange:this.onQuantityChange(e.id),PACKAGE_NAME_CLASSIFIED:n,numberSelectorInputDisabled:r,numberSelectorReadOnlyText:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment;return w.a.createElement("div",{className:"segment"},w.a.createElement(Se.b,{airports:a,packageName:n}),w.a.createElement("div",{className:"passengers"},a.passengers.map((function(t){return e.renderPassenger(t)}))))}}]),t}(N.PureComponent);y()(dt,"defaultProps",{onQuantityChange:Pe.a,onWeightSelectionChange:Pe.a,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var pt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onQuantityChange",(function(e){return function(t){var a=t.passengerId,r=t.count;return n.props.onQuantityChange({segmentId:e,passengerId:a,count:r})}})),y()(f()(n),"onWeightSelectionChange",(function(e){return function(t){var a=t.passengerId,r=t.index,i=t.subCode;return n.props.onWeightSelectionChange({segmentId:e,passengerId:a,index:r,subCode:i})}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.segments,i=t.numberSelectorInputDisabled,s=t.numberSelectorReadOnlyText;return w.a.createElement("div",{className:I()("spark-panel",n,"ducp-component-bags")},w.a.createElement("div",{className:"spark-panel__content"},r.map((function(t){return w.a.createElement(dt,{segment:t,PACKAGE_NAME_CLASSIFIED:a,onWeightSelectionChange:e.onWeightSelectionChange(t.id),onQuantityChange:e.onQuantityChange(t.id),key:t.id,numberSelectorInputDisabled:i,numberSelectorReadOnlyText:s})}))))}}]),t}(N.PureComponent);y()(pt,"defaultProps",{className:void 0,onQuantityChange:Pe.a,onWeightSelectionChange:Pe.a,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var ht=pt;n(2408);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onChange",(function(e){var a=n.props,r=a.ancillary,i=a.segmentKey,s=a.itineraryPartKey,o=e["".concat(s,"-").concat(i)],l=Object(ae.i)(r,s,i),c=oe()(o,(function(e){return l[e.passengerId]}));me()(c,(function(e){var a=e.passengerId,i=e.count,s=he()(l[a]),o=t.getQuantity(s);if(i!==o){var c=r.availableInventory,u=o<i,d=t.getNewInventoryCount(c,u);s.quantity=i,s=t.updateChildQuantity(s),l[a]=s,n.props.onChange(r,l,d)}}))})),y()(f()(n),"transformBags",(function(e){var t=n.props,a=t.ancillary,r=t.offeringType,i=n.getInventory("available"),s=_()(e,r);return mt({ancillaries:{subCode:_()(ce()(s),"0.code"),price:_()(ce()(s),"0.prices.total")}},n.getControlQuantities(e),{displayAncillaryLeft:_()(a,"hasInventory",!1),price:_()(e,"total",{}),displayNoSpaceAvailable:i<=0,availableInventory:i})})),n}return g()(t,e),l()(t,[{key:"getControlQuantities",value:function(e){var n=this.props,a=n.ancillary,r=n.reducingSpinnerValueThanMinValueNotAllowed,i=void 0!==r&&r,s=n.enabled,o=n.offeringCodesNotAllowedForReducingQuantity,l=void 0===o?[]:o,c=n.increasingSpinnerValueThanMaxAllowed,u=void 0!==c&&c,d=n.offeringCodesNotAllowedForIncreasingQuantity,p=void 0===d?[]:d,h=n.isDecrementDisabled,f=n.isIncrementDisabled,m=_()(a,"hasInventory",!1),g=!S()(e)&&e.available,v=this.getInventory("available"),y=_()(e,"originalAssignedQuantity",0),b=function(e,t){return function(n,a,r){return n&&(S()(a)||k()(a,e))?_()(t,"originalAssignedQuantity"):r}}(_()(a,"code"),e),C=b(i,l,0),E=b(u,p,this.getMaxQuantity(a,e)),O=t.getQuantity(e),P=!(s&&(g||m)&&e.modificationAllowed);return{max:E,min:C,count:O,disableIncrement:f&&O===y||P||m&&v<=0||O>=E,disableDecrement:h&&O===y||P||O<=C}}},{key:"getInventory",value:function(e){var t=this.props,n=t.ancillary,a=t.segmentKey,r=t.itineraryPartKey,i=_()(n,"offers.itineraryParts[".concat(r,"].segments[").concat(a,"].").concat(e,"Inventory"));return void 0===i&&(i=_()(n,"offers.itineraryParts[".concat(r,"].").concat(e,"Inventory"))),void 0===i?_()(n,"".concat(e,"Inventory"),999):i}},{key:"getMaxQuantity",value:function(e,t){return _()(e,"hasInventory",!1)?this.getInventory("total"):_()(t,"maxQuantity")||_()(this,"props.ancillary.maxQuantity")||_()(this,"props.ancillary.maxGroupedQuantity")||1/0}},{key:"getSegments",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.bagAllowance,i=e.passengers;return Object(ae.l)(t,n,a,r,this.transformBags,i)}},{key:"render",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.isMobile;return w.a.createElement("div",{className:I()("dxp-passenger-spinner-list",{"mobile-view":r})},w.a.createElement($e,{"data-ancillary":t.code,"data-itinerary-part":a,"data-segment":n,isBaggage:t.isBaggage,segments:this.getSegments(),onChange:this.onChange,PACKAGE_NAME_CLASSIFIED:"ancillary",numberSelectorInputDisabled:!0,numberSelectorReadOnlyText:Object(L.a)("ancillary.numberSelectorReadOnlyText")}))}}],[{key:"getNewInventoryCount",value:function(e,t){if(de()(e))return t?e-1:e+1}},{key:"getQuantity",value:function(e){return e.quantity||0}},{key:"getTotal",value:function(e){return _()(e,"total")}},{key:"renderUnavailableMessage",value:function(e){return w.a.createElement("div",{className:"unavailable-message"},Object(L.a)("ancillary.unavailableForPassenger",Oe()({},e,{typeName:Object(L.i)("passengerType.codes.".concat(e.type))})))}},{key:"resetQuantity",value:function(e){var t=he()(e);return me()(t,(function(e,n){t[n].quantity=0})),t}},{key:"updateChildQuantity",value:function(e){var n=_()(e,$.a.PIECE);if(!S()(n))return t.updatePieceQuantity(e,n);var a=_()(e,$.a.REGULAR);return S()(a)?e:t.updateRegularQuantity(e,a)}},{key:"updatePieceQuantity",value:function(e,n){var a=he()(n),r=t.getQuantity(e);return a=t.resetQuantity(a),Ee()(r,(function(e){var t=be()(a,(function(t){return _()(t,"bagCharacteristics.PIECES")===e+1}));ve()(a[t],"quantity",1)})),ve()(e,$.a.PIECE,a),e}},{key:"updateRegularQuantity",value:function(e,n){var a=he()(n),r=t.getQuantity(e);a=t.resetQuantity(a);for(var i=C()(a),s=0;s<i.length&&!(s>=r);s+=1)s<i.length-1?ve()(a[i[s]],"quantity",1):ve()(a[i[s]],"quantity",r-s);return ve()(e,$.a.REGULAR,a),e}}]),t}(N.Component);y()(gt,"defaultProps",{ancillary:{},segmentKey:"",itineraryPartKey:"",onChange:void 0,enabled:!1,reducingSpinnerValueThanMinValueNotAllowed:!1,increasingSpinnerValueThanMaxAllowed:!1,offeringCodesNotAllowedForIncreasingQuantity:!1,offeringCodesNotAllowedForReducingQuantity:!1,bagAllowance:Object(j.Map)(),isDecrementDisabled:!1,isIncrementDisabled:!1,offeringType:$.a.PIECE,isMobile:!1,passengers:{}});var vt=n(15),yt=n.n(vt),bt=n(246),Ct=n.n(bt),Et=n(144),kt=n.n(Et),Ot=n(175),_t=n.n(Ot),Pt=n(55),St=n.n(Pt),Nt=n(528),wt=(n(2409),n(2410),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"paxCheckBox",{}),y()(f()(n),"isAncillarySelectedForAnyPassengerInCurrentFlow",(function(e){return K()(yt()(e,(function(e){return e.originalAssignedQuantity<e.quantity})))})),n}return g()(t,e),l()(t,[{key:"onCheck",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.itineraryPartKey,s=a.segmentKey,o=Object(ae.i)(r,i,s),l=Object(ae.c)(r,0),c=Object(ae.g)(l,e);return t.quantity=e?1:0,o[n]=t,this.props.onChange&&this.props.onChange(r,o,c)}},{key:"onSelectAllCheck",value:function(e,t){var n=this,a=this.props,r=a.ancillary,i=a.itineraryPartKey,s=a.segmentKey,o=Object(ae.i)(r,i,s),l=e?1:0,c=Object(ae.c)(r,0);return me()(o,(function(a,r){if(_()(n.paxCheckBox[a.index],"props.disabled",!0)||(a.quantity=l),(e&&!_()(n.paxCheckBox[a.index],"props.checked")||!e&&_()(n.paxCheckBox[a.index],"props.checked"))&&(c=Object(ae.g)(c,e)),t&&"1"===r)return!1})),this.props.onChange&&this.props.onChange(r,o,c)}},{key:"getValue",value:function(){var e=this.props,t=e.ancillary,n=e.itineraryPartKey,a=e.segmentKey,r=Object(ae.i)(t,n,a);return et()(r,(function(e,t,n){return e[n]=t.quantity,e}),{})}},{key:"isAllSelected",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.itineraryPartKey,r=t.segmentKey;return St()(oe()(Object(ae.i)(n,a,r),(function(t){return t.available&&!e.isDisabledByQuantityControl(t)})),(function(e){return 1===e.quantity}))}},{key:"isAncillaryInABundleSelectedInABundle",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments,s=a.ancillaries;if(!r.isBundle)return!1;var o=_t()("".concat(e).concat(t).concat(n),"undefined"),l=kt()(i[o],(function(e){return!S()(e)&&r.code!==e&&s[e].isBundle?s[e].bundleItems:[]}));return K()(l,(function(e){return K()(r.bundleItems,(function(t){return t.code===e.code}))}))&&1===_()(r,"ancillaryConfiguration.maxQuantityPerPax")}},{key:"isAncillaryInBundleAlreadySelected",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments;if(!r.isBundle)return!1;var s=_t()("".concat(e).concat(t).concat(n),"undefined");return K()(r.bundleItems,(function(e){return k()(i[s],e.code)&&1===_()(r,"ancillaryConfiguration.maxQuantityPerPax")}))}},{key:"isAncillarySelectable",value:function(e,n,a){var r=this.props,i=r.ancillary,s=r.seatBundleAssignments,o=r.ancillaries,l=_t()("".concat(e).concat(n).concat(a),"undefined");if(K()(s[l],(function(e){return e.code===i.code}))||!i.isSeatBundle)return!0;var c=oe()(o,(function(e){return e.isSeatBundle&&e.code!==i.code}));return!(K()(c,(function(r){var i=_()(t.getBundlePassengerOffers(r,n,a),e);return i&&i.quantity>0}))||this.isAnySeatBundleSelected(e,n,a))}},{key:"isAncillarySelectedInABundle",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments,s=a.ancillaries;if(r.isBundle)return!1;var o=_t()("".concat(e).concat(t).concat(n),"undefined"),l=kt()(i[o],(function(e){return!S()(e)&&s[e].isBundle?s[e].bundleItems:[]}));return K()(l,(function(e){return e.code===r.code&&1===_()(r,"ancillaryConfiguration.maxQuantityPerPax")}))}},{key:"isAnySeatBundleSelected",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments,s=a.ancillaries,o=_t()("".concat(e).concat(t).concat(n),"undefined"),l=_t()("".concat(e).concat(t),"undefined"),c=oe()(Object.keys(i),(function(t){return Ct()(t,o)||Ct()(t,l)||t===e}));return K()(c,(function(e){return K()(i[e],(function(e){return!S()(e)&&(s[e].isSeatBundle&&e!==r.code)}))}))}},{key:"isDisabledByQuantityControl",value:function(e){var t=this.props,n=t.isDecrementDisabled,a=t.isIncrementDisabled;return e.originalAssignedQuantity>0&&n||0===e.originalAssignedQuantity&&a}},{key:"isSeatBundleSelectedForAnyPassengers",value:function(e,t){var n=this,a=this.props,r=a.ancillary,i=a.passengers,s=K()(i,(function(a,r){return n.isAnySeatBundleSelected(r,e,t)}));return r.isSeatBundle&&s}},{key:"renderCheckboxes",value:function(){var e=this,n=this.props,a=n.ancillary,r=n.passengers,i=n.itineraryPartKey,s=n.segmentKey,o=Object(ae.i)(a,i,s),l=Object.keys(o).length;return R()(r,(function(n,r){var c=o[r],u=Y()([a.code,i,s,r]).join("-"),d=c&&c.available&&(Object(ae.c)(a,1)>0||c.originalAssignedQuantity<c.quantity),p=Object(ae.d)(a,i,1),h=d&&c.quantity>0,f=_()(c,"total",[]),m=d&&c.isFree,g=e.isAncillarySelectable(r,i,s),v=e.isAncillarySelectedInABundle(r,i,s),y=e.isAncillaryInABundleSelectedInABundle(r,i,s),b=e.isAncillaryInBundleAlreadySelected(r,i,s),C=c&&c.modificationAllowed,E=!d||!C||!g||b||v||y,k=_()(a,"passengerSelectionDisabled",!1),O=E||c&&e.isDisabledByQuantityControl(c)||!p,P=0===p;return w.a.createElement("li",{key:u,className:"passenger-item","data-ancillary":a.code,"data-itinerary-part":i,"data-segment":s,"data-passenger":r},m&&t.renderFreePrice(),h&&!m&&w.a.createElement(Ne.a,{className:"pull-right passenger-total",price:f,includeDecimal:!0}),!d&&t.renderMessage(n,"ancillary.unavailableForPassenger"),d&&!g&&t.renderMessage(n,"ancillary.seatBundleAlreadySelected"),d&&g&&v&&t.renderMessage(n,"ancillary.ancillarySelectedInABundle"),d&&g&&y&&t.renderMessage(n,"ancillary.ancillaryInABundleAlreadySelected"),d&&g&&b&&t.renderMessage(n,"ancillary.ancillaryInABundleAlreadySelected"),w.a.createElement(Nt.a,{className:k&&"hidden",checked:h,id:u,"data-itinerary-part":i,"data-segment":s,"data-passenger":r,disabled:O,ref:function(t){e.paxCheckBox[r]=t},onChange:function(t,n){return e.onCheck(n,c,r)},label:Object(L.i)("account.fullName",n)}),k&&w.a.createElement("span",{className:"passenger-name"},Object(L.i)("account.fullName",n)),P&&1===l&&w.a.createElement("span",{className:"inventory"},Object(L.a)("ancillary.noSpaceAvailable")))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.itineraryPartKey,r=t.segmentKey,i=t.isDecrementDisabled,s=n.code,o=Object(ae.i)(n,a,r),l=this.isAllSelected(),c=[n.code,a,r].join("-"),u=Object.keys(o).length,d=Object(L.i)("ancillary.items.".concat(s,".name")),p=_()(n,"offers.modificationAllowed",!0),h=Object(ae.c)(n,999)>=u,f=Object(ae.d)(n,a,1),m=l?!p||i&&!this.isAncillarySelectedForAnyPassengerInCurrentFlow(o):!p||!h||!f,g=l?"ancillary.selectAllRemove":"ancillary.selectAllAdd",v=this.isSeatBundleSelectedForAnyPassengers(a,r),y=0===f,b=_()(n,"passengerSelectionDisabled",!1),C=_()(n,"applicableOnlyToPrimaryPassenger",!1);return w.a.createElement("div",{className:"dxp-passenger-checklist","data-ancillary":s,"data-itinerary-part":a,"data-segment":r},1===u&&!b&&w.a.createElement("div",{className:"dxp-passenger-checklist-info"},w.a.createElement(M.c,{name:M.a.INFO_CIRCLE}),Object(L.a)("ancillary.selectAncillaryForPassengersMessage",{ancillary:d})),(b||u>1&&!v)&&w.a.createElement("div",null,w.a.createElement(Nt.a,{id:"passenger-checklist-select-all-".concat(c),onChange:function(t,n){return e.onSelectAllCheck(n,C)},disabled:m,checked:l,label:Object(L.i)(g,{ancillary:d})}),y&&w.a.createElement("span",{className:"inventory"},Object(L.a)("ancillary.noSpaceAvailable"))),w.a.createElement("ul",null,this.renderCheckboxes()))}}],[{key:"getBundlePassengerOffers",value:function(e,t,n){if(t){if(n){var a=_()(e,"offers.itineraryParts[".concat(t,"].segments[").concat(n,"].passengerOffers"));return a||1!==_()(e,"offers.itineraryParts[".concat(t,"].segmentsMap.length"),0)?a:_()(e,"offers.itineraryParts[".concat(t,"].passengerOffers"))}var r=_()(e,"offers.itineraryParts[".concat(t,"].passengerOffers"));if(!r){var i=_()(e,"offers.itineraryParts[".concat(t,"].segmentsMap"),[]);if(1===i.length)return _()(e,"offers.itineraryParts[".concat(t,"].segments[").concat(i[0],"].passengerOffers"))}return r}return _()(e,"offers.passengerOffers")}},{key:"renderFreePrice",value:function(){return w.a.createElement("div",{className:"price pull-right passenger-total"},Object(L.a)("app.free"))}},{key:"renderMessage",value:function(e,t){return w.a.createElement("div",{className:"unavailable-message"},Object(L.a)(t,Oe()({},e,{typeName:Object(L.i)("passengerType.codes.".concat(e.type))})))}}]),t}(N.Component));y()(wt,"defaultProps",{onChange:void 0,itineraryPartKey:"",segmentKey:"",ancillary:{},passengers:{},seatBundleAssignments:{},ancillaries:{},isDecrementDisabled:!1,isIncrementDisabled:!1});var At=n(137),Tt=n.n(At),It=n(56),Dt=n.n(It),xt=n(378),jt=n.n(xt),Lt=n(82),Ft=n.n(Lt),Bt=n(334),Rt=n.n(Bt),Mt=n(145),Vt=n.n(Mt);n(2411);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onQuantityChange",(function(e){var a=e.passengerId,r=e.count,i=n.props,s=i.ancillary,o=i.segmentKey,l=i.itineraryPartKey,c=Object(ae.i)(s,l,o),u=c[a];return c[a]=qt({},u,{quantity:r,quantityToCodeMap:t.adjustCodeMap(_()(u,"quantityToCodeMap",{}),r)}),n.props.onChange(s,c)})),y()(f()(n),"onWeightSelectionChange",(function(e){var t=e.passengerId,a=e.index,r=e.subCode,i=n.props,s=i.ancillary,o=i.segmentKey,l=i.itineraryPartKey,c=i.offeringType,u=Object(ae.i)(s,l,o)[t],d=_()(u,[c,r],{});n.onBagWeightClick(d,a+1,u,t)})),y()(f()(n),"transformBags",(function(e){var a=n.props.offeringType,r=t.getSortAncillaryCodesByWeight(e,a),i=R()(Vt()(e.quantity||0),(function(t){return _()(e,"quantityToCodeMap[".concat(t+1,"].code"))}));return qt({},n.getControlQuantities(e),{subCodes:r,selectedSubCodes:i})})),n}return g()(t,e),l()(t,[{key:"onBagWeightClick",value:function(e,t,n,a){var r=this.props,i=r.ancillary,s=r.segmentKey,o=r.itineraryPartKey,l=Object(ae.i)(i,o,s),c=_()(n,"quantityToCodeMap",{});return ve()(c,"".concat(t,".code"),e.code),ve()(c,"".concat(t,".quantity"),1),ve()(n,"quantityToCodeMap",c),l[a]=this.removeSelectedBagEntryWithMoreThanAllowedLimit(e,t,n),this.props.onChange(i,l)}},{key:"getControlQuantities",value:function(e){var t=this.props,n=t.ancillary,a=t.isAncillaryRemovalAllowed,r=t.selectedAncillaryCodes,i=t.isDecrementDisabled,s=t.isIncrementDisabled,o=!S()(e),l=_()(e,"modificationAllowed",!1),c=S()(r)||k()(r,_()(n,"code")),u=_()(e,"originalAssignedQuantity",0),d=c&&a?u:0,p=e.maxQuantity||1/0,h=e.quantity||0,f=!o||!l;return{min:d,max:p,disableDecrement:i&&u===h||f||!this.isBegWeightsEnabled(e,h)||h<=d,disableIncrement:s&&u===h||f||h>=p,value:h,modificationAllowed:l}}},{key:"getSegments",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.bagAllowance,i=e.passengers;return Object(ae.l)(t,n,a,r,this.transformBags,i)}},{key:"adjustCodeMapForSpinnerChange",value:function(e,n){var a=this.props.offeringType,r=_()(t.getWhichBagsCanBeSelectedFromBags(e,a),"[".concat(n,"]")),i=_()(e,"quantityToCodeMap",{}),s=C()(_()(e,a)),o=yt()(s,(function(e){return Ft()(_()(r,e))||!_()(r,e)}));return o&&(ve()(i,"".concat(n,".code"),o),ve()(i,"".concat(n,".quantity"),1)),ve()(e,"quantityToCodeMap",i),e}},{key:"isBegWeightsEnabled",value:function(e,t){var n=this.props.ancillary,a=_()(e,"quantityToCodeMap.".concat(t));if(a&&a.originallyAssigned){var r=yt()(n.ancillaries,(function(e){return e.code===a.code}));return _()(r,"refundable",!0)}return!0}},{key:"removeSelectedBagEntryWithMoreThanAllowedLimit",value:function(e,n,a){var r=this,i=he()(a),s=this.props.offeringType,o=_()(i,"quantityToCodeMap");return Ee()(Dt()(o),(function(a){var l=a+1,c=t.getCurrentQuantityOfBags(o,l),u=t.getAllowedQuantity(_()(i,s,$.a.WEIGHT));_()(c,"".concat(e.code))>=_()(u,"".concat(e.code))&&et()(o,(function(t,a,r){return jt()(r)>n&&a.code===e.code&&(t[r]={}),t}),o),l>n&&S()(_()(o,"[".concat(l,"]")))&&(i=r.adjustCodeMapForSpinnerChange(i,l))})),i}},{key:"render",value:function(){return w.a.createElement(ht,{segments:this.getSegments(),onQuantityChange:this.onQuantityChange,onWeightSelectionChange:this.onWeightSelectionChange,PACKAGE_NAME_CLASSIFIED:"ancillary",numberSelectorInputDisabled:!0,numberSelectorReadOnlyText:"".concat(Object(L.i)("ancillary.numberSelectorReadOnlyText")," ").concat(Object(L.i)("ancillary.numberSelectorReadOnlyDetailedText"))})}}],[{key:"adjustCodeMap",value:function(e,t){return et()(e,(function(e,n,a){return e[a]&&(a<=t?e[a].quantity=1:e[a]&&(e[a].quantity=0)),e}),e)}},{key:"getAllowedQuantity",value:function(e){return et()(e,(function(e,t,n){return e[n]=_()(t,"ancillaryConfiguration.maxQuantityPerPax",0),e}),{})}},{key:"getCurrentQuantityOfBags",value:function(e,t){return et()(e,(function(e,n,a){return jt()(a)<=t&&(e[n.code]=Rt()([e[n.code],n.quantity])),e}),{})}},{key:"getSortAncillaryCodesByWeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.a.WEIGHT,n=C()(_()(e,t,{})),a=Tt()(n,(function(n){return _()(e,"".concat(t,"[").concat(n,"].bagCharacteristics.POUNDS"))}));return a.map((function(n){return{code:n,price:_()(e,[t,n,"prices","total"]),quantity:_()(e,[t,n,"quantity"],0),max:_()(e,[t,n,"ancillaryConfiguration","maxQuantityPerPax"],1/0)}}))}},{key:"getWhichBagsCanBeSelectedFromBags",value:function(e,n){var a=e.quantity,r=t.getAllowedQuantity(_()(e,n,$.a.WEIGHT)),i={};return Ee()(a,(function(n){var a=t.getCurrentQuantityOfBags(e.quantityToCodeMap,n);i[n+1]=et()(a,(function(e,t,n){return e[n]=t>=r[n]||Ft()(t)||Ft()(r[n]),e}),{})})),i}},{key:"renderUnavailableMessage",value:function(e){return w.a.createElement("div",null,w.a.createElement("div",{className:"passenger-type-details-label"},Object(L.a)("account.fullName",e)),w.a.createElement("div",{className:"unavailable-message"},Object(L.a)("ancillary.unavailableForPassenger",Oe()({},e,{typeName:Object(L.i)("passengerType.codes.".concat(e.type))}))))}}]),t}(N.Component);y()(Ht,"defaultProps",{ancillary:{},itineraryPartKey:"",segmentKey:"",offeringType:"",onChange:Pe.a,bagAllowance:Object(j.Map)(),isAncillaryRemovalAllowed:!1,selectedAncillaryCodes:[],isDecrementDisabled:!1,isIncrementDisabled:!1,passengers:{}});var Wt=n(291),Gt=n.n(Wt),Kt=n(529),zt=n(88),Yt=n(125);n(2412);function Qt(e){var t=e.id,n=e.passengerIndex,a=e.firstName,r=e.lastName,i=e.onPassengerSelected,s=e.isSelected,o=e.passengerType,l=e.selectedQuantity,c=e.ancillaryCode,u=e.isAvailable,d=I()("dxp-ancillary-custom-group-list-passenger",{active:s}),p="".concat(a," ").concat(r),h=l>0;return w.a.createElement("div",{key:t,className:d},w.a.createElement("span",{className:"single-passenger"},w.a.createElement("span",{className:"passenger-name"},w.a.createElement("div",null,p))),w.a.createElement("span",{className:"select-ancillary"},w.a.createElement(De.a,{isTextButton:!0,onClick:function(){return function(e,t){return t(e)}(n,i)}},!u&&o===Yt.a.INF&&Object(L.a)("passengerType.infant"),h&&w.a.createElement("span",{className:"selected"},w.a.createElement(M.c,{name:M.a.CHECK}),w.a.createElement("span",null,"".concat(l," ").concat(Object(L.i)("ancillary.customGroups.".concat(c,".numberOfGroupedAncillariesSelected"))))),!h&&o!==Yt.a.INF&&Object(L.a)("ancillary.customGroups.".concat(c,".passengerSelectButtonLabel")))))}Qt.defaultProps={id:"",passengerIndex:1,isSelected:!1,firstName:"",lastName:"",selectedQuantity:0,onPassengerSelected:void 0,ancillaryCode:"",isAvailable:!0,passengerType:"ADT"};var Xt=Qt;function Jt(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillaryPassengers,r=e.onPassengerSelected,i=e.activePassengerIndex,s=e.itineraryPartKey,o=e.segmentKey;return w.a.createElement("ul",{className:"dxp-passenger-custom-group-list-passengers"},function(e,t,n,a,r,i,s){return R()(n,(function(n){var o="passenger-".concat(n.index),l=r===n.index,c=I()({active:l},"animated","fadeIn"),u="dxp-custom-group-li-".concat(o),d=Object(ae.i)(e,i,s),p=d&&d[n.index],h=!S()(p)&&p.available,f=h?Object(ae.j)(e,t,n.index,i,s):0;return w.a.createElement("li",{className:c,"aria-live":"assertive","aria-atomic":"true",key:u},w.a.createElement(Xt,{passengerType:n.type,isAvailable:h,passengerIndex:n.index,id:o,isSelected:l,firstName:n.firstName,lastName:n.lastName,selectedQuantity:f,ancillaryCode:e.code,onPassengerSelected:function(e){return a(e)}}))}))}(t,n,a,r,i,s,o))}Jt.defaultProps={itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:{},activePassengerIndex:1,onPassengerSelected:void 0};var $t=Jt,Zt=n(63);n(2413);function en(e){var t=e.ancillary,n=e.itineraryPartKey,a=e.segmentKey,r=e.ancillaries,i=e.passengerOffers,s=e.passengerOffer,o=e.activePassengerIndex,l=e.onChange,c=r[t.code],u="".concat(c.code,"-").concat(o,"-").concat(n,"-").concat(a),d=s.quantity>0,p=Object(L.i)("app.image"),h=Object(L.i)("ancillary.items.".concat(t.code,".name")),f="".concat(p," ").concat(h),m=Object(L.i)("ancillary.items.".concat(t.code,".image")),g={backgroundImage:"url(".concat(Object(Zt.a)(m))},v=_()(s,"prices.total",[]),y=Object(L.a)("ancillary.items.".concat(t.code,".priceNote")),b=d?"secondary-button":"medium primary",C=s.maxQuantity||1/0,E=s.originalAssignedQuantity||0,k=s.modificationAllowed||E<C,O=Object(L.a)(d?"app.remove":"app.select");return w.a.createElement("div",{key:u,className:"dxp-grouped-ancillary"},w.a.createElement("img",{alt:f,className:" image img-div",src:Object(Zt.a)("images/Clear.gif"),style:g}),w.a.createElement("span",{className:"ancillary-description"},w.a.createElement("div",null,w.a.createElement("h3",{className:"title"},w.a.createElement("span",{className:"title-text"},h))),w.a.createElement("div",null,w.a.createElement("p",{className:"description"},Object(L.a)("ancillary.items[".concat(t.code,"].description"))))),w.a.createElement("span",{className:"ancillary-selection"},w.a.createElement(Ne.a,{price:v,includeDecimal:!0,raiseDecimal:!0}),w.a.createElement("div",{className:"caption"},y),d&&w.a.createElement("div",{className:"selected"},w.a.createElement(M.c,{name:M.a.CHECK}),w.a.createElement("span",null,Object(L.a)("app.selected"))),k&&w.a.createElement(De.a,{onClick:function(){return function(e,t,n,a,r){var i=r.ancillaries,s=r.activePassengerIndex,o=i[r.ancillary.code],l=Object(ae.c)(o,0),c=Object(ae.g)(l,e);n[s]=Oe()(t,{quantity:e?1:0}),a(o,n,c)}(!d,s,i,l,e)},className:b},O)))}en.defaultProps={itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},passengerOffers:{},passengerOffer:{},onChange:void 0,activePassengerIndex:0};var tn=en;function nn(e){var t=e.parentAncillaryCode,n=function(e,t,n,a,r,i){return et()(e,(function(e,s){var o="grouped-ancillary-".concat(s.code,"-").concat(r,"-").concat(n,"-").concat(a),l=t[s.code],c=Object(ae.i)(l,n,a),u=c&&c[r];return u&&u.available&&(Object(ae.c)(l,1)>0||u.originalAssignedQuantity<u.quantity)&&e.push(w.a.createElement(tn,{key:o,itineraryPartKey:n,segmentKey:a,ancillaries:t,ancillary:s,passengerOffers:c,passengerOffer:u,onChange:function(e,t,n){return i(l,c,n)},activePassengerIndex:r})),e}),[])}(e.childAncillaries,e.ancillaries,e.itineraryPartKey,e.segmentKey,e.activePassengerIndex,e.onChange),a=!S()(n);return w.a.createElement("div",{className:"dxp-grouped-ancillary-list"},w.a.createElement("div",{className:"dxp-grouped-ancillary-list"},a&&n,!a&&w.a.createElement("p",{className:"grouped-ancillaries-not-available"},Object(L.a)("ancillary.customGroups.".concat(t,".noAncillariesAvailableInSubGroup")))))}nn.defaultProps={itineraryPartKey:"",segmentKey:"",parentAncillaryCode:"",childAncillaries:[],ancillaries:{},onChange:void 0,activePassengerIndex:1};var an=nn,rn=(n(2414),n(2415),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{activePassenger:1,selectedSubGroupType:n.getDefaultSelectedGroupType()}),n}return g()(t,e),l()(t,[{key:"onPassengerSelected",value:function(e){this.setState({activePassenger:e})}},{key:"onSelectNextPassenger",value:function(e){var t=parseInt(Gt()(C()(e)),10),n=this.state.activePassenger,a=n===t?1:n+1;this.setState({activePassenger:a})}},{key:"onSubGroupChange",value:function(e){this.setState({selectedSubGroupType:e})}},{key:"getDefaultSelectedGroupType",value:function(){var e=this.props,t=e.ancillary;return e.ancillariesConfiguration.customGroupSubGroups[t.code].default}},{key:"getSubGroupOptions",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration;return C()(n.customGroupSubGroups[t.code].items||[]).map((function(e){return{value:e,label:Object(L.i)("ancillary.customGroups.".concat(t.code,".subGroups.").concat(e))}}))}},{key:"filterAncillaries",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration.customGroupSubGroups[t.code].items[this.state.selectedSubGroupType];return oe()(t.ancillaries,(function(e){return k()(n,e.code)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.ancillaries,r=t.ancillariesConfiguration,i=t.ancillaryPassengers,s=t.itineraryPartKey,o=t.segmentKey,l=t.onChange,c=Dt()(i)>1,u=this.getSubGroupOptions(),d=r.items[n.code].customSubGroupLabel||"ancillary.all",p=r.items[n.code].customGroupUserInstructionLabel,h=this.filterAncillaries();return w.a.createElement("div",{className:"dxp-passenger-custom-group-list"},w.a.createElement("div",{className:"top-container"},w.a.createElement(Kt.a,{keyProp:"subGroup",onChange:function(t){return e.onSubGroupChange(t)},options:u,label:d,defaultValue:this.state.selectedSubGroupType})),w.a.createElement("div",{className:"user-instruction"},Object(L.a)(p)),w.a.createElement("div",{className:"middle-container"},w.a.createElement("div",{className:"left-container"},w.a.createElement($t,{ancillary:n,ancillaries:a,itineraryPartKey:s,segmentKey:o,ancillaryPassengers:i,activePassengerIndex:this.state.activePassenger,onPassengerSelected:function(t){return e.onPassengerSelected(t)}})),w.a.createElement("div",{className:"right-container"},w.a.createElement(an,{parentAncillaryCode:n.code,childAncillaries:h,ancillaries:a,itineraryPartKey:s,segmentKey:o,onChange:function(e,t,n){return l(e,t,n)},activePassengerIndex:this.state.activePassenger}),w.a.createElement("div",{className:"right-bottom-container"},c&&w.a.createElement(zt.a,{className:"medium secondary next-passenger",onClick:function(){return e.onSelectNextPassenger(i)}},Object(L.a)("ancillary.nextPassenger"))))))}}]),t}(N.Component));y()(rn,"defaultProps",{itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:[],ancillariesConfiguration:{},onChange:void 0});n(2416);var sn=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{isCollapsed:!0}),n}return g()(t,e),l()(t,[{key:"onAncillarySelection",value:function(e,t,n,a,r){var i=this.props.onChange,s=Object(ae.c)(t,0),o=Object(ae.g)(s,e),l=he()(r);l[n]=Oe()(a,{quantity:e?1:0}),i(t,l,o)}},{key:"onSelectAncillary",value:function(){this.setState((function(e){return{isCollapsed:!e.isCollapsed}}))}},{key:"renderPassengers",value:function(e,t){var n=this,a=this.props,r=a.itineraryPartKey,i=a.segmentKey,s=a.ancillaryPassengers;return R()(s,(function(a){var s=t&&t[a.index],o=s&&s.available&&(Object(ae.c)(e,1)>0||s.originalAssignedQuantity<s.quantity),l=o&&s.quantity>0,c="".concat(e.code,"-").concat(a.index,"-").concat(r,"-").concat(i);return w.a.createElement(Nt.a,{checked:l,id:c,key:c,"data-itinerary-part":r,"data-segment":i,"data-passenger":a.index,disabled:!o,onChange:function(r,i){return n.onAncillarySelection(i,e,a.index,s,t)},label:Object(L.i)("account.fullName",a)})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.itineraryPartKey,r=t.segmentKey,i=t.ancillaries,s=t.ancillaryPassengers,o=t.parentAncillaryCode,l=i[n.code],c=Object(ae.i)(l,a,r),u=Object(L.i)("app.image"),d=Object(L.i)("ancillary.items.".concat(n.code,".name")),p="".concat(u," ").concat(d),h=Object(L.i)("ancillary.items.".concat(n.code,".mobileImage")),f={backgroundImage:"url(".concat(Object(Zt.a)(h))},m=_()(l,"offers.lowestPrice",[]),g=Object(L.a)("ancillary.items.".concat(n.code,".priceNote")),v=Object(ae.k)(n,i,s,a,r),y=v>0,b=I()("dxp-grouped-ancillary-mobile-header",{"is-collapsed":this.state.isCollapsed});return w.a.createElement(V.a,{isCollapsed:this.state.isCollapsed},w.a.createElement(V.a.Header,{className:b},w.a.createElement("div",{className:"ancillary-description"},w.a.createElement("h3",{className:"title"},w.a.createElement("span",{className:"title-text"},d))),w.a.createElement("img",{alt:p,className:" image img-div",src:Object(Zt.a)("images/Clear.gif"),style:f}),w.a.createElement("span",{className:"ancillary-selection"},w.a.createElement(Ne.a,{price:m,includeDecimal:!0,raiseDecimal:!0}),w.a.createElement("div",{className:"caption"},g),y&&w.a.createElement("span",{className:"selected"},w.a.createElement(M.c,{name:M.a.CHECK,className:"icon"}),w.a.createElement("span",null,"".concat(v," ").concat(Object(L.i)("ancillary.customGroups.".concat(o,".numberOfGroupedAncillariesSelected"))))),w.a.createElement("div",{className:"select-button"},w.a.createElement(zt.a,{className:"medium secondary",onClick:function(){return e.onSelectAncillary()}},y?Object(L.a)("app.edit"):Object(L.a)("app.select")))),w.a.createElement("div",{className:"ancillary-selection-description"},w.a.createElement("p",null,Object(L.a)("ancillary.items[".concat(n.code,"].description"))))),w.a.createElement(V.a.Body,null,w.a.createElement("div",{className:"dxp-grouped-ancillary-mobile-body ancillary-passenger-selection"},w.a.createElement("div",{className:"header"},Object(L.a)("ancillary.customGroups.".concat(o,".userPrompt"))),this.renderPassengers(l,c),w.a.createElement("div",{className:"footer"},w.a.createElement(zt.a,{className:"medium secondary",onClick:function(){return e.onSelectAncillary()}},Object(L.a)("app.done"))))))}}]),t}(N.Component);function on(e){var t=e.childAncillaries,n=e.ancillaries,a=e.itineraryPartKey,r=e.segmentKey,i=e.ancillaryPassengers,s=e.parentAncillaryCode,o=e.onChange,l=R()(t,(function(e){var t="grouped-ancillary-".concat(e.code,"-").concat(a,"-").concat(r);return w.a.createElement(sn,{key:t,itineraryPartKey:a,segmentKey:r,ancillaries:n,ancillary:e,parentAncillaryCode:s,onChange:function(e,t,n){return o(e,t,n)},ancillaryPassengers:i})}));return w.a.createElement("div",{className:"dxp-grouped-ancillary-list"},l)}y()(sn,"defaultProps",{itineraryPartKey:"",segmentKey:"",parentAncillaryCode:"",ancillary:{},ancillaries:{},onChange:void 0,ancillaryPassengers:[]}),on.defaultProps={itineraryPartKey:"",segmentKey:"",parentAncillaryCode:"",childAncillaries:[],ancillaryPassengers:[],ancillaries:{},onChange:void 0};var ln=on,cn=(n(2417),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{selectedSubGroupType:n.getDefaultSelectedGroupType()}),y()(f()(n),"onSubGroupChange",(function(e){n.setState({selectedSubGroupType:e})})),n}return g()(t,e),l()(t,[{key:"getDefaultSelectedGroupType",value:function(){var e=this.props,t=e.ancillary;return e.ancillariesConfiguration.customGroupSubGroups[t.code].default}},{key:"getSubGroupOptions",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration;return C()(n.customGroupSubGroups[t.code].items||[]).map((function(e){return{value:e,label:Object(L.i)("ancillary.customGroups.".concat(t.code,".subGroups.").concat(e))}}))}},{key:"filterAncillaries",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration.customGroupSubGroups[t.code].items[this.state.selectedSubGroupType];return oe()(t.ancillaries,(function(e){return k()(n,e.code)}))}},{key:"render",value:function(){var e=this.props,t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.ancillaryPassengers,i=e.itineraryPartKey,s=e.segmentKey,o=e.onChange,l=this.getSubGroupOptions(),c=a.items[t.code].customSubGroupLabel||"ancillary.all",u=this.filterAncillaries();return w.a.createElement("div",{className:"dxp-passenger-custom-group-list-mobile"},w.a.createElement("div",{className:"top-container"},w.a.createElement(Kt.a,{keyProp:"subGroup",onChange:this.onSubGroupChange,options:l,label:c,defaultValue:this.state.selectedSubGroupType})),w.a.createElement("div",{className:"bottom-container"},w.a.createElement(ln,{ancillaryPassengers:r,childAncillaries:u,ancillaries:n,parentAncillaryCode:t.code,itineraryPartKey:i,segmentKey:s,onChange:function(e,t,n){return o(e,t,n)}})))}}]),t}(N.Component));y()(cn,"defaultProps",{itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:[],ancillariesConfiguration:{},onChange:void 0});n(2418);var un=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"onAncillarySelection",value:function(e,t,n,a,r){var i=this.props,s=i.allowMultiSelectionWithinASubGroup,o=i.onChange,l=Object(ae.c)(t,0),c=Object(ae.g)(l,e);r[n]=Oe()(a,{quantity:e?1:0}),o(t,r,c),e&&!s&&this.uncheckOtherAncillariesInSubGroup(t,n)}},{key:"uncheckOtherAncillariesInSubGroup",value:function(e,t){var n=this,a=this.props,r=a.subGroupAncillaries,i=a.itineraryPartKey,s=a.segmentKey,o=oe()(r,(function(t){return t!==e.code}));me()(o,(function(e){var a="".concat(e,"-").concat(t,"-").concat(i,"-").concat(s,"-check-box");n[a].isChecked()&&n[a].onChange()}))}},{key:"renderCheckboxes",value:function(e){var n=this,a=this.props,r=a.subGroupAncillaries,i=a.ancillaries,s=a.itineraryPartKey,o=a.segmentKey,l=a.isInventoryEnabled,c=a.inventoryThreshold;return R()(r,(function(a){var r=i[a],u=Object(ae.i)(r,s,o),d=u&&u[e.index],p=Object(ae.c)(r,1),h=d&&d.available&&(p>0||d.originalAssignedQuantity<d.quantity),f=h&&d.quantity>0,m="".concat(a,"-").concat(e.index,"-").concat(s,"-").concat(o,"-check-box"),g=!f&&h&&l&&p<=c,v=!h;return w.a.createElement("td",{key:"ancillary-by-location".concat(a,"-").concat(s,"-").concat(o,"-").concat(e.index),className:"dxp-passenger-custom-group-by-location-checkbox"},w.a.createElement(Nt.a,{checked:f,id:m,key:m,ref:function(e){n[m]=e},"data-itinerary-part":s,"data-segment":o,"data-passenger":e.index,disabled:v,onChange:function(t,a){return n.onAncillarySelection(a,r,e.index,d,u)}}),g&&w.a.createElement("div",{className:"quantity-left"},p," ",Object(L.a)("ancillary.left")),v&&t.renderMessages(e))}))}},{key:"render",value:function(){var e=this,t=this.props.ancillaryPassengers,n=R()(t,(function(t){return w.a.createElement("tr",{key:"table-row-ancillary-by-location-passenger-".concat(t.index),className:"dxp-passenger-custom-group-by-location-table-row"},w.a.createElement("td",{className:"passenger-name"},"".concat(t.firstName," ").concat(t.lastName)),e.renderCheckboxes(t))}));return w.a.createElement("tbody",null,n)}}],[{key:"renderMessages",value:function(e){return e.type===Yt.a.INF?w.a.createElement("div",{className:"not-available"},Object(L.a)("ancillary.unavailableForPassenger",Oe()({},e,{typeName:Object(L.i)("passengerType.codes.".concat(e.type))}))):w.a.createElement("div",{className:"not-available"},Object(L.a)("ancillary.unavailableShort"))}}]),t}(N.Component);function dn(e){var t=e.subGroupAncillaries,n=e.ancillaries,a=R()(t,(function(e){var t=_()(n[e],"offers.lowestPrice",[]);return w.a.createElement("th",{className:"column-header",key:"sub-group-header-".concat(e)},w.a.createElement("div",{className:"ancillary-name"},Object(L.a)("ancillary.items.".concat(e,".name"))),w.a.createElement("div",{className:"ancillary-price"},w.a.createElement(Ne.a,{price:t})))}));return w.a.createElement("tr",{className:"row-header"},w.a.createElement("th",{"aria-label":Object(L.i)("ancillary.items.pricingAriaLabel")}),a)}y()(un,"defaultProps",{subGroupAncillaries:[],isInventoryEnabled:!1,inventoryThreshold:0,ancillaries:{},ancillaryPassengers:[],itineraryPartKey:"",segmentKey:"",allowMultiSelectionWithinASubGroup:!1,onChange:void 0}),dn.defaultProps={subGroupAncillaries:[],ancillaries:{}};var pn=dn;n(2419);function hn(e){var t=e.ancillaryCode,n=e.subGroupKey,a=e.subGroupAncillaries,r=e.isInventoryEnabled,i=e.inventoryThreshold,s=e.ancillaries,o=e.ancillaryPassengers,l=e.itineraryPartKey,c=e.segmentKey,u=e.allowMultiSelectionWithinASubGroup,d=e.onChange;return w.a.createElement("div",{className:"dxp-grouped-ancillaries-by-location"},w.a.createElement("h5",null,Object(L.a)("ancillary.customGroups.".concat(t,".subGroups.").concat(n))),w.a.createElement("table",null,w.a.createElement("thead",null,w.a.createElement(pn,{subGroupAncillaries:a,ancillaries:s})),w.a.createElement(un,{subGroupAncillaries:a,isInventoryEnabled:r,inventoryThreshold:i,ancillaries:s,ancillaryPassengers:o,itineraryPartKey:l,segmentKey:c,allowMultiSelectionWithinASubGroup:u,onChange:d})))}hn.defaultProps={ancillaryCode:"",subGroupKey:"",subGroupAncillaries:[],isInventoryEnabled:!1,inventoryThreshold:0,itineraryPartKey:"",segmentKey:"",ancillaries:{},ancillaryPassengers:[],allowMultiSelectionWithinASubGroup:!1,onChange:void 0};var fn=hn;n(2420);function mn(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.ancillaryPassengers,i=e.itineraryPartKey,s=e.segmentKey,o=e.onChange,l=_()(a.items,"".concat(t.code,".customSubGroupAllowMultiSelection"),!1),c=Object(ae.h)(t,i,s),u=!S()(c)&&_()(a.customGroupSubGroupsByLocation,"".concat(t.code,".").concat(c),[]),d=!S()(u),p=_()(a,"ancillaryInventoryEnabled",!1),h=_()(a,"inventoryThreshold");return w.a.createElement("div",{className:"dxp-passenger-custom-group-list-by-location"},d&&w.a.createElement("div",null,w.a.createElement("div",{className:"dxp-passenger-custom-group-list-by-location-header"},Object(L.a)("ancillary.customGroups.".concat(t.code,".userPrompt"))),w.a.createElement("div",{className:"dxp-passenger-custom-group-list-by-location-body"},R()(C()(u),(function(e){return w.a.createElement(fn,{key:"".concat(t.code,"-sub-group-").concat(e),ancillaryCode:t.code,subGroupKey:e,subGroupAncillaries:u[e],isInventoryEnabled:p,inventoryThreshold:h,ancillaryPassengers:r,ancillaries:n,itineraryPartKey:i,segmentKey:s,allowMultiSelectionWithinASubGroup:l,onChange:o})})))),!d&&w.a.createElement(ne,{ancillary:t}))}mn.defaultProps={itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:[],ancillariesConfiguration:{},onChange:void 0};var gn=mn,vn=n(110),yn=n.n(vn),bn=n(16),Cn=n.n(bn);n(2421);function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onChange",(function(e){var a=e.passengerId,r=e.count,i=e.subCode,s=n.props,o=s.ancillary,l=s.segmentKey,c=s.itineraryPartKey,u=s.onChange,d=s.updateQuantityToCode,p=Object(ae.i)(o,c,l),h=p[a],f=t.findQuantityOfWeight(i,h);r!==f&&(r<f?(h.quantity-=1,h.quantityToCodeMap=t.adjustCodeMap(_()(h,"quantityToCodeMap",{}),r,i)):d(h,{code:i},o.code),u&&u(o,p))})),y()(f()(n),"getBagTypes",(function(e){var a=t.getSortAncillaryCodesByWeight(e,n.props.offeringType);return{ancillaries:R()(a,(function(t,a){return kn({},n.getControlQuantities(e,t),{subCode:t.code,displayAncillaryLeft:!1,availableInventory:0,originalPrice:_()(t,"prices.original",{}),price:_()(t,"prices.total",{}),displayNoSpaceAvailable:!1,max:_()(t,"ancillaryConfiguration.maxQuantityPerPax",1/0),id:"".concat(t.code,"-").concat(e.index),steps:1,index:a})}))}})),n}return g()(t,e),l()(t,[{key:"getControlQuantities",value:function(e,n){var a=this.props,r=a.isIncrementDisabled,i=a.isDecrementDisabled,s=S()(e),o=_()(n,"modificationAllowed",!0),l=t.findQuantityOfWeight(n.code,e),c=_()(n,"originalAssignedQuantity",0),u=c,d=_()(n,"ancillaryConfiguration.maxQuantityPerPax",1/0),p=s||!o;return{min:u,max:d,disableDecrement:i&&c===l||p||!this.isBegWeightsEnabled(e,e.quantity)||l<=u,disableIncrement:r&&c===l||p||l>=d,count:l}}},{key:"getSegments",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.bagAllowance,i=e.passengers;return Object(ae.l)(t,n,a,r,this.getBagTypes,i)}},{key:"isBegWeightsEnabled",value:function(e,t){var n=this.props.ancillary,a=_()(e,"quantityToCodeMap.".concat(t));if(a&&a.originallyAssigned){var r=yt()(n.ancillaries,(function(e){return e.code===a.code}));return _()(r,"refundable",!0)}return!0}},{key:"render",value:function(){return w.a.createElement(We,{className:"dxp-passenger-bags-by-weight",segments:this.getSegments(),onChange:this.onChange,PACKAGE_NAME_CLASSIFIED:"ancillary",numberSelectorReadOnlyText:Object(L.a)("ancillary.numberSelectorReadOnlyText")})}}],[{key:"adjustCodeMap",value:function(e,t,n){var a=!1;return et()(e,(function(e,r,i){return r.code!==n||a||1!==r.quantity||i<=t?e[i]=r:r.assignedCode?(e[i]=Cn()({},r,{quantity:0}),a=!0):a=!0,e}),{})}},{key:"findQuantityOfWeight",value:function(e,t){var n=t.quantityToCodeMap,a=function(e,t){return e+t.quantity},r=yn()(n,"code"),i=R()(r,(function(e,t){return{key:t,quantity:et()(e,a,0)}})),s=oe()(i,{key:e});return S()(s)?0:s[0].quantity}},{key:"getSortAncillaryCodesByWeight",value:function(e,t){var n=_()(e,t,"WEIGHT");return Tt()(n,(function(n){return _()(e,"".concat(t,"[").concat(n.code,"].bagCharacteristics.POUNDS"))}))}},{key:"renderUnavailableMessage",value:function(e){return w.a.createElement("tr",null,w.a.createElement("th",{className:"each-cell passenger-type-details",scope:"row"},w.a.createElement("div",{className:"passenger-type-details-label"},Object(L.a)("account.fullName",e))),w.a.createElement("td",{className:"unavailable-message"},Object(L.a)("ancillary.unavailableForPassenger",Oe()({},e,{typeName:Object(L.i)("passengerType.codes.".concat(e.type))}))))}}]),t}(N.Component);y()(On,"defaultProps",{ancillary:{},itineraryPartKey:"",segmentKey:"",offeringType:"",onChange:void 0,bagAllowance:Object(j.Map)(),updateQuantityToCode:void 0,isDecrementDisabled:!1,isIncrementDisabled:!1,passengers:{}});n(2422);var _n=function(e,t){return function(n,a){return _()(e,"".concat(t,".").concat(n),a)}};function Pn(e,t){return S()(e)||_()(e,t,!1)}function Sn(e,t){return Nn(e,t,re.c.BY_ANCILLARY)}function Nn(e,t,n){return e.isCustomGroup&&t.customGroupDisplayMode[e.code]===n}function wn(e){var t=e.itineraryPart,n=e.itineraryPartKey,a=e.segment,r=e.segmentKey,i=e.ancillary,s=e.passengers,o=e.ancillaries,l=e.ancillariesConfiguration,c=e.seatBundleAssignments,u=e.isMobile,d=e.segmentEnabled,p=e.onChange,h=e.updateQuantityToCode,f=e.bagAllowance;if(e.excludedItineraryParts.some((function(e){return e===n})))return null;var m=(a||t||_()(i,"offers",{})).offeringType,g=(a||t||_()(i,"offers",{})).inputType,v=_()(l,"showBaggageByWeight",!1),y=_()(l,"controlReducingAncillariesQuantity.enabled",!1)&&k()(_()(l,"controlReducingAncillariesQuantity.offeringCodes",[]),i.code),b=_()(l,"controlIncreasingAncillariesQuantity.enabled",!1)&&k()(_()(l,"controlIncreasingAncillariesQuantity.offeringCodes",[]),i.code);return Sn(i,l)&&!u?w.a.createElement(rn,{itineraryPartKey:n,segmentKey:r,ancillary:i,ancillaries:o,ancillaryPassengers:s,ancillariesConfiguration:l,isDecrementDisabled:y,isIncrementDisabled:b,onChange:function(e,i,s){return p(e,i,t,n,a,r,s)}}):Sn(i,l)&&u?w.a.createElement(cn,{itineraryPartKey:n,segmentKey:r,ancillary:i,ancillaries:o,ancillaryPassengers:s,ancillariesConfiguration:l,isDecrementDisabled:y,isIncrementDisabled:b,onChange:function(e,i,s){return p(e,i,t,n,a,r,s)}}):function(e,t){return Nn(e,t,re.c.BY_LOCATION)}(i,l)?w.a.createElement(gn,{itineraryPartKey:n,segmentKey:r,ancillary:i,ancillaries:o,ancillaryPassengers:s,ancillariesConfiguration:l,isDecrementDisabled:y,isIncrementDisabled:b,onChange:function(e,i,s){return p(e,i,t,n,a,r,s)}}):g!==ie||i.isBaggage?m===$.a.WEIGHT?v?w.a.createElement(On,{updateQuantityToCode:h,ancillary:i,passengers:s,onChange:function(e,i){return p(e,i,t,n,a,r)},itineraryPartKey:n,segmentKey:r,offeringType:m,bagAllowance:f,isDecrementDisabled:y,isIncrementDisabled:b}):w.a.createElement(Ht,{ancillary:i,passengers:s,onChange:function(e,i){return p(e,i,t,n,a,r)},itineraryPartKey:n,segmentKey:r,offeringType:m,bagAllowance:f,isAncillaryRemovalAllowed:l.controlReducingAncillariesQuantity.enabled,selectedAncillaryCodes:l.controlReducingAncillariesQuantity.offeringCodes,isDecrementDisabled:y,isIncrementDisabled:b}):function(e,t,n,a,r,i,s,o,l,c,u,d,p,h){var f=_n(s,"controlReducingAncillariesQuantity"),m=_n(s,"controlIncreasingAncillariesQuantity");return w.a.createElement(gt,{ancillary:r,passengers:i,onChange:function(r,i,s){return l(r,i,e,t,n,a,s)},itineraryPartKey:t,segmentKey:a,enabled:Pn(o,t),reducingSpinnerValueThanMinValueNotAllowed:f("enabled",!1),offeringCodesNotAllowedForReducingQuantity:f("offeringCodes",[]),increasingSpinnerValueThanMaxAllowed:m("enabled",!1),offeringCodesNotAllowedForIncreasingQuantity:m("offeringCodes",[]),bagAllowance:c,isDecrementDisabled:u,isIncrementDisabled:d,offeringType:p,isMobile:h})}(t,n,a,r,i,s,l,d,p,f,y,b,m,u):function(e,t,n,a,r,i,s,o,l,c,u,d){return w.a.createElement(wt,{passengers:i,ancillaries:s,ancillary:r,onChange:function(r,i,s){return c(r,i,e,t,n,a,s)},segmentKey:a,itineraryPartKey:t,seatBundleAssignments:l,isDecrementDisabled:u,isIncrementDisabled:d})}(t,n,a,r,i,s,o,0,c,p,y,b)}wn.defaultProps={segmentEnabled:!1,segment:void 0,segmentKey:void 0,seatBundleAssignments:{},isMobile:!1,onChange:void 0,updateQuantityToCode:void 0,onSelectNextFlight:void 0,bagAllowance:Object(j.Map)(),excludedItineraryParts:Object(j.List)()};var An=wn;n(2423);function Tn(e){var t=e.ancillary,n=e.itineraryPart,a=e.itineraryPartKey,r=e.itineraryPartIndex,i=e.ancillaries,s=e.ancillariesConfiguration,o=e.updateQuantityToCode,l=e.passengers,c=e.onChange,u=e.bagAllowance,d=_()(s,"showBaggageByWeight",!1);if(S()(n.passengerOffers)){if(!K()(n.segments,(function(e){return!S()(e.passengerOffers)})))return w.a.createElement("div",{className:"itinerary-part-offers"},w.a.createElement(ee,{parameters:Object(ae.a)(n),ancillariesConfiguration:s,ancillary:t,travelPartType:J.b.ITINERARY_PART_ANCILLARY,displayFlightIndex:d,flightIndex:d?r:void 0}),w.a.createElement(ne,{ancillary:t}));var p=Y()(R()(n.segmentsMap,(function(e){var r=n.segments[e],d=!S()(r.passengerOffers);return!s.offerBagsBySegment&&t.isGroup?w.a.createElement(ne,{ancillary:t}):w.a.createElement("div",{className:"segment-offers",key:"segment-offers-".concat(e)},1!==n.segments.size&&w.a.createElement(ee,{parameters:Object(ae.b)(r),ancillariesConfiguration:s,travelPartType:J.b.SEGMENT_ANCILLARY}),!d&&w.a.createElement(ne,{ancillary:t}),d&&w.a.createElement(An,{updateQuantityToCode:o,ancillary:t,ancillaries:i,ancillariesConfiguration:s,passengers:l,itineraryPart:n,itineraryPartKey:a,segment:r,segmentKey:e,onChange:c,isMobile:x.a.mobile,bagAllowance:u}))})));return w.a.createElement("div",{className:"itinerary-part-offers"},w.a.createElement(ee,{parameters:Object(ae.a)(n),ancillariesConfiguration:s,travelPartType:J.b.ITINERARY_PART_ANCILLARY}),p)}return w.a.createElement("div",{className:"itinerary-part-offers"},w.a.createElement(ee,{parameters:Object(ae.a)(n),ancillariesConfiguration:s,ancillary:t,itineraryPart:n,travelPartType:J.b.ITINERARY_PART_ANCILLARY}),d&&t.isBaggage&&n.offeringType==J.c.OFFERING_TYPE.WEIGHT&&w.a.createElement("div",{className:"description"},w.a.createElement(M.c,{name:M.a.INFO_CIRCLE}),Object(L.a)("ancillary.selectBagsWithRespectiveWeights")),d&&t.isBaggage&&n.offeringType!=J.c.OFFERING_TYPE.WEIGHT&&w.a.createElement("div",{className:"description"},w.a.createElement(M.c,{name:M.a.INFO_CIRCLE}),Object(L.a)("ancillary.selectBagsWithRespectiveRegular")),w.a.createElement(An,{updateQuantityToCode:o,ancillary:t,ancillaries:i,ancillariesConfiguration:s,passengers:l,itineraryPart:n,itineraryPartKey:a,onChange:c,isMobile:x.a.mobile,bagAllowance:u}))}Tn.defaultProps={onChange:void 0,updateQuantityToCode:void 0,bagAllowance:Object(j.Map)()};var In=Tn;var Dn=function(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.passengers,i=e.journeyType,s=e.onChange,o=e.updateQuantityToCode,l=e.segmentEnabled,c=void 0===l?{}:l,u=e.bagAllowance,d=e.excludedItineraryParts,p=_()(a,"isFlightExpandedByDefault",!1),h=R()(_()(t,"offers.itineraryPartsMap",[]),(function(e,l){if(d.some((function(t){return t===e})))return null;var h,f,m=_()(t,"offers.itineraryParts[".concat(e,"]")),g=t.code===re.b.BAGGAGE&&u.get(m.key)||u;return w.a.createElement(W,{key:e,ancillary:t,isCollapsed:!p,journeyType:i,itineraryPartKey:e,itineraryPartIndex:l,enabled:(h=c,f=e,S()(h)||_()(h,f,!1))},w.a.createElement(In,{updateQuantityToCode:o,ancillary:t,ancillaries:n,ancillariesConfiguration:a,passengers:r,journeyType:i,itineraryPart:m,itineraryPartKey:e,itineraryPartIndex:l,segmentEnabled:c,onChange:s,bagAllowance:g}))}));return w.a.createElement("div",null,h)};Dn.defaultProps={segmentEnabled:!1,updateQuantityToCode:void 0,bagAllowance:Object(j.Map)(),excludedItineraryParts:Object(j.List)()};var xn=Dn,jn=n(1370);n(2424);function Ln(e){var t=e.itineraryPart,n=e.segment,a=e.segmentKey;return S()(a)?Object(ae.a)(t):Object(ae.b)(n)}function Fn(e,t){return e.isCustomGroup&&t.customGroupDisplayMode[e.code]===re.c.BY_ANCILLARY}function Bn(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.passengers,i=e.flightOffer,s=e.flightIndex,o=e.isMobile,l=e.numberOfFlightOffers,c=e.onChange,u=e.onSelectNextFlight,d=e.updateQuantityToCode,p=e.bagAllowance,h=i.itineraryPart,f=i.itineraryPartKey,m=i.segment,g=i.segmentKey,v=i.passengerOffers,y=o?"small secondary":"medium secondary",b=!S()(v),C=l>1,E=I()("dxp-ancillary-flight-tab","flight-offers","clearfix",{"has-alert":t.isAddedToCart,"has-items-left":t.quantityLeft,"is-custom-group-displayed-by-ancillary":Fn(t,a)});return w.a.createElement("div",{className:E},w.a.createElement(ee,{parameters:Ln(i),ancillariesConfiguration:a,displayFlightIndex:!0,flightIndex:s}),!b&&w.a.createElement(ne,{className:"offers-unavailable",ancillary:t}),b&&w.a.createElement(An,{updateQuantityToCode:d,ancillary:t,ancillaries:n,ancillariesConfiguration:a,passengers:r,itineraryPart:h,itineraryPartKey:f,segment:m,segmentKey:g,isMobile:o,onChange:c,onSelectNextFlight:u,bagAllowance:p}),C&&w.a.createElement("div",{className:"next-flights"},w.a.createElement(zt.a,{className:y,onClick:function(){return u()}},Object(L.a)("ancillary.nextFlights"))))}Bn.defaultProps={ancillary:{},ancillaries:{},ancillariesConfiguration:{},passengers:{},flightOffer:[],flightIndex:0,isMobile:!1,numberOfFlightOffers:0,onChange:void 0,onSelectNextFlight:void 0,updateQuantityToCode:void 0,bagAllowance:Object(j.Map)()};var Rn=Bn,Mn=(n(2425),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{selectedTabIndex:0}),y()(f()(n),"onFlightTabChange",(function(e){n.setState({selectedTabIndex:e})})),y()(f()(n),"onSelectNextFlight",(function(){var e=Object(ae.f)(n.props.ancillary);n.setState((function(t){var n=Dt()(e),a=t.selectedTabIndex+1;return a>=n||a<0?{selectedTabIndex:0}:{selectedTabIndex:a}}))})),n}return g()(t,e),l()(t,[{key:"getFlightTabsData",value:function(e){var n=this,a=this.props,r=a.ancillary,i=a.ancillaries,s=a.ancillariesConfiguration,o=a.passengers,l=a.onChange,c=a.isMobile,u=a.updateQuantityToCode,d=a.bagAllowance,p=a.excludedItineraryParts,h=e.filter((function(e){var t=e.itineraryPartKey;return!p.some((function(e){return e===t}))}));return R()(h,(function(e,a){var p=S()(e.segmentKey)?"flight-offers-".concat(e.itineraryPartKey):"flight-offers-".concat(e.itineraryPartKey,"-").concat(e.segmentKey),f=0===e.itineraryPartIndex,m=n.getIcon(f);return{key:p,name:t.getTitle(e,c),icon:m,content:w.a.createElement(Rn,{updateQuantityToCode:u,ancillary:r,ancillaries:i,ancillariesConfiguration:s,passengers:o,flightOffer:e,flightIndex:a,onSelectNextFlight:n.onSelectNextFlight,isMobile:c,numberOfFlightOffers:Dt()(h),onChange:l,bagAllowance:d})}}))}},{key:"getIcon",value:function(e){return this.props.journeyType.isMultiCity||e?M.a.AIRPLANE_DEPART:M.a.AIRPLANE_ARRIVE}},{key:"render",value:function(){var e=this.props.ancillary,n=Object(ae.f)(e),a=this.getFlightTabsData(n),r=t.getTabList(a),i=t.getTabs(a);return w.a.createElement(jn.c,{selectedTabIndex:this.state.selectedTabIndex,className:"dxp-ancillary-flight-tabs"},w.a.createElement(jn.e,{onTabSelect:this.onFlightTabChange,key:"tab-header"},r),w.a.createElement(jn.d,{key:"tab-content"},i))}}],[{key:"getFlightDestination",value:function(e){var t=e.itineraryPart,n=e.segmentKey,a=e.segment;return S()(n)?t.destination:a.destination}},{key:"getFlightOrigin",value:function(e){var t=e.itineraryPart,n=e.segmentKey,a=e.segment;return S()(n)?t.origin:a.origin}},{key:"getTabList",value:function(e){return R()(e,(function(e){var t="tab-list-".concat(e.key);return w.a.createElement(jn.a,{key:t},w.a.createElement(U.a,{title:e.name,icon:e.icon}))}))}},{key:"getTabs",value:function(e){return R()(e,(function(e){var t="tab-".concat(e.key);return w.a.createElement(jn.b,{key:t},e.content)}))}},{key:"getTitle",value:function(e,n){var a=t.getFlightOrigin(e),r=t.getFlightDestination(e),i=n?a:Object(L.i)("city.".concat(a)),s=n?r:Object(L.i)("city.".concat(r));return a&&r?Object(L.i)("app.flightTo",{origin:i,destination:s}):Object(L.i)("app.unknownFlight")}}]),t}(N.PureComponent));y()(Mn,"defaultProps",{isMobile:!1,onChange:void 0,updateQuantityToCode:void 0,bagAllowance:Object(j.Map)(),excludedItineraryParts:Object(j.List)()});var Vn=n(1491),Un=n(2073);n(2427),n(2428);var qn=function(e){var t=e.ancillary,n=e.onDisclosureClick,a=e.useDescription,r=e.ancillariesConfiguration,i=e.isRenderedOnModal,s=t.code,o=t.isDisclosureRequired,l=Object(L.i)("ancillary.items.".concat(s,".name")),c=Object(Zt.a)(Object(L.i)("ancillary.items.".concat(s,".image"))),u=_()(r,"ancillaryMap.".concat(s,".icon")),d=_()(r,"ancillaryMap.".concat(s,".iconSize"),""),p=Object(L.i)("app.image"),h=i?"".concat(p," ").concat(l," ").concat(Object(L.i)("app.modal")):"".concat(p," ").concat(l);return w.a.createElement("div",{className:"dxp-ancillary-panel-content"},w.a.createElement("h3",{className:"title"},w.a.createElement(M.c,{name:u,size:d})," ",l),w.a.createElement("div",{className:"content row"},w.a.createElement("img",{alt:h,className:"item img-div",src:Object(Zt.a)("images/Clear.gif"),style:{backgroundImage:"url(".concat(c,")")}}),w.a.createElement("p",{className:"item intro"}," ",function(e,t){var n=e.code,a=Object(L.a)("ancillary.items.".concat(n,".intro")),r=t&&Object(L.a)("ancillary.items.".concat(n,".description"));return r==="ancillary.items.".concat(n,".description")&&(r=a),r}(t,a)," "),o&&w.a.createElement("div",{className:"disclosure-link-container"},w.a.createElement("a",{className:"disclosure-link",href:Object(L.i)("ancillary.items.".concat(s,".disclosure.link")),onClick:function(e){return function(e,t){return e.preventDefault(),t()}(e,n)}},Object(L.a)("ancillary.items.".concat(s,".disclosure.title"))))))};qn.defaultProps={onDisclosureClick:void 0,useDescription:!1,ancillariesConfiguration:{},isRenderedOnModal:!1};var Hn=qn,Wn=n(78),Gn=(n(2429),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"onDisclosureClick",value:function(e){return e.preventDefault(),this.props.onDisclosureClick&&this.props.onDisclosureClick()}},{key:"createInsuranceDescriptionMarkup",value:function(){return this.props.useDescription&&Object(L.a)("ancillary.insurance.airlineMarketingText")}},{key:"render",value:function(){var e=this.props,t=e.ancillary,n=e.onDisclosureClick,a=e.translateWithComponents,r=e.ancillariesConfiguration,i=e.isMobile,s=t.code,o=Object(L.a)("ancillary.items.".concat(s,".name")),l=_()(t,"productDescriptionURL"),c=Object(Zt.a)(Object(L.i)("ancillary.items.".concat(s,".image"))),u=_()(r,"ancillaryMap.".concat(s,".icon")),d=_()(r,"ancillaryMap.".concat(s,".iconSize"),""),p=n&&l,h=Object(L.i)("app.image"),f=_()(r,"ancillaryPanelImage"),m=Object(Zt.a)(f),g=Object(L.i)("ancillary.insurance.suppliers.".concat(t.supplierCode,".ancillaryPanelTitle")),v="".concat(g,"-").concat(h),y=w.a.createElement(Wn.a,{className:"disclosure-link",href:l,target:"_blank",rel:"external",isExternalLink:!0},Object(L.a)("ancillary.items.".concat(s,".disclosure.title")));return w.a.createElement("div",{className:"dxp-ancillary-insurance-panel-content"},w.a.createElement("h3",{className:"title"},w.a.createElement(M.c,{name:u,size:d})," ",o),w.a.createElement("div",{className:"content row insurance"},w.a.createElement("div",{className:"provider-logo item",style:{backgroundImage:"url(".concat(c,")")}}),w.a.createElement("div",{className:"insurance-description"},i&&w.a.createElement("img",{alt:v,className:"item img-insurance",src:m}),w.a.createElement("p",{className:"intro"},this.createInsuranceDescriptionMarkup(s)),p&&w.a.createElement("div",{className:"disclosure-link-container"},a("ancillary.items.".concat(s,".disclosure.intro"),{insuranceDisclosureLink:y})))))}}]),t}(N.Component));y()(Gn,"defaultProps",{onDisclosureClick:void 0,useDescription:!1,isMobile:!1,ancillariesConfiguration:{}});var Kn=n(2110),zn=n(60),Yn=n(447),Qn=(n(2430),function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),_()(e,"ancillary.isTOCRequired")||_()(e,"isTOCRequired")?n.state={isTOCChecked:e.isTOCChecked||!1,country:""}:n.state={country:""},n}return g()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.ancillary,n=e.isTOCRequired;(t.isTOCRequired||n)&&this.setState({isTOCChecked:t.isAddedToCart})}},{key:"componentDidMount",value:function(){var e=this;Object(Yn.a)(_()(this.props.ancillary,"offers.origin","")).then((function(t){e.setState({country:t})}))}},{key:"onCheckTOC",value:function(e){this.setState({isTOCChecked:e})}},{key:"onClick",value:function(){return this.props.onClick&&this.props.onClick()}},{key:"onClose",value:function(){return this.props.onClose&&this.props.onClose()}},{key:"getButtonLabel",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.isExpandable?"ancillary.updateCart":"ancillary.removeFromCart";return t?Object(L.a)(n):Object(L.a)("ancillary.addToCart")}},{key:"getNeedsUpdate",value:function(){var e=this.props,t=e.ancillary,n=e.ancillaries;return t.isCustomGroup?K()(t.children,(function(e){return n[e.code].needsUpdate})):t.needsUpdate}},{key:"getTotal",value:function(){var e,t=this.props,n=t.ancillary,a=t.ancillaries,r=t.retainedTotal;return n.isCustomGroup&&(n.total[0][0].amount=et()(n.children,(function(e,t){return e+a[t.code].total[0][0].amount}),0)),e=n.total,S()(r)||(e=Object(zn.q)(e,Object(zn.p)(r,-1))),e}},{key:"isButtonEnabled",value:function(e){var t=this.props.ancillary.isExpandable,n=this.getNeedsUpdate();return _()(this.props,"ancillary.offers.modificationAllowed",!0)&&(n||!t)&&(!e||e&&this.state.isTOCChecked)}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.isTOCRequired,i=t.isTOCDisclaimerEnabled,s=_()(n,"code"),o="ancillary.acceptTOC.".concat(this.state.country),l="ancillary.checkBoxText.".concat(this.state.country),c=a||_()(n,"isTOCRequired"),u=this.isButtonEnabled(c),d={id:Object(Kn.a)(s),disabled:!u},p=I()("row","add-border",{"toc-border":a}),h=this.getTotal();return w.a.createElement("div",{className:"dxp-ancillary-footer row"},!S()(h)&&w.a.createElement("div",{className:"row"},w.a.createElement("span",{className:"total pull-right"},w.a.createElement("span",{className:"total-content","aria-live":"polite","aria-atomic":"true"},Object(L.a)("app.total")," ",w.a.createElement(Ne.a,{price:h,includeDecimal:!0,raiseDecimal:!0})))),w.a.createElement("div",{className:p},c&&w.a.createElement("div",{className:"left-item pull-left add-top-margin"},i&&w.a.createElement("div",{className:"additional-disclaimer"},Object(L.a)(o)),w.a.createElement(Nt.a,{id:"toc-checkbox-".concat(s),checked:this.state.isTOCChecked,onChange:function(t,n){return e.onCheckTOC(n)},label:l})),w.a.createElement("div",{className:"right-item pull-right"},w.a.createElement("div",{className:"pull-right add-left-margin add-top-margin"},w.a.createElement(zt.a,{className:"cancel-btn medium secondary",onClick:function(){return e.onClose()}},Object(L.a)("app.cancel")),w.a.createElement(zt.a,r()({className:"add-to-cart-btn add-left-margin medium primary"},d,{onClick:function(){return e.onClick()}}),this.getButtonLabel())))))}}]),t}(N.Component));y()(Qn,"defaultProps",{isTOCChecked:!1,isTOCRequired:!1,retainedTotal:[],isTOCDisclaimerEnabled:!1});n(2431);var Xn=function(e){var t=e.children;return w.a.createElement("div",{className:"dxp-ancillary-body clearfix"},t)},Jn=n(109),$n=n.n(Jn);function Zn(e,t,n){var a=yn()(oe()(e,(function(e){return e.passengerName===t}),"passengerName"));return R()(a,(function(e,t){return{key:t,quantity:et()(e,n,0)}}))}function ea(e,t){return e+t.quantity}function ta(e,t){return e+Object(zn.j)(t,"amount")}function na(e){var t=e.passengersBagSummary,n=e.passengers,a=e.bagAllowance,r=e.ancillary;return w.a.createElement("tbody",null,R()(n,(function(e,n){if(e.type===Yt.a.INF)return function(e){return w.a.createElement("tr",{className:"passenger"},w.a.createElement("td",{className:"passenger-type-details-label"},Object(L.a)("account.fullName",e)),w.a.createElement("td",{className:"unavailable-message",colSpan:"2"},Object(L.a)("ancillary.unavailableForPassenger",Oe()({},e,{typeName:Object(L.i)("passengerType.codes.".concat(e.type))}))))}(e);var i=[e.firstName,e.lastName].join(" "),s=$n()(t),o=!S()(s)&&Object(zn.j)(s[0],"currency"),l=Zn(s,i,ea),c=Zn(s,i,ta),u=function(e,t,n){var a=_()(n,"offers.itineraryParts",{});return et()(a,(function(n,a){return 0===a.segmentsMap.length?n+Object(ae.e)(t,a,e).get("totalUnits",0):n+et()(a.segments,(function(n,a){return n+Object(ae.e)(t,a,e).get("totalUnits",0)}),0)}),0)}(e,a,r),d=S()(c)?0:{amount:c[0].quantity,currency:o},p=S()(l)?u:l[0].quantity+u,h=0===p,f=I()("total-bag-price",{"not-selected":h}),m=I()("total-number-of-bags",{"not-selected":h});return w.a.createElement("tr",{className:"passenger",key:"passenger-".concat(n)},w.a.createElement("td",{className:"passenger-name"},i),w.a.createElement("td",{className:"passenger-free-bags"},u),w.a.createElement("td",{className:m},p),w.a.createElement("td",{className:f},h&&Object(L.a)("ancillary.notSelected"),p>0&&w.a.createElement(Ne.a,{price:d,includeDecimal:!0})))})))}na.defaultProps={passengers:{passenger:{type:void 0,lastName:void 0,firstName:void 0}},passengersBagSummary:[],bagAllowance:Object(j.Map)(),ancillary:void 0};var aa=na;n(2432);function ra(e,t,n){var a=Object(ae.f)(e),r=et()(a,(function(e,t){var n=function(e){return et()(e,(function(e,t){var n,a,r,i,s;return e.push((n=_()(t,"firstName"),a=_()(t,"lastName"),r=_()(t,"quantity"),i=_()(t,"total"),s=[n,a].join(" "),r>0?{passengerName:s,quantity:r,total:i}:{passengerName:s,quantity:0,total:i})),e}),[])}(t.passengerOffers);return e.push(n),e}),[]);return w.a.createElement(aa,{passengersBagSummary:r,passengers:t,bagAllowance:n,ancillary:e})}function ia(e){var t=e.ancillary,n=e.passengers,a=e.bagAllowance;return w.a.createElement("div",{className:"summary-container"},w.a.createElement("table",{className:"passengers-bag-summary"},w.a.createElement("caption",{className:"summary-caption"},Object(L.a)("ancillary.selectedBagsSummary")),w.a.createElement("thead",null,w.a.createElement("tr",{className:"summary-headings"},w.a.createElement("th",{className:"passengers-name",scope:"col"},Object(L.a)("ancillary.passengerName")),w.a.createElement("th",{className:"no-of-free-bags",scope:"col"},Object(L.a)("ancillary.totalFreeBags")),w.a.createElement("th",{className:"no-of-bags",scope:"col"},Object(L.a)("ancillary.totalNumberOfBags")),w.a.createElement("th",{className:"price-per-passenger",scope:"col"},Object(L.a)("ancillary.pricePerPassenger")))),ra(t,n,a)))}ia.defaultProps={passengers:{},ancillary:{},bagAllowance:Object(j.Map)()};var sa=ia,oa=n(1606),la=(n(2433),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={productId:""},n}return g()(t,e),l()(t,null,[{key:"renderDropInsuranceProductDetail",value:function(){return w.a.createElement("div",{className:"product-details"},w.a.createElement("div",{className:"product-price-name"},w.a.createElement("div",{className:"no-insurance"},Object(L.a)("ancillary.insurance.optOut"))))}},{key:"renderProductDetail",value:function(e,t,n){return w.a.createElement("div",{className:"product-details"},w.a.createElement("div",{className:"product-price-name"},w.a.createElement(Ne.a,{className:"price",price:_()(e,"insurance.price"),includeDecimal:!0,raiseDecimal:!0}),w.a.createElement("span",{className:"product-name"},_()(e,"insurance.productName"))),w.a.createElement("div",{className:"product-description"},t," ",n))}}]),l()(t,[{key:"onRadioButtonChange",value:function(e,t,n,a,r){e.stopPropagation();var i=he()(n);this.setState({productId:a}),i.insuranceProductId=a,i.price=r,this.props.onChange&&this.props.onChange(i)}},{key:"getPassengerOffers",value:function(){var e=this.props,t=e.ancillary,n=e.itineraryPartKey,a=e.segmentKey;return a?_()(t,"offers.itineraryParts[".concat(n,"].segments[").concat(a,"].passengerOffers"),{}):n?_()(t,"offers.itineraryParts[".concat(n,"].passengerOffers"),{}):_()(t,"offers.passengerOffers",{})}},{key:"renderProductRadio",value:function(e,t,n,a,r,i){var s=this;return w.a.createElement("div",null,w.a.createElement("div",{className:"product-radio"},w.a.createElement(oa.a,{id:t,onChange:function(e,n){return s.onRadioButtonChange(e,n,i,t,a)},checked:this.state.productId===t||n===t,ref:t})),this.renderRadioText(e,r))}},{key:"renderProductRadios",value:function(e,t,n){var a=this,r=_()(this.props,"ancillary.isAddedToCart"),i=e.insuranceProductId,s=this.props.ancillariesConfiguration;return R()(t,(function(t){var o=_()(t,"insurance.price"),l=_()(t,"insurance.productID");return r||l===s.insurance.dropInsurance?r?a.renderProductRadio(t,l,i,o,n,e):null:a.renderProductRadio(t,l,i,o,n,e)}))}},{key:"renderRadioText",value:function(e,n){var a=this.props.ancillariesConfiguration,r=Object(L.a)("ancillary.insurance.suppliers.".concat(n,".").concat(e.insurance.productID)),i=e.insurance.productDescriptionURL,s=w.a.createElement(Wn.a,{target:"_BLANK",href:i},Object(L.a)("ancillary.insurance.learnMore"));return _()(e,"insurance.productID")===a.insurance.dropInsurance?t.renderDropInsuranceProductDetail():t.renderProductDetail(e,r,s)}},{key:"render",value:function(){var e=this.props.ancillary,t=this.getPassengerOffers(),n=_()(e,"products"),a=e.supplierCode,r=Object(Zt.a)(Object(L.i)("ancillary.insurance.suppliers.".concat(a,".ancillaryPanelImage"))),i={backgroundImage:"url(".concat(r,")")},s=Object(L.a)("ancillary.insurance.suppliers.".concat(a,".ancillaryPanelTitle")),o=Object(L.a)("ancillary.insurance.suppliers.".concat(a,".ancillaryPanelDesc")),l=Object(L.a)("app.image"),c="".concat(s,"-").concat(l);return w.a.createElement("div",{className:"ancillary-insurance-supplier"},w.a.createElement("img",{className:"img-div",alt:c,src:Object(Zt.a)("images/Clear.gif"),style:i}),w.a.createElement("div",{className:"insurance-provider"},w.a.createElement("div",{className:"insurance-provider-title"},s),w.a.createElement("div",{className:"insurance-provider-desc"},o),w.a.createElement("div",{className:"insurance-products"},this.renderProductRadios(t,n,a))))}}]),t}(N.Component));y()(la,"defaultProps",{ancillary:{},itineraryPartKey:"",onChange:void 0,ancillariesConfiguration:{},segmentKey:""});var ca=n(2203),ua=n(777),da=n.n(ua),pa=n(79),ha=n.n(pa),fa=n(73),ma=n.n(fa);function ga(e){var t=e.insuranceProductBenefits,n=e.insuranceBenefitKey,a=e.insuranceBenefitIndex,r=t[n],i=I()("individual-benefit",n);return w.a.createElement("li",{key:a,className:i},w.a.createElement("div",{className:"each-benefit-value"},Object(L.a)("ancillary.insurance.value.".concat(r))))}ga.defaultProps={insuranceBenefitIndex:void 0};var va=ga;n(2435);function ya(e){var t=e.productName,n=e.ancillariesConfiguration,a=e.products,r=_()(n,"insuranceBenefits",[])[ma()(t)],i=C()(r),s=function(e,t){var n=t.filter((function(e){return!S()(_()(e,"insurance.productName"))})),a=_()(e,"insuranceBenefits",[]),r=R()(n,(function(e){var t=ma()(_()(e,"insurance.productName")),n=a[t];return C()(n).length}));return Gt()(r)}(n,a)-i.length;if(0!==s){var o=Ee()(s,da()("emptyBenefit")),l=ha()(i,o);return R()(l,(function(e,t){return w.a.createElement(va,{key:"benefit-".concat(t),insuranceBenefitKey:e,insuranceBenefitIndex:t,insuranceProductBenefits:r})}))}return R()(i,(function(e,t){return w.a.createElement(va,{key:"benefit-".concat(t),insuranceBenefitKey:e,insuranceBenefitIndex:t,insuranceProductBenefits:r})}))}function ba(e){var t=e.productName,n=e.ancillariesConfiguration,a=e.products;return w.a.createElement("ul",{className:"insurance-benefits"},ya({productName:t,ancillariesConfiguration:n,products:a}))}ba.defaultProps={products:[]};var Ca=ba,Ea=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.updateTotalForInsurance,a=t.onClick,r=t.ancillary,i=_()(e,"insurance.productID"),s=_()(r,"isPreselected")&&i===_()(r,"preSelectedProductID"),o=!_()(e,"insurance.isAncillarySelected")&&_()(r,"insurance.productID")===i;return n&&n(r,e,s||o),a&&a(e)}},{key:"renderInsuranceAction",value:function(){var e=this.props,t=e.ancillary,n=e.product,a=e.preSelectedProductID,r=(_()(t,"isPreselected")&&!S()(_()(n,"insurance"))&&_()(n,"insurance.productID")===a||!S()(_()(n,"insurance"))&&_()(n,"insurance.productID")===_()(t,"insurance.productID")&&_()(t,"insurance.isAncillarySelected"))&&Object(L.a)("app.remove");return w.a.createElement("span",{className:"insurance-action"},r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.productIndex,r=t.ancillariesConfiguration,i=t.products,s=t.ancillary,o=t.preSelectedProductID,l=_()(n,"insurance.productName"),c=_()(n,"insurance.price"),u=_()(n,"insurance.productID"),d=_()(s,"isPreselected")&&!S()(_()(n,"insurance"))&&u===o||!S()(_()(n,"insurance"))&&u===_()(s,"insurance.productID")&&_()(s,"insurance.isAncillarySelected"),p=I()("medium","secondary","brand-offer");return w.a.createElement("div",{className:"ancillary-insurance-card"},w.a.createElement("div",{className:"insurance-name"},l),w.a.createElement("div",{className:"insurance-benefits"},w.a.createElement(Ca,{ancillariesConfiguration:r,products:i,productName:l})),w.a.createElement("div",{className:"insurance-price"},!d&&w.a.createElement("div",{className:"add-line"}),d&&w.a.createElement("div",{className:"added-to-cart-title"},w.a.createElement(M.c,{name:M.a.CHECK}),Object(L.a)("ancillary.selectedAllPassengers")),w.a.createElement(zt.a,{className:p,onClick:function(t){return e.onClick(n,t)},key:"offer-select-button-".concat(a)},this.renderInsuranceAction(),!d&&w.a.createElement(Ne.a,{className:"price",price:c,includeDecimal:!0}))))}}]),t}(N.Component);y()(Ea,"defaultProps",{productIndex:void 0,updateTotalForInsurance:void 0,preSelectedProductID:void 0});n(2436);var ka=function(e){var t=e.ancillary,n=e.ancillariesConfiguration,a=e.onClick,r=e.updateTotalForInsurance,i=_()(n,"ancillaryPanelImage"),s=_()(n,"offersToDisplay"),o=Object(Zt.a)(i),l=Object(L.i)("app.image"),c=Object(L.a)("ancillary.insurance.ancillaryPanelTitle"),u=Object(L.a)("ancillary.insurance.ancillaryPanelDesc"),d="".concat(c,"-").concat(l),p=function(e,t,n,a){var r=e.products,i=e.productID,s=e.preSelectedProductID,o=r.filter((function(e){return!S()(_()(e,"insurance.productName"))}));return R()(o,(function(o,l){return w.a.createElement(Ea,{updateTotalForInsurance:a,ancillary:e,key:"".concat(o,"-").concat(l),product:o,productIndex:l,ancillariesConfiguration:t,products:r,onClick:function(){return n(o)},addedProductID:i,preSelectedProductID:s})}))}(t,n,a,r);return w.a.createElement("div",{className:"ancillary-pattern"},w.a.createElement("div",{className:"ancillary-information"},w.a.createElement("h4",{className:"ancillary-name"},c),w.a.createElement("span",{className:"ancillary-description"},u),w.a.createElement("img",{alt:d,className:"item img-div",src:o})),w.a.createElement("div",{className:"dxp-tiled-ancillaries"},w.a.createElement(ca.a,{renderedAncillaries:p,offersToDisplay:s})))};ka.defaultProps={updateTotalForInsurance:void 0};var Oa=ka,_a=(n(2437),n(2438),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onDisclosureClick",(function(){return n.props.onDisclosureClick&&n.props.onDisclosureClick()})),y()(f()(n),"onSummaryClick",(function(){var e=n.props.ancillary;return n.props.onSelect&&n.props.onSelect(e.code)})),n}return g()(t,e),l()(t,[{key:"onAddToCart",value:function(){return this.props.onAddToCart&&this.props.onAddToCart()}},{key:"onAncillaryClose",value:function(){return this.props.onAncillaryClose&&this.props.onAncillaryClose()}},{key:"onInsuranceChange",value:function(e){return this.props.onChange&&this.props.onChange(e)}},{key:"displayContentSection",value:function(e){return!this.isInsuranceAncillary(e)}},{key:"displayInsuranceContentSection",value:function(e){return this.isInsuranceAncillary(e)}},{key:"isFeaturedAncillary",value:function(e){var t=this.props,n=t.ancillariesConfiguration;return!t.isMobile&&!n.showSelectedFeaturedAncillaryInModal&&k()(C()(n.featuredOfferingCodes),e.code)}},{key:"isInsuranceAncillary",value:function(e){var t=this.props.ancillariesConfiguration;return e.code===_()(t,"insurance.code")}},{key:"isMobileCustomGroupAncillary",value:function(e){var t=this.props,n=t.isMobile,a=t.ancillariesConfiguration,r=_()(a,"showBaggageByWeight",!1);return n&&(e.isCustomGroup||r)}},{key:"isTOCChecked",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.total;return!!e.isTOCRequired&&(!!t&&!!t&&0!==n.amount||!!t&&!!e.isFree&&0===n.amount)}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.seatBundleRemoved,r=t.cartData,i=t.ancillaries,s=t.ancillariesConfiguration,o=t.passengers,l=t.isMobile,c=t.bagAllowance,u=_()(r,"result.cartHasProduct.seat",0),d=a&&u>0,p=_()(s,"isTOCRequired.enabled")&&k()(_()(s,"isTOCRequired.offeringCodes"),n.code),h=_()(s,"isTOCDisclaimerEnabled.enabled")&&k()(_()(s,"isTOCDisclaimerEnabled.offeringCodes"),n.code),f=_()(s,"showBaggageByWeight",!1);return w.a.createElement(Xn,{index:n.code,onClick:function(){return e.onAncillaryClose()}},d&&w.a.createElement(Vn.a,{type:"warning",title:"warning message"},Object(L.a)("ancillary.seatBundleRemovedWarning")),n.isExpandable&&this.renderBodyContent(n),f&&l&&n.code===re.b.BAGGAGE&&w.a.createElement(sa,{ancillary:n,ancillaries:i,ancillariesConfiguration:s,passengers:o,bagAllowance:c,excludedItineraryParts:this.props.excludedItineraryParts}),w.a.createElement(Qn,{ancillary:n,ancillaries:i,isTOCRequired:p,isTOCDisclaimerEnabled:h,isTOCChecked:this.isTOCChecked(),ref:"ancillary-footer-".concat(n.code),onClose:function(){return e.onAncillaryClose()},onClick:function(){return e.onAddToCart(n)},retainedTotal:this.props.retainedTotal}))}},{key:"renderBodyContent",value:function(){var e=this.props,t=e.ancillary,n=e.ancillaries,a=e.journeyType,r=e.ancillariesConfiguration,i=e.passengers,s=e.onChange,o=e.segmentEnabled,l=e.isMobile,c=e.updateQuantityToCode,u=e.bagAllowance,d=e.excludedItineraryParts;if(this.isInsuranceAncillary(t))return this.renderInsuranceContent();if(t.isExpandable){if(!S()(_()(t,"offers.passengerOffers")))return w.a.createElement(An,{updateQuantityToCode:c,ancillary:t,ancillaries:n,ancillariesConfiguration:r,passengers:i,onChange:s,excludedItineraryParts:d});var p=_()(r.items[t.code],"displayUsingTabs",!1),h=_()(r,"showBaggageByWeight",!1);return p||l&&h?w.a.createElement(Mn,{updateQuantityToCode:c,ancillary:t,ancillaries:n,ancillariesConfiguration:r,passengers:i,journeyType:a,isMobile:l,onChange:s,bagAllowance:u,excludedItineraryParts:d}):w.a.createElement(xn,{updateQuantityToCode:c,ancillary:t,ancillaries:n,ancillariesConfiguration:r,passengers:i,journeyType:a,segmentEnabled:o,onChange:s,bagAllowance:u,excludedItineraryParts:d})}return null}},{key:"renderInsuranceContent",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.ancillariesConfiguration,r=t.updateTotalForInsurance;return _()(a,"carousalPatternEnabled",!1)?w.a.createElement(Oa,{updateTotalForInsurance:r,ancillary:n,onClick:function(t){return e.onInsuranceChange(t)},ancillariesConfiguration:a}):w.a.createElement(la,{ancillary:n,onClick:function(t){return e.onInsuranceChange(t)},ancillariesConfiguration:a})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.isOriginalPriceDisplayed,i=t.isDealBannerDisplayed,s=t.ancillariesConfiguration,o=t.isMobile,l=t.isRenderedOnModal,c=t.retainedTotal,u=this.context.translateWithComponents,d=Object(F.b)(this.props.isAuthorable,"ancillaryPanel"),p=n.isRecommended,h=n.code,f=_()(s,"showBaggageByWeight",!1),m=I()("dxp-ancillary-panel","centered-content","container",h,{"has-alert":n.isAddedToCart,"has-items-left":n.quantityLeft,"is-not-expandable":!n.isExpandable,"bags-by-weight":f}),g=p&&Object(L.a)("ancillary.recommended"),v=n.code===re.b.INSURANCE?"ancillary-insurance-panel-body":"ancillary-panel-body",y=!this.isFeaturedAncillary(n)&&(!this.isMobileCustomGroupAncillary(n)||this.isInsuranceAncillary(n));return w.a.createElement("div",r()({className:m,"data-ancillary":h},d),p&&w.a.createElement("div",{className:"recommendation"},w.a.createElement("h3",{className:"lead"},g)),y&&w.a.createElement("div",{className:"content"},w.a.createElement("div",{className:"row"},!x.a.mobile&&w.a.createElement(Un.a,{ancillary:n,isOriginalPriceDisplayed:a,isDealBannerDisplayed:i,ancillariesConfiguration:s,onClick:function(){return e.onSummaryClick()},isRenderedOnModal:l,retainedTotal:c}),this.displayContentSection(n)&&w.a.createElement(Hn,{isRenderedOnModal:l,ancillary:n,useDescription:!0,ancillariesConfiguration:s,onDisclosureClick:function(){return e.onDisclosureClick()}}),this.displayInsuranceContentSection(n)&&w.a.createElement(Gn,{isMobile:o,ancillary:n,ancillariesConfiguration:s,translateWithComponents:u,useDescription:!0,onDisclosureClick:this.onDisclosureClick}),x.a.mobile&&w.a.createElement(Un.a,{ancillary:n,isOriginalPriceDisplayed:a,isDealBannerDisplayed:i,classNames:"mobile-summary",ancillariesConfiguration:this.props.ancillariesConfiguration,onClick:this.onSummaryClick,isRenderedOnModal:l}))),w.a.createElement("div",{className:v},this.renderBody()))}}]),t}(N.Component));y()(_a,"contextTypes",{translateWithComponents:A.func}),y()(_a,"defaultProps",{ancillaries:{},addToGroup:!1,onAncillaryClose:void 0,numberOfPassenger:void 0,ancillary:{},journeyType:{},onClick:void 0,onChange:void 0,onAncillaryUpdate:void 0,onAddToCart:void 0,onDisclosureClick:void 0,onSelect:void 0,passengers:{},isDealBannerDisplayed:!1,isOriginalPriceDisplayed:!1,ancillariesConfiguration:{},cartData:{},seatBundleAssignments:{},segmentEnabled:!1,seatBundleRemoved:!1,isMobile:!1,isAuthorable:!0,updateQuantityToCode:void 0,updateTotalForInsurance:void 0,bagAllowance:Object(j.Map)(),isRenderedOnModal:!1,excludedItineraryParts:Object(j.List)(),retainedTotal:[]}),n.d(t,"a",(function(){return _a}))},,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(0),s=n.n(i),o=(n(6),n(1)),l=n.n(o),c=n(195),u=n(37),d=n.n(u),p=n(2),h=n.n(p),f=n(56),m=n.n(f),g=n(4),v=n.n(g),y=n(17),b=n.n(y),C=n(39),E=n.n(C),k=n(12),O=n(50);n(2292);function _(e){var t=e.className,n=e.headerSize,a=e.children,r=E()("cancel-container","pull-right",t),i=E()("cancel-message",n);return l.a.createElement("div",{className:r},l.a.createElement("div",{className:i},a))}_.defaultProps={headerSize:"",className:"",children:""};var P=_,S=n(1731),N=n(1989),w=n(26),A=n.n(w),T=n(22),I=n.n(T),D=n(29),x=n.n(D),j=n(28),L=n.n(j),F=n(30),B=n.n(F),R=n(3),M=n.n(R),V=n(13),U=n.n(V),q=n(51),H=n.n(q),W=n(5),G=n.n(W),K=n(1419),z=n(1601),Y=n(2042),Q=(n(2293),n(2294),function(e){function t(){return A()(this,t),x()(this,L()(t).apply(this,arguments))}return B()(t,e),I()(t,[{key:"isNightTime",value:function(e,t){for(var n=s()(this.props,"configuration.nightTime");e.diff(t)<0;){if(e.hour()>=n.starts||e.hour()<n.ends)return!0;e.add(5,"m")}return!1}},{key:"renderAmenities",value:function(){var e=this.props.configuration,t=G()(s()(e,"amenities",[]),(function(e,t){var n="amenity-".concat(t);return l.a.createElement(O.c,{key:n,name:e.icon,srOnlyText:e.name})}));return h()(t)?null:l.a.createElement("div",{className:"detail flight-features"},l.a.createElement("span",{className:"title"},Object(k.a)("flightDetails.details.amenities")),t)}},{key:"renderInfo",value:function(){var e=this.props,n=e.departure,a=e.arrival,r=e.previousSegment,i=b()(n),s=b()(a),o=t.getDifference(i,s),c=[];return h()(r)||H()(b()(r.arrival),"date")===H()(i,"date")||c.push(l.a.createElement("span",{className:"info",key:"leave-next-day"},l.a.createElement(O.c,{name:O.a.AIRPLANE_DEPART})," ",Object(k.a)("flightSelection.leavesNextDay"))),this.isNightTime(i,s)&&c.push(l.a.createElement("span",{className:"info",key:"night-time"},l.a.createElement(O.c,{name:O.a.CLOCK}),Object(k.a)("flightSelection.nightTimeFlight"))),o&&0!==o&&c.push(l.a.createElement("span",{className:"info",key:"arrival-day"},-1===o&&l.a.createElement("span",{className:"previous-day",key:"arrive-previous-day"},l.a.createElement(O.c,{name:O.a.AIRPLANE_ARRIVE})," ",Object(k.a)("flightSelection.arrivesPreviousDay")),1===o&&l.a.createElement("span",{className:"next-day",key:"arrive-next-day"},l.a.createElement(O.c,{name:O.a.AIRPLANE_ARRIVE})," ",Object(k.a)("flightSelection.arrivesNextDay")),2===o&&l.a.createElement("span",{className:"two-days-later",key:"arrive-two-days-later"},l.a.createElement(O.c,{name:O.a.AIRPLANE_ARRIVE})," ",Object(k.a)("flightSelection.arrivesTwoDaysLater")))),c}},{key:"renderStops",value:function(){var e=this.props.flight,t=s()(e,"stopAirports",[]),n="",a=b.a.duration(0);return U()(t,(function(e,r){n+=e.airport,a=b.a.duration(b()(e.departure).diff(b()(e.arrival))),t.length!==r+1&&(n+=", ")})),""!==n?l.a.createElement("div",{className:"detail"},l.a.createElement("span",{className:"title"},Object(k.a)("flightDetails.details.stops")),l.a.createElement("span",{className:"bold"},Object(k.a)("flightDetails.details.flightStops",{airports:n}),l.a.createElement(K.a,{duration:a}))):null}},{key:"render",value:function(){var e=this.props,t=e.duration,n=e.equipment,a=e.flight,r=e.configuration,i=e.fareBasis,o=e.className,c=e.departure,u=e.origin,d=e.destination,p=e.hideFareBasis,f=s()(a,"advisories",[]),m=s()(a,"stopAirports",[]),g=r.operatedBy,v=r.displayFareBasis,y=r.displayFlightAdvisories,C=r.onTimePerformance,_={className:o,origin:u,destination:d,departure:b()(c),flight:{flightNumber:a.flightNumber,airlineCode:a.airlineCode},configuration:C};return l.a.createElement("div",{className:"dxp-details"},l.a.createElement("div",{className:"duration"},l.a.createElement(K.a,{duration:t})),l.a.createElement("div",{className:"detail-section"},l.a.createElement("div",{className:"detail flight-number clearfix"},l.a.createElement(z.a,{flightProps:a,operatedBy:g,segment:this.props}),C&&C.display&&l.a.createElement(Y.a,_)),l.a.createElement("ul",{className:"advisories"},!h()(f)&&y&&G()(f,(function(e){return l.a.createElement("li",{key:"".concat(e.code,"-").concat(a.flightNumber),className:E()("advisory-message",e.level.toLowerCase())},l.a.createElement(O.c,{name:O.a.INFO_CIRCLE,size:"sm",fill:!0}),l.a.createElement("span",null,Object(k.a)(e.code)))}))),this.renderAmenities(),l.a.createElement("div",{className:"detail flight-equipment"},l.a.createElement("span",{className:"title"},Object(k.a)("flightDetails.details.aircraft")),l.a.createElement("span",{className:"bold"},Object(k.a)("aircrafts.".concat(n)))),!p&&v&&i&&l.a.createElement("div",{className:"detail flight-fare-basis"},l.a.createElement("span",{className:"title"},Object(k.a)("flightDetails.details.fareBasis")),l.a.createElement("span",{className:"bold"},i)),!h()(m)&&this.renderStops()),l.a.createElement("div",{className:"info-section"},this.renderInfo()))}}],[{key:"getDifference",value:function(e,t){var n=b()(t).startOf("day"),a=b()(e).startOf("day");return n.diff(a,"days")}}]),t}(o.Component));M()(Q,"defaultProps",{duration:{},equipment:"",previousSegment:{},flight:{},departure:{},arrival:{},fareBasis:"",className:"",hideFareBasis:!1,flightAncillary:[]});n(2295),n(2296);var X=function(e){var t=e.origin,n=e.destination,a=e.departure,r=e.arrival,i=e.hasCancelledSegments,s=e.isIropAffected,o=e.segmentStatusCode,c=e.allItineraryPartsAreCancelled,u=e.subjectToGovernmentApproval,d=e.previousSegment,p=e.iropDateFormat,h=e.defaultDateFormat,f=e.configuration,m=e.duration,g=e.equipment,v=e.flight,y=e.layoverDuration,b=e.hideFareBasis,C=e.fareBasis,_=e.className,w=e.segmentOfferInformation,A=s&&i?p:h,T=o.code===N.a.CANCELLED,I=T&&!c,D=w&&w.flightAncillaries&&w.flightAncillaries.flightAncillary;return l.a.createElement("div",{className:E()("dxp-segment",{cancelled:T})},I&&l.a.createElement(P,{headerSize:"h6"},Object(k.a)("tripDetails.irop.segmentCancelled")),l.a.createElement("div",{className:"header"},l.a.createElement(S.a,{className:"time",date:a,format:A}),l.a.createElement("span",{className:"city"},Object(k.a)("city.".concat(t)))),l.a.createElement("div",{className:"details"},l.a.createElement("span",{className:"code"},t),l.a.createElement("span",{className:"airport"},Object(k.a)("airports.".concat(t))),u&&l.a.createElement("div",{className:"subject-to-government-approval-flights"},l.a.createElement(O.c,{name:O.a.ALERT_TRIANGLE,fill:!0}),l.a.createElement("span",null,Object(k.a)("flightSelection.subjectToGovernmentalApproval",{flightsCount:1}))),l.a.createElement(Q,{configuration:f,duration:m,equipment:g,flight:v,layoverDuration:y,hideFareBasis:b,origin:t,destination:n,fareBasis:C,departure:a,arrival:r,previousSegment:d,className:_,flightAncillary:D})),l.a.createElement("div",{className:"header"},l.a.createElement(S.a,{className:"time",date:r,format:A}),l.a.createElement("span",{className:"city"},Object(k.a)("city.".concat(n)))),l.a.createElement("div",{className:"arrival-airport"},l.a.createElement("span",{className:"code"},n),l.a.createElement("span",{className:"airport"},Object(k.a)("airports.".concat(n)))))};X.defaultProps={className:"",equipment:"",layoverDuration:void 0,segmentStatusCode:{code:"",segmentStatus:""},allItineraryPartsAreCancelled:!1,hasCancelledSegments:!1,isIropAffected:!1,subjectToGovernmentApproval:!1,previousSegment:{},hideFareBasis:!1,iropDateFormat:"",defaultDateFormat:"",segmentOfferInformation:void 0};var J=X,$=(n(2297),n(2298),function(e){function t(){return A()(this,t),x()(this,L()(t).apply(this,arguments))}return B()(t,e),I()(t,[{key:"renderAirportCircle",value:function(){var e=s()(this.props,"firstSegment.destination");return l.a.createElement("span",{className:"code"},e)}},{key:"render",value:function(){var e=this.props,t=e.firstSegment,n=e.secondSegment;return l.a.createElement("div",{className:"spark-badge spark-badge--neutral dxp-layover"},Object(k.k)("flightDetails.layoverDuration",{duration:l.a.createElement(K.a,{duration:b.a.duration(b()(n.departure).diff(t.arrival))})}))}}]),t}(o.Component)),Z=function(e){var t=e.brandId,n=e.flight,a=e.configuration,i=e.cancelledSegments,o=e.combinedSegments,c=e.allItineraryPartsAreCancelled,u=e.hideFareBasis,p=e.defaultDateFormat,f=e.iropDateFormat,g=h()(o)?s()(n,"segments"):o;h()(g)&&(g=i||s()(n,"cancelledSegments"));var y=v()(g,(function(o,v,y){var b=h()(t)?v.fareBasis:n.fareBasisMap[t][y];return o.push(l.a.createElement(J,r()({},d()(v,{fareBasis:b}),{key:"segment-".concat(y),previousSegment:s()(g,"[".concat(y-1,"]"),{}),configuration:a,hasCancelledSegments:!h()(i),isIropAffected:e.isIropAffected,allItineraryPartsAreCancelled:c,hideFareBasis:u,defaultDateFormat:p,iropDateFormat:f}))),m()(g)>y+1&&o.push(l.a.createElement($,{firstSegment:v,key:"layover-".concat(y),secondSegment:g[y+1]})),o}),[]);return l.a.createElement("div",{className:"dxp-itinerary-segment"},y)};Z.defaultProps={brandId:"",cancelledSegments:[],isIropAffected:!1,allItineraryPartsAreCancelled:!1,combinedSegments:[],hideFareBasis:!1,defaultDateFormat:void 0,iropDateFormat:void 0,flight:void 0};var ee=Z;n(2299);function te(e){var t=e.itineraryPart,n=e.configuration,a=e.defaultDateFormat,i=s()(t,"segments"),o=v()(i,(function(e,t,o){return e.push(l.a.createElement(J,r()({},t,{key:"segment-".concat(o),previousSegment:s()(i,"[".concat(o-1,"]"),{}),nextSegment:s()(i,"[".concat(o+1,"]"),{}),configuration:n,defaultDateFormat:a}))),m()(i)>o+1&&e.push(l.a.createElement($,{firstSegment:t,key:"layover-".concat(o),secondSegment:i[o+1]})),e}),[]);return l.a.createElement("div",{className:"dxp-itinerary-segment"},o)}te.defaultProps={defaultDateFormat:void 0};var ne=te,ae=(n(2300),n(2301),function(e){var t=e.isAuthorable,n=e.isBundledOffers,a=Object(c.a)(t,"flightDetails");return l.a.createElement("div",r()({className:"dxp-flight-details"},a,{"data-test-id":"dxp-flight-details"}),n?function(e){return s()(e.flight,"itineraryPart").map((function(t){return l.a.createElement(ne,r()({key:"bundled-segments-".concat(t.origin,"-").concat(t.destination)},e,{itineraryPart:t}))}))}(e):l.a.createElement(ee,e))});ae.defaultProps={isAuthorable:!0,isBundledOffers:!1,defaultDateFormat:"",iropDateFormat:""};var re=ae;n.d(t,"a",(function(){return re}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),C=n.n(b),E=n(1537),k=n(1385),O=n.n(k),_=n(122),P=n.n(_),S=n(5),N=n.n(S),w=n(36),A=n.n(w),T=n(52),I=n.n(T),D=n(123),x=n(1286),j=n(12),L=n(195),F=n(84),B=n(24),R=n(14),M=n(1524),V=n(1525),U=n(1588),q=n(1535),H=n(1587),W=n(2),G=n.n(W),K=n(1305),z=n(1360),Y=n(1320),Q=n(50),X=n(63),J=n(1409),$=(n(2313),function(e){var t=e.crumbState,n=e.breadcrumbConfiguration;if(t===K.a.COMPLETED)return y.a.createElement(Q.c,{name:n.getIn(["flowIcons","completed"])});var a=t===K.a.ACTIVE?"./images/breadcrumb-icons/upgrade_fill_icon.png":"./images/breadcrumb-icons/upgrade_nofill_icon.png";return y.a.createElement(J.a,{src:Object(X.a)(a),alt:"upgrade-icon",className:"upgrade-breadcrumb-item-icon"})}),Z=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement($,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.breadcrumbConfiguration,r=e.tripParams,i=e.searchCriteriaQueryParams,s=Object(j.i)("summaryBar.flowCrumbs.".concat(R.a.UPGRADE,".").concat(t),{tripDate:G()(r.originDate)&&G()(r.destinationDate)?"":n.getTripDate(i,a,r.originDate,r.destinationDate)});return y.a.createElement(Y.a,{crumbSubTitle:s})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(z.a,{pageName:R.a.UPGRADE,flowName:F.a.UPGRADE})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement($,{crumbState:K.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(j.i)("summaryBar.flowCrumbs.".concat(R.a.UPGRADE,".").concat(K.a.HOVER));return y.a.createElement(Y.a,{crumbSubTitle:e})})),g()(p()(n),"getTripDate",(function(e,t,n,a){var r=t.get("flightSelectionCrumbDateFormat");return e.isOneWay?n.format(r):Object(j.i)("summaryBar.flowCrumbs.tripDate",{originDate:n.format(r),destinationDate:a.format(r)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(x.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onUpgradeCrumbClick(e.props.url)},className:"dxp-breadcrumb-item upgrade-breadcrumb-item"})}}]),t}(v.Component),ee=n(42),te=n(214),ne=n(1560),ae=n(1526),re=n(11),ie=function(e){return e.upgrade.get("selectedSeats",Object(re.List)())},se=function(e){return e.upgrade.get("uniquePassengers",Object(re.List)())},oe=Object(ee.a)((function(e){return e.upgrade.get("segments",Object(re.List)())}),(function(e){return e.flatten(!0).size})),le=function(e){return e.metadata.get("upgradeSeatSelection",{}).passengersExcludedFromSeatSelection},ce=function(e){return e.metadata.get("breadcrumbs")},ue=function(e){return e.metadata.get("flows")},de=Object(ee.a)(Object(te.a)(),(function(e){return e})),pe=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,R.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,R.a.UPGRADE,(function(e,t,n){return a.renderUpgradeBreadcrumbItem(e,t,n)})),g()(n,R.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,R.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(H.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(M.b)(R.a.HOME,e,n,t),index:n,url:Object(M.c)(R.a.MYB,R.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:R.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(M.b)(R.a.PAYMENT,e,n,t),url:Object(M.c)(B.a.UPGRADE,R.a.PAYMENT),index:I()(t,R.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:R.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(U.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(M.b)(R.a.SEAT_SELECTION,e,n,t),url:Object(M.c)(B.a.UPGRADE,R.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:I()(t,R.a.SEAT_SELECTION),onSeatSelectionCrumbClick:a.handleCrumbClick,key:R.a.SEAT_SELECTION})})),g()(p()(a),"renderUpgradeBreadcrumbItem",(function(e,t,n){return y.a.createElement(Z,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(M.b)(R.a.UPGRADE,e,n,t),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:I()(t,R.a.UPGRADE),url:Object(M.c)(B.a.UPGRADE,R.a.UPGRADE),onUpgradeCrumbClick:a.handleCrumbClick,key:R.a.UPGRADE})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=O()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=n.get(F.a.UPGRADE),l=A()(a.pathname.split("/")),c=o.keySeq().includes(l)?l:B.a.B2C,u=Object(M.a)(o,r.get("displayHomeCrumb")),d=I()(u,c),p=Object(L.a)(s,"breadcrumbs"),h=u.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",f=C()("dxp-breadcrumbs",h);return y.a.createElement("div",p,y.a.createElement(x.b,{stickyBottomBoundaryID:void 0,className:f,PACKAGE_NAME_CLASSIFIED:"app",cartPrice:this.props.total,onCartSummaryClick:i,showCondensed:this.state.showCondensed,dropDownLabel:Object(j.i)("summaryBar.mobileBreadcrumbDropdownLabel")},N()(u,(function(t){return e.flowsToBreadcrumbComponentMapper[t](c,u,d)}))))}}]),t}(v.PureComponent));g()(pe,"defaultProps",{seatsCrumbData:void 0,onCartSummaryClick:P.a,total:{},isAuthorable:!0,cartCollapsed:!0});var he=Object(D.b)((function(){return Object(ee.b)({searchCriteriaQueryParams:de,breadcrumbConfiguration:ce,tripParams:Object(ne.a)(),flowConfiguration:ue,seatsCrumbData:Object(ee.b)({selectedSeats:ie,passengers:se,passengersExcludedFromSeatSelection:le,flightsCount:oe}),total:ae.a})}),{updateURLQueryParameters:V.a})(pe);n.d(t,"a",(function(){return fe}));var fe=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(he,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.params,o=e.children,l=e.id,c=C()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(E.a,{className:c,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,params:s,id:l},o)}}]),t}(v.PureComponent);g()(fe,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},params:{},isCartEnabled:!0})},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(77),y=n.n(v),b=n(2),C=n.n(b),E=n(0),k=n.n(E),O=n(51),_=n.n(O),P=n(82),S=n.n(P),N=n(1985),w=n.n(N),A=n(18),T=n.n(A),I=n(5),D=n.n(I),x=n(36),j=n.n(x),L=n(27),F=n.n(L),B=n(1),R=n.n(B),M=n(6),V=n(123),U=n(12),q=n(2076),H=n(136),W=n(2067),G=n(2071),K=n(14),z=n(1349),Y=n(85),Q=n(2101),X=n.n(Q),J=n(766),$=n.n(J),Z=n(43),ee=n.n(Z),te=n(4),ne=n.n(te),ae=n(13),re=n.n(ae),ie=n(39),se=n.n(ie),oe=n(50),le=n(2068),ce=n(2077),ue=n(2039),de=n(146),pe=n(153),he=n(173),fe=n.n(he),me=n(17),ge=n.n(me),ve=n(137),ye=n.n(ve),be=n(325),Ce=n(1724),Ee=n(1480),ke=n(1289),Oe=function(e){function t(e,n){var a;return r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"sortTranslatedAirportsOptions",(function(e){return a.props.metadata.getIn(["flightSearch","sortFlightSearchAirportsByLabel"])?a.sortAirportsByLabel(e):ye()(e,["value"])})),g()(u()(a),"sortAirportsByLabel",(function(e){var t=new Intl.Collator(a.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))})),a.state={origin:e.origin,origins:a.sortTranslatedAirportsOptions(e.origins),destination:e.destination,destinations:a.sortTranslatedAirportsOptions(e.getDestinationsForOrigin(e.origin)),departureDate:e.departureDate,returnDate:e.returnDate},a}return f()(t,e),p()(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.locale!==this.props.locale&&(this.setState({origins:this.sortTranslatedAirportsOptions(this.props.origins)}),this.state.origin&&this.setState((function(e){return{destinations:t.sortTranslatedAirportsOptions(t.props.getDestinationsForOrigin(e.origin))}})))}},{key:"getItinerary",value:function(){var e;return this.props.journeyType===Y.a.ROUND_TRIP?((e=[]).push({origin:this.state.origin,destination:this.state.destination,date:this.state.departureDate}),e.push({origin:this.state.destination,destination:this.state.origin,date:this.state.returnDate})):e={origin:this.state.origin,destination:this.state.destination,date:this.state.departureDate},e}},{key:"render",value:function(){var e=this,t=this.context.language,n=ge()().add(this.props.metadata.get("minDepartureDateOffset"),"days").startOf("day"),a=ge()().add(this.props.metadata.get("getMaximumDaysInCalendar"),"days");return R.a.createElement("div",{className:"dxp-panel-leg clearfix"},this.props.journeyType===Y.a.MULTI_CITY&&R.a.createElement("div",{className:"dxp-edit-panel-flight-title"},Object(U.a)("summaryBar.flight",{index:this.props.index+1})),R.a.createElement("div",{className:"dxp-edit-panel-half"},R.a.createElement("div",{className:"dxp-edit-panel-component-title"},Object(U.i)("summaryBar.editPanel.airports")),R.a.createElement("div",{className:"edit-panel-row"},R.a.createElement(Ce.a,{options:this.state.origins,label:"summaryBar.editPanel.departingAirport",defaultValue:this.state.origin,noResultsText:Object(U.i)("flightSearch.noOriginAirports"),onChange:function(t){return e.onOriginChange(t)},className:"departing-airport",keyProp:"departing-airport"}),R.a.createElement(Ce.a,{options:this.state.destinations,label:"summaryBar.editPanel.arrivingAirport",defaultValue:this.state.destination,noResultsText:Object(U.i)("flightSearch.noDestinationAirports"),onChange:function(t){return e.onDestinationChange(t)},className:"arriving-airport",keyProp:"arriving-airport"}))),R.a.createElement("div",{className:"dxp-edit-panel-half"},R.a.createElement("div",{className:"dxp-edit-panel-component-title"},k()(this.props,"returnDate")?Object(U.a)("summaryBar.editPanel.travelDates"):Object(U.a)("summaryBar.editPanel.travelDate")),R.a.createElement("div",{className:"edit-panel-row"},R.a.createElement("div",{className:"departure-date-container"},R.a.createElement(Ee.a,{ref:function(t){e.departureDate=t},keyProp:"departureDate-".concat(this.props.index),label:"summaryBar.editPanel.departingDate",defaultValue:this.state.departureDate,defaultLocale:t,value:this.state.departureDate,onChange:function(t){return e.onDepartureDateChange(t)},minDate:n,maxDate:a,weekStartDay:this.props.weekStartDay,dateFormat:this.props.dateFormat,className:"departure-date"})),this.props.returnDate&&R.a.createElement("div",{className:"return-date-container"},R.a.createElement(Ee.a,{ref:function(t){e.returnDate=t},keyProp:"returnDate",label:"summaryBar.editPanel.returningDate",defaultValue:this.getDefaultReturnDate(this.state.returnDate),defaultLocale:t,onChange:function(t){return e.onReturnDateChange(t)},minDate:ge()(this.state.departureDate),maxDate:a,weekStartDay:this.props.weekStartDay,dateFormat:this.props.dateFormat,className:"return-date"})))))}},{key:"getDefaultReturnDate",value:function(){return ge()(this.state.returnDate,this.props.dateFormat).isBefore(this.state.depatureDate)?this.state.departureDate:this.state.returnDate}},{key:"onOriginChange",value:function(e){var t=this;if(e!==this.state.origin){var n=this.props.getDestinationsForOrigin(e),a=this.props.destination,r=-1===fe()(n,(function(e){return e.value===a}))?null:this.props.destination;this.setState({origin:e,destination:r,destinations:n},(function(){return t.props.onChange()}))}}},{key:"onDestinationChange",value:function(e){var t=this;e!==this.state.destination&&this.setState({destination:e},(function(){t.props.onChange()}))}},{key:"onDepartureDateChange",value:function(e){var t=this,n={},a=Object(ke.m)(e)&&!e.isSame(this.state.departureDate);a&&this.isDateAfterReturnDate(e)&&(n.returnDate=e,this.returnDate.setValue(n.returnDate)),a&&(n.departureDate=e,this.setState(n,(function(){return t.props.onChange()})))}},{key:"isDateAfterReturnDate",value:function(e){return Boolean(e&&e.isValid()&&this.state.returnDate&&this.state.returnDate.isValid()&&e.isAfter(this.state.returnDate))}},{key:"onReturnDateChange",value:function(e){var t=this,n={},a=Object(ke.m)(e)&&!e.isSame(this.state.returnDate);a&&this.isDateBeforeDepartureDate(e)&&(n.departureDate=e,this.departureDate.setValue(n.departureDate)),a&&(n.returnDate=e,this.setState(n,(function(){return t.props.onChange()})))}},{key:"isDateBeforeDepartureDate",value:function(e){return Boolean(e&&e.isValid()&&this.state.departureDate&&this.state.departureDate.isValid()&&e.isBefore(this.state.departureDate))}},{key:"isValid",value:function(){return!(!(this.state.origin&&this.state.destination&&this.state.departureDate)||this.state.departureDate&&!this.state.departureDate.isValid())&&!(this.props.journeyType===Y.a.ROUND_TRIP&&(!this.state.returnDate||this.state.returnDate&&!this.state.returnDate.isValid()))}}]),t}(be.a);g()(Oe,"propTypes",{origins:Object(M.arrayOf)(Object(M.shape)({value:M.string.isRequired,label:M.string.isRequired})),origin:M.string,destination:M.string,departureDate:Object(M.instanceOf)(ge.a),returnDate:Object(M.instanceOf)(ge.a),journeyType:M.string,weekStartDay:M.number,getDestinationsForOrigin:M.func.isRequired,onChange:M.func.isRequired,index:M.number,dateFormat:M.string,metadata:Object(M.shape)({}),locale:M.string.isRequired}),g()(Oe,"contextTypes",{language:M.string});var _e=function(e){function t(e,n){var a;return r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"addLeg",(function(){var e=a.getItinerary();e.push({date:j()(e).date}),a.setState({itineraryParts:e},(function(){return a.validateState()}))})),a.state={passengersSelection:e.passengersSelection,cabinClassSelection:e.cabinClassSelection,itineraryParts:e.itineraryParts,promoCodes:e.promoCodes||[],cachedItinerary:null},a.isValidState=!1,a}return f()(t,e),p()(t,null,[{key:"getPassengersSummary",value:function(e){var t=ne()(e,(function(e,t){return e+t}),0);return Object(U.i)("passengerType.summary",{total:t})}}]),p()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.isJourneyTypeChanged(e)&&(e.journeyType===Y.a.MULTI_CITY?this.ensureMinimumLegs():X()(this.state.cachedItinerary)&&this.cacheExtraLegs())}},{key:"onCabinClassChange",value:function(e){var t=this;e!==this.state.cabinClassSelection&&this.setState({cabinClassSelection:e},(function(){return t.validateState()}))}},{key:"onPassengersUpdate",value:function(e){var t=this;this.setState({passengersSelection:e},(function(){return t.validateState()}))}},{key:"getCabinClass",value:function(){return this.state.cabinClassSelection}},{key:"getCurrentPassengers",value:function(){return ne()(this.state.passengersSelection,(function(e,t){return e+t}),0)}},{key:"getItinerary",value:function(){if(this.props.journeyType===Y.a.ROUND_TRIP)return this.refs.leg.getItinerary();var e=D()(this.refs,(function(e){return e.getItinerary&&e.getItinerary()}));return w()(e,S.a)}},{key:"getPassengers",value:function(){return this.state.passengersSelection}},{key:"getPromoCodes",value:function(){return this.state.promoCodes}},{key:"cacheExtraLegs",value:function(){this.setState((function(e){return{cachedItinerary:e.itineraryParts,itineraryParts:[F()(e.itineraryParts)]}}))}},{key:"ensureMinimumLegs",value:function(){var e=this.props,t=e.itineraryParts,n=e.metadata;X()(this.state.cachedItinerary)?t.length<n.getIn(["multiCity","numberOfLegs"])&&this.addLeg():this.setState((function(e){return{itineraryParts:e.cachedItinerary,cachedItinerary:null}}))}},{key:"handlePromoCodeBlur",value:function(e){y()(this.state.promoCodes,e.promoCodes)||(this.setState({promoCodes:e.promoCodes}),this.validateState())}},{key:"isJourneyTypeChanged",value:function(e){return this.props.journeyType!==e.journeyType}},{key:"isPromoCodeValid",value:function(){var e=this.props,t=e.flightSearchPromoCode,n=e.awardBookingPromoCode,a={flightSearchPromoCodeRef:t.get("enabled"),awardBookingPromoCodeRef:n.get("enabled")};if(!(!C()(this.state.promoCodes)&&ee()(this.state.promoCodes,$()(C.a))))return!0;var r={flightSearchPromoCodeRef:this.flightSearchPromoCodeRef?this.flightSearchPromoCodeRef:{isValid:function(){return!0}},awardBookingPromoCodeRef:this.awardBookingPromoCodeRef?this.awardBookingPromoCodeRef:{isValid:function(){return!0}}};return!C()(r)&&Object(pe.c)(a,r)}},{key:"isValidState",value:function(){return this.isValidState}},{key:"removeLeg",value:function(){var e=this;this.setState((function(e){return{itineraryParts:e.itineraryParts.slice(0,-1)}}),(function(){return e.validateState()}))}},{key:"validateState",value:function(){var e=Object(de.n)(this.props),t=this.refs,n=!0;re()(t,(function(a,r){if(e){var i=parseInt(r.replace(/[^/\d]/g,""),10);if(i>0){var s=k()(t,"leg-".concat(i-1)),o=a;s&&o.state.departureDate.isBefore(s.state.departureDate)&&o.setState({departureDate:s.state.departureDate})}}a.isValid&&!a.isValid()&&(n=!1)})),n=(n=n&&this.isPromoCodeValid())&&0!==this.getCurrentPassengers(),this.isValidState=n,this.props.onValidStateChange&&this.props.onValidStateChange(this.isValidState)}},{key:"renderAddFlight",value:function(){return R.a.createElement("div",{className:"add-flight"},R.a.createElement("button",{type:"button",className:"dxp-button small secondary add-flight-button",onClick:this.addLeg},R.a.createElement(oe.c,{name:oe.a.MATH_ADD,className:"icon"})),Object(U.a)("flightSearch.multiCity.addFlight"))}},{key:"renderLegs",value:function(){var e=this;return this.props.journeyType===Y.a.ROUND_TRIP?R.a.createElement(Oe,{ref:"leg",origin:this.props.origin,origins:this.props.origins,destination:this.props.destination,departureDate:this.props.departureDate,returnDate:this.props.returnDate,getDestinationsForOrigin:this.props.getDestinationsForOrigin,journeyType:this.props.journeyType,onChange:function(){return e.validateState()},weekStartDay:this.props.weekStartDay,dateFormat:this.props.dateFormat,metadata:this.props.metadata,locale:this.props.language}):D()(this.state.itineraryParts,(function(t,n){var a=se()("flight-leg-container",{"multi-city-leg":Object(de.n)(e.props)});return R.a.createElement("div",{className:a,key:"leg-".concat(t.origin,"-").concat(t.destination)},R.a.createElement(Oe,{index:n,ref:"leg-".concat(n),origin:t.origin,origins:e.props.origins,destination:t.destination,departureDate:t.date,getDestinationsForOrigin:e.props.getDestinationsForOrigin,journeyType:e.props.journeyType,onChange:function(){return e.validateState()},weekStartDay:e.props.weekStartDay,dateFormat:e.props.dateFormat,metadata:e.props.metadata,locale:e.props.language}),n>1&&n+1===e.state.itineraryParts.length&&R.a.createElement("button",{type:"button",className:"dxp-button secondary small remove-leg",onClick:function(){return e.removeLeg()}},R.a.createElement(oe.c,{name:oe.a.CLOSE})))}))}},{key:"renderPromoCode",value:function(){var e=this,t=this.props,n=t.awardBookingPromoCode,a=t.flightSearchPromoCode,r=t.isRBEEnabled,i=void 0!==r&&r,s=t.promoCodes,o=n.get("enabled")||!1,l=_()(a.get("validators"),"toJS"),c=_()(n.get("validators"),"toJS");if(!i)return R.a.createElement(ue.a,{validators:l,ref:function(t){e.flightSearchPromoCodeRef=t},promoCodes:s,onBlur:function(t){return e.handlePromoCodeBlur(t)},onPromoCodeChange:function(t){return e.handlePromoCodeBlur(t)}});if(o)return R.a.createElement(ue.a,{validators:c,ref:function(t){e.awardBookingPromoCodeRef=t},promoCodes:s,onBlur:function(t){return e.handlePromoCodeBlur(t)},onPromoCodeChange:function(t){return e.handlePromoCodeBlur(t)}});return R.a.createElement(ue.a,{ref:function(t){i&&o?e.awardBookingPromoCodeRef=t:e.flightSearchPromoCodeRef=t},isRBEEnabled:i,isPromoCodeEnabledWhenRBE:o,promoCodeValidators:l,awardBookingPromoCodeValidators:c,promoCodes:s,onPromoCodeChange:function(t){return e.handlePromoCodeBlur(t)}})}},{key:"render",value:function(){var e=this,n=Object(de.n)(this.props),a=this.props,r=a.metadata,i=a.isRBEEnabled,s=a.flightSearchPromoCode,o=a.language,l=s.get("enabled")||!1,c=this.state.itineraryParts.length<r.getIn(["multiCity","maximumNumberOfLegs"]),u=se()("dxp-edit-panel-component",{"multi-city":n});return R.a.createElement("div",{className:"dxp-edit-panel-components-container clearfix"},R.a.createElement("div",{className:"dxp-edit-panel-component"},this.renderLegs(),n&&c&&this.renderAddFlight()),R.a.createElement("div",{className:u},R.a.createElement("div",{className:"edit-panel-row"},R.a.createElement("div",{className:"dxp-edit-panel-passenger-selection"},R.a.createElement("div",{className:"dxp-edit-panel-component-title"},Object(U.a)("summaryBar.editPanel.passengers")),R.a.createElement(le.a,{options:this.props.passengersOptions,isRBEEnabled:i,metadata:r,totalMaxPassengers:this.props.totalMaxPassengers,excludedPassengerTypes:this.props.excludedPassengerTypes,defaultValue:this.state.passengersSelection,label:"passengerType.label",summary:t.getPassengersSummary(this.state.passengersSelection),onChange:function(t){return e.onPassengersUpdate(t)},currentPassengers:this.getCurrentPassengers(),language:o})),this.props.cabinClassEnabled&&R.a.createElement("div",{className:"dxp-edit-panel-class-section"},R.a.createElement("div",{className:"dxp-edit-panel-component-title"},Object(U.a)("summaryBar.editPanel.cabinClass")),R.a.createElement(ce.a,{options:this.props.cabinClassesOptions,defaultValue:this.state.cabinClassSelection,label:"cabin.label",onChange:function(t){return e.onCabinClassChange(t)}})))),R.a.createElement("div",{className:"dxp-edit-panel-component"},l&&R.a.createElement("div",{className:"edit-panel-promo-code"}," ",this.renderPromoCode())))}}]),t}(B.Component);g()(_e,"defaultProps",{itineraryParts:void 0,origins:void 0,origin:void 0,destination:void 0,departureDate:void 0,returnDate:void 0,passengersSelection:void 0,passengersOptions:void 0,totalMaxPassengers:void 0,cabinClassSelection:void 0,cabinClassesOptions:void 0,promoCodes:void 0,weekStartDay:void 0,dateFormat:void 0,cabinClassEnabled:void 0,metadata:void 0,flightSearchPromoCode:void 0,awardBookingPromoCode:void 0,isRBEEnabled:void 0,excludedPassengerTypes:void 0,onValidStateChange:void 0});var Pe=n(42),Se=n(214);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var we=function(e){return e.metadata.get("routes").origins},Ae=function(e){return e.metadata.getIn(["passengers","totalMaxPassengers"])},Te=function(e){return e.flightSelection.get("isCompanionFareSearch")?e.metadata.getIn(["companionFarePassengers","options"]):e.metadata.getIn(["passengers","options"])},Ie=function(e){return e.metadata.getIn(["classes","options"])},De=function(e){return function(t){return t?e.metadata.get("routes").destinationsPerOrigin[t]:[]}},xe=function(e){return e.metadata.getIn(["classes","isEnabled"])},je=function(e){return e.metadata.getIn(["flightSearch","promoCode"])},Le=function(e){return e.metadata.getIn(["awardBooking","promoCode"])},Fe=function(e){return e.metadata.get("weekStartDay")},Be=function(e){return e.flightSelection.get("isCompanionFareSearch")},Re=(n(2264),n(2265),function(e){function t(e,n){var a;r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"onCancelClick",(function(){a.props.onCancel&&a.props.onCancel()})),g()(u()(a),"onSaveClick",(function(){var e=a.props.flowAndPage,t=k()(e,"[1]",void 0);return t===K.a.FLIGHT_STATUS?a.flightStatusSearchPanel.isValid()&&a.onSave(a.props.metadata.get("flightStatusConfiguration")):t===K.a.FLIGHT_SCHEDULE?a.flightSchedulePanel.isValid()&&a.onSave():a.onSave()}));var i=e.flowAndPage,o=k()(i,"[1]",void 0),c=o===K.a.FLIGHT_STATUS||o===K.a.FLIGHT_SCHEDULE;return a.state={isValidState:c,journeyType:e.journeyType},a}return f()(t,e),p()(t,null,[{key:"translateAirports",value:function(e){return D()(e,(function(e){return{value:e,label:Object(U.i)("flightSearch.airportFormat",{code:e,name:Object(U.i)("airports.".concat(e))})}}))}},{key:"translateClassesOptions",value:function(e){return D()(e.toArray(),(function(e){return{value:e.get("key"),label:Object(U.i)(e.get("label"))}}))}},{key:"translatePassengersOptions",value:function(e){return D()(e.toArray(),(function(e){return T()(e.toJS(),{label:Object(U.i)(e.get("label")),ageGroup:Object(U.i)(e.get("ageGroup"))})}))}}]),p()(t,[{key:"onJourneyTypeChange",value:function(e){var t=this;this.setState({journeyType:e,isValidState:e!==Y.a.MULTI_CITY},(function(){e===Y.a.MULTI_CITY?t.onValidStateChange(!1):t.onValidStateChange(!0)}))}},{key:"onSave",value:function(e){this.props.onSave&&this.props.onSave(this.getSearchCriteria(),e)}},{key:"onValidStateChange",value:function(e){this.state.isValidState!==e&&this.setState({isValidState:e});var t=this.flightForm;e&&this.state.journeyType!==Y.a.MULTI_CITY&&this.props.journeyType!==Y.a.MULTI_CITY&&(this.setState({isValidState:!1}),this.props.journeyType!==Y.a.ROUND_TRIP||j()(this.getItineraryParts()).date.isSame(j()(this.props.itineraryParts).date)||this.setState({isValidState:!0}),this.state.journeyType===this.props.journeyType&&t.getCabinClass()===this.props.cabinClassSelection&&y()(t.getPassengers(),this.props.passengersSelection)&&F()(this.getItineraryParts()).origin===F()(this.props.itineraryParts).origin&&F()(this.getItineraryParts()).destination===F()(this.props.itineraryParts).destination&&F()(this.getItineraryParts()).date.isSame(F()(this.props.itineraryParts).date)||this.setState({isValidState:!0}))}},{key:"getDestinationsForOrigin",value:function(e){return t.translateAirports(this.props.getDestinationsForOrigin(e))}},{key:"getExcludedPassengerTypes",value:function(){return _()(this.props.metadata.getIn(["awardBooking","excludedPassengerTypes"]),"toJS",[])}},{key:"getItineraryParts",value:function(){return this.flightForm.getItinerary()}},{key:"getJourneyTypeOptions",value:function(){return this.props.metadata.getIn(["journeyTypes","options"]).map((function(e){return{key:e.get("key"),label:Object(U.i)(e.get("label"))}})).toJS()}},{key:"getSearchCriteria",value:function(){var e=this.props.flowAndPage,t=k()(e,"[1]",void 0);if(t===K.a.FLIGHT_STATUS)return this.flightStatusSearchPanel.isValid()&&this.flightStatusSearchPanel.getValue();if(t===K.a.FLIGHT_SCHEDULE)return this.flightSchedulePanel.isValid()&&this.flightSchedulePanel.getValue();var n=this.flightForm;return{itineraryParts:w()(this.getItineraryParts(),S.a),passengers:n.getPassengers(),cabinClass:n.getCabinClass(),origin:F()(this.getItineraryParts()).origin,destination:F()(this.getItineraryParts()).destination,promoCodes:n.getPromoCodes(),journeyType:this.state.journeyType}}},{key:"renderBody",value:function(){var e=this.props.flowAndPage,t=k()(e,"[1]",void 0),n=t!==K.a.FLIGHT_STATUS&&t!==K.a.FLIGHT_SCHEDULE;return R.a.createElement("div",{className:"dxp-edit-panel-inner-wrapper centered-content"},n&&this.renderFlightSearchPanel(),t===K.a.FLIGHT_STATUS&&this.renderFlightStatusSearchpanel(),t===K.a.FLIGHT_SCHEDULE&&this.renderFlightScheduleSearchPanel(),R.a.createElement("div",{className:"dxp-edit-panel-buttons-container"},R.a.createElement(z.a,{location:this.props.location,continueOnlyTitle:"summaryBar.editPanel.saveButton",onBack:this.onCancelClick,backTitle:Object(U.i)("summaryBar.editPanel.cancelButton"),disableContinueButton:!this.state.isValidState,onContinue:this.onSaveClick})))}},{key:"renderDesktop",value:function(){var e=this;return R.a.createElement("div",{className:"dxp-edit-panel",id:"edit-trip-details",ref:function(t){e.node=t}},this.renderBody())}},{key:"renderFlightForms",value:function(){var e=this,n=F()(this.props.itineraryParts),a=j()(this.props.itineraryParts);return R.a.createElement(_e,{ref:function(t){e.flightForm=t},journeyType:this.state.journeyType,itineraryParts:this.props.itineraryParts,origins:t.translateAirports(this.props.origins),origin:n.origin,destination:n.destination,departureDate:n.date,returnDate:a.date,passengersSelection:this.props.passengersSelection,passengersOptions:t.translatePassengersOptions(this.props.passengersOptions),totalMaxPassengers:this.props.totalMaxPassengers,cabinClassSelection:this.props.cabinClassSelection,cabinClassesOptions:t.translateClassesOptions(this.props.cabinClassesOptions),dateFormat:this.props.dateFormat,cabinClassEnabled:this.props.cabinClassEnabled,isRBEEnabled:this.props.isRBEEnabled,excludedPassengerTypes:this.getExcludedPassengerTypes(),metadata:this.props.metadata,getDestinationsForOrigin:function(t){return e.getDestinationsForOrigin(t)},onValidStateChange:function(t){return e.onValidStateChange(t)},flightSearchPromoCode:this.props.flightSearchPromoCode,awardBookingPromoCode:this.props.awardBookingPromoCode,weekStartDay:this.props.weekStartDay,promoCodes:this.props.promoCodes,language:this.props.language,sortAirportsByLabel:this.props.sortAirportsByLabel,isCompanionFareSearch:this.props.isCompanionFareSearch})}},{key:"renderFlightScheduleSearchPanel",value:function(){var e=this;return R.a.createElement(G.a,{ref:function(t){e.flightSchedulePanel=t},showSearchButton:!1,dateFormat:this.props.dateFormat,configuration:this.props.metadata.get("flightScheduleConfiguration"),airlineCode:this.props.airlineCode,minDate:this.props.minDate,location:this.props.location,routes:this.props.metadata.get("routes"),maximumDaysInCalendar:this.props.metadata.get("getMaximumDaysInCalendar"),locale:this.props.language})}},{key:"renderFlightSearchPanel",value:function(){var e=this,t=this.props,n=t.metadata,a=t.itineraryParts,r=this.getJourneyTypeOptions(),i=n.getIn(["summaryBar","isEditJourneyTypeEnabled"]);return R.a.createElement("fieldset",null,R.a.createElement("legend",{className:"dxp-edit-panel-title"},Object(U.a)("summaryBar.editPanel.title")),i&&R.a.createElement("div",{className:"dxp-edit-panel-component journey-types"},R.a.createElement(q.a,{ref:function(t){e.journeyType=t},excludedJourneyTypes:n.getIn(["awardBooking","excludedJourneyTypes"]),onChange:function(t){return e.onJourneyTypeChange(t)},options:r,isRBEEnabled:this.props.isRBEEnabled,defaultValue:this.state.journeyType})),!C()(a)&&this.renderFlightForms())}},{key:"renderFlightStatusSearchpanel",value:function(){var e=this;return R.a.createElement(W.a,{ref:function(t){e.flightStatusSearchPanel=t},showSearchButton:!1,configuration:this.props.metadata.get("flightStatusConfiguration"),minDate:this.props.minDate,airlineCode:this.props.airlineCode,location:this.props.location,routes:this.props.metadata.get("routes"),locale:this.props.language})}},{key:"renderMobile",value:function(){var e=this;return R.a.createElement(H.a,{ref:function(t){e.node=t},className:"dxp-edit-panel--is-mobile",onCloseClick:function(t){return e.onCancelClick(t)}},this.renderBody())}},{key:"render",value:function(){return this.context.isMobile?this.renderMobile():this.renderDesktop()}}]),t}(B.Component));g()(Re,"contextTypes",{isMobile:M.bool}),g()(Re,"defaultProps",{isRBEEnabled:!1,promoCodes:[],cabinClassEnabled:!1,onCancel:void 0,onSave:void 0,minDate:void 0,isCompanionFareSearch:!1,sortAirportsByLabel:!0});var Me=Object(V.b)((function(){var e=Object(Pe.a)(Object(Se.a)(),(function(e){return e})),t=Object(Pe.b)({origins:we,totalMaxPassengers:Ae,passengersOptions:Te,cabinClassesOptions:Ie,cabinClassEnabled:xe,getDestinationsForOrigin:De,flightSearchPromoCode:je,awardBookingPromoCode:Le,weekStartDay:Fe,isCompanionFareSearch:Be});return Object(Pe.a)(t,e,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({journeyType:t.journeyType,itineraryParts:Object(de.i)(t),passengersSelection:t.passengers,cabinClassSelection:t.cabinClass,promoCodes:t.promoCodes},e)}))}),null,null,{forwardRef:!0})(Re);n.d(t,"a",(function(){return Me}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(82),g=n.n(m),v=n(79),y=n.n(v),b=n(112),C=n.n(b),E=n(5),k=n.n(E),O=n(13),_=n.n(O),P=n(36),S=n.n(P),N=n(27),w=n.n(N),A=n(156),T=n.n(A),I=n(4),D=n.n(I),x=n(0),j=n.n(x),L=n(1),F=n.n(L),B=n(123),R=(n(6),n(194),n(11)),M=n(17),V=n.n(M),U=n(42),q=function(e){return e.dynamicDisclaimer},H=function(e){return e.metadata.get("countriesMapping")},W=function(e){return e.metadata.get("service")},G=n(46),K=n(9),z=n(2084);var Y=n(12);n(2384);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){function t(e){var n;return r()(this,t),(n=s()(this,l()(t).call(this,e))).state={toggled:{}},n}return p()(t,e),u()(t,null,[{key:"isMatchingGeolocation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return""===e||C()(t,[e]).length>0}},{key:"isMatchingLessThanBeforeDeparture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return!(-1!==t&&V.a.duration(e.diff(V()().add(t,"minutes"))).asMinutes()>0)}},{key:"isMatchingMoreBeforeDeparture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return!(-1!==t&&V.a.duration(e.diff(V()().add(t,"minutes"))).asMinutes()<0)}}]),u()(t,[{key:"componentDidMount",value:function(){this.props.getGeolocation(this.props.services.getIn(["geoLocation",Object(G.d)()]))}},{key:"render",value:function(){var e=this,n=this.props,a=n.searchCriteriaItineraryParts,r=n.messages,i=n.geolocation,s=n.countriesMapping,o=a.length?t.parseSearchCriteria(a):this.props.itineraryParts,l=t.getOrigin(o),c=t.getOrigins(o),u=t.getDestination(o),d=t.getDestinations(o),p=t.getConnections(o),h=t.getDepartureTime(o),f=t.getMatchingMessages(r,s,c,l,d,u,p,i,h);return f.length?F.a.createElement("div",{className:"dxp-dynamic-disclaimer"},F.a.createElement("div",{className:"dxp-panel"},f.map((function(t,n){return e.renderMessage(t,n)})))):null}},{key:"renderMessage",value:function(e,t){var n=this,a=j()(this.state.toggled,t,!0);return F.a.createElement("div",{key:"message-".concat(t),className:"message"},F.a.createElement("div",{className:"label ".concat(e.hasViewMoreToggle&&"partially-hidden"," ").concat(e.hasViewMoreToggle&&a&&"toggled")},Object(Y.a)("dynamicDisclaimers.".concat(e.label))),e.hasViewMoreToggle&&F.a.createElement("div",{className:"toggle",onClick:function(){return n.toggle(t)}},Object(Y.a)("dynamicDisclaimers.toggle.".concat(a?"viewLess":"viewMore"))))}},{key:"toggle",value:function(e){var t=j()(this.state.toggled,e);g()(t)?this.setState({toggled:X({},this.state.toggled,f()({},e,!1))}):this.setState({toggled:X({},this.state.toggled,f()({},e,!t))})}}]),t}(L.Component);f()(J,"parseSearchCriteria",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return k()(e,(function(e){return{segments:[{origin:e.origin,destination:e.destination,departure:V()(e.date)}]}}))})),f()(J,"getOrigins",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T()(k()(e,(function(e){return w()(e.segments).origin})))})),f()(J,"getOrigin",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?[w()(w()(e).segments).origin]:[]})),f()(J,"getDestinations",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T()(k()(e,(function(e){return S()(e.segments).destination})))})),f()(J,"getDestination",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?[S()(w()(e).segments).destination]:[]})),f()(J,"getConnections",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T()(D()(e,(function(e,t){return _()(t.segments,(function(t,n){0!==n&&e.push(t.origin)})),e}),[]))})),f()(J,"getDepartureTime",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return V()(j()(e,"[0]segments[0].departure",""))})),f()(J,"getMatchingMessages",(function(e,t,n,a,r,i,s,o,l){return T()(D()(e,(function(e,c){var u=c.origins&&c.origins.length>0||!1,d=c.origin&&c.origin.length>0||!1,p=c.destinations&&c.destinations.length>0||!1,h=c.destination&&c.destination.length>0||!1,f=c.connections&&c.connections.length>0||!1,m=c.geoips&&c.geoips.length>0&&""!==o||!1,v=!g()(c.lessThanBeforeDeparture),y=!g()(c.moreThanBeforeDeparture),b=u&&J.isMatching(n,c.origins,t),C=d&&J.isMatching(a,c.origin,t),E=p&&J.isMatching(r,c.destinations,t),k=h&&J.isMatching(i,c.destination,t),O=f&&J.isMatching(s,c.connections,t),_=m&&J.isMatchingGeolocation(o,c.geoips),P=v&&J.isMatchingLessThanBeforeDeparture(l,c.lessThanBeforeDeparture),S=y&&J.isMatchingMoreBeforeDeparture(l,c.moreThanBeforeDeparture);return"all"===c.criteriaConditions?u&&!b||d&&!C||p&&!E||h&&!k||f&&!O||m&&!_||v&&!P||y&&!S||e.push({label:c.translation,hasViewMoreToggle:j()(c,"hasViewMoreToggle",!1)}):(b||C||E||k||O||_||P||S)&&e.push({label:c.translation,hasViewMoreToggle:j()(c,"hasViewMoreToggle",!1)}),e}),[]))})),f()(J,"isMatching",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=T()(D()(t,(function(e,t){return 2===t.length?e=y()(e,j()(n,t,[])):e.push(t),e}),[]));return C()(e,a).length>0})),J.defaultProps={itineraryParts:[],searchCriteriaItineraryParts:[],messages:{},geolocation:"",countriesMapping:{},getGeolocation:function(){},services:Object(R.Map)()};var $=Object(B.b)((function(){return Object(U.a)(q,H,W,(function(e,t,n){return{itineraryParts:j()(e,"itineraryParts",[]),geolocation:j()(e,"geolocation",""),countriesMapping:t,services:n}}))}),{getGeolocation:function(e){return function(t){return t({type:z.b}),new Promise((function(n){Object(K.e)(e).then((function(e){t({type:z.c,geolocation:e}),n()})).catch((function(){t({type:z.a})}))}))}}})(J);n.d(t,"a",(function(){return $}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(1),C=n.n(b),E=(n(6),n(563)),k={duration:300},O=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{type:"slideFromTop",animationOptions:k}),n}return g()(t,e),l()(t,[{key:"render",value:function(){return C.a.createElement(E.a,r()({type:this.state.type,reverse:this.state.reverse,tag:"div"},this.state.animationOptions),this.props.children)}}]),t}(b.Component);n.d(t,"a",(function(){return O}))},,,function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(12),s=n(136),o=n(88),l=function(e){var t=e.closeModalDelegation,n=e.handleNewItinerarySearch;return r.a.createElement(s.a,{className:"dxp-edit-panel-new-itinerary-alert",onClose:function(){return t()}},r.a.createElement("h2",null,Object(i.a)("summaryBar.editSearchWarningModal.title")),r.a.createElement("p",null,Object(i.a)("summaryBar.editSearchWarningModal.warningDescription")),r.a.createElement("div",{className:"pull-right"},r.a.createElement(o.a,{className:"primary small",onClick:function(){return n()}},Object(i.a)("app.continue",{pageName:Object(i.i)("flightSelection.title")})),r.a.createElement(o.a,{className:"secondary small",onClick:function(){return t()}},Object(i.a)("app.cancel"))))};n.d(t,"a",(function(){return l}))},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(95),C=n.n(b),E=n(145),k=n.n(E),O=n(5),_=n.n(O),P=n(1),S=n.n(P),N=(n(6),n(12)),w=n(1289),A=n(2069),T=n(153),I=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{enabledFields:{email:y()(n.props.configuration,"email.isEnabled",!1)}}),n}return f()(t,e),s()(t,[{key:"getValue",value:function(){var e=this,t=this.props.configuration,n=_()(k()(t.email.numberOfEmail),(function(t){return e["emailGroup".concat(t+1)].getValue()||""}));return C()(n)}},{key:"isValid",value:function(){return Object(T.c)(this.state.enabledFields,{email:this.emailGroup1})}},{key:"renderEmails",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.prefix;return _()(k()(n.email.numberOfEmail),(function(t){var i=0===t?n.email.primaryEmailValidators:n.email.secondaryEmailValidators;return S.a.createElement(A.a,{key:a,index:t+1,showConfirmEmail:n.email.shouldConfirmEmail,validators:i,ref:function(n){e["emailGroup".concat(t+1)]=n},defaultValue:y()(e.props.defaultValue,"[".concat(t,"]"),""),useLabelFeedback:!0,emailLabel:"".concat(Object(N.i)("passengers.emailAddress",{number:t+1})," ").concat(Object(N.i)("passengers.optional",{isRequired:Object(w.l)(i)})),confirmEmailLabel:"".concat(Object(N.i)("passengers.confirmEmailAddress.label",{number:t+1})," ").concat(Object(N.i)("passengers.optional",{isRequired:Object(w.l)(i)})),disabled:!y()(n,"email.isEditable"),prefix:r,id:a})}))}},{key:"render",value:function(){return this.renderEmails()}}]),t}(P.Component);g()(I,"defaultProps",{prefix:""})},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a="pagination-navigation-panel",r="pagination-show-previous-page",i="pagination-show-next-page",s="pagination"},,,,,,,,function(e,t,n){"use strict";function a(e){var t=e.configuration,n=e.user,a=e.session;t.displayCardsFromProfile&&(n.isEmpty()||a.get("profile")||e.getProfile())}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(215),y=n.n(v),b=n(19),C=n.n(b),E=n(92),k=n.n(E),O=n(1),_=n.n(O),P=(n(6),n(11)),S=(n(194),n(12)),N=n(195),w=n(47),A=n(2196),T=n(88),I=n(136),D=n(319),x=n(521),j=(n(2489),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{selectedSegments:[]}),g()(p()(n),"cancelWaitlistRequests",(function(){var e=n.state.selectedSegments;(0,n.props.cancelUpgradeOffers)({selectedSegments:C()(e,(function(e){return e&&e.offerSelectedForCancelation}))})})),g()(p()(n),"handleCheckboxChange",(function(e){var t=e.checked,a=e.code,r=e.origin,i=e.destination,s=e.departure,o=e.type,l=e.index;return n.setState((function(e){var n=k()(e.selectedSegments);return n[l]={code:a,offerSelectedForCancelation:t,selectedTravelPart:{origin:r,destination:i,departure:s,type:y()(o)}},{selectedSegments:n}}))})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.modalSegmentUpgradeInfos,a=t.upgradeCancelWidgetTermsKeys,r=t.toggleModal,i=t.showCancelModalLoading,s=t.isAuthorable;if(n.isEmpty())return null;var o=this.state.selectedSegments,l=C()(o,(function(e){return e&&e.offerSelectedForCancelation})).length,c=n.filter((function(e){var t=e.get("status");return t===w.m.WAITLISTED||t===w.m.ALREADY_WAITLISTED})),u=Object(N.a)(s,"upgradeCancelModal");return _.a.createElement("div",u,_.a.createElement(I.a,{key:"upgrade-cancel-waitlist",className:"upgrade-cancel-modal-window",onCloseClick:function(){return r()}},_.a.createElement("div",{className:"cancel-modal-header"},_.a.createElement(D.a,{type:"warning",title:Object(S.i)("upgrade.cancelHeader",{count:l})},_.a.createElement("div",{className:"cancel-modal-disclaimer"},Object(S.a)("upgrade.cancelDisclaimer")),_.a.createElement("div",{className:"cancel-modal-fine-print"},Object(S.a)("upgrade.cancelFinePrint")))),_.a.createElement(A.a,{segmentUpgradeInfos:c,upgradeCancelWidgetTermsKeys:a,allowSelection:!0,onCheckboxChange:function(t){return e.handleCheckboxChange(t)},selectedSegments:o}),_.a.createElement("div",{className:"cancel-modal-buttons-wrapper"},_.a.createElement(T.a,{className:"cancel-cancel secondary medium",onClick:function(){return r()}},Object(S.a)("upgrade.buttons.cancel")),_.a.createElement(T.a,{className:"cancel-proceed primary medium",onClick:function(){return e.cancelWaitlistRequests()},disabled:0===l},i?_.a.createElement(x.a,null):Object(S.a)("upgrade.buttons.cancelRequests",{count:l})))))}}]),t}(O.Component));g()(j,"defaultProps",{upgradeCancelWidgetTermsKeys:[],modalSegmentUpgradeInfos:Object(P.List)(),showCancelModalLoading:!1,isAuthorable:!0})},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(11),d=n(1411),p=n(214),h=n(1892),f=n(146),m=n(24),g=n(531),v=n(532),y=n(327),b=n(174),C=n(328),E=n(438),k=n(1567),O=n(45);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var P=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("mtoAncillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},S=function(e){return e.metadata.getIn(["flows",m.a.MTO,"ancillaries"])},N=function(e){return e.ancillariesMto.get("isPnrAvailable")},w=function(e){return e.ancillariesMto.get("snapshot")||{}},A=function(e){return e.ancillariesMto.get("error")},T=function(e){return s()(e.ancillariesMto,"toJS")},I=function(e){return e.ancillariesMto.get("tripOptions")},D=function(e){return e.ancillariesMto.get("ancillaryCode")},x=function(e){return e.shoppingCart.get("data")},j=function(){return m.a.MTO},L=function(e){return e.bagfee.get("bagAllowance",Object(u.Map)())},F=function(e){return e.ancillariesMto.get("isLoading")},B=function(e){return e.metadata.get("viewBreakPoint")},R=function(e,t){return Object(d.a)(e,t)},M=function(e){return e.ancillariesMto.get("isSeatBundlePremiumSeatNotSelected")},V=Object(c.a)((function(e,t){return l()(t,"location.query",{})}),(function(e){return Boolean(l()(e,"execution"))})),U=Object(c.a)(Object(p.a)(),(function(e){return Object(f.t)(e)})),q=function(){return"true"===O.a.get("isSeatsExtrasCombined")};function H(){return Object(c.b)({journeyType:Object(h.a)(),pnrLookupQuery:R,isFlowInitialized:V,ancillariesConfiguration:P,shoppingCartData:x,flowConfiguration:S,searchCriteriaQueryParams:U,snapshot:w,tripOptions:I,ancillaries:T,ancillaryCode:D,currentFlow:j,error:A,bagAllowance:L,isLoading:F,background:Object(g.a)(),getNextPage:v.a,language:y.a,currentPage:b.b,viewBreakPoint:B,dateFormat:C.b,cancelProps:E.b,isPnrAvailable:N,seatAncillaries:k.a,isSeatsExtrasCombined:q,isSeatBundlePremiumSeatNotSelected:M})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n(0),r=n.n(a),i=n(42),s=n(1593),o=n(1411),l=n(214),c=n(146),u=n(24),d=n(531),p=n(327),h=n(328),f=n(174),m=n(438),g=n(45),v=function(e,t){return Object(o.a)(e,t)},y=function(e){return e.seatSelectionMTO},b=function(e){return e.seatSelectionMTO.get("isFetchingSeatMap")},C=function(e){return e.seatSelectionMTO.get("seatMapError")},E=function(e){return e.metadata.get("mtoSeatSelectionConfiguration")},k=function(e){return e.seatSelectionMTO.get("showPageLoadingMessage")},O=function(e){return e.seatSelectionMTO.get("isPnrAvailable")},_=function(e){return e.shoppingCart.get("data")},P=function(e){return e.metadata.getIn(["flows",u.a.MTO,"seats"])},S=function(e){return e.metadata.get("areAllSeatsSelected")},N=function(e){return e.seatSelectionMTO.get("segments")},w=function(e){return e.seatSelectionMTO.get("uniquePassengers")},A=function(e){return e.seatSelectionMTO.get("selectedSeats")},T=function(e){return e.seatSelectionMTO.get("isSeatNotSelectedForASeatBundle")},I=function(e){return e.metadata.get("defaultSummaryBarOffset")},D=function(e){return e.seatSelectionMTO.get("processingSeatSelection",!1)},x=Object(i.a)(O,(function(e,t){return r()(t,"location.query",{})}),(function(e,t){var n=JSON.parse(r()(t,"mtoInitialized","false")),a=e&&n,i=Boolean(r()(t,"execution"));return a||i})),j=function(){return"true"===g.a.get("isSeatsExtrasCombined")},L=Object(i.a)(Object(l.a)(),(function(e){return Object(c.t)(e)}));function F(){return Object(i.b)({flights:Object(s.a)(),seatSelectionData:y,isPnrAvailable:O,isFetchingSeatMap:b,seatMapError:C,configuration:E,showPageLoadingMessage:k,pnrLookupQuery:v,isFlowInitialized:x,shoppingCartData:_,flowConfiguration:P,areAllSeatsSelected:S,searchCriteriaQueryParams:L,segments:N,uniquePassengers:w,selectedSeats:A,defaultSummaryBarOffset:I,processingSeatSelection:D,background:Object(d.a)(),language:p.a,dateFormat:h.b,currentFlow:f.a,currentPage:f.b,cancelProps:m.b,isSeatsExtrasCombined:j,isSeatNotSelectedForASeatBundle:T})}},,,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(15),g=n.n(m),v=n(38),y=n.n(v),b=n(4),C=n.n(b),E=n(122),k=n.n(E),O=n(77),_=n.n(O),P=n(27),S=n.n(P),N=n(19),w=n.n(N),A=n(0),T=n.n(A),I=n(287),D=n.n(I),x=n(2),j=n.n(x),L=n(51),F=n.n(L),B=n(5),R=n.n(B),M=n(1),V=n.n(M),U=(n(6),n(12)),q=n(1714),H=n(11),W=(n(194),n(1986)),G=n(1290),K=n(153),z=n(57),Y=n.n(z),Q=n(31),X=n.n(Q),J=(n(2753),n(129)),$=n(1289),Z=n(524),ee=n(88),te=n(50),ne=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(X()(n),"state",{isBusinessLoyaltyExpanded:!j()(n.props.businessLoyaltyNumber)}),f()(X()(n),"toggleBusinessLoyaltyDisplay",(function(){n.setState((function(e){return{isBusinessLoyaltyExpanded:!e.isBusinessLoyaltyExpanded}}))})),f()(X()(n),"renderToggleButton",(function(){var e=n.state.isBusinessLoyaltyExpanded?te.a.MATH_SUBTRACT:te.a.MATH_ADD,t=n.state.isBusinessLoyaltyExpanded?"passengers.businessLoyalty.buttons.remove":"passengers.businessLoyalty.buttons.add",a={"aria-expanded":n.state.isBusinessLoyaltyExpanded};return V.a.createElement("div",{className:"business-loyalty-button-container"},V.a.createElement(ee.a,Y()({className:"business-loyalty-button primary small round",onClick:function(){return n.toggleBusinessLoyaltyDisplay()}},a),V.a.createElement(te.c,{name:e,srOnlyText:Object(U.a)(t),fill:!0})),V.a.createElement("span",{"aria-hidden":"true"},Object(U.a)(t)))})),n}return p()(t,e),s()(t,[{key:"getValue",value:function(){return this.businessConnectNumber&&this.businessConnectNumber.getValue()}},{key:"isValid",value:function(){return void 0===this.businessConnectNumber||null===this.businessConnectNumber||this.businessConnectNumber&&this.businessConnectNumber.isValid()}},{key:"renderFieldText",value:function(){var e=this,t=this.props,n=t.configuration,a=t.businessLoyaltyNumber,r=t.flow,i=T()(n,"businessLoyaltyNumber.validators",[]),s="exchange"===r;return V.a.createElement(J.a,{label:Object($.a)("passengers.businessLoyalty.businessLoyaltyNumber.placeHolder","passengers.optional",i),id:"business-loyalty-number",isOptional:!1,defaultValue:a,ref:function(t){e.businessConnectNumber=t},className:"abn-acn-number",useLabelFeedback:!0,validators:i,disabled:s})}},{key:"render",value:function(){return V.a.createElement("div",{className:"dxp-business-loyalty"},V.a.createElement("form",null,V.a.createElement(Z.a,null,V.a.createElement(Z.a.Header,null,V.a.createElement("h4",null,Object(U.a)("passengers.businessLoyalty.header"))),V.a.createElement(Z.a.Content,null,"b2c"===this.props.flow&&this.renderToggleButton(),this.state.isBusinessLoyaltyExpanded&&this.renderFieldText()))))}}]),t}(M.Component),ae=n(8),re=n.n(ae),ie=n(1912),se=n(2037),oe=(n(2754),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return{address:this.homeAddress.getValue()}}},{key:"isValid",value:function(){return Object(K.c)({homeAddress:!0},{homeAddress:this.homeAddress})}},{key:"renderHomeAddress",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.countries,i=t.addressType,s=t.controlFieldConfiguration,o=t.form,l=t.provinces,c=t.data,u=t.serverValidationErrors,d=T()(c,"address",T()(c,"addresses[0]"));return V.a.createElement(se.a,{configuration:F()(y()(n,"homeAddress"),"homeAddress"),ref:function(t){e.homeAddress=t},addressType:i,countries:r,provinces:l,id:a,data:d,controlFieldConfiguration:s,validations:this.props.validations,form:o,serverValidationErrors:u})}},{key:"render",value:function(){return V.a.createElement(ie.a,{sectionName:"address-info",title:"passengers.sections.addressInfo"},this.renderHomeAddress())}}]),t}(M.Component));f()(oe,"defaultProps",{validations:{},id:"",data:{},countries:[],addressType:[],controlFieldConfiguration:{},provinces:void 0,form:void 0,serverValidationErrors:Object(H.Map)()});var le=n(2393),ce=n(34),ue=n.n(ce),de=n(92),pe=n.n(de),he=n(13),fe=n.n(he),me=n(114),ge="EMAIL",ve="PHONE",ye=n(326),be=n(2069),Ce=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return this[this.props.keyProp].getValue()}},{key:"isValid",value:function(){var e=this.props,t=e.keyProp,n=e.configuration,a=f()({},t,T()(n,"isEnabled",!1));return Object(K.c)(a,f()({},t,this[t]))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.configuration,r=t.defaultValue,i=t.keyProp,s=a.shouldConfirmEmail,o=a.validators,l=void 0===o?[]:o;return V.a.createElement(be.a,{showConfirmEmail:s,validators:l,ref:function(t){e[i]=t},defaultValue:r,useLabelFeedback:!0,emailLabel:"".concat(Object(U.i)("passengers.emailAddress",{number:1})," ").concat(Object(U.i)("passengers.optional",{isRequired:Object($.l)(l)})),confirmEmailLabel:"".concat(Object(U.i)("passengers.confirmEmailAddress.label",{number:1})," ").concat(Object(U.i)("passengers.optional",{isRequired:Object($.l)(l)})),disabled:!a.isEditable,id:n})}}]),t}(M.Component),Ee=n(39),ke=n.n(Ee),Oe=n(2079),_e=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return this[this.props.keyProp].getValue()}},{key:"isValid",value:function(){var e=this.props,t=e.keyProp,n=e.configuration,a=f()({},t,T()(n,"isEnabled",!1));return Object(K.c)(a,f()({},t,this[t]))}},{key:"renderPhone",value:function(){var e=this,n=this.props,a=n.id,r=n.configuration,i=n.keyProp,s=n.defaultValue,o=n.phoneCountryCodes,l=r.phoneNumber,c=l.defaultCountry,u=l.validators,d=void 0===u?[]:u;return V.a.createElement(G.a,{classNames:ke()("field-phone","phone-additional-contact"),label:t.renderLabel("phoneNumber",d),keyProp:i,defaultValue:s,useLabelFeedback:!0,validators:d,defaultCountry:c,isResetPhoneField:T()(r,"resetPhoneField",!0),ref:function(t){e[i]=t},disabled:!r.isEditable,id:a,hideCountryFlag:T()(r,"hideCountryFlag",!0),phoneCountryCodes:o})}},{key:"renderPhoneGroup",value:function(){var e=this,n=this.props,a=n.id,r=n.configuration,i=n.keyProp,s=n.defaultValue,o=n.phoneCountryCodes,l=r.phoneNumber.validators,c=void 0===l?[]:l,u=T()(r,"phoneType.validators",[]);return V.a.createElement(Oe.a,{classNames:ke()("field-phone-group-inline",i),phoneTypeLabel:t.renderLabel("phoneType",c),phoneNumberLabel:t.renderLabel("phoneNumber",c),phoneExtensionLabel:t.renderLabel("phoneExtension",c),keyProp:i,defaultValue:s,useLabelFeedback:!0,configuration:r,phoneNumberValidators:c,phoneTypeValidators:u,index:0,ref:function(t){e[i]=t},disabled:!r.isEditable,id:a,phoneCountryCodes:o})}},{key:"render",value:function(){return this.props.isPhoneGroupEnabled?this.renderPhoneGroup():this.renderPhone()}}],[{key:"renderLabel",value:function(e,t){return"".concat(Object(U.i)("passengers.".concat(e,".label"),{number:1})," ").concat(Object(U.i)("passengers.optional",{isRequired:Object($.l)(t)}))}}]),t}(M.Component),Pe=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(X()(n),"state",{data:n.parseContact()}),f()(X()(n),"onAddContactInfo",(function(e){e.preventDefault(),n.setState((function(e){var t=n.props.configuration.extraContactInfo.defaultType,a=pe()(e.data);return a.push({type:t,value:""}),{data:a}}))})),f()(X()(n),"onRemoveContactInfo",(function(e,t){e.preventDefault(),n.setState((function(e){var n=pe()(e.data);return n.splice(t,1),{data:n}}))})),n}return p()(t,e),s()(t,[{key:"onTypeChange",value:function(e,t){var n=this;this.setState((function(a){var r,i=ue()(a.data),s=n.props.contact,o=s.emails,l=s.phones;return j()(l)||e!==ve?j()(o)||e!==ge||(r=o[t+1]):r=l[t+1],i[t].type=e,i[t].value=r,{data:i}}))}},{key:"getValue",value:function(){var e=this,t=[],n=[],a=this.state.data;return fe()(a,(function(a,r){a.type===ve&&e["phone".concat(r)].getValue()&&t.push(e["phone".concat(r)].getValue()),a.type===ge&&e["email".concat(r)].getValue().length&&n.push(e["email".concat(r)].getValue())})),{phones:t,emails:n}}},{key:"isValid",value:function(){var e=this,t=C()(this.state.data,(function(t,n,a){if(n.type===ve){var r=["phone".concat(a)];t.enabledFields[r]=T()(e.props.configuration,"phone.isEnabled",!1),t.refs[r]=e[r]}else{var i=["email".concat(a)];t.enabledFields[i]=T()(e.props.configuration,"email.isEnabled",!1),t.refs[i]=e[i]}return t}),{enabledFields:{},refs:{}});return Object(K.c)(t.enabledFields,t.refs)}},{key:"parseContact",value:function(){var e=this.props.contact,t=e.emails,n=e.phones,a=[];return fe()(t,(function(e,t){0!==t&&a.push({type:ge,value:e})})),fe()(n,(function(e,t){0!==t&&a.push({type:ve,value:e})})),a}},{key:"renderAddExtraContactButton",value:function(){var e=this.props.configuration;return V.a.createElement("div",{className:"add-contact action-button"},V.a.createElement(ee.a,{className:"add-contact primary small round",onClick:this.onAddContactInfo,disabled:!T()(e,"extraContactInfo.isEditable",!1)},V.a.createElement(te.c,{name:te.a.MATH_ADD,srOnlyText:Object(U.i)("passengers.addExtraContactInfo")})),V.a.createElement("span",{"aria-hidden":"true"},Object(U.i)("passengers.addExtraContactInfo")))}},{key:"renderExtraContact",value:function(e,t){var n=this,a={EMAIL:function(e,t){return n.renderExtraEmailInfo(e,t)},PHONE:function(e,t){return n.renderExtraPhoneInfo(e,t)}};return a[e.type]&&a[e.type](e,t)}},{key:"renderExtraEmailInfo",value:function(e,t){var n=this,a=this.props,r=a.configuration,i=a.id,s=e.value||"";return V.a.createElement(Ce,{ref:function(e){n["email".concat(t)]=e},configuration:r.extraContactInfo.email,keyProp:"email".concat(t),defaultValue:s,id:i})}},{key:"renderExtraPhoneInfo",value:function(e,t){var n=this,a=this.props,r=a.configuration,i=a.id,s=a.phoneCountryCodes,o=e.value||"",l=r.extraContactInfo.phone.isPhoneGroupEnabled;return V.a.createElement(_e,{ref:function(e){n["phone".concat(t)]=e},configuration:r.extraContactInfo.phone,keyProp:"phone".concat(t),defaultValue:o,isPhoneGroupEnabled:l,id:i,phoneCountryCodes:s})}},{key:"render",value:function(){var e=this,t=Object(me.j)("extraContactInfo",this.props.configuration),n=this.props.configuration,a=n.extraContactInfo.phone.numberOfExtraContact,r=void 0===a?2:a,i=this.state.data;return V.a.createElement("div",null,i.length>0&&R()(i,(function(a,r){return V.a.createElement("fieldset",{className:"passenger-extra-contact-info-section",key:r},V.a.createElement("legend",{className:"passenger-extra-contact-info-section-legend"},Object(U.a)("passengers.additionalContact.extraInfo",{index:r+1}),i.length===r+1&&V.a.createElement("div",{className:"action-button remove-contact"},V.a.createElement(ee.a,{className:"remove-contact primary small round",onClick:e.onRemoveContactInfo,disabled:!T()(n,"extraContactInfo.isEditable",!1)},V.a.createElement(te.c,{name:te.a.MATH_SUBTRACT,srOnlyText:Object(U.i)("passengers.removeExtraContactInfo")})))),V.a.createElement("div",{className:"passenger-extra-contact-info-section-edit editable-fields"},V.a.createElement("div",{className:"field-contact-type"},V.a.createElement(ye.a,{label:"passengers.additionalContact.extraContactInfo.label",options:t,placeHolder:Object(U.i)("passengers.additionalContact.extraContactInfo.placeholder"),noResultsText:Object(U.i)("passengers.additionalContact.extraContactInfo.noResultsText"),onChange:function(t){return e.onTypeChange(t,r)},validators:[],useLabelFeedback:!0,defaultValue:a.type,className:"extra-contact-info",disabled:!T()(n,"extraContactInfo.isEditable",!0)})),V.a.createElement("div",{className:"field-contact-section"},e.renderExtraContact(a,r))))})),T()(n,"extraContactInfo.isEnabled",!0)&&i.length<r&&this.renderAddExtraContactButton())}}]),t}(M.Component),Se=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getEnabledFields",value:function(){return{phone:T()(this.props.configuration,"passengerForm.additionalContactInfo.phone.isEnabled",!1),email:T()(this.props.configuration,"passengerForm.additionalContactInfo.email.isEnabled",!1),addresses:T()(this.props.configuration,"passengerForm.additionalContactInfo.homeAddress.isEnabled",!1),extraInfo:T()(this.props.configuration,"passengerForm.additionalContactInfo.extraContactInfo.isEnabled",!1)}}},{key:"getValue",value:function(){var e=[],t=[],n=[],a=this.getEnabledFields(),r=a.phone&&this.phone.getValue(),i=a.email&&this.email.getValue(),s=a.addresses&&this.addresses.getValue();if(j()(r)||e.push(r),j()(i)||t.push(i),j()(s)||n.push(s.address),a.extraInfo){var o=this.extraInfo.getValue();e=e.concat(o.phones),t=t.concat(o.emails)}return{phones:e,emails:t,addresses:n}}},{key:"isValid",value:function(){var e=this.getEnabledFields();return Object(K.c)(e,{phone:this.phone,email:this.email,addresses:this.addresses,extraInfo:this.extraInfo})}},{key:"renderAddressInfo",value:function(){var e=this,t=this.props,n=t.configuration,a=t.additionalContactInfo,r=t.contact,i=t.validations,s=t.provinces,o=t.id,l=y()(n.passengerForm.additionalContactInfo,["homeAddress"]),c=n.controlFields.editAddressInfo,u=void 0===c?{}:c,d=r.addresses?r:a;return V.a.createElement(oe,{countries:Object(le.a)(s),configuration:l,data:d,validations:i,provinces:s,id:o,key:"address-info",controlFieldConfiguration:u,ref:function(t){e.addresses=t}})}},{key:"renderEmailField",value:function(){var e=this,t=this.props,n=t.configuration.passengerForm.additionalContactInfo.email,a=t.contact,r=t.additionalContactInfo,i=t.id,s=T()(r,"emails[0]")||T()(a,"emails[0]","");return V.a.createElement(Ce,{ref:function(t){e.email=t},configuration:n,keyProp:"emailDefault",defaultValue:s,id:"".concat(i,"-email")})}},{key:"renderExtraContactInfo",value:function(){var e=this,t=this.props,n=t.configuration.passengerForm.additionalContactInfo,a=t.contact,r=t.id,i=t.phoneCountryCodes;return V.a.createElement(Pe,{ref:function(t){e.extraInfo=t},configuration:n,contact:a,id:"".concat(r,"-extraContact"),phoneCountryCodes:i})}},{key:"renderPhoneField",value:function(){var e=this,t=this.props,n=t.configuration.passengerForm.additionalContactInfo.phone,a=t.contact,r=t.additionalContactInfo,i=t.id,s=t.phoneCountryCodes,o=t.geolocation,l=T()(r,"phones.0")||T()(a,"phones.0",{}),c=n.isPhoneGroupEnabled,u=T()(l,"type");u&&Object.assign(n,{defaultPhoneType:u});var d=j()(o)?T()(n,"phoneNumber.defaultCountry",""):o,p=n;return re()(p,"phoneNumber.defaultCountry",d.toLowerCase()),V.a.createElement(_e,{ref:function(t){e.phone=t},configuration:p,keyProp:"phoneDefault",defaultValue:l,isPhoneGroupEnabled:c,id:"".concat(i,"-phone"),phoneCountryCodes:s})}},{key:"render",value:function(){var e=this.getEnabledFields();return V.a.createElement("form",{className:"additional-info half-width"},V.a.createElement("fieldset",{className:"passenger-addtl-contact-info-section"},V.a.createElement("legend",{className:"passenger-addtl-contact-info-section-legend"},Object(U.a)("passengers.additionalContact.info")),V.a.createElement("div",{className:"passenger-addtl-contact-info-section-edit editable-fields"},e.addresses&&V.a.createElement("div",{className:"address-section"},this.renderAddressInfo()),e.phone&&V.a.createElement("div",{className:"phone-section"},this.renderPhoneField()),e.email&&V.a.createElement("div",{className:"email-section"},this.renderEmailField()))),e.extraInfo&&this.renderExtraContactInfo())}}]),t}(M.Component);f()(Se,"defaultProps",{contact:void 0});var Ne=Se,we=(n(2755),n(2756),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return this.addtlInfo.getValue()}},{key:"isValid",value:function(){return this.addtlInfo.isValid()}},{key:"render",value:function(){var e=this;return V.a.createElement("div",{className:"dxp-passenger-additional-info"},V.a.createElement(Z.a,null,V.a.createElement(Z.a.Header,null,V.a.createElement("h4",null,Object(U.a)("passengers.additionalContact.header"))),V.a.createElement(Z.a.Content,null,V.a.createElement(Ne,{configuration:this.props.configuration,flow:this.props.flow,contact:this.props.contact,additionalContactInfo:this.props.additionalContactInfo,id:this.props.id,ref:function(t){e.addtlInfo=t},provinces:this.props.provinces,validations:this.props.validations,phoneCountryCodes:this.props.phoneCountryCodes,geolocation:this.props.geolocation}))))}}]),t}(M.Component));f()(we,"defaultProps",{flow:"",contact:void 0});var Ae=we,Te=n(2397),Ie=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return Object(q.b)({left:this.props,right:e,keys:["passengers"]})||!_()(this.props,e)}},{key:"getValue",value:function(){var e=this,t=T()(this.props.configuration,"passengerForm.additionalContactInfo.isEnabled",!1),n=T()(this.props.configuration,"passengerForm.businessLoyalty.isEnabled",!1),a=C()(this.props.passengerIds,(function(t,n){return t[n.key]=e["passenger-list-item-".concat(n.key)].getValue(),t}),{}),r=t?this.addtlContactInfo.getValue():void 0;return{passengers:a,businessLoyaltyNumber:"b2c"===this.props.flow&&n?this.businessLoyaltyNumber.getValue():void 0,contact:r}}},{key:"isValid",value:function(){var e=this,t=T()(this.props.configuration,"passengerForm.additionalContactInfo.isEnabled",!1),n=T()(this.props.configuration,"passengerForm.businessLoyalty.isEnabled",!1),a=C()(this.props.passengerIds,(function(t,n){return t.enabledFields[n.key]=!0,t.refs[n.key]=e["passenger-list-item-".concat(n.key)],t}),{enabledFields:{addtlContactInfo:t},refs:{addtlContactInfo:this.addtlContactInfo}});return"b2c"===this.props.flow&&(a.enabledFields.businessLoyaltyNumber=n,a.refs.businessLoyaltyNumber=this.businessLoyaltyNumber),Object(K.c)(a.enabledFields,a.refs)}},{key:"renderAdditionalContactInfo",value:function(){var e=this,t=this.props,n=t.flow,a=t.configuration,r=t.provinces,i=t.validations,s=t.contact,o=t.phoneCountryCodes,l=t.passengerIds,c=t.passengers,u=y()(a,["passengerForm.additionalContactInfo","controlFields"]),d=T()(l,"0.key",""),p=g()(c,(function(e,t){return t===d}))||[];return V.a.createElement(Ae,{flow:n,additionalContactInfo:p,contact:s,configuration:u,id:"additional-contact-info",ref:function(t){e.addtlContactInfo=t},provinces:r,validations:i,phoneCountryCodes:o,geolocation:this.props.geolocation})}},{key:"renderPassengerTypes",value:function(e,n,a){var r=this,i=this.props,s=i.isSignedIn,o=i.isCreateAccountEnabled,l=i.rememberedFirstNames,c=i.multiFrequentFlyerData,u=i.configuration,d=i.defaultLocale,p=i.dateFormat,h=i.clearSignInInfo,f=i.provinces,m=i.filterRememberedPassengersInLocalStorage,g=i.flow,v=i.validations,y=i.itineraryParts,b=i.serverValidationErrors,C=i.frequentFlyer,E=i.phoneCountryCodes,k=i.passengerIds,O=0===a,_=e.key,P=e.typeCount||0,N=this.props.passengers[_]||{},A=e.type||T()(N,"type","ADT"),I=S()(w()(F()(this.props.passengerTypes,"toJS",[]),(function(e){return e.key===A}))),D=t.getFullName(this.props.passengers[_]||[],I,P);return V.a.createElement(Te.a,{isSignedIn:s,isCreateAccountEnabled:o,rememberedFirstNames:l,multiFrequentFlyerData:c,data:N,configuration:u,isFirst:O,fullName:D,type:A,id:_,isUserLoggedIn:n,defaultLocale:d,dateFormat:p,passengerTypeData:I,clearSignInInfo:h,key:_,provinces:f,filterRememberedPassengersInLocalStorage:m,flow:g,itineraryParts:y,validations:v,frequentFlyer:C,serverValidationErrors:b.get(a.toString(),Object(H.Map)()),ref:function(t){r["passenger-list-item-".concat(e.key)]=t},onFrequentFlyerChange:this.props.onFrequentFlyerChange,phoneCountryCodes:E,handleCheckBox:this.props.handleCheckBox,isAccountCreated:this.props.isAccountCreated,isChecked:this.props.isChecked,onAdditionalInfoChange:function(e,t){return r.props.onAdditionalInfoChange(T()(k,"[".concat(a,".key"),a),e,t)},onDeleteAdditionalInfo:function(){return r.props.onDeleteAdditionalInfo(T()(k,"[".concat(a,".key"),a))},onAddSectionClick:function(){return r.props.onAddSectionClick(T()(k,"[".concat(a,".key"),a))}})}},{key:"renderPassengers",value:function(){var e=this;return R()(this.props.passengerIds,(function(t,n){return e.renderPassengerTypes(t,e.props.isUserLoggedIn&&0===n,n)}))}},{key:"renderBusinessLoyalty",value:function(){var e=this,t=this.props,n=t.flow,a=t.configuration,r=t.validations,i=t.passengerIds,s=t.passengers,o=t.businessLoyalty,l=T()(a,"passengerForm.businessLoyalty",[]),c=T()(i,"0.key",""),u=(g()(s,(function(e,t){return t===c}))||[]).memberId||"",d=null!==u.match(/^7[0-9]{11}$/),p=j()(o)?d&&u.match(/^7[0-9]{11}$/)[0]||void 0:o.memberId;return V.a.createElement(ne,{flow:n,businessLoyaltyNumber:p,configuration:l,id:"business-loyalty-Info",ref:function(t){e.businessLoyaltyNumber=t},validations:r})}},{key:"render",value:function(){var e=T()(this.props.configuration,"passengerForm.additionalContactInfo.isEnabled",!1),t=this.props,n=t.flow,a=t.configuration,r=t.businessLoyalty,i=T()(a,"passengerForm.businessLoyalty.isEnabled",!1)&&("b2c"===n||"exchange"===n&&!j()(r));return V.a.createElement("div",{className:"dxp-passenger-info"},V.a.createElement("div",{className:"dxp-passenger-list",id:W.f},this.renderPassengers()),e&&this.renderAdditionalContactInfo(),i&&this.renderBusinessLoyalty())}}],[{key:"getFullName",value:function(e,t,n){return!e||j()(e.firstName)&&j()(e.middleName)&&j()(e.lastName)?"".concat(D()(Object(U.i)(t.passengerLabel))," ").concat(n).concat(Object(U.i)("separator")):Object(U.i)("passengers.fullName",{prefix:D()(e.prefix||""),firstName:D()(e.firstName||""),middleName:D()(e.middleName||""),maidenName:D()(e.maidenName||""),lastName:D()(e.lastName||""),suffix:D()(e.suffix||"")})}}]),t}(M.Component);f()(Ie,"defaultProps",{isUserLoggedIn:!1,passengerTypes:void 0,filterRememberedPassengersInLocalStorage:void 0,contact:void 0,isCreateAccountEnabled:!1,rememberedFirstNames:void 0,multiFrequentFlyerData:void 0,dateFormat:void 0,defaultLocale:void 0,provinces:void 0,validations:void 0,clearSignInInfo:k.a,serverValidationErrors:Object(H.Map)(),onFrequentFlyerChange:k.a,isAccountCreated:!1,handleCheckBox:void 0,isChecked:!1,onAdditionalInfoChange:function(){},onAddSectionClick:function(){}}),n.d(t,"a",(function(){return Ie}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=n(39),C=n.n(b),E=(n(6),n(1537)),k=n(1385),O=n.n(k),_=n(122),P=n.n(_),S=n(5),N=n.n(S),w=n(36),A=n.n(w),T=n(52),I=n.n(T),D=n(123),x=n(1286),j=n(12),L=n(195),F=n(84),B=n(24),R=n(14),M=n(1525),V=n(1524),U=n(1535),q=n(1587),H=n(2),W=n.n(H),G=n(1305),K=n(1360),z=n(1374),Y=n(1320),Q=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(z.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:R.a.CANCEL})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.breadcrumbConfiguration,r=e.tripParams,i=e.searchCriteriaQueryParams,s=Object(j.i)("summaryBar.flowCrumbs.".concat(R.a.CANCEL,".").concat(t),{tripDate:n.getTripDate(i,a,r.originDate,r.destinationDate)});return y.a.createElement(Y.a,{crumbSubTitle:s})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(K.a,{pageName:R.a.CANCEL,flowName:B.a.CANCEL})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(z.a,{crumbState:G.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:R.a.CANCEL})})),g()(p()(n),"getHoverSubTitle",(function(){var e=n.props,t=e.breadcrumbConfiguration,a=e.tripParams,r=e.searchCriteriaQueryParams,i=Object(j.i)("summaryBar.flowCrumbs.".concat(R.a.CANCEL,".").concat(G.a.HOVER),{tripType:Object(j.i)("summaryBar.journeyType.".concat(r.journeyType)),tripDate:n.getTripDate(r,t,a.originDate,a.destinationDate)});return y.a.createElement(Y.a,{crumbSubTitle:i})})),g()(p()(n),"getTripDate",(function(e,t,n,a){var r=t.get("flightSelectionCrumbDateFormat");return e.isOneWay?W()(n)?"":n.format(r):W()(n)?"":Object(j.i)("summaryBar.flowCrumbs.tripDate",{originDate:n.format(r),destinationDate:a.format(r)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(x.a,{index:this.props.index,state:this.props.crumbState,icon:this.getCrumbIcon(),title:this.getCrumbTitle(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubTitle(),hoverIcon:this.getHoverIcon(),onClick:function(){return e.props.onMybCancelReviewCrumbClick(e.props.url)}})}}]),t}(v.Component),X=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(z.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:R.a.TRANSACTION_SUMMARY})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=Object(j.i)("summaryBar.flowCrumbs.".concat(R.a.TRANSACTION_SUMMARY,".").concat(n.props.crumbState));return y.a.createElement(Y.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(K.a,{pageName:R.a.TRANSACTION_SUMMARY,flowName:B.a.CANCEL})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(z.a,{crumbState:G.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:R.a.TRANSACTION_SUMMARY})})),g()(p()(n),"getHoverSubTitle",(function(){var e=Object(j.i)("summaryBar.flowCrumbs.".concat(R.a.TRANSACTION_SUMMARY,".").concat(G.a.HOVER));return y.a.createElement(Y.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(x.a,{index:this.props.index,state:this.props.crumbState,icon:this.getCrumbIcon(),title:this.getCrumbTitle(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubTitle(),hoverIcon:this.getHoverIcon(),onClick:function(){return e.props.onTransactionSummaryCrumbClick(e.props.url)}})}}]),t}(v.Component),J=n(42),$=n(214),Z=n(1526),ee=n(1560),te=function(e){return e.metadata.get("breadcrumbs")},ne=function(e){return e.metadata.get("flows")},ae=Object(J.a)(Object($.a)(),(function(e){return e})),re=(n(1568),n(1569),n(1570),n(1571),n(2499),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,R.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,R.a.CANCEL,(function(e,t,n){return a.renderMYBCancelReviewBreadcrumbItem(e,t,n)})),g()(n,R.a.TRANSACTION_SUMMARY,(function(e,t,n){return a.renderTransactionSummaryBreadcrumbItem(e,t,n)})),g()(n,R.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.HOME,e,n,t),index:n,url:Object(V.c)(R.a.MYB,R.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:R.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderMYBCancelReviewBreadcrumbItem",(function(e,t,n){return y.a.createElement(Q,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.CANCEL,e,n,t),url:Object(V.c)(B.a.CANCEL,R.a.CANCEL),index:I()(t,R.a.CANCEL),onMybCancelReviewCrumbClick:a.handleCrumbClick,tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,key:R.a.CANCEL})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(U.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.PAYMENT,e,n,t),url:Object(V.c)(B.a.CANCEL,R.a.PAYMENT),index:I()(t,R.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:R.a.PAYMENT})})),g()(p()(a),"renderTransactionSummaryBreadcrumbItem",(function(e,t,n){return y.a.createElement(X,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.TRANSACTION_SUMMARY,e,n,t),url:Object(V.c)(B.a.CANCEL,R.a.TRANSACTION_SUMMARY),index:I()(t,R.a.TRANSACTION_SUMMARY),onTransactionSummaryCrumbClick:a.handleCrumbClick,key:R.a.TRANSACTION_SUMMARY})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=O()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.total,o=t.isAuthorable,l=n.get(F.a.CANCEL),c=A()(a.pathname.split("/")),u=l.keySeq().includes(c)?c:B.a.B2C,d=Object(V.a)(l,r.get("displayHomeCrumb")),p=I()(d,u),h=Object(L.a)(o,"breadcrumbs"),f=d.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",m=C()("dxp-breadcrumbs",f);return y.a.createElement("div",h,y.a.createElement(x.b,{stickyBottomBoundaryID:void 0,className:m,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,cartPrice:s,showCondensed:this.state.showCondensed,dropDownLabel:Object(j.i)("summaryBar.mobileBreadcrumbDropdownLabel")},N()(d,(function(t){return e.flowsToBreadcrumbComponentMapper[t](u,d,p)}))))}}]),t}(v.PureComponent));g()(re,"defaultProps",{onCartSummaryClick:P.a,total:void 0,isAuthorable:!0,cartCollapsed:!0});var ie=Object(D.b)((function(){return Object(J.b)({searchCriteriaQueryParams:ae,breadcrumbConfiguration:te,tripParams:Object(ee.a)(),flowConfiguration:ne,total:Z.a})}),{updateURLQueryParameters:M.a})(re);n.d(t,"a",(function(){return se}));var se=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(ie,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.children,o=e.id,l=C()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(E.a,{className:l,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,id:o},s)}}]),t}(v.PureComponent);g()(se,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},isCartEnabled:!0})},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),C=n.n(b),E=n(1537),k=n(73),O=n.n(k),_=n(35),P=n.n(_),S=n(1385),N=n.n(S),w=n(122),A=n.n(w),T=n(5),I=n.n(T),D=n(36),x=n.n(D),j=n(52),L=n.n(j),F=n(11),B=(n(194),n(123)),R=n(1286),M=n(12),V=n(195),U=n(24),q=n(84),H=n(14),W=n(1524),G=n(1525),K=n(1732),z=n(1535),Y=n(1588),Q=n(1587),X=n(0),J=n.n(X),$=n(42),Z=function(e){return e.seatSelectionMTO.get("selectedSeats",Object(F.List)())},ee=function(e){return e.seatSelectionMTO.get("uniquePassengers",Object(F.List)())},te=Object($.a)((function(e){return e.seatSelectionMTO.get("segments",Object(F.List)())}),(function(e){return e.flatten(!0).size})),ne=function(e){return e.metadata.get("mtoSeatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},ae=function(e){var t=e.ancillaries.getIn(["cartData","result","ancillaries"],Object(F.Map)()),n=e.shoppingCart.getIn(["data","insurance"],Object(F.Map)()),a=n&&n.size?n.get("breakdownElements"):Object(F.List)();return(t&&t.size?t.get("breakdownElements",Object(F.List)()):Object(F.List)()).merge(a)},re=n(1526),ie=n(1567),se=n(2176),oe=n(2177),le=n(174),ce=n(1946),ue=n(45),de=function(e){return e.metadata.get("breadcrumbs")},pe=function(){return"true"===ue.a.get("isSeatsExtrasCombined")},he=function(e){return e.ancillariesMto.get("isAncillaryAvailable",!0)},fe=function(e,t){return Object(ce.a)(e.metadata,e.payment,t.location.pathname,e.sessionStorage.get("selectedTripOption"),pe())},me=Object($.a)(Object(se.a)(),Object(oe.a)(),le.b,re.a,(function(e,t,n,a){var r=J()(e,"isLoading"),i=J()(t,"isFetchingSeatMap"),s=J()(t,"isFlowInitialized");return(n===H.a.ANCILLARIES?r:i||!s)?Object(F.List)():a})),ge=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,H.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,H.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,H.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),g()(n,H.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleMTOSeatCrumbClick",(function(e){a.props.updateURLQueryParameters(e,P()(a.props.location.query,"mtoInitialized"))})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){var r=a.props,i=r.breadcrumbConfiguration,s=r.isAncillariesAvailable,o=r.ancillaries,l=r.isSeatsExtrasCombined,c=r.seatAncillaries,u=l?Object(M.i)("breadcrumbsFlows.".concat(q.a.MTO,".tripOptions")):Object(M.i)("breadcrumbsFlows.".concat(q.a.MTO,".").concat(O()(H.a.ANCILLARIES)));return y.a.createElement(K.a,{breadcrumbConfiguration:i,crumbState:Object(W.b)(H.a.ANCILLARIES,e,n,t),url:Object(W.c)(U.a.MTO,H.a.ANCILLARIES),ancillaries:o,index:n,onAncillariesCrumbClick:a.handleCrumbClick,key:H.a.ANCILLARIES,isAncillariesAvailable:s,breadCrumbTitleOverride:u,seatAncillaries:c})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(Q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(W.b)(H.a.HOME,e,n,t),index:n,url:Object(W.c)(H.a.MYB,H.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:H.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(z.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(W.b)(H.a.PAYMENT,e,n,t),url:Object(W.c)(U.a.MTO,H.a.PAYMENT),index:n,onPaymentCrumbClick:a.handleCrumbClick,key:H.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){var r=a.props,i=r.breadcrumbConfiguration,s=r.seatsCrumbData,o=r.isSeatsExtrasCombined,l=o?i.setIn(["flowIcons","seat-selection"],i.getIn(["flowIcons","ancillaries"])):i,c=o?Object(M.i)("breadcrumbsFlows.".concat(q.a.MTO,".tripOptions")):Object(M.i)("breadcrumbsFlows.".concat(q.a.MTO,".").concat(O()(H.a.SEAT_SELECTION)));return y.a.createElement(Y.a,{breadcrumbConfiguration:l,crumbState:Object(W.b)(H.a.SEAT_SELECTION,e,n,t),url:Object(W.c)(U.a.MTO,H.a.SEAT_SELECTION),seatsCrumbData:s,index:n,onSeatSelectionCrumbClick:a.handleMTOSeatCrumbClick,key:H.a.SEAT_SELECTION,breadCrumbTitleOverride:c})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=N()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=t.total,l=x()(a.pathname.split("/")),c=n.keySeq().includes(l)?l:U.a.B2C,u=Object(W.a)(n,r.get("displayHomeCrumb")),d=L()(u,c),p=Object(V.a)(s,"breadcrumbs"),h=u.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",f=C()("dxp-breadcrumbs",h);return y.a.createElement("div",p,y.a.createElement(R.b,{cartPrice:o,stickyBottomBoundaryID:void 0,className:f,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,showCondensed:this.state.showCondensed,dropDownLabel:Object(M.i)("summaryBar.mobileBreadcrumbDropdownLabel")},I()(u,(function(t){return e.flowsToBreadcrumbComponentMapper[t](c,u,d)}))))}}]),t}(v.PureComponent));g()(ge,"defaultProps",{seatAncillaries:void 0,ancillaries:Object(F.List)(),onCartSummaryClick:A.a,seatsCrumbData:void 0,isAuthorable:!0,cartCollapsed:!0,total:void 0,isSeatsExtrasCombined:!1});var ve=Object(B.b)((function(){return Object($.b)({breadcrumbConfiguration:de,flowConfiguration:fe,seatsCrumbData:Object($.b)({selectedSeats:Z,passengers:ee,passengersExcludedFromSeatSelection:ne,flightsCount:te}),ancillaries:ae,seatAncillaries:ie.a,total:me,isAncillariesAvailable:he,isSeatsExtrasCombined:pe})}),{updateURLQueryParameters:G.a})(ge);n.d(t,"a",(function(){return ye}));var ye=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(ve,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.children,o=e.id,l=C()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(E.a,{className:l,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,id:o},s)}}]),t}(v.PureComponent);g()(ye,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},isCartEnabled:!0})},,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(49),C=n.n(b),E=n(21),k=n.n(E),O=n(0),_=n.n(O),P=n(1),S=n.n(P),N=n(6),w=n.n(N),A=n(39),T=n.n(A),I=(n(194),n(11)),D=n(1996),x=n(195),j=n(563),L=n(56),F=n.n(L),B=n(5),R=n.n(B),M=n(12),V=n(60),U=n(78),q=n(1249);n(2444);function H(e,t){var n,a=e.ancillary,r=e.ancillariesConfiguration,i=t.translateWithComponents,s=_()(a,"isBundle"),o=_()(a,"code"),l=Object(M.i)("app.image"),c=Object(M.i)("ancillary.items.".concat(o,".name")),u="".concat(l," ").concat(c),d=_()(r,"ancillaryMap.".concat(o,".icon")),p=_()(r,"ancillaryMap.".concat(o,".iconSize")),h=function(e,t,n){var a=_()(e,"code"),r=F()(_()(e,"products"));if(a===_()(t,"insurance.code")){var i,s;1===r?(i=_()(e,"products[0].insurance.productDescriptionURL"),s=e.products[0].insurance.supplierCode):(i=_()(e,"insurance.productDescriptionURL"),s=_()(e,"supplierCode"));var o=S.a.createElement(U.a,{target:"_BLANK",href:i},Object(M.a)("ancillary.insuranceDisclosureLabel"));return S.a.createElement(S.a.Fragment,null,Object(M.a)("ancillary.items.".concat(a,".intro"),{providerName:Object(M.i)("ancillary.insurance.suppliers.".concat(s,".name"))}),n("ancillary.items.".concat(a,".insuranceDisclosureLink"),{insuranceDisclosureLink:o}))}return Object(M.a)("ancillary.items.".concat(a,".intro"))}(a,r,i),f=function(e){var t="ancillary.items.".concat(_()(e,"code"),".image"),n=Object(M.i)(t);return n===t&&(n="//placehold.it/320x180"),n}(a),m=_()(_()(a,"offers"),"discount",[]),g=function(e){return S.a.createElement("ul",{className:"bundle-list"},R()(_()(e,"bundleItems"),(function(e){return S.a.createElement("li",{className:"bundle-item",key:"bundle-item-".concat(e.code)},Object(M.a)("ancillary.items.".concat(e.code,".name")))})))}(a);return Object(V.o)(m)||(n=S.a.createElement("span",{className:"discount"},i("ancillary.savingsOf",{price:S.a.createElement(q.a,{price:m})}))),{code:o,altText:u,icon:d,iconSize:p,title:c,intro:h,discount:m,discountLabel:n,imgPath:f,isBundle:s,ancillaryBundle:g}}var W=function(e,t){var n=e.ancillary,a=e.ancillariesConfiguration,i=e.isMobile,s=H(e,t),o=!i&&k()(C()(_()(a,"featuredOfferingCodes")),_()(n,"code"));return S.a.createElement(D.a,r()({},s,{displayType:o?"feature":"tile"}))};W.defaultProps={isMobile:!1,ancillary:void 0,ancillariesConfiguration:{}},W.contextTypes={translateWithComponents:w.a.func};var G=W,K=n(2073),z=(n(2445),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onDisclosureClick",(function(){return n.props.onDisclosureClick&&n.props.onDisclosureClick()})),y()(f()(n),"onSummaryClick",(function(){return n.props.onSelect&&n.props.onSelect(n.props.ancillary.code)})),n}return g()(t,e),l()(t,[{key:"renderAncillary",value:function(){var e=this.props,t=e.ancillary,n=e.isOriginalPriceDisplayed,a=e.isDealBannerDisplayed,i=e.ancillariesConfiguration,s=e.isMobile,o=e.passengers,l=e.bagAllowance,c=T()("dxp-ancillary",{"has-alert":t.isAddedToCart,"has-items-left":t.quantityLeft,selected:t.isSelected}),u=Object(x.b)(this.props.isAuthorable,"ancillary"),d=!s&&k()(C()(_()(i,"featuredOfferingCodes")),_()(t,"code"));return S.a.createElement("div",r()({className:c},u),S.a.createElement(D.c,{key:"ancillary-".concat(t.code),isRecommended:t.isRecommended,displayType:d?"feature":"tile",PACKAGE_NAME_CLASSIFIED:"ancillary"},S.a.createElement(G,{ancillary:t,isMobile:s,onDisclosureClick:this.onDisclosureClick,ancillariesConfiguration:i}),S.a.createElement(K.a,{ancillary:t,isOriginalPriceDisplayed:n,isDealBannerDisplayed:a,onClick:this.onSummaryClick,ancillariesConfiguration:i,passengers:o,bagAllowance:l,retainedTotal:this.props.retainedTotals[t.code]})))}},{key:"render",value:function(){if(!1===this.props.renderWithAnimation)return this.renderAncillary();var e="ancillary-".concat(this.props.ancillary.code);return S.a.createElement(j.a,{tag:"div",className:"dxp-ancillary-wrapper",id:e,type:"slideFromBottom"},this.renderAncillary())}}]),t}(P.Component));y()(z,"defaultProps",{addToGroup:!1,ancillariesConfiguration:{},numberOfPassenger:void 0,ancillary:{},onClick:void 0,onChange:void 0,onAncillaryUpdate:void 0,onAddToCart:void 0,onDisclosureClick:void 0,onSelect:void 0,isDealBannerDisplayed:!1,isOriginalPriceDisplayed:!1,renderWithAnimation:!0,isMobile:!1,passengers:{},bagAllowance:Object(I.Map)(),isAuthorable:!0,retainedTotals:{}}),n.d(t,"a",(function(){return z}))},function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(2117),s=n.n(i),o=n(144),l=n.n(o),c=n(1),u=n.n(c),d=(n(6),n(194),n(12)),p=n(1370),h=n(1249),f=n(60),m=n(528);function g(e){var t=e.origin,n=e.destination;return{origin:t,destination:n,originTranslation:Object(d.i)("airports.".concat(t)),destinationTranslation:Object(d.i)("airports.".concat(n))}}var v=n(50);n(2487);var y=function(e){var t=e.translations;return u.a.createElement("div",{className:"tab-container"},u.a.createElement("div",{className:"airport-codes"},u.a.createElement("span",{className:"origin"},t.origin),u.a.createElement(v.c,{name:v.a.ARROW_BASIC_RIGHT,className:"arrow"}),u.a.createElement("span",{className:"destination"},t.destination)))};function b(e){var t=e.segmentTranslations;return u.a.createElement("span",{className:"segment"},u.a.createElement("span",{className:"origin long"},Object(d.a)("upgrade.flights.segmentFormat.long",{short:t.origin,long:t.originTranslation})),u.a.createElement("span",{className:"origin short"},Object(d.a)("upgrade.flights.segmentFormat.short",{short:t.origin})),u.a.createElement(v.c,{name:v.a.ARROW_BASIC_RIGHT,className:"arrow"}),u.a.createElement("span",{className:"destination long"},Object(d.a)("upgrade.flights.segmentFormat.long",{short:t.destination,long:t.destinationTranslation})),u.a.createElement("span",{className:"destination short"},Object(d.a)("upgrade.flights.segmentFormat.short",{short:t.destination})))}n(2488);function C(e){var t=e.segmentUpgradeInfos,n=e.upgradeCancelWidgetTermsKeys,a=e.allowSelection,i=e.onCheckboxChange,o=e.selectedSegments;return u.a.createElement("div",{className:"upgraded-flight-tabs-container"},u.a.createElement(p.c,null,u.a.createElement(p.e,{key:"upgraded-tabs-component"},{segmentUpgradeInfos:t}.segmentUpgradeInfos.map((function(e,t){var n=g({origin:e.getIn(["segment","origin"]),destination:e.getIn(["segment","destination"])});return u.a.createElement(p.a,{key:"tab-segment-".concat(n.origin,"-").concat(n.destination,"-").concat(t)},u.a.createElement(y,{translations:n,index:t}))}))),u.a.createElement(p.d,null,function(e){var t=e.segmentUpgradeInfos,n=e.upgradeCancelWidgetTermsKeys,a=e.allowSelection,i=e.onCheckboxChange,o=e.selectedSegments;return t.map((function(e,t){var c=s()(e.get("status")),v=e.get("segment"),y=e.get("passengerUpgradePrices"),C=y&&function(e){return r()(l()(e.toJS(),(function(e){return e.upgradePrice.alternatives})),(function(e,t){return Object(f.c)(t,e)}),{amount:0})}(y),k=v.get("origin"),O=v.get("destination"),_=g({origin:k,destination:O}),P=e.get("code"),S=v.get("departure"),N=v.get("@type"),w=v.get("bookingClass");return u.a.createElement(p.b,{key:"tab-panel-segment-".concat(_.origin,"-").concat(_.destination,"-").concat(t)},u.a.createElement("div",{className:"upgraded-flights-row header"},a&&u.a.createElement("span",{className:"select"}),u.a.createElement("span",{className:"segment"},Object(d.a)("upgrade.tabHeaders.segment")),w&&u.a.createElement("span",{className:"upgrade-class"},Object(d.a)("upgrade.tabHeaders.upgradeClass")),u.a.createElement("span",{className:"status ".concat(c)},Object(d.a)("upgrade.tabHeaders.status")),y?u.a.createElement("span",{className:"upgrade-cost ".concat(c)},Object(d.a)("upgrade.tabHeaders.upgradeCost")):null),u.a.createElement("div",{className:"upgraded-flights-row"},a&&u.a.createElement(m.a,{label:"upgrade.cancelDisclaimer",id:"cancel-checkbox-".concat(t),className:"select",onChange:function(e,n){return i({checked:n,code:P,origin:k,destination:O,departure:S,type:N,index:t})},checked:o[t]&&o[t].offerSelectedForCancelation}),u.a.createElement(b,{segmentTranslations:_}),w&&u.a.createElement("span",{className:"upgrade-class"},Object(d.a)("upgrade.bookingClass.".concat(w))),u.a.createElement("span",{className:"status ".concat(c)},Object(d.a)("upgrade.status.".concat(c)),E(n,c)),y&&u.a.createElement("span",{className:"upgrade-cost"},u.a.createElement(h.a,{price:C}),E(n,"points"))))}))}({segmentUpgradeInfos:t,upgradeCancelWidgetTermsKeys:n,allowSelection:a,onCheckboxChange:i,selectedSegments:o}))))}function E(e,t){var n=e.indexOf(t);if(n<=-1)return null;var a=Object(d.i)("upgrade.termsDenotation"),r=new Array(n+1).fill(a).join("");return u.a.createElement("sup",null,Object(d.a)("upgrade.termsFormat",{denotation:r}))}C.defaultProps={allowSelection:!1,upgradeCancelWidgetTermsKeys:[],selectedSegments:[],onCheckboxChange:function(){}};t.a=C},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(122),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),C=n.n(b),E=n(11),k=(n(194),n(0)),O=n.n(k),_=n(17),P=n.n(_),S=n(12),N=(n(2401),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return{prefix:O()(this.props.data,"prefix",""),firstName:O()(this.props,"data.firstName",""),middleName:O()(this.props,"data.middleName",""),maidenName:O()(this.props,"data.maidenName",""),lastName:O()(this.props,"data.lastName",""),suffix:O()(this.props,"data.suffix",""),dateOfBirth:O()(this.props,"data.dateOfBirth",""),gender:O()(this.props,"data.gender","")}}},{key:"renderFields",value:function(){var e=this.props.configuration;return y.a.createElement("div",{className:"editable-fields"},O()(e,"prefix.isEnabled",!1)&&this.renderPassengerPrefix(),O()(e,"firstName.isEnabled",!1)&&this.renderPassengerFirstName(),O()(e,"middleName.isEnabled",!1)&&this.renderPassengerMiddleName(),O()(e,"maidenName.isEnabled",!1)&&this.renderPassengerMaidenName(),O()(e,"lastName.isEnabled",!1)&&this.renderPassengerLastName(),O()(e,"suffix.isEnabled",!1)&&this.renderPassengerSuffix(),O()(e,"dateOfBirth.isEnabled",!1)&&this.renderPassengerDateOfBirth(),O()(e,"gender.isEnabled",!1)&&this.renderPassengerGender())}},{key:"renderPassengerDateOfBirth",value:function(){var e=this.props,t=e.configuration,n=e.dateFormat,a=O()(this.props,"data.dateOfBirth","");return a&&n&&(a=P()(a).format(n)),y.a.createElement("div",{className:"basic-info-field"},Object(S.i)(O()(t,"dateOfBirth.label")),y.a.createElement("span",null,a))}},{key:"renderPassengerFirstName",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.firstName.label"),y.a.createElement("span",null,O()(this.props,"data.firstName","")))}},{key:"renderPassengerGender",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.gender.label"),y.a.createElement("span",null,O()(this.props,"data.gender","")))}},{key:"renderPassengerLastName",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.lastName.label"),y.a.createElement("span",null,O()(this.props,"data.lastName","")))}},{key:"renderPassengerMaidenName",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.maidenName.label"),y.a.createElement("span",null,O()(this.props,"data.maidenName","")))}},{key:"renderPassengerMiddleName",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.middleName.label"),y.a.createElement("span",null,O()(this.props,"data.middleName","")))}},{key:"renderPassengerPrefix",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.prefix.label"),y.a.createElement("span",null,O()(this.props,"data.prefix","")))}},{key:"renderPassengerSuffix",value:function(){return y.a.createElement("div",{className:"basic-info-field"},Object(S.i)("passengers.suffix.label"),y.a.createElement("span",null,O()(this.props,"data.suffix","")))}},{key:"render",value:function(){return y.a.createElement("div",{className:"no-editable-fields"},this.renderFields())}}]),t}(v.Component));f()(N,"defaultProps",{data:void 0,dateFormat:void 0,configuration:void 0});var w=n(2072),A=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return this.props.basicInfoDisabled?this.viewInfo.getValue():this.editInfo.getValue()}},{key:"isValid",value:function(){return!!this.props.basicInfoDisabled||this.editInfo.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.validations,r=t.configuration,i=t.data,s=t.dateFormat,o=t.isLoggedIn,l=t.isFirst,c=t.rememberedFirstNames,u=t.id,d=t.defaultLocale,p=t.onChange,h=t.prefixOptions,f=t.suffixOptions,m=t.genderOptions,g=t.controlFieldConfiguration,v=t.form,b=t.basicInfoDisabled,E=t.itineraryParts,k=t.personNameSortOrder,O=t.serverValidationErrors,_=t.isSecureFlight;return y.a.createElement("div",{className:C()("passenger-basic-info-section",n),id:u},b?y.a.createElement(N,{data:i,configuration:r,dateFormat:s,ref:function(t){e.viewInfo=t}}):y.a.createElement(w.a,{className:n,validations:a,configuration:r,data:i,dateFormat:s,isLoggedIn:o,isFirst:l,updateFullName:this.props.updateFullName,rememberedFirstNames:c,id:"".concat(u,"-edit"),defaultLocale:d,onChange:p,prefixOptions:h,suffixOptions:f,genderOptions:m,controlFieldConfiguration:g,form:v,isSecureFlight:_,itineraryParts:E,ref:function(t){e.editInfo=t},personNameSortOrder:k,serverValidationErrors:O}))}}]),t}(v.Component);f()(A,"defaultProps",{data:{},className:"",configuration:{},validations:void 0,dateFormat:void 0,isLoggedIn:!1,isFirst:void 0,rememberedFirstNames:void 0,id:void 0,defaultLocale:void 0,onChange:void 0,prefixOptions:void 0,suffixOptions:void 0,genderOptions:void 0,controlFieldConfiguration:void 0,itineraryParts:[],personNameSortOrder:void 0,form:void 0,serverValidationErrors:Object(E.Map)(),updateFullName:g.a});var T=A;n.d(t,"a",(function(){return T}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2217),g=n.n(m),v=n(0),y=n.n(v),b=n(122),C=n.n(b),E=n(49),k=n.n(E),O=n(5),_=n.n(O),P=n(1),S=n.n(P),N=n(6),w=n(39),A=n.n(w),T=n(50),I=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"renderItemType",value:function(e){var n=this.props.type;return g()(t,y()(t.ToggleTypes,[n,"renderMethod"]),e)}},{key:"renderItem",value:function(e){var t=e.item,n=e.index,a=this.props,r=a.name,i=a.onChange,s=t.label,o=t.value,l=t.checked,c=t.disabled,u="".concat(r,"-").concat(n),d=A()("toggle-item",t.className||"toggle-item-default");return S.a.createElement("label",{key:u,htmlFor:u,className:d},S.a.createElement("input",{onChange:function(e){return i(e,o||s)},id:u,className:"toggle-input","data-test-id":"toggle-input",type:"radio",name:u,checked:l,disabled:c}),this.renderItemType(t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.items,r=A()("DucpComponentToggle",n);return S.a.createElement("div",{className:r},_()(a,(function(t,n){return e.renderItem({item:t,index:n})})))}}],[{key:"renderTextItem",value:function(e){return S.a.createElement("span",{className:"toggle-label"},e.label)}},{key:"renderIconItem",value:function(e){return S.a.createElement("span",{className:"toggle-label"},S.a.createElement(T.c,{name:e.icon,fill:!0}))}},{key:"propTypes",get:function(){return{className:N.string,name:N.string.isRequired,onChange:N.func,type:Object(N.oneOf)(k()(t.ToggleTypes)),items:Object(N.arrayOf)(Object(N.shape)({label:N.node,value:N.string,checked:N.bool,disabled:N.bool,className:N.string})).isRequired}}}]),t}(P.Component);f()(I,"defaultProps",{className:void 0,onChange:C.a,type:"text"}),f()(I,"ToggleTypes",{text:{renderMethod:"renderTextItem"},icon:{renderMethod:"renderIconItem"}});t.a=I},,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(17),s=n.n(i),o=(n(6),n(12)),l=n(50),c=function(e){var t=e.pickUpDateTime,n=e.dropOffDateTime,a=e.pickUpLocation,i=e.dropOffLocation,c=e.carLocationDateFormat;return r.a.createElement("div",{className:"car-offer-details-date-city"},r.a.createElement("div",{className:"car-offer-pickup-address pick-up"},r.a.createElement(l.c,{name:l.a.LOCATION}),r.a.createElement("span",{className:"address"},r.a.createElement("strong",null,a))),r.a.createElement("div",{className:"car-offer-pickup"},Object(o.a)("car.pickUp",{date:s.a.utc(t).format(c)})),a!==i&&r.a.createElement("div",{className:"car-offer-pickup-address drop-off"},r.a.createElement(l.c,{name:l.a.LOCATION}),r.a.createElement("span",{className:"address"},r.a.createElement("strong",null,i))),r.a.createElement("div",null,Object(o.a)("car.dropOff",{date:s.a.utc(n).format(c)})))};c.defaultProps={carLocationDateFormat:"dddd, MMM Do YYYY, h:mm a"};var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";var a=n(122),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(2003)),l=(n(2434),function(e){var t=e.renderedAncillaries;return s.a.createElement(o.b,{packageName:"ancillary",onLeftArrowClick:r.a,onRightArrowClick:r.a,className:"ancillary-slider"},t)});l.defaultProps={renderedAncillaries:[]};var c=l;n.d(t,"a",(function(){return c}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(27),g=n.n(m),v=n(15),y=n.n(v),b=n(105),C=n.n(b),E=n(51),k=n.n(E),O=n(173),_=n.n(O),P=n(2),S=n.n(P),N=n(5),w=n.n(N),A=n(0),T=n.n(A),I=n(1),D=n.n(I),x=(n(6),n(39)),j=n.n(x),L=n(12),F=n(2115),B=n(129),R=n(1290),M=n(2079),V=n(326),U=n(153),q=n(1289),H=n(1949);n(2974),n(2975);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){function t(e,n){var a;r()(this,t),a=s()(this,l()(t).call(this,e,n));var i=T()(e.configuration,"paymentFormValidation"),o=T()(e.configuration,"customCCPaymentFormValidation",{}),c=S()(o)?i:o,u=T()(e,"paymentObject.data.billingData.country",void 0),d=t.getCountryInfo(e,u);return a.state=G({selectedCountry:u,selectedState:void 0},d,{enabledFields:{emailAddress:T()(c,"email.isEnabled"),phone:T()(c,"phone.isEnabled"),street1:T()(c,"street1.isEnabled"),street2:T()(c,"street2.isEnabled"),houseNumber:T()(c,"houseNumber.isEnabled"),country:T()(c,"country.isEnabled"),state:T()(c,"state.isEnabled"),city:T()(c,"city.isEnabled"),zipCode:T()(c,"zipCode.isEnabled")}}),a.formFields={},a}return p()(t,e),u()(t,null,[{key:"getMinLength",value:function(e){var t=y()(e,(function(e){return"minLengthPhoneNumber"===e.name}));if(!S()(t))return t.options}},{key:"getCountryInfo",value:function(e,t){var n=T()(e,["provincesForPaymentOptions","countries"],[]),a=_()(n,(function(e){return e.code===t}));return{countryIndex:a,showStateOptions:-1!==a&&!S()(T()(n,[a,"states"]))}}}]),u()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setStateOptionsForCountry(T()(this.props,"paymentObject.data.billingData.country")),this.setState({selectedState:T()(this.props,"paymentObject.data.billingData.province")})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=T()(e.paymentObject,"data.billingData.country");t&&this.setStateOptionsForCountry(t)}},{key:"onStateChange",value:function(e){this.setState({selectedState:e})}},{key:"getData",value:function(){var e=this.state.enabledFields,t={email:e.emailAddress&&k()(this.formFields,"emailAddress.getValue",""),street1:e.street1&&k()(this.formFields,"street1.getValue",""),street2:e.street2&&k()(this.formFields,"street2.getValue",""),houseNumber:e.houseNumber&&k()(this.formFields,"houseNumber.getValue",""),city:e.city&&k()(this.formFields,"city.getValue",""),zipCode:e.zipCode&&k()(this.formFields,"zipCode.getValue",""),province:e.country&&e.state&&k()(this.formFields,"state.getValue",""),country:e.country&&k()(this.formFields,"country.getValue",""),phone:e.phone&&k()(this.formFields,"phone.getValue","")};return C()(t,S.a)}},{key:"getStateOptions",value:function(){var e=T()(this.props,["provincesForPaymentOptions","countries",this.state.countryIndex],{});return w()(T()(e,"states",[]),(function(t){return{label:Object(L.i)("state.".concat(e.code,".").concat(t)),value:t}}))}},{key:"setStateOptionsForCountry",value:function(e){this.setState(G({selectedCountry:e},t.getCountryInfo(this.props,e)))}},{key:"isValid",value:function(){var e=this.state.enabledFields,t=e.state&&!S()(this.state.stateOptions);return Object(U.c)(G({},e,{state:t}),this.formFields)}},{key:"renderCity",value:function(e,t){var n=this;return D.a.createElement(B.a,{ref:function(e){n.formFields.city=e},keyProp:F.d,label:Object(q.d)("city",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),defaultValue:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),validators:t,className:"city"})}},{key:"renderCountry",value:function(e,t){var n=this,a=S()(t)?w()(T()(this.props.provincesForPaymentOptions,"countries"),(function(e){return{label:Object(L.i)("country.".concat(e.code)),value:e.code}})):w()(t,(function(e){return{label:Object(L.i)("country.".concat(e.code)),value:e.code}})),r=1===a.length?T()(g()(a),"value"):this.state.selectedCountry,i=!!Object(H.b)("country",this.props.controlFieldsConfiguration)&&function(e){return Object(H.a)(n.props.controlFieldsConfiguration.country,e,n,n.props.form)};return D.a.createElement(V.a,{label:Object(q.d)("country",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),keyProp:F.e,options:a,ref:function(e){n.formFields.country=e},defaultValue:r,onChange:function(e){i&&i(e),n.setStateOptionsForCountry(e)},matchPos:"start",useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),validators:e,className:"country"})}},{key:"renderEmailField",value:function(e,t){var n=this;return D.a.createElement(B.a,{ref:function(e){n.formFields.emailAddress=e},keyProp:F.h,label:Object(q.d)("email",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),defaultValue:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!0),validators:t})}},{key:"renderHouseNumber",value:function(e,t){var n=this,a=!!Object(H.b)("houseNumber",this.props.controlFieldsConfiguration)&&function(){return Object(H.a)(n.props.controlFieldsConfiguration.houseNumber,n.formFields.houseNumber.getValue(),n,n.props.form)};return D.a.createElement(B.a,{ref:function(e){n.formFields.houseNumber=e},keyProp:F.j,label:Object(q.d)("houseNumber",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),defaultValue:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),validators:t,className:"houseNumber",onBlur:function(){return a&&a()}})}},{key:"renderPhone",value:function(e,t){var n=this.props.configuration;return T()(n,"paymentFormValidation.phone.isPhoneGroupEnabled",!1)?this.renderPhoneFieldGroup(e,t):this.renderPhoneField(e,t)}},{key:"renderPhoneField",value:function(e,n){var a=this,r=this.props,i=r.configuration.paymentFormValidation,s=r.phoneCountryCodes;return D.a.createElement(R.a,{ref:function(e){a.formFields.phone=e},keyProp:F.l,defaultValue:e,defaultCountry:T()(i,"phone.phoneNumber.defaultCountry","us"),label:Object(q.d)("phone.phoneNumber",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),useLabelFeedback:!0,validators:n,shouldValidateOnChange:!0,minLength:t.getMinLength(n),hideCountryFlag:T()(i,"phone.hideCountryFlag",!1),phoneCountryCodes:s})}},{key:"renderPhoneFieldGroup",value:function(e,n){var a=this,r=this.props,i=r.configuration.paymentFormValidation,s=r.phoneCountryCodes;return D.a.createElement(M.a,{classNames:j()("field-phone-group-inline","payment-phone"),phoneTypeLabel:Object(q.d)("phone.phoneType",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),phoneNumberLabel:Object(q.d)("phone.phoneNumber",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),phoneExtensionLabel:Object(q.d)("phone.phoneExtension",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),keyProp:"credit-card-details-field-paymentPhone",configuration:k()(i,"phone"),defaultValue:e,useLabelFeedback:!0,phoneNumberValidators:n,ref:function(e){a.formFields.phone=e},id:"phone",shouldValidateOnChange:!0,minLength:t.getMinLength(n),phoneCountryCodes:s})}},{key:"renderState",value:function(e){var t=this;return D.a.createElement(V.a,{label:Object(q.d)("state",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),keyProp:F.m,options:this.getStateOptions(),ref:function(e){t.formFields.state=e},defaultValue:this.state.selectedState,onChange:function(e){return t.onStateChange(e)},matchPos:"start",validators:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),className:"state"})}},{key:"renderStreet1",value:function(e,t){var n=this;return D.a.createElement(B.a,{ref:function(e){n.formFields.street1=e},keyProp:F.b,label:Object(q.d)("street1",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),defaultValue:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),validators:t,className:"street1"})}},{key:"renderStreet2",value:function(e,t){var n=this;return D.a.createElement(B.a,{ref:function(e){n.formFields.street2=e},keyProp:F.c,label:Object(q.d)("street2",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),defaultValue:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),validators:t,className:"street2"})}},{key:"renderZipCode",value:function(e,t){var n=this;return D.a.createElement(B.a,{ref:function(e){n.formFields.zipCode=e},keyProp:F.o,label:Object(q.d)("zipCode",this.props.configuration.paymentFormValidation,{},"payment.creditCard"),defaultValue:e,useLabelFeedback:T()(this.props,"configuration.useLabelFeedback",!1),validators:t,className:"zipCode"})}},{key:"renderCountryDisclaimer",value:function(){var e=this.state.selectedCountry;if(e){var t=["payment","creditCard","countryDisclaimer",e].join(".");if(Object(L.d)(t))return D.a.createElement("div",{className:"country-disclaimer"},Object(L.a)(t));if(Object(L.d)("payment.creditCard.countryDisclaimer.default"))return D.a.createElement("div",{className:"country-disclaimer"},Object(L.a)("payment.creditCard.countryDisclaimer.default"))}return null}},{key:"render",value:function(){var e=this.state,t=e.enabledFields,n=e.showStateOptions,a=this.props,r=a.configuration,i=a.paymentObject,s=a.emailAddress,o=a.phoneNumber,l=T()(i,"data",{}),c=T()(r,"paymentFormValidation",{}),u=T()(r,"customCCPaymentFormValidation",{}),d=S()(u)?c:u,p=T()(d,"country.displayOnTop"),h=T()(d,"country.options.countries",[]),f=T()(d,["country","displayDisclaimer"],!1);return D.a.createElement("fieldset",{className:"billing-info"},D.a.createElement("legend",{className:"billing-data-legend"},Object(L.a)("payment.creditCard.billingData")),D.a.createElement("div",{className:"fields-container"},t.emailAddress&&this.renderEmailField(s,T()(d,"email.validators")),t.phone&&this.renderPhone(o,T()(d,"phone.phoneNumber.validators")),t.country&&p&&this.renderCountry(T()(d,"country.validators"),h),t.street1&&this.renderStreet1(T()(l,"billingData.street1"),T()(d,"street1.validators")),t.street2&&this.renderStreet2(T()(l,"billingData.street2"),T()(d,"street2.validators")),t.houseNumber&&this.renderHouseNumber(T()(l,"billingData.houseNumber"),T()(d,"houseNumber.validators")),t.country&&!p&&this.renderCountry(T()(d,"country.validators")),t.country&&n&&t.state&&this.renderState(T()(d,"state.validators")),t.city&&this.renderCity(T()(l,"billingData.city"),T()(d,"city.validators")),t.zipCode&&this.renderZipCode(T()(l,"billingData.zipCode"),T()(d,"zipCode.validators")),D.a.createElement("div",{className:"selected-country-disclaimer ".concat(this.state.selectedCountry)},Object(L.a)("payment.selectedCountry.".concat(this.state.selectedCountry)))),f&&this.renderCountryDisclaimer())}}]),t}(I.Component);f()(K,"defaultProps",{controlFieldsConfiguration:{},form:{},paymentObject:{},emailAddress:"",phoneNumber:{}}),n.d(t,"a",(function(){return K}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=(n(194),n(12)),l=n(1249),c=(n(3006),function(e){var t=e.className,n=e.title,a=e.price;return r.a.createElement("div",{className:s()("dxp-award-payment-balance-price",t)},r.a.createElement("small",{className:"balance-price-title"},Object(o.a)(n)),r.a.createElement(l.a,{className:"balance-price-amount",price:a}))});c.defaultProps={className:"",title:"",price:void 0};var u=c;n.d(t,"a",(function(){return u}))},,,,,,,,,function(e,t,n){var a=n(551),r=n(180),i=n(104),s=n(178);e.exports=function(e){var t=null==e?0:e.length,n=i;return e=t?r(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],s((function(n){for(var r=-1;++r<t;){var i=e[r];if(a(i[0],this,n))return a(i[1],this,n)}}))}},,,function(e,t,n){var a=n(2218),r=n(178)(a);e.exports=r},function(e,t,n){var a=n(551),r=n(219),i=n(36),s=n(784),o=n(220);e.exports=function(e,t,n){t=r(t,e);var l=null==(e=s(e,t))?e:e[o(i(t))];return null==l?void 0:a(l,e,n)}},,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(12),s=n(319);t.a=function(){var e=Object(i.i)("flightSelection.promoCode.companionFarePromoCode");return r.a.createElement(s.a,{type:"success",title:Object(i.i)("flightSelection.promoCode.valid.title",{promoCode:e})},Object(i.a)("flightSelection.promoCode.valid.description"))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return N})),n.d(t,"i",(function(){return w})),n.d(t,"d",(function(){return A})),n.d(t,"g",(function(){return T})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"j",(function(){return x}));var a=n(2),r=n.n(a),i=n(49),s=n.n(i),o=n(0),l=n.n(o),c=n(27),u=n.n(c),d=n(2102),p=n(1533),h=n(1289),f=n(66),m=n(7),g=n(1738),v=n(258),y=n(586),b=n(2387),C=n(2103),E=n(2104);function k(){return function(e){e({type:m.we})}}function O(){return function(e){e({type:m.Pb})}}function _(e){var t=u()(s()(e));return l()(e,t)}function P(e){var t=function(e){var t=_(e);return!0===l()(t,"createAccount")}(e),n=_(e),a=l()(n,"emails",[]);return{createAccount:t,email:r()(a)?{}:u()(a)}}function S(e,t,n,a,i){return function(s,o){var c=o().shoppingCart.toJS(),p=o().metadata.get("passengerConfiguration",{}),v=u()(l()(c,"data.segments",[])),y=l()(v,"airlineCode",""),b=Object(h.n)(e,p,y);s({type:m.h,passengers:b});var k=o().metadata.getIn(["createAccount","isEnabled"]);return d.e(e),d.a(),d.f(b,t,n).then((function(t){if(t.warnings.ffTierWarning)s({type:m.hf});else if(r()(t.warnings))s({type:m.Od,data:t,route:a}),l()(e,[g.a.ADT1,"createAccount"],!1)&&k&&d.d(P(e)),s(Object(f.c)("URL_UPDATE_HASH",a,i));else{var n=Object(C.b)(t.warnings);s({type:m.if,warnings:n})}s({type:m.Bb})})).catch((function(e){if("HTTPERROR"===e.errorType){var t=Object(C.a)(e.response),n=Object(E.a)(t);s({type:m.Pd,passengersErrors:t,serverValidationErrors:n})}throw e}))}}function N(){return function(e){return e({type:m.hd}),d.b().then((function(t){e({type:m.id,passengers:t.passengers,multiFrequentFlyerData:t.multiFrequentFlyerData,contact:t.contact,businessLoyalty:t.businessLoyalty})})).catch((function(t){var n=v.a[t.errorCode];n&&e(n(t.response))}))}}function w(e,t){var n={};return n[t]=e,function(e){return e({type:m.Df,frequentFlyer:n}),Promise.resolve()}}function A(e,t){return function(n){n({type:m.Jc,rememberMePassengerFirstName:t,passengerId:e})}}function T(){return function(e){e({type:m.Hd,rememberedPassengersInLocalStorage:d.c()})}}function I(e){return function(t,n){var a=n(),r={flightDetails:a.metadata.get("flightDetails"),ancillaryMap:a.metadata.get("ancillaryMap")};return t({type:m.hd}),p.c(e,r).then((function(e){t({type:m.id,passengers:e.passengers,contact:e.contact,multiFrequentFlyerData:e.multiFrequentFlyerData,businessLoyalty:e.businessLoyalty})}))}}function D(){return function(e){e({type:m.Fb})}}function x(e){return function(t){var n=Object(b.b)(e);return t({type:m.Mf,profile:n}),Object(y.c)(n).then((function(e){t({type:m.ne,response:e})})).catch((function(e){throw t({type:m.oe,error:e.response}),e}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.negate=v,t.printIt=k,t.first=P,t.tail=N;var s=t.curry=function e(t){return function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.length>a.length?e(t.bind.apply(t,[null].concat(a))):t.apply(void 0,a)}},o=t.assoc=s((function(e,t,n){return a({},n,i({},e,t))})),l=t.assocPath=s((function(e,t,n){return 0===e.length?t:1===e.length?o(e[0],t,n):a({},n,i({},e[0],l(e.slice(1),t,n[e[0]])))})),c=t.concat=s((function(e,t){e=e||[],t=t||[];for(var n=0,a=[];n<e.length;)a[a.length]=e[n++];for(n=0;n<t.length;)a[a.length]=t[n++];return a})),u=t.prop=s((function(e,t){return t[e]})),d=t.propEq=s((function(e,t,n){return b(t,n[e])})),p=t.eqProps=s((function(e,t,n){return b(t[e],n[e])})),h=t.update=s((function(e,t,n){return e>=0&&e<n.length?[].concat(r(n.slice(0,e)),[t],r(n.slice(e+1))):n})),f=(t.findAndUpdate=s((function(e,t,n){var a=n.findIndex(e);return a>=0?h(a,t,n):n})),t.prepend=s((function(e,t){return c([e],t)}))),m=t.append=s((function(e,t){return c(t,[e])})),g=t.pipe=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return t.reduce((function(e,t){return[t.apply(null,e)]}),arguments)[0]}};function v(e,t){return function(){return!e.apply(t,arguments)}}var y=t.dedupe=s((function(e,t){return e.filter((function(e,n,a){return n===a.findIndex(t.bind(null,e))}))})),b=t.equals=s((function(e,t){return e===t})),C=t.eqBy=s((function(e,t,n){return b(e.call(null,t),e.call(null,n))})),E=t.find=s((function(e,t){return t.find(e)}));function k(e){return console.log("to print",e),e}var O=t.without=s((function(e,t){return t.filter((function(t){return!e.some(b(t))}))})),_=t.startsWith=s((function(e,t){return!!t&&0===t.indexOf(e)}));function P(e){return e[0]}var S=t.head=P;function N(e){return e.slice(1)}var w=t.any=s((function(e,t){return t&&t.some&&"function"==typeof t.some?t.some(e):t.reduce((function(t,n){return t||e(n)}),!1)})),A=t.findIndex=s((function(e,t){if(!t)return-1;for(var n=-1,a=0;a<t.length;a++)if(e(t[a])){n=a;break}return n})),T={any:w,curry:s,assoc:o,assocPath:l,append:m,prepend:f,concat:c,pipe:g,negate:v,dedupe:y,equals:b,eqBy:C,prop:u,propEq:d,eqProps:p,find:E,without:O,update:h,printIt:k,first:P,head:S,tail:N,startsWith:_,findIndex:A};t.default=T},function(e,t){function n(e,t,n){var a,r,i,s,o;function l(){var c=Date.now()-s;c<t&&c>=0?a=setTimeout(l,t-c):(a=null,n||(o=e.apply(i,r),i=r=null))}null==t&&(t=100);var c=function(){i=this,r=arguments,s=Date.now();var c=n&&!a;return a||(a=setTimeout(l,t)),c&&(o=e.apply(i,r),i=r=null),o};return c.clear=function(){a&&(clearTimeout(a),a=null)},c.flush=function(){a&&(o=e.apply(i,r),i=r=null,clearTimeout(a),a=null)},c}n.debounce=n,e.exports=n},function(e,t,n){(function(t){var n=/^\[object .+?Constructor\]$/,a="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();var s,o=Array.prototype,l=Function.prototype,c=Object.prototype,u=i["__core-js_shared__"],d=(s=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",p=l.toString,h=c.hasOwnProperty,f=c.toString,m=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=o.splice,v=P(i,"Map"),y=P(Object,"create");function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function k(e,t){for(var n,a,r=e.length;r--;)if((n=e[r][0])===(a=t)||n!=n&&a!=a)return r;return-1}function O(e){return!(!N(e)||(t=e,d&&d in t))&&(function(e){var t=N(e)?f.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?m:n).test(function(e){if(null!=e){try{return p.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function _(e,t){var n,a,r=e.__data__;return("string"==(a=typeof(n=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function P(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return O(n)?n:void 0}function S(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,a);return n.cache=i.set(r,s),s};return n.cache=new(S.Cache||E),n}function N(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}b.prototype.clear=function(){this.__data__=y?y(null):{}},b.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},b.prototype.get=function(e){var t=this.__data__;if(y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return h.call(t,e)?t[e]:void 0},b.prototype.has=function(e){var t=this.__data__;return y?void 0!==t[e]:h.call(t,e)},b.prototype.set=function(e,t){return this.__data__[e]=y&&void 0===t?"__lodash_hash_undefined__":t,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(e){var t=this.__data__,n=k(t,e);return!(n<0)&&(n==t.length-1?t.pop():g.call(t,n,1),!0)},C.prototype.get=function(e){var t=this.__data__,n=k(t,e);return n<0?void 0:t[n][1]},C.prototype.has=function(e){return k(this.__data__,e)>-1},C.prototype.set=function(e,t){var n=this.__data__,a=k(n,e);return a<0?n.push([e,t]):n[a][1]=t,this},E.prototype.clear=function(){this.__data__={hash:new b,map:new(v||C),string:new b}},E.prototype.delete=function(e){return _(this,e).delete(e)},E.prototype.get=function(e){return _(this,e).get(e)},E.prototype.has=function(e){return _(this,e).has(e)},E.prototype.set=function(e,t){return _(this,e).set(e,t),this},S.Cache=E,e.exports=S}).call(this,n(41))},function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=n(2272),s=n(1),o=n(102);e.exports=function(e){var t=e.displayName||e.name,n=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||!this.__wrappedInstance||"function"!=typeof this.__wrappedInstance.handleClickOutside||this.__wrappedInstance.handleClickOutside(e)}},{key:"render",value:function(){var t=this,n=this.props,r=n.wrappedRef,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(n,["wrappedRef"]);return s.createElement(e,a({},i,{ref:function(e){t.__wrappedInstance=e,t.__domNode=o.findDOMNode(e),r&&r(e)}}))}}]),n}(s.Component);return n.displayName="clickOutside("+t+")",i(n,e)}},function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,s=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var h=s(n);o&&(h=h.concat(o(n)));for(var f=0;f<h.length;++f){var m=h[f];if(!(a[m]||r[m]||d&&d[m])){var g=l(n,m);try{i(t,m,g)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";for(var a=[["Afghanistan ()","af","93","+..-..-...-...."],["land Islands","ax","358",""],["Albania (Shqipri)","al","355","+...(...)...-..."],["Algeria ()","dz","213","+...-..-...-...."],["American Samoa","as","1684","+.(...)...-...."],["Andorra","ad","376","+...-...-..."],["Angola","ao","244","+...(...)...-..."],["Anguilla","ai","1264","+.(...)...-...."],["Antarctica","aq","672",""],["Antigua and Barbuda","ag","1268","+.(...)...-...."],["Argentina","ar","54","+..(...)...-...."],["Armenia ()","am","374","+...-..-...-..."],["Aruba","aw","297","+...-...-...."],["Australia","au","61","+.. ... ... ..."],["Austria (sterreich)","at","43","+..(...)...-...."],["Azerbaijan (Azrbaycan)","az","994","+...-..-...-..-.."],["Bahamas","bs","1242","+.(...)...-...."],["Bahrain ()","bh","973","+...-....-...."],["Bangladesh ()","bd","880","+...-..-...-..."],["Barbados","bb","1246","+.(...)...-...."],["Belarus ()","by","375","+...(..)...-..-.."],["Belgium (Belgi)","be","32","+.. ... .. .. .."],["Belize","bz","501","+...-...-...."],["Benin (Bnin)","bj","229","+...-..-..-...."],["Bermuda","bm","1441","+.(...)...-...."],["Bhutan ()","bt","975","+...-.-...-..."],["Bolivia","bo","591","+...-.-...-...."],["Bosnia and Herzegovina (  )","ba","387","+...-..-...."],["Botswana","bw","267","+...-..-...-..."],["Bouvet Island","bv","47",""],["Brazil (Brasil)","br","55","+..-..-....-...."],["British Indian Ocean Territory","io","246","+...-...-...."],["British Virgin Islands","vg","1284","+.(...)...-...."],["Brunei","bn","673","+...-...-...."],["Bulgaria ()","bg","359","+...(...)...-..."],["Burkina Faso","bf","226","+...-..-..-...."],["Burundi (Uburundi)","bi","257","+...-..-..-...."],["Cambodia ()","kh","855","+...-..-...-..."],["Cameroon (Cameroun)","cm","237","+...-....-...."],["Canada","ca","1","+. (...) ...-....",1,["204","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238","+...(...)..-.."],["Caribbean Netherlands","bq","599","+...-...-....",1],["Cayman Islands","ky","1345","+.(...)...-...."],["Central African Republic (Rpublique centrafricaine)","cf","236","+...-..-..-...."],["Chad (Tchad)","td","235","+...-..-..-..-.."],["Chile","cl","56","+..-.-....-...."],["China ()","cn","86","+.. ..-........"],["Christmas Island","cx","61",""],["Cocos (Keeling) Islands","cc","61",""],["Colombia","co","57","+..(...)...-...."],["Comoros ( )","km","269","+...-..-....."],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243","+...(...)...-..."],["Congo (Republic) (Congo-Brazzaville)","cg","242","+...-..-...-...."],["Cook Islands","ck","682","+...-..-..."],["Costa Rica","cr","506","+... ....-...."],["Cte dIvoire","ci","225","+...-..-...-..."],["Croatia (Hrvatska)","hr","385","+...-..-...-..."],["Cuba","cu","53","+..-.-...-...."],["Curaao","cw","599","+...-...-....",0],["Cyprus ()","cy","357","+...-..-...-..."],["Czech Republic (esk republika)","cz","420","+...(...)...-..."],["Denmark (Danmark)","dk","45","+.. .. .. .. .."],["Djibouti","dj","253","+...-..-..-..-.."],["Dominica","dm","1767","+.(...)...-...."],["Dominican Republic (Repblica Dominicana)","do","1","+.(...)...-....",2,["809","829","849"]],["Ecuador","ec","593","+...-.-...-...."],["Egypt ()","eg","20","+..(...)...-...."],["El Salvador","sv","503","+... ....-...."],["Equatorial Guinea (Guinea Ecuatorial)","gq","240","+...-..-...-...."],["Eritrea","er","291","+...-.-...-..."],["Estonia (Eesti)","ee","372","+...-...-...."],["Ethiopia","et","251","+...-..-...-...."],["Falkland Islands (Islas Malvinas)","fk","500","+...-....."],["Faroe Islands (Froyar)","fo","298","+...-...-..."],["Fiji","fj","679","+...-..-....."],["Finland (Suomi)","fi","358","+... .. .... ...."],["France","fr","33","+.. . .. .. .. .."],["French Guiana (Guyane franaise)","gf","594","+...-.....-...."],["French Polynesia (Polynsie franaise)","pf","689","+...-..-..-.."],["French Southern and Antarctic Lands","tf","262",""],["Gabon","ga","241","+...-.-..-..-.."],["Gambia","gm","220","+...(...)..-.."],["Georgia ()","ge","995","+...(...)...-..."],["Germany (Deutschland)","de","49","+.. ... ......."],["Ghana (Gaana)","gh","233","+...(...)...-..."],["Gibraltar","gi","350","+...-...-....."],["Greece ()","gr","30","+..(...)...-...."],["Greenland (Kalaallit Nunaat)","gl","299","+...-..-..-.."],["Grenada","gd","1473","+.(...)...-...."],["Guadeloupe","gp","590","",0],["Guam","gu","1671","+.(...)...-...."],["Guatemala","gt","502","+... ....-...."],["Guernsey","gg","44",""],["Guinea (Guine)","gn","224","+...-..-...-..."],["Guinea-Bissau (Guin Bissau)","gw","245","+...-.-......"],["Guyana","gy","592","+...-...-...."],["Haiti","ht","509","+... ....-...."],["Heard Island and McDonald Islands","hm","672",""],["Honduras","hn","504","+...-....-...."],["Hong Kong ()","hk","852","+... .... ...."],["Hungary (Magyarorszg)","hu","36","+..(...)...-..."],["Iceland (sland)","is","354","+... ... ...."],["India ()","in","91","+.. .....-....."],["Indonesia","id","62","+..-..-...-.."],["Iran ()","ir","98","+..(...)...-...."],["Iraq ()","iq","964","+...(...)...-...."],["Ireland","ie","353","+... .. ......."],["Isle of Man","im","44",""],["Israel ()","il","972","+...-.-...-...."],["Italy (Italia)","it","39","+.. ... ......",0],["Jamaica","jm","1876","+.(...)...-...."],["Japan ()","jp","81","+.. ... .. ...."],["Jersey","je","44",""],["Jordan ()","jo","962","+...-.-....-...."],["Kazakhstan ()","kz","7","+. ... ...-..-..",1],["Kenya","ke","254","+...-...-......"],["Kiribati","ki","686","+...-..-..."],["Kosovo","xk","383",""],["Kuwait ()","kw","965","+...-....-...."],["Kyrgyzstan ()","kg","996","+...(...)...-..."],["Laos ()","la","856","+...-..-...-..."],["Latvia (Latvija)","lv","371","+...-..-...-..."],["Lebanon ()","lb","961","+...-.-...-..."],["Lesotho","ls","266","+...-.-...-...."],["Liberia","lr","231","+...-..-...-..."],["Libya ()","ly","218","+...-..-...-..."],["Liechtenstein","li","423","+...(...)...-...."],["Lithuania (Lietuva)","lt","370","+...(...)..-..."],["Luxembourg","lu","352","+...(...)...-..."],["Macau ()","mo","853","+...-....-...."],["Macedonia (FYROM) ()","mk","389","+...-..-...-..."],["Madagascar (Madagasikara)","mg","261","+...-..-..-....."],["Malawi","mw","265","+...-.-....-...."],["Malaysia","my","60","+.. ..-....-...."],["Maldives","mv","960","+...-...-...."],["Mali","ml","223","+...-..-..-...."],["Malta","mt","356","+...-....-...."],["Marshall Islands","mh","692","+...-...-...."],["Martinique","mq","596","+...(...)..-..-.."],["Mauritania ()","mr","222","+...-..-..-...."],["Mauritius (Moris)","mu","230","+...-...-...."],["Mayotte","yt","262",""],["Mexico (Mxico)","mx","52","+..-..-..-...."],["Micronesia","fm","691","+...-...-...."],["Moldova (Republica Moldova)","md","373","+...-....-...."],["Monaco","mc","377","+...-..-...-..."],["Mongolia ()","mn","976","+...-..-..-...."],["Montenegro (Crna Gora)","me","382","+...-..-...-..."],["Montserrat","ms","1664","+.(...)...-...."],["Morocco ()","ma","212","+...-..-....-..."],["Mozambique (Moambique)","mz","258","+...-..-...-..."],["Myanmar (Burma) ()","mm","95","+..-...-..."],["Namibia (Namibi)","na","264","+...-..-...-...."],["Nauru","nr","674","+...-...-...."],["Nepal ()","np","977","+...-..-...-..."],["Netherlands (Nederland)","nl","31","+.. .. ........"],["New Caledonia (Nouvelle-Caldonie)","nc","687","+...-..-...."],["New Zealand","nz","64","+.. ...-...-...."],["Nicaragua","ni","505","+...-....-...."],["Niger (Nijar)","ne","227","+...-..-..-...."],["Nigeria","ng","234","+...-..-...-.."],["Niue","nu","683","+...-...."],["Norfolk Island","nf","672","+...-...-..."],["North Korea (   )","kp","850","+...-...-..."],["Northern Mariana Islands","mp","1670","+.(...)...-...."],["Norway (Norge)","no","47","+.. ... .. ..."],["Oman ()","om","968","+...-..-...-..."],["Pakistan ()","pk","92","+.. ...-......."],["Palau","pw","680","+...-...-...."],["Palestine ()","ps","970","+...-..-...-...."],["Panama (Panam)","pa","507","+...-...-...."],["Papua New Guinea","pg","675","+...(...)..-..."],["Paraguay","py","595","+...(...)...-..."],["Peru (Per)","pe","51","+..(...)...-..."],["Philippines","ph","63","+.. ... ...."],["Pitcairn Islands","pn","64",""],["Poland (Polska)","pl","48","+.. ...-...-..."],["Portugal","pt","351","+...-..-...-...."],["Puerto Rico","pr","1","+. (...) ...-....",3,["787","939"]],["Qatar ()","qa","974","+...-....-...."],["Runion (La Runion)","re","262","+...-.....-...."],["Romania (Romnia)","ro","40","+..-..-...-...."],["Russia ()","ru","7","+. ... ...-..-..",0],["Rwanda","rw","250","+...(...)...-..."],["Saint Barthlemy (Saint-Barthlemy)","bl","590","",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869","+.(...)...-...."],["Saint Lucia","lc","1758","+.(...)...-...."],["Saint Martin (Saint-Martin (partie franaise))","mf","590","",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784","+.(...)...-...."],["Samoa","ws","685","+...-..-...."],["San Marino","sm","378","+...-....-......"],["So Tom and Prncipe (So Tom e Prncipe)","st","239","+...-..-....."],["Saudi Arabia (  )","sa","966","+...-.-...-...."],["Senegal (Sngal)","sn","221","+...-..-...-...."],["Serbia ()","rs","381","+...-..-...-...."],["Seychelles","sc","248","+...-.-...-..."],["Sierra Leone","sl","232","+...-..-......"],["Singapore","sg","65","+.. ....-...."],["Sint Maarten","sx","1721","+.(...)...-...."],["Slovakia (Slovensko)","sk","421","+...(...)...-..."],["Slovenia (Slovenija)","si","386","+...-..-...-..."],["Solomon Islands","sb","677","+...-....."],["Somalia (Soomaaliya)","so","252","+...-.-...-..."],["South Africa","za","27","+..-..-...-...."],["South Georgia and the South Sandwich Islands","gs","500",""],["South Korea ()","kr","82","+..-..-...-...."],["South Sudan ( )","ss","211","+...-..-...-...."],["Spain (Espaa)","es","34","+.. ... ... ..."],["Sri Lanka ( )","lk","94","+..-..-...-...."],["Sudan ()","sd","249","+...-..-...-...."],["Suriname","sr","597","+...-...-..."],["Svalbard and Jan Mayen","sj","47",""],["Swaziland","sz","268","+...-..-..-...."],["Sweden (Sverige)","se","46","+.. .. ... .. .."],["Switzerland (Schweiz)","ch","41","+.. .. ... .. .."],["Syria ()","sy","963","+...-..-....-..."],["Taiwan ()","tw","886","+...-....-...."],["Tajikistan","tj","992","+...-..-...-...."],["Tanzania","tz","255","+...-..-...-...."],["Thailand ()","th","66","+..-..-...-..."],["Timor-Leste","tl","670","+...-...-...."],["Togo","tg","228","+...-..-...-..."],["Tokelau","tk","690","+...-...."],["Tonga","to","676","+...-....."],["Trinidad and Tobago","tt","1868","+.(...)...-...."],["Tunisia ()","tn","216","+...-..-...-..."],["Turkey (Trkiye)","tr","90","+.. ... ... .. .."],["Turkmenistan","tm","993","+...-.-...-...."],["Turks and Caicos Islands","tc","1649","+.(...)...-...."],["Tuvalu","tv","688","+...-....."],["U.S. Virgin Islands","vi","1340","+.(...)...-...."],["Uganda","ug","256","+...(...)...-..."],["Ukraine ()","ua","380","+...(..)...-..-.."],["United Arab Emirates (  )","ae","971","+...-.-...-...."],["United Kingdom","gb","44","+.. .... ......"],["United States","us","1","+. (...) ...-....",0],["United States Minor Outlying Islands","um","1","",2],["Uruguay","uy","598","+...-.-...-..-.."],["Uzbekistan (Ozbekiston)","uz","998","+...-..-...-...."],["Vanuatu","vu","678","+...-....."],["Vatican City (Citt del Vaticano)","va","39","+.. .. .... ....",1],["Venezuela","ve","58","+..(...)...-...."],["Vietnam (Vit Nam)","vn","84","+..-..-....-..."],["Wallis and Futuna","wf","681","+...-..-...."],["Western Sahara","eh","212","+...-..-...."],["Yemen ()","ye","967","+...-.-...-..."],["Zambia","zm","260","+...-..-...-...."],["Zimbabwe","zw","263","+...-.-......"]],r={},i={},s=function(e,t,n){t in r||(r[t]=[]);var a=n||0;r[t][a]=e},o=0;o<a.length;o++){var l=a[o];if(a[o]={name:l[0],iso2:l[1],dialCode:l[2],priority:l[4]||0},l[3]&&(a[o].format=l[3]),l[5]){a[o].hasAreaCodes=!0;for(var c=0;c<l[5].length;c++){var u=l[2]+l[5][c];s(l[1],u)}}i[a[o].iso2]=o,s(l[1],l[2],l[4])}e.exports={allCountries:a,iso2Lookup:i,allCountryCodes:r}},,,,,function(e,t,n){var a=n(785)((function(e,t){return e/t}),1);e.exports=a},function(e,t,n){"use strict";var a=n(2037);n.d(t,"a",(function(){return a.a}))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(1988),r=n(1566),i=n(416),s="dxp-cancel-flight-payment-view",o="travel-bank-sign-in",l="travel-bank-create-account";a.b,r.g,i.c,i.b,i.a},function(e,t,n){"use strict";var a=n(2119);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={SUCCESS:"success",NEUTRAL:"neutral"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(82),r=n.n(a),i=function(){return!r()(window.print)}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(12)),s=n(136),o=n(88),l=n(331);t.a=function(e){var t=e.failureReason,n=e.onCancelClick,a=e.onSignOutClick;return r.a.createElement(s.a,{onCloseClick:n},r.a.createElement("h2",null,Object(i.a)("tripManager.error")),r.a.createElement("p",null,Object(i.a)("tripManager.errors.".concat(t))),r.a.createElement("div",{className:"pull-right"},t===l.e&&r.a.createElement(o.a,{className:"primary small",onClick:a},Object(i.i)("app.signOut")),r.a.createElement(o.a,{className:"secondary small",onClick:n},Object(i.i)("app.cancel"))))}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(12)),s=n(136),o=n(319),l=n(88);t.a=function(e){var t=e.tripOption,n=e.onModalClose,a=e.onProceedClick;return r.a.createElement(s.a,{onCloseClick:function(){return n()}},r.a.createElement(o.a,{className:"confirm-action-warning",type:"warning",title:"Warning"},r.a.createElement("div",{className:"message-body-left"},t.warningReasons.map((function(e){return r.a.createElement("p",{key:e},Object(i.a)("tripManager.confirm.".concat(e,".").concat(t.name.toLowerCase())),". ")})))),r.a.createElement("div",{className:"pull-right"},r.a.createElement(l.a,{className:"primary small",onClick:function(){return a()}},Object(i.a)("tripManager.confirm.proceed"))))}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return d}));var a="PRINT",r="ADD_TO_CALENDAR",i="SAVE_AS_PDF",s="VIEW_FARE_RULES",o="DASHBOARD",l="CANCEL_UPGRADE",c="VIEW_IN_TRIP_CASE",u="CHECK_IN",d="UPGRADE"},,function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(12),s=n(319);t.a=function(e){var t=e.errorCode,n=void 0===t?"genericError":t;return r.a.createElement(s.a,{type:"error",title:"cancelFlight.".concat(n,".title")},Object(i.a)("cancelFlight.".concat(n,".description")))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(3),r=n.n(a),i=n(42),s=n(1593),o=n(1892),l=n(438);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("ancillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},d=function(e){return e.metadata.getIn(["flows","bnpl"])},p=function(e){return e.bnplAncillaries.get("isLoading")},h=function(e){return e.bnplAncillaries.get("isAncillaries")},f=function(e){return e.bnplAncillaries.get("ancillaries")},m=function(e){return e.bnplAncillaries.get("sortedCodes")},g=function(e){return e.bnplAncillaries.get("passengers")},v=function(e){return e.bnplAncillaries.get("itinerary")},y=function(e){return e.bnplAncillaries.get("numberOfChildrenTravellers")},b=function(e){return e.bnplAncillaries.get("ancillaryCode")},C=function(e){return e.bnplAncillaries.get("error")},E=function(e){return e.bnplAncillaries.get("ancillariesAvailable")};function k(){return Object(i.b)({ancillariesConfiguration:u,flightIds:Object(s.a)(),journeyType:Object(o.a)(),flowConfiguration:d,isLoading:p,isAncillaries:h,ancillaries:f,sortedCodes:m,passengers:g,itinerary:v,numberOfChildrenTravellers:y,ancillaryCode:b,error:C,ancillariesAvailable:E,cancelProps:l.b})}},,function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),i=(n(6),n(12)),s=n(319);function o(t){var n=t.isAutologinEnabled;e.scrollTo(0,0);var a=n?"createProfile.createProfileWithAutoLoginDescription":"createProfile.createProfileWithOutAutoLoginDescription";return r.a.createElement(s.a,{type:"success",title:"createProfile.successMessage"},Object(i.a)(a))}o.defaultProps={isAutologinEnabled:!1},t.a=o}).call(this,n(41))},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(6),l=(n(194),n(50)),c=n(12),u=n(1371),d=n(1997),p=n(11),h=n(1566),f=n(57),m=n.n(f),g=n(26),v=n.n(g),y=n(22),b=n.n(y),C=n(29),E=n.n(C),k=n(28),O=n.n(k),_=n(30),P=n.n(_),S=n(3),N=n.n(S),w=n(195),A=n(1249),T=n(2202),I=n(63),D=(n(2472),function(e){function t(){return v()(this,t),E()(this,O()(t).apply(this,arguments))}return P()(t,e),b()(t,[{key:"renderCarTotalPrice",value:function(){var e=this.props.selectedCarOffer.getIn(["pricedCar","rentalRate","estimatedTotal","amount"]),t=this.props.selectedCarOffer.getIn(["pricedCar","rentalRate","estimatedTotal","currency"]);return s.a.createElement(A.a,{includeDecimal:!0,className:"dxp-car-hire-summary-price",price:[[{amount:e,currency:t}]]})}},{key:"render",value:function(){var e=this.props,t=e.selectedCarOffer,n=e.dateFormat,a=t.getIn(["pickUpLocation","name"]),r=t.getIn(["dropOffLocation","name"]),i=t.get("pickUpDateTime"),o=t.get("dropOffDateTime"),l=t.getIn(["vendorInfo","name"],"").toLowerCase(),c=t.getIn(["pricedCar","carInfoModel","vehicleSize"],"other").toLowerCase(),u=t.getIn(["pricedCar","carInfoModel","imageLink"]),d=t.getIn(["pricedCar","carInfoModel","model"]),p=Object(w.a)(this.props.isAuthorable,"selectedCarSummary");return s.a.createElement("div",m()({className:"dxp-payment-trip-summary-selected-car-offer",role:"region"},p,{"data-test-id":h.b}),s.a.createElement("div",{className:"selected-car-offer-details"},s.a.createElement("div",{className:"car-offer-photo"},s.a.createElement("img",{alt:d,src:u||Object(I.a)("images/cars/".concat(c,".png"))})),s.a.createElement("div",{className:"dxp-shopping-cart-container-selected-car-details"},s.a.createElement("div",{className:"car-offer"},s.a.createElement("div",{className:"car-offer-description"},s.a.createElement("h3",{className:"car-offer-header"},s.a.createElement("img",{className:"car-provider",alt:l,src:Object(I.a)("images/cars/vendors/".concat(l,".png"))}),s.a.createElement("span",{className:"car-offer-header-title"},d)),s.a.createElement(T.a,{pickUpLocation:a,dropOffLocation:r,pickUpDateTime:i,dropOffDateTime:o,carLocationDateFormat:n}))))),s.a.createElement("div",{className:"car-offer-details-summary"},this.context.translateWithComponents("car.selectedOffer.summary",{price:this.renderCarTotalPrice()})))}}]),t}(i.Component));N()(D,"contextTypes",{translateWithComponents:o.func.isRequired}),N()(D,"defaultProps",{isAuthorable:!0});var x=D,j=n(17),L=n.n(j);n(2473);var F=function(e){var t=e.selectedHotel,n=e.dateFormat,a=t.get("hotelName"),r=t.getIn(["address","street"]),i=t.getIn(["address","city"]),o=L()(t.get("checkinDate")),l=L()(t.get("checkoutDate")),u=t.getIn(["hotelRoomType","rooms"],Object(p.List)()).size;return s.a.createElement("div",{className:"dxp-payment-trip-summary-selected-hotel",role:"region","data-test-id":h.d},s.a.createElement("div",{className:"selected-hotel-image"},s.a.createElement("img",{className:"hotel-provider",alt:a,src:Object(I.a)("images/hotels/hotel.jpg")})),s.a.createElement("div",{className:"selected-hotel-details"},s.a.createElement("div",{className:"hotel-information"},s.a.createElement("h3",null,s.a.createElement("span",{className:"hotel-name"},a)),s.a.createElement("div",{className:"hotel-address"},s.a.createElement("span",null,"".concat(r,", ").concat(i)))),s.a.createElement("div",{className:"hotel-stay-details"},s.a.createElement("span",{className:"hotel-stay-info"},s.a.createElement("div",null,s.a.createElement("span",null,"".concat(Object(c.i)("cart.hotel.breakdown.checkinDate"),": ").concat(o.format(n)))),s.a.createElement("div",null,s.a.createElement("span",null,"".concat(Object(c.i)("cart.hotel.breakdown.checkoutDate"),": ").concat(l.format(n))))),s.a.createElement("div",{className:"hotel-rooms"},"".concat(Object(c.i)("cart.hotel.breakdown.numberOfRooms")," ").concat(u)))))},B=n(36),R=n.n(B),M=n(27),V=n.n(M),U=n(5),q=n.n(U),H=n(1945),W=n(146),G=n(321),K=n.n(G),z=n(2),Y=n.n(z),Q=n(2145),X=n(1601),J=n(1419),$=function(e){function t(e){var n;return v()(this,t),(n=E()(this,O()(t).call(this,e))).state={expanded:!1},n}return P()(t,e),b()(t,null,[{key:"renderOperatedBy",value:function(e,t){return q()(e,(function(e,n){return s.a.createElement(X.a,{key:"airline-".concat(n),segment:e,tag:"li",operatedBy:t})}))}}]),b()(t,[{key:"formatStops",value:function(){var e=this.props.flight;return e.stops>=1?s.a.createElement("span",{className:"stop-details"},s.a.createElement("span",{className:"circle"},e.stops),1===e.stops?Object(c.a)("flightSelected.stop"):Object(c.a)("flightSelected.stops")):s.a.createElement("span",{className:"stop-details"},Object(c.a)("flightSelected.nonStop"))}},{key:"handleViewDetailsEvent",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.selectedBrand,r=n.flight,i=n.index,o=n.segments,u=n.flightHeader,d=n.flightDetails,p=n.defaultDateFormat,h=n.iropDateFormat,f=n.header,m=d.operatedBy,g=Y()(a)?Object(c.a)("cabin.".concat(r.cabinClass.toLowerCase())):Object(c.a)("brand.".concat(a)),v=K()("".concat(u,"-details"));return s.a.createElement("div",{className:"dxp-payment-trip-summary-flight-details dxp-panel",key:"flight-info-payment-trip-summary-".concat(i)},s.a.createElement("div",{className:"itinerary-part-header",id:v},s.a.createElement("div",{className:"flight-direction",id:u},f),s.a.createElement("div",{className:"flight-date"},r.departure.format("ddd, MMM Do"))),s.a.createElement("div",{className:"flight-summary-row"},s.a.createElement("div",{className:"itinerary-part"},s.a.createElement("div",{className:"column flight-data"},s.a.createElement("div",{className:"origin-data"},s.a.createElement("span",{className:"time"},r.departure.format(p)),s.a.createElement("div",{className:"airport"},s.a.createElement("div",{className:"airport-code"},r.origin),s.a.createElement("span",{className:"airport-name"},Object(c.a)("airports.".concat(r.origin))))),s.a.createElement(l.c,{name:l.a.ARROW_BASIC_RIGHT,className:"arrow"}),s.a.createElement("div",{className:"destination-data"},s.a.createElement("span",{className:"time"},r.arrival.format(p)),s.a.createElement("div",{className:"airport"},s.a.createElement("div",{className:"airport-code"},r.destination),s.a.createElement("span",{className:"airport-name"},Object(c.a)("airports.".concat(r.destination)))))),s.a.createElement("div",{className:"column duration-stops"},s.a.createElement(J.a,{duration:L.a.duration(r.duration,"minutes")}),this.formatStops())),s.a.createElement("div",{className:"column cabin-class"},g)),s.a.createElement("div",{className:"operating-airlines"},s.a.createElement("ul",{className:"flight-operated-by-list"},t.renderOperatedBy(o,m))),s.a.createElement("button",{type:"button",className:"dxp-borderless-button view-details",onClick:function(){return e.handleViewDetailsEvent()},"aria-describedby":v,"aria-expanded":this.state.expanded},s.a.createElement("span",{className:"text"},Object(c.a)(this.state.expanded?"flightSelection.hideDetails":"flightSelection.viewDetails")),s.a.createElement(l.c,{name:this.state.expanded?l.a.ARROW_TRIANGLE_UP:l.a.ARROW_TRIANGLE_DOWN,fill:!0,size:"sm"})),this.state.expanded&&[s.a.createElement("hr",{key:"divider"}),s.a.createElement("div",{className:"flight-segment-details dxp-panel",key:"details",id:"".concat(u,"-details")},s.a.createElement(Q.a,{flight:r,configuration:d,defaultDateFormat:p,iropDateFormat:h}))])}}]),t}(i.Component);N()($,"defaultProps",{selectedBrand:""});n(2474);var Z=function(e){function t(){return v()(this,t),E()(this,O()(t).apply(this,arguments))}return P()(t,e),b()(t,[{key:"getFlightHeader",value:function(e){return Object(W.n)(this.props.searchCriteria)?Object(c.i)("summaryBar.flight",{index:e+1}):Object(c.i)("summaryBar.direction[".concat(e,"]"))}},{key:"getHeader",value:function(e,t){if(Object(W.n)(this.props.searchCriteria)){var n=Object(c.a)("airports.".concat(R()(e.segments).destination));return s.a.createElement("span",{className:"flight-title",key:"selected-flight-header-".concat(t)},s.a.createElement(l.c,{className:"icon",name:l.a.AIRPLANE_DEPART})," ",t+1," ",n)}return Object(c.a)("summaryBar.direction[".concat(t,"]"))}},{key:"createFlightObjectForEachItineraryPart",value:function(e,t){var n=V()(e.segments),a=R()(e.segments);return{departure:L()(n.departure),arrival:L()(a.arrival),cabinClass:n.cabinClass||this.props.searchCriteria.cabinClass,destination:a.destination,origin:n.origin,index:t,duration:e.totalDuration,stops:e.stops,segments:e.segments,bookingClass:n.bookingClass}}},{key:"render",value:function(){var e=this,t=this.props,n=t.shoppingCart,a=t.flightDetails,i=t.defaultDateFormat,o=t.iropDateFormat,l=t.flightsDateFormat,c=t.searchCriteria,u=r()(n,"data.itinerary",{}),d=r()(u,"itineraryParts",{}),p=r()(n,"data.selectedBrands",[]),h=["",p[0]],f=q()(d,(function(t,n){var u=e.getHeader(t,n),d=e.createFlightObjectForEachItineraryPart(t,n),f=e.getFlightHeader(n);return s.a.createElement("div",{key:"selected-flight-".concat(n)},s.a.createElement($,{selectedBrand:r()(c,"exchangeType")===H.a.INBOUND?h[n]:p[n],flight:d,index:n,header:u,segments:t.segments,flightsDateFormat:l,flightHeader:f,flightDetails:a,defaultDateFormat:i,iropDateFormat:o}))}));return s.a.createElement("div",{className:"dxp-payment-trip-summary-selected-flights",role:"region"},s.a.createElement("div",{className:"itinerary-segments"},f))}}]),t}(i.Component);N()(Z,"contextTypes",{metadata:Object(o.shape)({})});n(2475);function ee(e,t,n){var a="payment-passenger-".concat(t),r=e.get("passengerDetails",Object(p.Map)()),i=e.get("passengerInfo");return s.a.createElement("li",{id:a,key:a},s.a.createElement("span",{className:"passenger-name"},function(e){var t=e.reduce((function(e,t,n){return e[n]="".concat(t," "),e}),{prefix:"",firstName:"",middleName:"",maidenName:"",lastName:"",suffix:""});return Object(c.a)("shoppingCart.fullName",t)}(r)),s.a.createElement("span",{className:"passenger-type"},Object(c.a)("passengerType.codes.".concat(i.get("type"))),s.a.createElement("span",{className:"passenger-index"},n[t].substring(1))))}function te(e){var t=e.passengers,n=e.passengerTypeCount;return s.a.createElement("div",{className:"passenger-list"},s.a.createElement("div",{className:"dxp-payment-trip-summary-passenger-list"},s.a.createElement("ul",{className:"passenger-list"},t.map((function(e,t){return ee(e,t,n)})))))}te.defaultProps={passengers:Object(p.List)(),passengerTypeCount:[""]};var ne=te;n(2476);function ae(e){var t=e.shoppingCart,n=e.flightDetails,a=e.tripSummary,i=e.searchCriteria,o=e.defaultDateFormat,p=e.longDateFormat,f=e.iropDateFormat,m=e.selectedCarOffer,g=e.selectedHotel,v=e.showSelectedFlights,y=e.showTravelExtras,b=e.showSelectedCarOffer,C=e.showSelectedHotel,E=e.showPassengerList,k=e.passengers,O=e.id,_=a.flightsDateFormat;return s.a.createElement(u.a,{className:"dxp-payment-trip-summary",iconSize:"md",title:Object(c.a)("payment.tripSummary"),iconName:l.a.DOCUMENT,isExpanded:r()(a,"expanded",!1),titleTag:"h3",id:"accordion-payment-trip-summary"},s.a.createElement("ul",{className:"trip-summary-list"},v&&s.a.createElement(d.a,{iconName:l.a.AIRPLANE,name:Object(h.c)(O),title:Object(c.i)("shoppingCart.selectedFlights"),isExpanded:r()(a,"selectedFlights.expanded",!1)},s.a.createElement(Z,{searchCriteria:i,shoppingCart:t,flightDetails:n,defaultDateFormat:o,iropDateFormat:f,flightsDateFormat:_})),E&&s.a.createElement(d.a,{name:Object(h.a)(O),iconName:l.a.USER,title:Object(c.i)("shoppingCart.passengers"),isExpanded:r()(a,"passengers.expanded",!1)},s.a.createElement(ne,{passengers:k,passengerTypeCount:r()(t,"data.passengerTypeCount")})),y&&s.a.createElement(d.a,{iconName:l.a.MONEY,name:Object(h.e)(O),title:Object(c.i)("shoppingCart.travelExtras.carsAndHotels"),isExpanded:r()(a,"travelExtras.expanded",!1)},b&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title"},Object(c.i)("shoppingCart.travelExtras.carHire")),s.a.createElement(x,{selectedCarOffer:m,dateFormat:p})),C&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title"},Object(c.i)("shoppingCart.travelExtras.selectedHotel")),s.a.createElement(F,{selectedHotel:g,dateFormat:p})))))}ae.defaultProps={flightDetails:{},passengers:Object(p.List)(),defaultDateFormat:void 0,longDateFormat:void 0,iropDateFormat:void 0,selectedCarOffer:Object(p.Map)(),selectedHotel:Object(p.Map)(),showSelectedFlights:!1,showPassengerList:!1,showTravelExtras:!1,showSelectedCarOffer:!1,showSelectedHotel:!1,id:void 0};var re=ae;n.d(t,"a",(function(){return re}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(35),y=n.n(v),b=n(16),C=n.n(b),E=n(15),k=n.n(E),O=n(82),_=n.n(O),P=n(21),S=n.n(P),N=n(2),w=n.n(N),A=n(122),T=n.n(A),I=n(5),D=n.n(I),x=n(0),j=n.n(x),L=(n(6),n(1)),F=n.n(L),B=(n(194),n(50)),R=n(12),M=n(2204),V=(n(1290),n(88)),U=(n(2976),function(e){var t=e.isCardVerificationEnabled,n=e.isPaymentMode,a=void 0!==n&&n,r=e.displayCVV,i=void 0===r||r;return F.a.createElement("tr",{className:"profile-credit-cards-header row"},F.a.createElement("th",{className:"column",scope:"col"},Object(R.a)("profile.billingInformation.creditCard.cardNumber")),F.a.createElement("th",{className:"column",scope:"col"},Object(R.a)("profile.billingInformation.creditCard.nameOnCard"),a&&F.a.createElement("span",null,"/".concat(Object(R.i)("profile.billingInformation.billingAddress")))),F.a.createElement("th",{className:"column",scope:"col"},Object(R.a)("profile.billingInformation.creditCard.expiration")),t&&i&&F.a.createElement("th",{className:"column",scope:"col"},Object(R.a)("profile.billingInformation.creditCard.cvv")),F.a.createElement("th",{className:"column",scope:"col"},Object(R.a)("profile.billingInformation.creditCard.actions")))});U.defaultProps={isCardVerificationEnabled:!1,isPaymentMode:!1,displayCVV:!0};var q=U,H=n(51),W=n.n(H),G=n(83),K=n.n(G),z=n(1914),Y=n.n(z),Q=n(17),X=n.n(Q),J=n(39),$=n.n(J),Z=n(2080),ee=n(1289),te=n(582),ne=n(153),ae=(n(2977),function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"handleDeleteButtonClicked",(function(e){e.preventDefault(),e.stopPropagation();var t=n.props,a=t.creditCard,r=t.index,i=t.address,s=i.street1,o=i.street2,l=i.postcode,c=i.state,u=i.city,d=i.country;n.props.onCreditCardDelete({creditCard:a,index:r,billingData:{street1:s,street2:o,city:u,country:d,postcode:l,state:c}})})),g()(p()(n),"handleEditButtonClicked",(function(e){n.props.onCreditCardEdit(e)})),g()(p()(n),"handleSelectButtonClicked",(function(e){e.preventDefault();var t=n.props,a=t.creditCard,r=t.onCreditCardSelect,i=t.address,s=i.street1,o=i.street2,l=i.postcode,c=i.state,u=i.city,d=i.country,p=n.cvc?{cvc:n.cvc.getValue()}:{},h=C()({},a,p);n.cvc&&n.cvc.clear(),n.setState({isSelectDisabled:!0}),r({creditCardDetails:h,billingData:{street1:s,street2:o,city:u,country:d,zipCode:l,province:c}})})),n.state={isSelectDisabled:e.isCVVEnabled},n.editButton=F.a.createRef(),n.useAnotherButton=F.a.createRef(),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.isSelectedCard&&W()(this,"useAnotherButton.current.focus")}},{key:"onCVVChange",value:function(){this.cvc.hasCompletedEntering()&&this.cvc.isValid()?this.setState({isSelectDisabled:!1}):this.state.isSelectDisabled||this.setState({isSelectDisabled:!0})}},{key:"getActionButtons",value:function(e,t){var n=this.props,a=n.isPaymentMode,r=n.isValidForPayment,i=n.isSelectedCard,s=n.changeSelectedCard,o=this.state.isSelectDisabled,l=r&&t;return i?F.a.createElement("div",{className:"action-buttons"},a?F.a.createElement(V.a,{ref:this.useAnotherButton,className:"secondary small selectedCard",onClick:s,disabled:!l||e&&o},Object(R.a)("profile.billingInformation.creditCard.useAnotherCard")):F.a.createElement(V.a,{className:"secondary small",onClick:this.handleDeleteButtonClicked},Object(R.a)("profile.billingInformation.creditCard.delete"))):F.a.createElement("div",{className:"action-buttons"},F.a.createElement(V.a,{ref:this.editButton,className:"secondary small","aria-expanded":this.props.editPanelOpen,onClick:this.handleEditButtonClicked},Object(R.a)("profile.billingInformation.creditCard.edit")),a?F.a.createElement(V.a,{className:"secondary small",onClick:this.handleSelectButtonClicked,disabled:!l||e&&o},Object(R.a)("profile.billingInformation.creditCard.select")):F.a.createElement(V.a,{className:"secondary small",onClick:this.handleDeleteButtonClicked},Object(R.a)("profile.billingInformation.creditCard.delete")))}},{key:"focusEditButton",value:function(){j()(this,"editButton.current")&&W()(this,"editButton.current.focus")}},{key:"render",value:function(){var e=this,t=this.props,n=t.creditCard,a=t.isPaymentMode,r=t.configuration,i=t.isCVVEnabled,s=t.cvvValidators,o=t.isSelectedCard,l=t.index,c=j()(r,"paymentFormValidation"),u=k()(K()(r.cardTypes),{name:n.cardCode}),d=function(e,t){var n=j()(t,"paymentFormValidation.expirationDate.validators",[]),a=j()(t,"paymentFormValidation.expirationDate.dateFormat"),r=X()(e).format(a);return Object(ne.e)(n,r,a).isValid}(n.expirationDate,r),p=$()("".concat(n.cardCode,"-card"),"credit-card-image"),h=!o&&i&&d&&u.cvc,f=h?function(e){return{cvcMask:new RegExp(e.cvc).exec(te.d)[0],cvcValidators:[{name:"matches",error:"payment.validation.cvc.incorrectFormat",options:e.cvc}]}}(u):{cvcMask:"",cvcValidators:[]},m=f.cvcMask,g=f.cvcValidators;return F.a.createElement("tr",{className:"credit-card-summary-row"},F.a.createElement("td",{"data-label":Object(R.i)("profile.billingInformation.creditCard.cardNumber"),className:"name detail"},F.a.createElement("div",{className:"number-container"},F.a.createElement("span",{title:Object(R.i)("card.".concat(n.cardCode)),className:p}),n.number.slice(-4))),F.a.createElement("td",{"data-label":Object(R.i)("profile.billingInformation.creditCard.nameOnCard"),className:"owner detail"},F.a.createElement("div",{className:"name-container"},F.a.createElement("p",{className:"name"},n.holderName))),F.a.createElement("td",{"data-label":Object(R.i)("profile.billingInformation.creditCard.expiration"),className:"exp detail"},n.expirationDate,!d&&F.a.createElement("span",{className:"error"},Object(R.a)("payment.validation.exp.expired"))),a&&!o&&F.a.createElement("td",{"data-label":Object(R.i)("profile.billingInformation.creditCard.cvv"),className:"cvv detail"},h&&F.a.createElement(Z.a,{ref:function(t){e.cvc=t},keyProp:"cvc-".concat(l),mask:m,label:Object(ee.d)("cvc",c,{},"payment.creditCard"),className:"cvc",defaultValue:"",disabled:!(i&&this.props.isValidForPayment),useLabelFeedback:r.useLabelFeedback,validators:Y()(g,s,"name"),onChange:function(){return e.onCVVChange()},inputType:"tel"})),F.a.createElement("td",{className:"actions detail"},this.getActionButtons(h,d)))}}]),t}(L.Component));g()(ae,"defaultProps",{isCVVEnabled:!1,isValidForPayment:!1,configuration:{},address:{},onCreditCardSelect:T.a,onCreditCardDelete:T.a,editPanelOpen:!1,index:0,isSelectedCard:!1,changeSelectedCard:T.a});var re=n(154),ie=n(1376),se=n(524),oe=n(2629),le=n(528),ce=n(1439),ue=(n(2988),n(2989),function(e){var t=e.creditCard,n=e.onCloseDeleteConfirmModal,a=e.onDeleteConfirmation,r=$()("".concat(t.cardCode,"-card"),"credit-card-image");return F.a.createElement(ce.a,{className:"credit-card-delete",onClose:n},F.a.createElement("div",null,F.a.createElement("h3",null,Object(R.a)("profile.billingInformation.creditCard.delete")),F.a.createElement("div",{className:"delete-confirmation-text"},Object(R.a)("profile.billingInformation.creditCard.deleteConfirmation")),F.a.createElement("div",{className:"credit-card-image-number"},F.a.createElement("span",{title:Object(R.i)("card.".concat(t.cardCode)),className:r}),F.a.createElement("div",{className:"credit-card-number"},t.number)),F.a.createElement("div",{className:"action-buttons"},F.a.createElement(V.a,{onClick:n,className:"dxp-button secondary small"},Object(R.a)("profile.billingInformation.creditCard.cancel")),F.a.createElement(V.a,{onClick:a,className:"dxp-button primary small"},Object(R.a)("profile.billingInformation.creditCard.delete")))))});n(2990);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"state",{saveCreditCard:!1,deleteCreditCard:{}}),g()(p()(n),"setDeleteCard",(function(){var e=n.props.creditCard;n.setState({deleteCreditCard:{creditCard:e}})})),g()(p()(n),"clearCardDetailedToBeDeleted",(function(){n.setState({deleteCreditCard:{}})})),g()(p()(n),"focusAfterClearCardDetailsToBeDeleted",(function(e){n.setState({deleteCreditCard:{}},(function(){return n.props.focusAfterDeletion(e)}))})),g()(p()(n),"handleDeleteConfirmation",(function(){var e=n.props,t=e.index,a=e.address;n.props.onCreditCardDelete({creditCardDetails:""},t,a),n.focusAfterClearCardDetailsToBeDeleted(t)})),n.creditCardDetails=F.a.createRef(),n.billingData=F.a.createRef(),n.saveButton=F.a.createRef(),n}return f()(t,e),s()(t,[{key:"handlePaymentModeSave",value:function(e){(this.state.saveCreditCard||!this.props.isNewCard)&&this.handleProfileModeSave(e),e.creditCardDetails&&S()(this.props.validCardCodes,e.creditCardDetails.cardCode)&&this.props.onCreditCardSelect(e)}},{key:"handleProfileModeSave",value:function(e){var t=C()({},w()(e.creditCardDetails)?{}:{creditCardDetails:C()({"@type":re.b.CREDIT_CARD},e.creditCardDetails)},e.billingData?{billingData:C()({},{postcode:e.billingData.zipCode,state:e.billingData.province},y()(e.billingData,["zipCode","province","email","phone"]))}:{});this.props.onCreditCardSave(t)}},{key:"handleSave",value:function(){var e=this.creditCardDetails,t=this.billingData;if(!(e.current&&!e.current.isValid()||t.current&&!t.current.isValid())){var n=C()({},e.current?{creditCardDetails:e.current.getData()}:{},{billingData:t.current?t.current.getData():this.props.address});return this.props.isPaymentMode?this.handlePaymentModeSave(n):this.handleProfileModeSave(n)}}},{key:"isValid",value:function(){if(!(!this.creditCardDetails.current||this.creditCardDetails.current.isValid()))return!1;var e=!this.billingData.current||this.billingData.current.isValid();return e?(this.saveButton.current&&this.saveButton.current.focus(),Object(ie.a)(this.saveButton.current),!1):e}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.configuration,r=n.isPaymentMode,i=n.isNewCard,s=r?this.props.availableCreditCards:a.cardTypes,o=this.state.deleteCreditCard.creditCard;return F.a.createElement(se.a,{className:"profile-credit-card-edit-panel"},o&&F.a.createElement(ue,{creditCard:o,onCloseDeleteConfirmModal:this.clearCardDetailedToBeDeleted,onDeleteConfirmation:this.handleDeleteConfirmation}),F.a.createElement("div",{className:"credit-card-deatils-container"},a.showCreditCardDetails&&F.a.createElement(oe.a,{ref:this.creditCardDetails,onDetection:this.props.selectPaymentOption,configuration:a,availableCreditCards:s,profileData:this.props.creditCard,getInstallmentPlansForSelectedCCType:this.props.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:this.props.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:this.props.selectInstallmentPlan,clearInstallmentPlans:this.props.clearInstallmentPlans,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,installments:this.props.installments}),a.showBillingData&&!a.separateBillingAddressFromCConPaymentPage&&F.a.createElement(M.a,{ref:this.billingData,phoneCountryCodes:this.props.phoneCountryCodes,configuration:a,provincesForPaymentOptions:this.props.provinces,paymentObject:{data:{billingData:pe({},(e=this.props.address,C()({},e,{zipCode:e.postcode,province:e.state})))}}})),F.a.createElement("div",{className:"actions-container"},r&&i&&F.a.createElement(le.a,{id:"profile-credit-card-save-checkbox",label:"profile.billingInformation.creditCard.saveCard",onChange:function(e,n){return t.setState({saveCreditCard:n})}}),F.a.createElement("div",{className:"action-buttons"},F.a.createElement(V.a,{className:"dxp-button small secondary",onClick:this.props.onCreditCardCancel},Object(R.a)("profile.billingInformation.creditCard.cancel")),F.a.createElement(V.a,{ref:this.saveButton,className:"dxp-button small primary",onClick:function(e){return t.handleSave(e)}},Object(R.a)("profile.billingInformation.creditCard.save")),!i&&F.a.createElement(V.a,{className:"dxp-button small primary",onClick:this.setDeleteCard},Object(R.a)("profile.billingInformation.creditCard.delete")))))}}]),t}(L.Component);g()(he,"defaultProps",{configuration:{},address:{},creditCard:{},provinces:{},isPaymentMode:!1,isNewCard:!1,validCardCodes:[],onCreditCardSave:T.a,onCreditCardCancel:T.a,onCreditCardSelect:T.a,getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,availableCreditCards:[],index:void 0,selectPaymentOption:T.a,focusAfterDeletion:T.a});n(2991);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return ge}));var ge=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"state",{showEditPanelForIndex:-1,deleteCreditCard:{},cardSelected:{}}),g()(p()(n),"onCancel",(function(){return function(){n.cardSummaryRows[n.state.showEditPanelForIndex]?n.cardSummaryRows[n.state.showEditPanelForIndex].focusEditButton():n.useAnotherCardButton&&n.useAnotherCardButton.current.focus(),n.setState({showEditPanelForIndex:-1})}})),g()(p()(n),"onCreditCardSelectWhenAddressIsSeparated",(function(e){n.setState({cardSelected:e.creditCardDetails,showEditPanelForIndex:-1})})),g()(p()(n),"onDelete",(function(){var e=n.state.deleteCreditCard,t=e.creditCard,a=e.index,r=e.addresses;n.props.onCreditCardDelete(t,a,r),n.setState({deleteCreditCard:{}},(function(){return n.focusAfterDeletion()}))})),g()(p()(n),"onProceed",(function(){var e=n.billingData.current.getData();n.billingData.current.isValid()&&n.props.onCreditCardSelect&&n.props.onCreditCardSelect({creditCardDetails:n.state.cardSelected,billingData:{street1:e.street1,street2:e.street2,city:e.city,country:e.country,zipCode:e.postcode,province:e.state,phone:e.phone,email:e.email}})})),g()(p()(n),"onSave",(function(e){n.props.onCreditCardSave(e,n.state.showEditPanelForIndex),n.onCancel()()})),g()(p()(n),"getAddress",(function(e){return C()({},e,{zipCode:e.postcode,province:e.state})})),g()(p()(n),"setDeleteCard",(function(e){n.setState({deleteCreditCard:{creditCard:e.creditCard,index:e.index,addresses:e.billingData}})})),g()(p()(n),"changeSelectedCard",(function(){n.setState({cardSelected:{}},(function(){var e=k()(n.cardSummaryRows,(function(e){return Boolean(j()(e,"cvc"))}));e&&e.cvc.focus()}))})),g()(p()(n),"focusAfterDeletion",(function(e){n.setState({showEditPanelForIndex:-1},(function(){return n.handleFocusAfterDeletion(e)}))})),g()(p()(n),"handleFocusAfterDeletion",(function(e){if(n.props.isPaymentMode){var t=k()(n.cardSummaryRows,(function(t){return Boolean(j()(t,"cvc"))&&j()(t,"props.index",-1)!==e}));t?t.cvc.focus():n.useAnotherCardButton&&n.useAnotherCardButton.current.focus()}else{var a=k()(n.cardSummaryRows,(function(e){return Boolean(j()(e,"editButton"))}));a?a.focusEditButton():n.useAnotherCardButton&&n.useAnotherCardButton.current.focus()}})),g()(p()(n),"filterDisplayCard",(function(e){return!_()(e)&&(!n.props.isPaymentMode||S()(n.props.validCardCodes,e.cardCode))})),n.editPanel=F.a.createRef(),n.cardSummaryRows=[],n.billingData=F.a.createRef(),n.proceedBtn=F.a.createRef(),n.useAnotherCardButton=F.a.createRef(),n}return f()(t,e),s()(t,[{key:"setOpenPanel",value:function(e,t){t&&(t.preventDefault(),t.stopPropagation()),this.setState({showEditPanelForIndex:e})}},{key:"isValid",value:function(){var e=this.props.isPaymentMode;if(this.editPanel.current)return this.editPanel.current.isValid();if(e&&w()(this.state.cardSelected)){var t=k()(this.cardSummaryRows,(function(e){return Boolean(e.cvc)}));return t&&t.cvc.focus(),!1}if(this.billingData.current){var n=this.billingData.current.isValid();return n?(this.proceedBtn.current.focus(),!1):n}return!0}},{key:"renderCardSummaryRow",value:function(e,t,n,a){var r=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.state.showEditPanelForIndex===t,o=S()(this.props.validCardCodes,e.cardCode),l=j()(this.props,["configuration","separateBillingAddressFromCConPaymentPage"]);return F.a.createElement(ae,{ref:function(e){e&&r.cardSummaryRows.push(e)},key:"credit-card-".concat(t),index:t,creditCard:e,address:this.props.address,isCVVEnabled:n,configuration:this.props.configuration,isPaymentMode:this.props.isPaymentMode,cvvValidators:a,editPanelOpen:s,isValidForPayment:o,onCreditCardEdit:function(e){return r.setOpenPanel(s?-1:t,e)},onCreditCardDelete:this.setDeleteCard,onCreditCardSelect:l?this.onCreditCardSelectWhenAddressIsSeparated:this.props.onCreditCardSelect,isSelectedCard:i,changeSelectedCard:this.changeSelectedCard})}},{key:"renderCreditCardsTable",value:function(e,t){var n=this,a=this.props,r=a.configuration,i=a.isPaymentMode,s=j()(r,"paymentFormValidation.cvc.validators",[]),o=t?5:4;return this.cardSummaryRows=[],F.a.createElement("table",{className:"credit-cards"},F.a.createElement("thead",{className:"header"},F.a.createElement(q,{isCardVerificationEnabled:t,isPaymentMode:i})),D()(e,(function(e,a){return F.a.createElement("tbody",{className:"body",key:"profile-credit-card-".concat(a)},n.renderCardSummaryRow(e,a,t,s),n.state.showEditPanelForIndex===a&&F.a.createElement("tr",{id:"profile-credit-card-edit-panel-".concat(a)},F.a.createElement("td",{colSpan:o},n.renderEditPanel(e,a))))})))}},{key:"renderCreditCardsTableForSelectedCard",value:function(e,t){var n=this.props,a=n.configuration,r=n.isPaymentMode,i=j()(a,"paymentFormValidation.cvc.validators",[]);return F.a.createElement("table",{className:"credit-cards"},F.a.createElement("thead",{className:"header"},F.a.createElement(q,{isCardVerificationEnabled:t,isPaymentMode:r,displayCVV:!1})),F.a.createElement("tbody",{className:"body",key:"profile-credit-card-0"},this.renderCardSummaryRow(e,0,t,i,!0)))}},{key:"renderEditPanel",value:function(e,t){var n=j()(this.props,["configuration","separateBillingAddressFromCConPaymentPage"]);return F.a.createElement(he,{ref:this.editPanel,configuration:this.props.configuration,provinces:this.props.provinces,address:this.props.address,creditCard:e,isPaymentMode:this.props.isPaymentMode,validCardCodes:this.props.validCardCodes,isNewCard:w()(e),onCreditCardSave:this.onSave,onCreditCardSelect:n?this.onCreditCardSelectWhenAddressIsSeparated:this.props.onCreditCardSelect,onCreditCardCancel:this.onCancel(),selectPaymentOption:this.props.selectPaymentOption,getInstallmentPlansForSelectedCCType:this.props.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:this.props.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:this.props.selectInstallmentPlan,clearInstallmentPlans:this.props.clearInstallmentPlans,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,installments:this.props.installments,availableCreditCards:this.props.availableCreditCards,phoneCountryCodes:this.props.phoneCountryCodes,index:t,onCreditCardDelete:this.props.onCreditCardDelete,focusAfterDeletion:this.focusAfterDeletion})}},{key:"render",value:function(){var e=this,t=this.props,n=t.creditCards,a=void 0===n?[]:n,r=t.configuration,i=r.isCVVRequiredForProfileCards,s=void 0!==i&&i,o=r.separateBillingAddressFromCConPaymentPage,l=void 0!==o&&o,c=t.isPaymentMode,u=t.emailAddress,d=t.phoneNumber,p=c&&s,h=this.state.showEditPanelForIndex===a.length,f=this.state,m=f.deleteCreditCard.creditCard,g=f.cardSelected,v=!w()(g);return F.a.createElement("div",{className:"saved-credit-cards"},m&&F.a.createElement(ue,{creditCard:m,onCloseDeleteConfirmModal:function(){return e.setState({deleteCreditCard:{}})},onDeleteConfirmation:this.onDelete}),v&&this.renderCreditCardsTableForSelectedCard(y()(g,"cvc"),p),!v&&F.a.createElement(F.a.Fragment,null,this.renderCreditCardsTable(a.filter(this.filterDisplayCard),p),F.a.createElement(V.a,{className:"new-credit-card secondary small","aria-controls":"profile-credit-card-edit-panel-new","aria-expanded":h,onClick:function(t){return e.setOpenPanel(h?-1:a.length,t)},ref:this.useAnotherCardButton},F.a.createElement(B.c,{name:h?B.a.MATH_SUBTRACT:B.a.MATH_ADD,fill:!0,size:"sm"}),F.a.createElement("span",{className:"add-credit-card"},Object(R.a)("profile.billingInformation.creditCard.useAnotherCard")))),F.a.createElement("div",{id:"profile-credit-card-edit-panel-new"},h&&this.renderEditPanel()),l&&F.a.createElement(F.a.Fragment,null,F.a.createElement(M.a,{ref:this.billingData,phoneCountryCodes:this.props.phoneCountryCodes,configuration:this.props.configuration,provincesForPaymentOptions:this.props.provinces,paymentObject:{data:{billingData:me({},this.getAddress(this.props.address))}},emailAddress:u,phoneNumber:d}),F.a.createElement(V.a,{ref:this.proceedBtn,className:"dxp-proceed-btn dxp-button small primary",disabled:!v,onClick:this.onProceed},Object(R.a)("app.proceed"))))}}]),t}(L.Component);g()(ge,"defaultProps",{creditCards:[],address:{},provinces:{},onCreditCardSelect:T.a,onCreditCardDelete:T.a,onCreditCardSave:T.a,isPaymentMode:!1,validCardCodes:[],getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,availableCreditCards:[],emailAddress:"",phoneNumber:{},selectPaymentOption:T.a})},,function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),s=n.n(i),o=(n(194),n(11)),l=(n(6),n(12)),c=n(319),u=n(175),d=n.n(u),p=n(47),h=function(e){return e.messages.map((function(e){if(e.get("errorType")===p.d.VALIDATION||e.get("warningType")===p.d.VALIDATION){var t="passengers.".concat(e.get("passenger")),n=e.get("field")?"passengers.".concat(e.get("field")):"",a="passengers.".concat(e.getIn(["value",0]));return s.a.createElement("li",{key:"".concat(a,"-").concat(e.get("passengerNumber"))},"".concat(d()(Object(l.i)(t))," ").concat(d()(Object(l.i)(n))," ").concat(d()(Object(l.i)(a))))}return e.get("errorType")===p.d.BUSINESS_LOGIC?s.a.createElement("li",{key:e.get("errorType")},Object(l.i)(e.get("errorCode"))):s.a.createElement("li",{key:e.get("errorType")},Object(l.i)(e))}))};h.defaultProps={messages:Object(o.List)()};var f=h,m=function(e){var t=e.errors;return s.a.createElement(c.a,{type:"error",title:"passengers.passengerServiceError"},s.a.createElement("ul",null,s.a.createElement(f,{messages:t})))};m.defaultProps={errors:Object(o.List)()};var g=m,v=function(e){var t=e.warnings;return s.a.createElement(c.a,{type:"warning",title:"passengers.passengerServiceWarning"},s.a.createElement("ul",null,s.a.createElement(f,{messages:t})))};v.defaultProps={warnings:Object(o.List)()};var y=v,b=function(e){var t=e.priceDiscrepancy;return s.a.createElement(c.a,{type:"warning",title:"passengers.passengerServiceWarning"},s.a.createElement("div",null,Object(l.a)("passengers.metaSearchPriceDiscrepancy.description",t),s.a.createElement("span",{className:"price-discrepancy-diff"},Object(l.a)("passengers.metaSearchPriceDiscrepancy.difference",t)),s.a.createElement("div",null,Object(l.a)("passengers.metaSearchPriceDiscrepancy.description2",t))))};b.defaultProps={priceDiscrepancy:void 0};var C=b,E=n(331),k=function(e){var t=e.errors,n=e.warnings,a=e.priceDiscrepancy,i=e.shouldDisplayEditPaxDetailsPrompt;return s.a.createElement("div",{className:"page-messages","aria-live":"assertive"},function(e){return!e.isEmpty()&&e.every((function(e){return!(e.errorType===p.d.BUSINESS_LOGIC&&e.errorCode===E.a)}))}(t)&&s.a.createElement(g,{errors:t}),!n.isEmpty()&&s.a.createElement(y,{warnings:n}),!r()(a)&&s.a.createElement(C,{priceDiscrepancy:a}),i&&s.a.createElement(c.a,{type:"info",title:"passengers.changePaxDetailsUnavailable.title"},Object(l.a)("passengers.changePaxDetailsUnavailable.description")))};k.defaultProps={errors:Object(o.List)(),warnings:Object(o.List)(),priceDiscrepancy:void 0,shouldDisplayEditPaxDetailsPrompt:!1};var O=k;n.d(t,"a",(function(){return O}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(5),y=n.n(v),b=n(0),C=n.n(b),E=n(16),k=n.n(E),O=n(1),_=n.n(O),P=(n(6),n(39)),S=n.n(P),N=n(12),w=n(1281),A=n(2198),T=n(2074),I=n(31),D=n.n(I),x=n(137),j=n.n(x),L=n(18),F=n.n(L),B=n(528),R=(n(2506),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){var e=this.props.consent,t=this.consent.isChecked()||!1;return k()({},e,{value:t?"Y":"N"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.consent,a=t.userConsents,r=C()(n,"consentTypeCode",""),i="y"===(a[r]||C()(n,"value","N")).toLowerCase(),s=r.toLowerCase();return _.a.createElement("div",{className:"consent-element"},_.a.createElement("legend",{className:"consent-legend"},Object(N.a)("profile.consent.".concat(s,".title"))),_.a.createElement(B.a,{id:"consent-".concat(s),checked:i,className:"consent-checkbox",ref:function(t){e.consent=t},label:"profile.consent.".concat(s,".description")}))}}]),t}(O.Component)),M=(n(2507),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(D()(n),"getValue",(function(){return F()({},{consents:y()(n.consents,(function(e){return e.getValue()}))})})),n}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.consents={}}},{key:"renderConsent",value:function(){var e=this,t=this.props,n=t.configuration,a=t.userConsents,r=j()(C()(n,"consent.consentCodes",[]),["consentTypeCode"]);return y()(r,(function(t,n){return _.a.createElement(R,{id:n,ref:function(n){e.consents[t.consentTypeCode]=n},consent:t,userConsents:a,key:n,index:n})}))}},{key:"render",value:function(){var e=this.props.configuration;return C()(e,"consent.isEnabled",!1)?_.a.createElement("fieldset",{className:"profile-consent-info-section clearfix"},_.a.createElement("legend",{className:"profile-consent-info-section-legend"},Object(N.a)("passengers.consentInfo")),_.a.createElement("div",{className:"consent-list"},this.renderConsent())):null}}]),t}(O.Component)),V=n(114),U=n(1415),q=n(1441),H=(n(1290),n(2508),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getCountries",value:function(){var e=C()(this.props,"provinces.countries",[]);return y()(e,(function(e){var t=g()("country")?e.code:"".concat("country",".").concat(e.code),n=Object(N.a)(t);return{value:e.code,label:n}}))}},{key:"getValue",value:function(){return k()({},this.createProfileBasicInfo.getValue(),this.createProfileContactInfo.getValue(),this.createProfileConsentInfo.getValue())}},{key:"isValid",value:function(){return this.createProfileBasicInfo.isValid()&&this.createProfileContactInfo.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.profile,r=t.dateFormat,i=t.defaultLocale,s=t.validations,o=t.provinces,l=t.userConsents,c=t.phoneCountryCodes,u=C()(n,"addYourDetailsHeader"),d=this.getCountries();return _.a.createElement("div",{className:"dxp-add-your-details"},_.a.createElement("div",{className:S()("step-title-container",{hidden:!u})},_.a.createElement("div",{className:"step-icon"},"1"),_.a.createElement(w.a,{className:"step-title",tag:"h3",title:"createProfile.addYourDetails"})),_.a.createElement("div",{className:"add-your-details"},_.a.createElement("div",{className:"create-profile-tip"},_.a.createElement(U.a,{type:"info",title:"createProfile.createProfileTip.label"},Object(N.a)("createProfile.createProfileTip.description")),_.a.createElement(q.a,null)),_.a.createElement("form",{className:"create-profile-basic-info"},_.a.createElement(A.a,{prefixOptions:Object(V.j)("prefix",n),suffixOptions:Object(V.j)("suffix",n),genderOptions:Object(V.j)("gender",n),data:a,configuration:n,dateFormat:r,defaultLocale:i,ref:function(t){e.createProfileBasicInfo=t},validations:s,basicInfoDisabled:!1}),_.a.createElement(T.a,{addressType:Object(V.j)("addressType",n.homeAddress),phoneTypes:Object(V.j)("phoneType",n.phone),provinces:o,countries:d,configuration:n,data:a,isPassengerInfoEditable:!0,ref:function(t){e.createProfileContactInfo=t},phoneCountryCodes:c}),_.a.createElement(M,{configuration:n,data:a,userConsents:l,isPassengerInfoEditable:!0,ref:function(t){e.createProfileConsentInfo=t}}))))}}]),t}(O.Component));f()(H,"defaultProps",{profile:{},userConsents:{},provinces:{}}),n.d(t,"a",(function(){return H}))},function(e,t,n){"use strict";var a=n(122),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(39)),l=n.n(o),c=n(12),u=n(1715),d=function(e){var t=e.className,n=e.recordLocator,a=e.PACKAGE_NAME_CLASSIFIED,r=e.badgeType,i=e.badgeText,o=e.badgeSmall,d=l()("ducp-component-record-locator",t);return s.a.createElement("div",{className:d},s.a.createElement("div",{className:"record-locator-title"},Object(c.a)([a,"recordLocator"])),s.a.createElement("div",{className:"record-locator-container"},s.a.createElement("span",{className:"record-locator-value"},n),i&&s.a.createElement(u.a,{className:"record-locator-status",type:r,text:i,isSmall:o})))};d.defaultProps={badgeType:void 0,badgeText:void 0,badgeSmall:void 0,className:void 0};var p=d,h=n(2e3),f=(n(50),function(e){var t=e.className,n=e.recordLocator,a=e.badgeSmall,r=e.badgeText,i=e.badgeType,o=e.PACKAGE_NAME_CLASSIFIED,c=e.iconList,u=e.supplementaryData,d=e.onClick,f=e.iconOnly,m=l()("ducp-component-confirmation-header",t,"row");return s.a.createElement("div",{className:m},s.a.createElement("div",{className:"record-locator-status-container col-sm-6 col-md-3 col-lg-3 col-xl-2"},s.a.createElement(p,{PACKAGE_NAME_CLASSIFIED:o,badgeSmall:a,badgeText:r,badgeType:i,recordLocator:n})),u&&s.a.createElement("div",{className:l()("supplementary-data-container","col-sm-6","col-md-".concat(c?6:9),"col-lg-".concat(c?7:9),"col-xl-".concat(c?8:10))},u),c&&s.a.createElement("div",{className:"actions-container col-sm-12 col-md-3 col-lg-2 col-xl-2"},s.a.createElement(h.a,{iconOnly:f,items:c,onClick:d})))});f.defaultProps={className:void 0,badgeType:void 0,badgeText:void 0,supplementaryData:void 0,iconList:void 0,badgeSmall:!0,onClick:r.a,iconOnly:!1};var m=f;t.a=m},,,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(11),d=n(1593),p=n(1892),h=n(532),f=n(2009),m=n(214),g=n(174),v=n(101),y=n(328),b=n(327);var C=n(438),E=n(1567),k=n(146),O=n(43),_=n.n(O),P=n(530);function S(e,t,n){return e.some((function(e){return function(e,t){return e.get("origin")===t.origin&&e.get("destination")===t.destination}(e,t)&&function(e,t){return e.getIn(["passenger","passengerIndex"])===t.index}(e,n)}))}var N=n(82),w=n.n(N),A=n(559);var T=function(){return Object(c.b)({carsConfiguration:function(e){return e.metadata.get("carsConfiguration")},lowestCarPrice:function(e){return(t=e.cars.get("carOffers"))&&t.get("cars",Object(u.List)()).map((function(e){return e.getIn(["rentalRate","dailyEstimatedTotal"])})).minBy((function(e){return e.get("amount")}));var t},isCarsLocationsProcessing:function(e){return e.cars.get("isCarsLocationsProcessing")},isCarsSearchProcessing:function(e){return e.cars.get("isCarsSearchProcessing")},carsLocationsError:function(e){return e.cars.get("carsLocationsError")},carsSearchError:function(e){return e.cars.get("carsSearchError")},isCarServiceErrorPresent:function(e){return!w()(e.cars.get("carsLocationsError"))||!w()(e.cars.get("carsSearchError"))},destination:Object(A.a)(),selectedCarOffer:function(e){return e.cars.get("selectedCarOfferTransformed")}})},I=Object(c.a)((function(e){return e.hotels.getIn(["hotelContext","airportCode"])}),Object(A.a)(),(function(e,t){return e||t})),D=Object(c.b)({hotelsConfiguration:function(e){return e.metadata.get("hotelsConfiguration")},isHotelSearchProcessing:function(e){return e.hotels.get("isHotelSearchProcessing")},lowestHotelPrice:function(e){return e.hotels.get("lowestHotelPrice")},hotelOffers:function(e){return e.hotels.get("hotelOffers")},hotelSearchError:function(e){return e.hotels.get("hotelSearchError")},hotelContext:function(e){return e.hotels.get("hotelContext")},selectedHotel:function(e){return e.hotels.get("selectedHotel")},isRemoveHotelProcessing:function(e){return e.hotels.get("isRemoveHotelProcessing")},destination:I,isRemoveHotelError:function(e){return e.hotels.get("removeHotelError")}});function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return Q}));var j=function(e,t){return e.metadata.getIn(["flows",Object(v.a)(t.location.pathname)])},L=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("ancillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},F=function(e){return e.ancillaries.get("isLoading")},B=function(e){return e.ancillaries.get("isAncillaries")},R=function(e){return s()(e.ancillaries,"toJS")},M=function(e){return e.ancillaries.get("error")},V=function(e){return e.bagfee.get("bagAllowance",Object(u.Map)())},U=function(e){return e.metadata.get("upsellConfiguration")},q=function(e){return s()(e.metadata.get("brandSortOrder"),"toJS",{})},H=function(e){return e.metadata.get("viewBreakPoint")},W=function(e,t){return Boolean(l()(function(e,t){return{awardBooking:"true"===l()(t,"location.query",{}).awardBooking}}(0,t),"awardBooking",!1))},G=Object(c.a)((function(e){return e.ancillaries.get("ancillaryOperationResults")}),R,(function(e){return e.shoppingCart.get("data")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.List)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(u.Map)();if(!e.isEmpty()){var a=e.some((function(e){return e.get("messages",Object(u.List)()).some((function(e){return e.get("code")===P.e}))}));if(a)return!0}var r=n.getIn(["seats","breakdownElements"],Object(u.List)());return _()(t.ancillaries,(function(e){return!(!e.isSeatBundle||!e.isAddedToCart)&&_()(e.travelPartOffers,(function(e){var t=e.travelPart,n=e.passengerOffers;return _()(n,(function(e){return e.assignedQuantity>0&&!S(r,t,e.ancillaryPassenger)}))}))}))})),K=Object(c.a)(h.a,(function(e){return"/payment"===e()})),z=Object(c.a)(Object(m.a)(),(function(e){return Object(k.g)(e)})),Y=Object(c.a)(Object(m.a)(),(function(e){return Object(k.j)(e)}));function Q(){return Object(c.b)({ancillariesConfiguration:L,isLoading:F,isAncillaries:B,flightIds:Object(d.a)(),ancillaries:R,cars:T(),hotels:D,journeyType:Object(p.a)(),isSeatBundlePremiumSeatNotSelected:G,isPaymentViewNext:K,error:M,flowConfiguration:j,bagAllowance:V,upsellData:Object(f.a)(),upsellConfiguration:U,brandSortOrder:q,viewBreakPoint:H,isAwardBooking:W,currentFlow:g.a,tripDestination:z,tripOrigin:Y,currentPage:g.b,dateFormat:y.b,getNextPage:h.a,language:b.a,formatDateTime:y.c,getBackLinkProps:C.a,seatAncillaries:E.a})}},function(e,t,n){"use strict";var a=n(103),r=n.n(a),i=n(3),s=n.n(i),o=n(1),l=n.n(o),c=(n(6),n(39)),u=n.n(c),d=n(12),p=n(1348),h=n(50),f=n(1418),m=n(1264),g=n(1281),v=n(1249),y=n(521),b=n(63),C=n(1376),E=n(148),k="optIn",O="optOut",_="unselected",P="tocError",S="selectionError",N="addToCartError",w="removeFromCartError",A="none";n(2442);var T=function(e){var t=e.children,n=Object(o.useState)(!1),a=r()(n,2),i=a[0],s=a[1],c=Object(o.useRef)(!1),p=Object(o.useRef)(null);return Object(o.useEffect)((function(){p.current&&!c.current&&(c.current=p.current.scrollHeight>p.current.clientHeight)})),l.a.createElement("div",{className:"marketing-text-container"},l.a.createElement("div",{className:u()("marketing-text",{expanded:i}),ref:p},t),c.current&&l.a.createElement(m.a,{isTextButton:!0,className:"view-more-btn","data-toggle":i,onClick:function(){return s(!i)}},i?Object(d.a)("app.viewLess"):Object(d.a)("app.viewMore"),l.a.createElement(h.c,{name:i?h.a.ARROW_TRIANGLE_UP:h.a.ARROW_TRIANGLE_DOWN,fill:!0})))};n(2443);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){var t="ancillary.items.".concat(e,".image"),n=Object(d.i)(t);return n===t?"//placehold.it/320x180":Object(b.a)(n)}function x(e){var t=e.isAddedToCart,n=e.isSelected;return e.isLoading?_:t?k:n?O:_}function j(e){var t,n=(t={},s()(t,S,"ancillary.insurance.selectionError"),s()(t,P,"ancillary.insurance.tocError"),s()(t,N,"ancillary.insurance.addToCartError"),s()(t,w,"ancillary.insurance.removeFromCartError"),t);return l.a.createElement("div",{className:"error"},l.a.createElement(h.c,{name:h.a.ALERT_TRIANGLE,fill:!0}),Object(d.a)(n[e]))}var L=function(e){var t=e.ancillary,n=e.onAncillarySelected,a=e.updateTotalForInsurance,i=e.insuranceSelectionRequired,c=e.setInsuranceSelectionRequired,L=t.code,F=t.market,B=t.isAddedToCart,R=t.isLoading,M=t.productDescriptionURL,V=t.supplierCode,U=t.price,q=l.a.createElement(v.a,{price:U}),H=Object(o.useState)(x(t)),W=r()(H,2),G=W[0],K=W[1],z=Object(o.useState)(B),Y=r()(z,2),Q=Y[0],X=Y[1],J=Object(o.useState)(A),$=r()(J,2),Z=$[0],ee=$[1],te=Object(o.useRef)({isAddedToCart:B,isLoading:R}),ne=Object(o.useRef)(),ae=Object(d.i)("app.externalLink");Object(o.useEffect)((function(){te.current.isAddedToCart===B&&te.current.isLoading===R||(K(x(t)),X(!1),te.current.isAddedToCart=B,te.current.isLoading=R),i&&(c(!1),ee(function(e,t,n){return e===_?S:e!==k||t||n?e===k&&t&&!n?N:e===O&&n?w:A:P}(G,Q,B)),ne.current.focus(),Object(C.a)(ne.current))}));var re=u()("dxp-insurance",{"toc-open":G}),ie=function(e,t){return Object(d.a)("ancillary.insurance.".concat(F,".").concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{productDescriptionURL:M,externalLink:ae}))},se=function(){a(t,!B),n(L)},oe=function(e){var t=e.target.value;K(t),ee(A),Object(E.g)(B?t===k:t===O)};return l.a.createElement("div",{className:"insurance-container",tabIndex:"-1",ref:ne},l.a.createElement(p.b,{className:re},l.a.createElement("div",{className:"header"},l.a.createElement(g.a,{className:"title",icon:h.a.SHIELD_CHECK,iconFill:!0,iconSize:"lg",title:"ancillary.insurance.ancillaryPanelTitle",tag:"h3"}),l.a.createElement("div",{className:"required-message"},Object(d.a)("ancillary.insurance.requiredMessage"))),l.a.createElement("div",{className:"body"},l.a.createElement("div",{className:"image-container"},l.a.createElement("img",{alt:Object(d.i)("ancillary.items.".concat(L,".name")),src:D(L)}),l.a.createElement("img",{src:Object(b.a)("images/ancillaries/".concat(V,".png")),alt:Object(d.i)("ancillary.insurance.suppliers.".concat(V,".name"))})),l.a.createElement("div",{className:"description"},l.a.createElement(T,null,ie("marketingText")),M&&l.a.createElement("div",{className:"description-url-container"},l.a.createElement("div",{className:"url-description"},ie("urlDescription",{productDescriptionURL:M}))),l.a.createElement("fieldset",null,l.a.createElement("legend",null,l.a.createElement("div",{className:"required-message"},Object(d.a)("ancillary.insurance.selectionRequired")),Z===S&&j(Z)),l.a.createElement("div",{className:"insurance-selection-option"},l.a.createElement("label",{htmlFor:"insurance-selection-".concat(k),className:"spark-radio"},l.a.createElement("input",{id:"insurance-selection-".concat(k),type:"radio",className:"insurance-selection-input spark-radio__input",name:"insurance-selection-idd-group",value:k,disabled:R,onChange:oe,checked:G===k}),l.a.createElement("span",{className:u()("spark-radio__box",{"show-error":Z===S})}),l.a.createElement("span",{className:"spark-label"},Object(d.h)("ancillary.insurance.".concat(F,".").concat(k),{amount:q,productDescriptionURL:M,externalLink:ae})))),l.a.createElement("div",{className:"insurance-selection-option"},l.a.createElement("label",{htmlFor:"insurance-selection-".concat(O),className:"spark-radio"},l.a.createElement("input",{id:"insurance-selection-".concat(O),type:"radio",className:"insurance-selection-input spark-radio__input",name:"insurance-selection-idd-group",value:O,disabled:R,onChange:oe,checked:G===O}),l.a.createElement("span",{className:u()("spark-radio__box",{"show-error":Z===S})}),l.a.createElement("span",{className:"spark-label"},ie(O)))))),l.a.createElement("div",{className:"summary"},l.a.createElement("div",{className:"summary-title"},function(e,t){return t?l.a.createElement(y.a,null):e?l.a.createElement("div",{className:"opt-in"},l.a.createElement(h.c,{name:h.a.CHECK,fill:!0}),Object(d.a)("ancillary.insurance.insuranceSelected")):Object(E.d)()?l.a.createElement("div",{className:"opt-out"},l.a.createElement(h.c,{name:h.a.ALERT_TRIANGLE}),Object(d.a)("ancillary.insurance.noInsuranceSelected")):Object(d.a)("ancillary.insurance.ancillaryPanelTitle")}(B,R)),l.a.createElement(v.a,{className:"insurance-price",price:U}),l.a.createElement("div",{className:"price-note"},Object(d.a)("ancillary.items.".concat(L,".priceNote")))))),G===k&&!B&&l.a.createElement(p.b,{className:"toc-footer"},(Z===P||Z===N)&&j(Z),l.a.createElement("div",{className:"toc-container"},l.a.createElement(f.a,{className:"toc-checkbox",checked:Q,onChange:function(e){var t=e.isChecked;return X(t),void ee(A)},label:ie("tocAcknowledgement"),syncStateWithProp:!0}),l.a.createElement("div",{className:"action"},l.a.createElement(m.a,{disabled:!Q||R,onClick:se,className:"add-to-cart"},Object(d.a)("ancillary.addToCart"))))),G===O&&B&&l.a.createElement(p.b,{className:"remove-footer"},Z===w&&j(Z),l.a.createElement(m.a,{onClick:se,disabled:R,className:"remove-from-cart negative"},Object(d.a)("ancillary.removeFromCart"))))};n.d(t,"a",(function(){return L}))},,,,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(114),s=n(9),o=n(16),l=n.n(o),c=n(5),u=n.n(c),d=n(0),p=n.n(d),h=function(e){var t=e.pnr,n=e.firstName,a=e.lastName,r=e.email,o="".concat(Object(s.l)("bnplPNR"),"?").concat(Object(i.l)({pnr:t,firstName:n,lastName:a,email:r}));return Object(s.g)(o,s.b).then((function(e){return function(e){return{passengers:u()(p()(e,"pnr.passengers",[]),(function(e){return l()({},e.passengerDetails,e.passengerInfo,e.preferences,{documentInfo:e.documentInfo})})),contact:p()(e,"pnr.contact",{emails:[],phones:[]})}}(e)}))},f=n(7);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return C}));var v="GET_BNPL_PASSENGERS_PNR_REQUEST",y="GET_BNPL_PASSENGERS_PNR_RESPONSE",b="BNPL_PASSENGERS_PNR_ERROR",C=function(e){return function(t){return t({type:f.Tb}),t({type:v}),h(e).then((function(e){return function(e,t){e({type:y,passengers:t.passengers,contact:t.contact})}(t,e)})).catch((function(e){return function(e,t){return t({type:f.ig,error:g({},e)})}(e,t)}))}}},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(122),g=n.n(m),v=n(0),y=n.n(v),b=n(15),C=n.n(b),E=n(98),k=n.n(E),O=n(2),_=n.n(O),P=n(27),S=n.n(P),N=(n(6),n(1)),w=n.n(N),A=n(129),T=n(529),I=n(153),D=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={selectedFFProgram:e.fFProgramDefaultValue||!_()(e.fFProgramOptions)&&S()(e.fFProgramOptions).value},n}return p()(t,e),s()(t,[{key:"getCurrentFFProgram",value:function(e){var t=this.props.fFAvailablePrograms;return C()(t,(function(t){return e===y()(t,"airline")}))}},{key:"getFFProgramValidators",value:function(){var e=this.props.fFProgramValidators;return this.state.selectedFFProgram&&e&&e[this.state.selectedFFProgram]||[]}},{key:"getValidators",value:function(){var e=this.props.validators,t=this.getFFProgramValidators();return _()(t)?e:k()(e,t)}},{key:"getValue",value:function(){return{frequentFlyerProgram:this.props.fFProgramEnabled&&this.frequentFlyerProgram.getValue(),frequentFlyerNumber:this.props.fFNumberEnabled&&this.frequentFlyerNumber.getValue()}}},{key:"setFFNumber",value:function(e){this.frequentFlyerNumber.setValue(e)}},{key:"ffProgramValueChanged",value:function(e){var t=this.getCurrentFFProgram(e),n=y()(t,"membershipID","");this.setFFNumber(n),this.setState({selectedFFProgram:e})}},{key:"isValid",value:function(){var e={frequentFlyerProgram:this.props.fFProgramEnabled,frequentFlyerNumber:this.props.fFNumberEnabled};return Object(I.c)(e,{frequentFlyerProgram:this.frequentFlyerProgram,frequentFlyerNumber:this.frequentFlyerNumber})}},{key:"renderFrequentFlyerNumber",value:function(){var e=this,t=this.props,n=t.disabled,a=t.fFNumberLabel,r=t.fFNumberDefaultValue,i=t.index,s=t.id;return w.a.createElement(A.a,{label:a,defaultValue:r,useLabelFeedback:!0,validators:this.getValidators(),ref:function(t){e.frequentFlyerNumber=t},disabled:n,className:"frequentFlyerNumber",index:i,id:s,onBlur:this.props.onChange,keyProp:"".concat("frequentflyerNumber","-").concat(i)})}},{key:"renderFrequentFlyerProgram",value:function(){var e=this,t=this.props,n=t.disabled,a=t.fFProgramLabel,r=t.fFProgramOptions,i=t.id,s=t.index;return w.a.createElement(T.a,{label:a,options:r,defaultValue:this.state.selectedFFProgram,onChange:function(t){e.ffProgramValueChanged(t)},ref:function(t){e.frequentFlyerProgram=t},disabled:n,id:i,keyProp:"".concat("frequentFlyerProgram","-").concat(s)})}},{key:"render",value:function(){var e=this.props,t=e.fFProgramEnabled,n=e.fFNumberEnabled;return w.a.createElement("div",{className:"frequent-flyer-container"},t&&this.renderFrequentFlyerProgram(),n&&this.renderFrequentFlyerNumber())}}]),t}(N.Component);f()(D,"defaultProps",{fFProgramDefaultValue:"",fFNumberDefaultValue:"",index:"",id:void 0,onChange:g.a}),n.d(t,"a",(function(){return D}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(173),g=n.n(m),v=n(0),y=n.n(v),b=n(6),C=n.n(b),E=n(1),k=n.n(E),O=n(39),_=n.n(O),P=n(12),S=n(259),N=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).radioID=e.radioId,n}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.value,r=t.radiobuttonsName,i=t.isActive,s=i?0:-1;return k.a.createElement("span",{role:"radio",tabIndex:s,"aria-checked":i,className:"switch-radio-option",ref:function(t){e.radio=t},onKeyDown:function(t){return e.props.onKeyDown(t,e.radio)}},k.a.createElement("label",{htmlFor:this.radioID,className:_()("dxp-switch-option",{selected:i})},k.a.createElement("input",{type:"radio",id:this.radioID,name:r,onChange:function(t){return e.props.onChange(t,a)},className:"dxp-switch-option-input",disabled:n,value:a}),this.props.children))}}]),t}(E.Component);f()(N,"contextTypes",{dispatch:C.a.func,session:C.a.shape({})}),f()(N,"defaultProps",{disabled:!1,onKeyDown:void 0,radioId:Object(S.a)(5),isActive:!1});n(2482);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var A=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).radiobuttonsName=e.radioButtonsName,n.state={selectedOption:e.selected},n}return p()(t,e),s()(t,[{key:"getValue",value:function(){return this.state.selectedOption}},{key:"handleKeyDown",value:function(e,t){var n=this.state.selectedOption,a=this.props.children.length,r=g()(this.props.children,(function(e){return e.props.value===n})),i=a-1;39===e.which&&(i=(r+1)%a,this.updateStateWithSelectedValue(i,t.parentNode.childNodes[i]));37===e.which&&(i=0===r?i:(r-1)%a,this.updateStateWithSelectedValue(i,t.parentNode.childNodes[i]))}},{key:"switchOptions",value:function(e,t){var n=this;this.state.selectedOption!==t.props.value&&this.setState({selectedOption:t.props.value},(function(){n.props.onChange(t.props.value)}))}},{key:"updateStateWithSelectedValue",value:function(e,t){var n=this,a=this.props.children[e].props.value;this.setState({selectedOption:a},(function(){n.props.onChange(a),t&&t.focus()}))}},{key:"render",value:function(){var e=this,t=k.a.Children.map(this.props.children,(function(t){return k.a.cloneElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.props,{isActive:e.state.selectedOption===t.props.value,radiobuttonsName:e.radiobuttonsName,onChange:function(n){return e.switchOptions(n,t)},onKeyDown:function(t,n){return e.handleKeyDown(t,n)}}))})),n=_()("dxp-switch",this.props.className,y()(this.props,"disabled")?"switch-disabled":"");return k.a.createElement("div",{className:n},k.a.createElement("fieldset",{className:"dxp-switch-fieldset dxp-fieldset"},k.a.createElement("legend",{className:"dxp-switch-legend sr-only"},Object(P.a)("searchFare.faresIn")),k.a.createElement("div",{className:"radiogroup-container",role:"radiogroup"},t)))}}]),t}(E.Component);f()(A,"Option",(function(e){return k.a.createElement(N,e)})),f()(A,"contextTypes",{dispatch:C.a.func,session:C.a.shape({})}),f()(A,"defaultProps",{radioButtonsName:Object(S.a)(10),className:""}),n.d(t,"a",(function(){return A}))},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(136),s=n(1307),o=n(1264),l=n(1359),c=(n(6),n(12)),u=(n(2486),function(e){var t=e.onCancelClick,n=e.onAcceptClick;return r.a.createElement(i.a,{className:"offload-modal",onCloseClick:t},r.a.createElement(l.a,{tag:"h4",title:Object(c.a)("offload.title")}),r.a.createElement(s.b,{customClassNames:"apple-wallet-error",title:Object(c.a)("offload.messageTitle"),text:Object(c.a)("offload.message"),type:"warning"}),r.a.createElement("div",{className:"offload-modal-buttons"},r.a.createElement(o.a,{className:"cancel",isSecondaryButton:!0,onClick:t},Object(c.a)("app.cancel")),r.a.createElement(o.a,{className:"accept",onClick:n},Object(c.a)("offload.accept"))))});n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(194),n(1249),n(39)),l=n.n(o),c=n(11),u=n(136),d=n(2142),p=(n(2439),function(e){var t=e.passengers,n=e.journeyType,a=e.ancillariesConfiguration,i=e.seatBundleAssignments,o=e.seatBundleRemoved,c=e.updateTotalForInsurance,p=e.ancillaries,h=e.cartData,f=e.isMobile,m=e.updateQuantityToCode,g=e.bagAllowance,v=r()(e,"ancillaries[".concat(e.ancillaryCode,"]"),{}),y=r()(a,"items.".concat(v.code,".discount.isOriginalPriceDisplayed"),!1),b=r()(a,"items.".concat(v.code,".discount.isDealBannerDisplayed"),!1),C=r()(a,"showBaggageByWeight",!1),E=l()("dxp-ancillary-panel-modal",{"is-custom-group-list":v.isCustomGroup},{"bags-by-weight":C});return s.a.createElement(u.a,{className:E,onCloseClick:function(){return e.onAncillaryClose()}},s.a.createElement(d.a,{updateTotalForInsurance:c,updateQuantityToCode:m,key:"ancillary-panel-".concat(v.code),ancillaries:p,ancillary:v,passengers:t,seatBundleAssignments:i,seatBundleRemoved:o,cartData:h,journeyType:n,isMobile:f,ancillariesConfiguration:a,isOriginalPriceDisplayed:y,isDealBannerDisplayed:b,excludedItineraryParts:e.excludedItineraryParts,onAncillaryClose:function(){return e.onAncillaryClose()},onSelect:function(t){return e.onAncillarySelected(t)},segmentEnabled:r()(e,"segmentEnabled"),onDisclosureClick:function(){return e.onDisclosureClick()},onAddToCart:function(){return e.onAncillaryAddToCart()},bagAllowance:g,onChange:function(t,n,a,r,i,s,o){return e.onAncillaryChange(t,n,a,r,i,s,o)},isRenderedOnModal:!0,retainedTotal:e.retainedTotal}))});p.defaultProps={passengers:{},journeyType:{},ancillariesConfiguration:{},seatBundleAssignments:{},seatBundleRemoved:!1,ancillaries:void 0,cartData:void 0,isMobile:!1,ancillaryCode:"",onAncillaryClose:void 0,onAncillarySelected:void 0,onDisclosureClick:void 0,onAncillaryAddToCart:void 0,onAncillaryChange:void 0,updateQuantityToCode:void 0,updateTotalForInsurance:void 0,bagAllowance:Object(c.Map)(),excludedItineraryParts:Object(c.List)(),retainedTotal:[]};var h=p;n.d(t,"a",(function(){return h}))},,,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(16),s=n.n(i),o=n(0),l=n.n(o),c=n(9),u=n(1990),d=n(1998),p=n(347),h=n(66),f=n(7),m=n(2082);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return y}));var y=function(e,t){return function(n,a){return n({type:m.b}),(r=e,i="".concat(Object(c.l)("cancelAndRefund"),"?").concat(Object(u.a)(r)),Object(c.g)(i.toString(),c.b,{clearExecKey:!0}).then((function(e){return{cancelFlightReview:Object(d.a)(e),pnrResponse:e}}))).then((function(e){n({type:m.c,cancelFlightReview:e.cancelFlightReview}),n({type:f.fe,pnrInfo:e.pnrResponse.pnr});var r=a(),i=Object(p.a)(r,l()(e,["pnrResponse","pnr","itinerary"]));if(i){var o=s()({},{awardBooking:i},t.query);n(Object(h.c)("URL_UPDATE_QUERY",t.pathname,o))}})).catch((function(e){return n({type:m.a,error:v({},e)})}));var r,i}}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(0),C=n.n(b),E=n(1),k=n.n(E),O=(n(6),n(194),n(11)),_=(n(1249),n(157)),P=n(1907),S=n(2195),N=n(2142),w=(n(2446),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCollapsed:n.isFeatureAncillaryExpanded()||C()(n.props.ancillariesConfiguration,"showSelectedFeaturedAncillaryInModal",!1)||!1}),n}return f()(t,e),s()(t,[{key:"onAddToCart",value:function(e,t){this.updateState(t),this.props.onAncillaryAddToCart()}},{key:"onClose",value:function(e,t){this.updateState(t),this.props.onAncillaryClose()}},{key:"onSelect",value:function(e,t){this.updateState(t),this.props.onAncillarySelected(e)}},{key:"isFeatureAncillaryExpanded",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration,a=C()(n.featuredOfferingCodes,t.code),r=C()(this.props.ancillariesConfiguration,"showSelectedFeaturedAncillaryInModal",!1),i=C()(a,"expanded",!1)&&t.code!==_.b.INSURANCE;return i&&!r&&this.props.onAncillarySelected(t.code),i}},{key:"updateState",value:function(e){e||this.setState((function(e){return{isCollapsed:!e.isCollapsed}}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.selectedAncillaryCode,r=n.ancillariesConfiguration,i=n.ancillary,s=n.renderWithAnimation,o=n.segmentEnabled,l=n.passengers,c=n.updateTotalForInsurance,u=n.journeyType,d=n.seatBundleAssignments,p=n.seatBundleRemoved,h=n.ancillaries,f=n.cartData,m=n.isMobile,v=n.bagAllowance,y=n.updateQuantityToCode,b=C()(i,"code"),E=C()(r,"items.".concat(b,".discount.isOriginalPriceDisplayed"),!1),O=C()(r,"items.".concat(b,".discount.isDealBannerDisplayed"),!1),w=C()(r,"showSelectedFeaturedAncillaryInModal",!1);w||b!==_.b.INSURANCE||(w=1===C()(i,"products").length);var A=w?w||b!==a:!this.state.isCollapsed;return k.a.createElement("div",{className:"dxp-ancillary-feature"},k.a.createElement(P.a,{destroyChildrenOnCollapse:t.isCarousal(i,r),isCollapsed:A,disabled:!0,hideHeaderIcon:!0},k.a.createElement(P.a.Header,null,k.a.createElement(S.a,{key:"ancillary-".concat(b),ancillary:i,isOriginalPriceDisplayed:E,isDealBannerDisplayed:O,onSelect:function(t){return e.onSelect(t,w)},ancillariesConfiguration:r,renderWithAnimation:s,segmentEnabled:o,isMobile:m,passengers:l,bagAllowance:v,retainedTotals:g()({},b,this.props.retainedTotal)})),k.a.createElement(P.a.Body,null,k.a.createElement(N.a,{updateTotalForInsurance:c,updateQuantityToCode:y,key:"ancillary-panel-".concat(b),ancillaries:h,ancillary:i,passengers:l,seatBundleAssignments:d,seatBundleRemoved:p,cartData:f,journeyType:u,isMobile:m,ancillariesConfiguration:r,isOriginalPriceDisplayed:E,isDealBannerDisplayed:O,onAncillaryClose:function(){return e.onClose()},onSelect:function(t){return e.props.onAncillarySelected(t)},segmentEnabled:o,onDisclosureClick:function(){return e.props.onDisclosureClick()},onAddToCart:function(){return e.onAddToCart()},onChange:this.props.onAncillaryChange,bagAllowance:v,excludedItineraryParts:this.props.excludedItineraryParts,retainedTotal:this.props.retainedTotal}))))}}],[{key:"isCarousal",value:function(e,t){return e.code===C()(t,"insurance.code")&&C()(t,"carousalPatternEnabled",!1)}}]),t}(E.Component));g()(w,"defaultProps",{selectedAncillaryCode:void 0,ancillary:void 0,ancillariesConfiguration:{},renderWithAnimation:!1,segmentEnabled:!1,passengers:void 0,journeyType:void 0,seatBundleAssignments:void 0,seatBundleRemoved:!1,ancillaries:void 0,cartData:void 0,onAncillarySelected:y.a,onDisclosureClick:void 0,onAncillaryAddToCart:void 0,onAncillaryClose:y.a,onAncillaryChange:void 0,isMobile:!1,updateQuantityToCode:void 0,bagAllowance:Object(O.Map)(),updateTotalForInsurance:void 0,excludedItineraryParts:Object(O.List)(),retainedTotal:[]}),n.d(t,"a",(function(){return w}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),C=n.n(b),E=n(560),k=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={error:void 0,isValid:!0},n}return p()(t,e),s()(t,[{key:"onChangeConfirmPassword",value:function(e,t){!g()(this.password)&&this.props.shouldConfirmPassword&&this.validatePassword(e,t)}},{key:"onChangePassword",value:function(e,t){!g()(this.confirmPassword)&&this.props.shouldConfirmPassword&&this.validatePassword(e,t)}},{key:"getLabel",value:function(e){return this.state.error?this.props.confirmPasswordError:e}},{key:"getValue",value:function(){return this.password&&this.password.getValue()}},{key:"checkIsEqual",value:function(){return!(this.confirmPassword.getValue().length>0)||this.password.getValue()===this.confirmPassword.getValue()}},{key:"isValid",value:function(){return this.password.isValid()&&(!this.props.shouldConfirmPassword||this.confirmPassword.isValid()&&this.validatePassword())}},{key:"validatePassword",value:function(){return this.checkIsEqual()?this.setState({isValid:!0,error:void 0}):this.setState({isValid:!1,error:this.props.confirmPasswordError}),this.checkIsEqual()}},{key:"renderConfirmationPassword",value:function(){var e=this,t=this.props,n=t.confirmPasswordLabel,a=t.validators;return y.a.createElement(E.a,{className:"dxp-confirm-password",ref:function(t){e.confirmPassword=t},isValid:this.state.isValid,error:this.state.error,label:this.getLabel(n),useLabelFeedback:!0,validators:a,onBlur:function(t){return e.onChangeConfirmPassword(t,"confirmPassword")}})}},{key:"renderPassword",value:function(){var e=this,t=this.props,n=t.defaultValue,a=t.passwordLabel,r=t.validators;return y.a.createElement(E.a,{className:"dxp-password",ref:function(t){e.password=t},keyProp:"password",defaultValue:n,label:a,useLabelFeedback:!0,validators:r,onBlur:function(t){return e.onChangePassword(t,"password")}})}},{key:"render",value:function(){return y.a.createElement("div",{className:C()("dxp-password-group",this.props.className)},this.renderPassword(),this.props.shouldConfirmPassword&&this.renderConfirmationPassword())}}]),t}(v.Component);f()(k,"defaultProps",{className:"",confirmPasswordError:"baseWidgets.confirmPassword.isNotEqual",shouldConfirmPassword:!1}),n.d(t,"a",(function(){return k}))},function(e,t,n){"use strict";var a=n(176),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(2448),"star-empty"),l="star-filled",c="star-half-filled";function u(e){var t=e.starsValue,n=e.starsNumber,a=r()(n).map((function(e){var n;return t>e?t-e==.5?(n=e,s.a.createElement("div",{key:n,className:"star ".concat(o)},s.a.createElement("div",{className:"star ".concat(c)}))):d(e,l):d(e,o)}));return s.a.createElement("div",{className:"stars-indicator"},a)}function d(e,t){return s.a.createElement("div",{key:e,className:"star ".concat(t)})}u.defaultProps={starsNumber:5};var p=u;n.d(t,"a",(function(){return p}))},,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(42),l=n(11),c=n(1593),u=n(214),d=n(1892),p=n(569),h=n(1567),f=n(101),m=n(531),g=n(532),v=n(174),y=n(327),b=n(328),C=n(438),E=n(2),k=n.n(E),O=n(10),_=n(60);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return U}));var S=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("exchangeAncillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},N=function(e){return e.ancillaries.get("isLoading")},w=function(e){return e.ancillaries.get("isAncillaries")},A=function(e){return s()(e.ancillaries,"toJS")},T=function(e,t){return e.metadata.getIn(["flows",Object(f.a)(t.location.pathname)])},I=function(e,t){return Object(f.a)(t.location.pathname)},D=function(e){return e.notPreselectedAncillaries||[]},x=function(e){return e.changeFlight||e.reservation.get("itineraryPart")},j=function(e){return e.shoppingCart.toJS()},L=function(e){return e.ancillaries.get("error")},F=function(e){return e.bagfee.get("bagAllowance",Object(l.Map)())},B=function(e){return e.metadata.get("viewBreakPoint")},R=function(e){return e.metadata.get("seatOfferCodesForReAssociationMessage").toArray()},M=function(e){var t=e.shoppingCart.getIn(["data","itineraryPartAirports"],Object(l.List)()),n=e.shoppingCart.getIn(["data","selectedOfferAirports"],Object(l.List)());return t.filter((function(e){return!n.some((function(t){return t.get("origin")===e.get("origin")&&t.get("destination")===e.get("destination")}))})).map((function(e){return"".concat(e.get("origin"),"_").concat(e.get("destination"))}))},V=function(e){return function(e){var t=e.ancillaries.get("ancillaries",Object(l.Map)()),n=(e.shoppingCart.getIn(["data","originalBooking"],Object(l.List)()).find((function(e){return e.get("label")===O.F}))||Object(l.Map)()).get("breakdownElements",Object(l.List)());return t.reduce((function(e,t,a){if(t.has("ancillaries")){var r=t.get("ancillaries",Object(l.List)()).map((function(e){return e.get("code")}));return e[a]=n.reduce((function(e,t){return r.contains(t.get("label"))?Object(_.c)(e,t.get("price").toJS()):e}),[]),e}var i=n.filter((function(e){return e.get("label")===a})).reduce((function(e,t){return Object(_.c)(e,t.get("price").toJS())}),[]);return k()(i)||(e[a]=i),e}),{})}(e)};function U(){return Object(o.b)({ancillariesConfiguration:S,isLoading:N,isAncillaries:w,flightIds:Object(c.a)(),selectedItineraryParts:Object(p.a)(),ancillaries:A,journeyType:Object(d.a)(),flowConfiguration:T,searchCriteria:Object(u.a)(),itineraryParts:x,error:L,shoppingCart:j,notPreselectedAncillaries:D,bagAllowance:F,viewBreakPoint:B,background:Object(m.a)(),currentFlow:I,getNextPage:g.a,currentPage:v.b,language:y.a,dateFormat:b.b,getBackLinkProps:C.a,cancelProps:C.b,excludedItineraryParts:M,seatOfferCodesForReAssociation:R,retainedTotals:V,seatAncillaries:h.a})}},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(0),y=n.n(v),b=n(1),C=n.n(b),E=n(6),k=n(17),O=n.n(k),_=n(12),P=n(11),S=(n(194),n(129)),N=n(529),w=n(326),A=n(2070),T=n(1912),I=n(153),D=n(114),x=(n(2761),n(2762),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getFormattedExpirationDate",value:function(){var e=this.props,t=e.configuration,n=e.defaultLocale;return y()(t,"expirationDate.isEnabled",!1)&&!g()(this.expirationDate.getValue())?O()(this.expirationDate.getValue(),y()(t,"expirationDate.dateFormat")).locale(n).format("YYYY-MM-DD"):""}},{key:"getValue",value:function(){var e=this.props.configuration;return{documentInfo:{documentType:y()(e,"documentType.isEnabled",!1)?this.documentType.getValue():null,documentNumber:y()(e,"documentNumber.isEnabled",!1)?this.documentNumber.getValue():"",issuingCountry:y()(e,"issuingCountry.isEnabled",!1)?this.issuingCountry.getValue():null,expirationDate:this.getFormattedExpirationDate(),nationality:y()(e,"nationality.isEnabled",!1)?this.nationality.getValue():null,countryOfBirth:y()(e,"placeOfBirth.isEnabled",!1)?this.placeOfBirth.getValue():null}}}},{key:"isValid",value:function(){var e=this.props.configuration,t={documentType:y()(e,"documentType.isEnabled",!1),documentNumber:y()(e,"documentNumber.isEnabled",!1),issuingCountry:y()(e,"issuingCountry.isEnabled",!1),expirationDate:y()(e,"expirationDate.isEnabled",!1),nationality:y()(e,"nationality.isEnabled",!1),placeOfBirth:y()(e,"placeOfBirth.isEnabled",!1)};return Object(I.c)(t,{documentType:this.documentType,documentNumber:this.documentNumber,issuingCountry:this.issuingCountry,expirationDate:this.expirationDate,nationality:this.nationality,placeOfBirth:this.placeOfBirth})}},{key:"renderDocumentNumber",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.serverValidationErrors;return C.a.createElement(S.a,{label:"".concat(Object(_.i)("passengers.documentNumber.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(I.b)(n.documentNumber.validators)})),keyProp:"documentNumber",defaultValue:y()(this.props,"defaultValue.documentNumber"),validators:n.documentNumber.validators,useLabelFeedback:!0,ref:function(t){e.documentNumber=t},disabled:!y()(n,"documentNumber.isEditable",!0),className:"documentNumber",id:"".concat(a,"-documentNumber"),isValid:!r.has("documentNumber"),error:r.get("documentNumber")})}},{key:"renderDocumentType",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.serverValidationErrors,i=Object(D.j)("documentType",n);return C.a.createElement(N.a,{label:"".concat(Object(_.i)("passengers.documentType.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(I.b)(n.documentType.validators)})),keyProp:"documentType",useLabelFeedback:!0,options:i,defaultValue:y()(this.props,"defaultValue.documentType")&&"".concat(y()(this.props,"defaultValue.documentType").toUpperCase()),ref:function(t){e.documentType=t},disabled:!y()(n,"documentType.isEditable",!0),className:"documentType",validators:n.documentType.validators,id:"".concat(a,"-documentType"),isValid:!r.has("documentType"),error:r.get("documentType")})}},{key:"renderExpirationDate",value:function(){var e=this,t=this.context.language,n=this.props,a=n.configuration,r=n.id,i=n.serverValidationErrors,s=a.expirationDate,o=void 0===s?{}:s,l=o.validators||[],c=y()(o,"dateFormat","YYYY-MM-DD"),u=y()(o,"inputType","text"),d=y()(o,"minDate",O()().format(c)),p=y()(o,"yearRangeMax",20),h=y()(o,"maxDate",O()().add(p,"years").format(c)),f=g()(y()(this.props,"defaultValue.expirationDate"))?{}:O()(y()(this.props,"defaultValue.expirationDate")).locale(this.props.defaultLocale),m=g()(f)?y()(this,"expirationDate")&&y()(this,"expirationDate").getValue():f,v=g()(y()(this.props,"defaultValue.expirationDate"))?"":O()(y()(this.props,"defaultValue.expirationDate")).format(c),b=y()(a,"expirationDate.isDateField")?m:v;return C.a.createElement(A.a,{ref:function(t){e.expirationDate=t},id:"".concat(r,"-documentExpirationDate"),dateFormat:c,label:"".concat(Object(_.i)("passengers.expirationDate.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(I.b)(l)})),defaultLocale:t,className:"expirationDate",keyProp:"expirationDate",defaultValue:b,minDate:d,maxDate:h,isValidProp:!i.has("expirationDate"),error:i.get("expirationDate"),useLabelFeedback:!0,inputType:u,displayYearOptionsAscending:!0,configuration:y()(a,"expirationDate")})}},{key:"renderIssuingCountry",value:function(){var e=this,t=this.props,n=t.configuration,a=t.countries,r=t.id,i=t.serverValidationErrors;return C.a.createElement(w.a,{label:"".concat(Object(_.i)("passengers.issuingCountry.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(I.b)(n.issuingCountry.validators)})),keyProp:"issuingCountry",options:a,defaultValue:y()(this.props,"defaultValue.issuingCountry"),validators:n.issuingCountry.validators,useLabelFeedback:!0,ref:function(t){e.issuingCountry=t},disabled:!y()(n,"issuingCountry.isEditable",!0),className:"issuingCountry",id:"".concat(r,"-documentIssuingCountry"),isValid:!i.has("issuingCountry"),error:i.get("issuingCountry")})}},{key:"renderNationality",value:function(){var e=this,t=this.props,n=t.configuration,a=t.countries,r=t.id,i=t.serverValidationErrors;return C.a.createElement(w.a,{label:"".concat(Object(_.i)("passengers.nationality.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(I.b)(n.nationality.validators)})),keyProp:"nationality",options:a,defaultValue:y()(this.props,"defaultValue.nationality"),validators:n.nationality.validators,useLabelFeedback:!0,ref:function(t){e.nationality=t},disabled:!y()(n,"nationality.isEditable",!0),className:"nationality",id:"".concat(r,"-nationality"),isValid:!i.has("nationality"),error:i.get("nationality")})}},{key:"renderPlaceOfBirth",value:function(){var e=this,t=this.props,n=t.configuration,a=t.countries,r=t.id,i=t.serverValidationErrors;return C.a.createElement(w.a,{label:"".concat(Object(_.i)("passengers.placeOfBirth.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(I.b)(n.placeOfBirth.validators)})),keyProp:"placeOfBirth",options:a,defaultValue:y()(this.props,"defaultValue.countryOfBirth"),validators:n.placeOfBirth.validators,useLabelFeedback:!0,ref:function(t){e.placeOfBirth=t},disabled:!y()(n,"placeOfBirth.isEditable",!0),className:"placeOfBirth",id:"".concat(r,"-placeOfBirth"),isValid:!i.has("placeOfBirth"),error:i.get("placeOfBirth")})}},{key:"render",value:function(){var e=this.props.configuration;return C.a.createElement(T.a,{sectionName:"travel-document-info",title:"passengers.sections.travelDocumentInfo"},y()(e,"documentType.isEnabled",!1)&&this.renderDocumentType(),y()(e,"documentNumber.isEnabled",!1)&&this.renderDocumentNumber(),y()(e,"issuingCountry.isEnabled",!1)&&this.renderIssuingCountry(),y()(e,"expirationDate.isEnabled",!1)&&this.renderExpirationDate(),y()(e,"nationality.isEnabled",!1)&&this.renderNationality(),y()(e,"placeOfBirth.isEnabled",!1)&&this.renderPlaceOfBirth())}}]),t}(b.Component));f()(x,"contextTypes",{language:E.string}),f()(x,"defaultProps",{serverValidationErrors:Object(P.Map)()}),n.d(t,"a",(function(){return x}))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n(2),r=n.n(a),i=n(18),s=n.n(i),o=n(16),l=n.n(o),c=n(0),u=n.n(c),d=n(38),p=n.n(d),h=n(17),f=n.n(h),m=function(e){return p()(e,"firstName","lastName","prefix","middleName","maidenName","suffix")};var g=function(e){var t=p()(e,"dateOfBirth","gender","redressNumber","knownTravelerNumber","emails","phones","addresses"),n=function(e){return e.addresses?e.addresses:e.address?[e.address]:[]}(e);return l()({},t,{addresses:n})},v=function(e){var t={userDetails:m(e),userInfo:g(e),consents:u()(e,"consents",[]),username:e.username,userID:e.userID,dateModified:f()(e.dateModified).format(),frequentFlyers:u()(e,"frequentFlyers",[]),travelDocument:u()(e,"documentInfo",{}),userCreditCards:u()(e,"userCreditCards",[]).filter((function(e){return!r()(e)}))};return e.password&&e.oldPassword&&(t=s()(t,{password:e.password,oldPassword:e.oldPassword})),t},y=function(e){return{userDetails:m(e),userInfo:g(e),userID:e.memberId,dateModified:f()(e.dateModified).format(),frequentFlyers:u()(e,"singleFrequentFlyer",[]),travelDocument:u()(e,"documentInfo",{})}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),i=n(5),s=n.n(i),o=n(12);function l(e){var t=r()(e,"countries",[]);return s()(t,(function(e){var t="".concat("country",".").concat(e.code),n=Object(o.i)(t);return{value:e.code,label:n}}))}},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return de}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(52),y=n.n(v),b=n(23),C=n.n(b),E=n(707),k=n.n(E),O=n(122),_=n.n(O),P=n(336),S=n.n(P),N=n(21),w=n.n(N),A=n(77),T=n.n(A),I=n(19),D=n.n(I),x=n(2),j=n.n(x),L=n(16),F=n.n(L),B=n(79),R=n.n(B),M=n(37),V=n.n(M),U=n(0),q=n.n(U),H=n(1),W=n.n(H),G=n(6),K=n(158),z=n.n(K),Y=n(194),Q=n.n(Y),X=n(524),J=n(2393),$=n(1289),Z=n(1986),ee=n(2757),te=n(125),ne=n(325),ae=n(12),re=n(3328),ie=n(3306),se=n(3330),oe=n(1290),le=n(1949),ce=n(3305),ue=n(3314),de=(n(2774),n(2775),function(t){function n(e){var t;return r()(this,n),t=l()(this,u()(n).call(this,e)),g()(p()(t),"updateFullName",(function(e){t.setState({fullName:e})})),g()(p()(t),"onScroll",(function(){if(t.node){var e=t.node.getBoundingClientRect(),n=e.top,a=e.bottom,r=e.width,i=document.querySelector(".ducp-component-breadcrumbs"),s=i?i.getBoundingClientRect().height:0,o=t.node.querySelector(".passenger-summary"),l=o.getBoundingClientRect().height,c=t.node.querySelector(".spacer"),u=n<=s;o.style.width=u?"".concat(r,"px"):"100%",c.style.height=u?"".concat(l,"px"):"";var d=a<l+s?s-(l-(a-s)):s;o.style.top="".concat(d,"px"),t.node.setAttribute("fixed",u)}else t.node.setAttribute("fixed",!1)})),g()(p()(t),"updateControlFields",(function(e,n,a,r){var i=t.props.type,s=r.excludePassengerTypes;return t.setState({selectedValue:a}),!w()(s,i)&&Object(le.b)(e,r)&&Object(le.a)(r[e],a,n,t.form)})),g()(p()(t),"onAddSectionClick",(function(e){t.setState((function(t){return{enabledFormSections:R()(t.enabledFormSections,e)}})),"specialRequestsInfo"===e&&t.props.onAddSectionClick()})),g()(p()(t),"onRemoveSectionClick",(function(e){var n=t.state,a=n.controlSections,r=n.enabledFormSections,i=w()(a,e)?S()(r,a):D()(r,(function(t){return t!==e}));t.setState({enabledFormSections:i}),e===ee.a.FREQUENT_FLYER_INFO&&t.props.onFrequentFlyerChange({frequentFlyer:[]},t.props.id),"specialRequestsInfo"===e&&t.props.onDeleteAdditionalInfo()})),t.state={enabledFormSections:t.getEnabledSections(e.data),requiredSections:t.getRequiredSections(),isFixed:!1,fullName:e.fullName,selectedValue:"",callbackAfterUpdate:_.a,backUpValidators:{}},t.form={getEnabledSections:function(){return t.state.enabledFormSections},setEnabledSections:function(e){return t.setState({enabledFormSections:e})},getBackedUpSections:function(){return t.state.backedUpSections},backUpEnabledSections:function(e){return t.setState({backedUpSections:e})},setBackUpValidators:function(e){return t.setState({backUpValidators:e})},getBackUpValidators:function(){return t.state.backUpValidators},controlledFieldSections:function(e){return t.setState({controlSections:e})}},t}return f()(n,t),s()(n,[{key:"getRequiredSections",value:function(){var e=this.getConfiguration();return D()(e.passengerFormSections,(function(e){return e.isEnabled&&e.isRequired})).map((function(e){return e.name}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){T()(e.data,this.props.data)||this.setState({enabledFormSections:this.getEnabledSections(e.data)})}},{key:"componentDidUpdate",value:function(e){e.fullName!==this.props.fullName&&this.updateFullName(this.props.fullName)}},{key:"componentDidMount",value:function(){e.addEventListener("scroll",this.onScroll),e.addEventListener("resize",this.onScroll)}},{key:"componentWillUnmount",value:function(){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onScroll)}},{key:"getEnabledSections",value:function(e){var t=this.getConfiguration();if(!j()(e)){var n=D()(t.passengerFormSections,(function(e){return!e.isRequired&&e.isEnabled}));return Object($.g)(n,e,t)}return this.getRequiredSections()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.configuration,r=t.isFirst,i=t.type,s=t.flow,o=t.id,l=t.isUserLoggedIn,c=t.provinces,u=t.defaultLocale,d=t.dateFormat,p=t.clearSignInInfo,h=t.idToExpand,f=t.validations,m=t.isSignedIn,g=t.isCreateAccountEnabled,v=t.rememberedFirstNames,b=t.multiFrequentFlyerData,C=t.savePassenger,E=t.isAuthorable,k=t.filterRememberedPassengersInLocalStorage,O=t.itineraryParts,_=t.serverValidationErrors,P=t.passengerTypeData,N=t.frequentFlyer,w=t.phoneCountryCodes,A=q()(a,"isCreateProfileEnabled",!1),T=q()(a,"isUpdateProfileEnabled",!1),I=this.getConfiguration(),x=D()(I.passengerFormSections,(function(e){return e.isEnabled&&e.isRequired})).map((function(e){return e.name})),j=-1!==y()(x,"secureFlightInfo");return W.a.createElement("div",{className:"dxp-passenger-list-item","data-test-id":Z.d,id:o,ref:function(t){e.node=t}},W.a.createElement(X.a,{className:"no-padding basic-info-panel"},W.a.createElement(ue.a,{data:n,passengerTypeData:P,configuration:a.passengerSummary,isFirst:r,fullName:this.state.fullName||this.props.fullName,type:i,flow:s,dateFormat:d,defaultLocale:u,isUserLoggedIn:l,clearSignInInfo:p,frequentFlyer:N.get(o)}),W.a.createElement("div",{className:"spacer"}),W.a.createElement("div",{className:"passenger-disclaimer passenger-disclaimer-".concat(i)},Object(ae.a)("passengers.disclaimers.".concat(i))),W.a.createElement(ce.a,{filterRememberedPassengersInLocalStorage:k,idToExpand:h,id:o,data:n,configuration:I,isFirst:r,fullName:this.state.fullName||this.props.fullName,type:i,dateFormat:d,defaultLocale:u,isUserLoggedIn:l,isSignedIn:m,isCreateAccountEnabled:g,rememberedFirstNames:v,multiFrequentFlyerData:b,savePassenger:C,clearSignInInfo:p,isAuthorable:E,isCreateProfileEnabled:A,isUpdateProfileEnabled:T,ref:function(t){e.form.passengerForm=t},provinces:c,validations:f,updateFullName:this.updateFullName,itineraryParts:O,isRememberMeEnabled:a.rememberMe.isEnabled,controlFieldsConfiguration:a.controlFields,personNameSortOrder:a.personNameSortOrder,isPassengerInfoEditable:a.isPassengerInfoEditable,serverValidationErrors:_,form:this.form,handleCheckBox:this.props.handleCheckBox,isAccountCreated:this.props.isAccountCreated,isSecureFlight:j}),W.a.createElement(se.a,{ref:function(t){e.form.passengerRequiredAdditionalInfoPanel=t},className:"required-info",enabledFormSections:this.state.requiredSections,data:n,type:i,id:"required-".concat(o),dateFormat:this.props.dateFormat,controlFieldsConfiguration:a.controlFields,configuration:I,defaultLocale:this.props.defaultLocale,countries:Object(J.a)(c),provinces:c,validations:f,serverValidationErrors:_,multiFrequentFlyerData:b,form:this.form,onFrequentFlyerChange:this.props.onFrequentFlyerChange,passengerId:o,phoneCountryCodes:w,selectedValue:this.state.selectedValue,updateControlFields:this.updateControlFields}),!z.a.mobile&&W.a.createElement(re.a,{ref:function(t){e.form.passengerAdditionalInfoButtons=t},configuration:I.passengerFormSections,onAddSectionClick:this.onAddSectionClick,enabledFormSections:S()(this.state.enabledFormSections,this.state.requiredSections),onRemoveSectionClick:this.onRemoveSectionClick,form:this.form,updateControlFields:this.updateControlFields}),z.a.mobile&&W.a.createElement(ie.a,{ref:function(t){e.form.passengerAdditionalInfoButtonsMobile=t},id:o,onAddSectionClick:this.onAddSectionClick,onRemoveSectionClick:this.onRemoveSectionClick,enabledFormSections:this.state.enabledFormSections,data:n,dateFormat:this.props.dateFormat,controlFieldsConfiguration:a.controlFields,configuration:I,defaultLocale:this.props.defaultLocale,countries:Object(J.a)(c),provinces:c,form:this.form,phoneCountryCodes:w,selectedValue:this.state.selectedValue,type:i,updateControlFields:this.updateControlFields,onAdditionalInfoChange:function(t,n){return e.props.onAdditionalInfoChange(t,n)}})),!z.a.mobile&&W.a.createElement(se.a,{ref:function(t){e.form.passengerAdditionalInfoPanel=t},enabledFormSections:S()(this.state.enabledFormSections,this.state.requiredSections),data:n,type:i,id:"optional-".concat(o),dateFormat:this.props.dateFormat,controlFieldsConfiguration:a.controlFields,configuration:I,defaultLocale:this.props.defaultLocale,countries:Object(J.a)(c),provinces:c,validations:f,serverValidationErrors:_,multiFrequentFlyerData:b,form:this.form,onFrequentFlyerChange:this.props.onFrequentFlyerChange,onAdditionalInfoChange:function(t,n){return e.props.onAdditionalInfoChange(t,n)},passengerId:o,phoneCountryCodes:w,updateControlFields:this.updateControlFields,selectedValue:this.state.selectedValue}))}},{key:"getConfiguration",value:function(){var e=this.props,t=e.type,n=e.configuration,a=e.isFirst;return t===n.adultPassengerType&&a?k()({},q()(n,"passengerForm.".concat(t)),q()(n,"passengerForm.".concat(t,"1")),(function(e,t){return C()(t)?t:void 0})):t===te.a.CMA||t===te.a.CMP?V()({},q()(n,"passengerForm.".concat(n.adultPassengerType)),q()(n,"passengerForm.".concat(t))):q()(n,"passengerForm.".concat(t))}},{key:"isValid",value:function(){return this.form.passengerForm.isValid()&&this.form.passengerRequiredAdditionalInfoPanel.isValid()&&(this.form.passengerAdditionalInfoPanel&&this.form.passengerAdditionalInfoPanel.isValid()||this.form.passengerAdditionalInfoButtonsMobile&&this.form.passengerAdditionalInfoButtonsMobile.isValid())}},{key:"getValue",value:function(){var e=z.a.mobile?this.form.passengerAdditionalInfoButtonsMobile.getValue():this.form.passengerAdditionalInfoPanel.getValue();return F()({},this.form.passengerForm.getValue(),e,this.form.passengerRequiredAdditionalInfoPanel.getValue())}}]),n}(ne.a));g()(de,"propTypes",{id:G.string,data:Object(G.shape)({}),configuration:Object(G.shape)({}),isFirst:G.bool,fullName:G.string,type:G.string,flow:G.string,dateFormat:G.string,defaultLocale:G.string,isUserLoggedIn:G.bool,isSignedIn:G.bool,isCreateAccountEnabled:G.bool,rememberedFirstNames:Object(G.arrayOf)(G.string),multiFrequentFlyerData:Object(G.shape)({}),clearSignInInfo:G.func,itineraryParts:Object(G.arrayOf)(Object(G.shape)({})).isRequired,filterRememberedPassengersInLocalStorage:G.func,provinces:Object(G.shape)({}).isRequired,validations:Object(G.shape)({}).isRequired,serverValidationErrors:Q.a.map,onFrequentFlyerChange:G.func.isRequired,frequentFlyer:Q.a.map.isRequired,phoneCountryCodes:oe.b.isRequired,isAccountCreated:G.bool.isRequired,handleCheckBox:G.func,onAdditionalInfoChange:G.func}),g()(de,"defaultProps",{basicInfoDisabled:!1,onAdditionalInfoChange:function(){}})}).call(this,n(41))},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(3),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(52),g=n.n(m),v=n(13),y=n.n(v),b=n(4),C=n.n(b),E=n(0),k=n.n(E),O=n(1),_=n.n(O),P=n(114),S=n(524),N=n(528),w=n(88),A=n(1608),T=n(50),I=n(12);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var x=function(e){function t(e){var n;return s()(this,t),(n=l()(this,u()(t).call(this,e))).updateProfileCheckbox=_.a.createRef(),n.state=t.getDefaultState(e),n}return f()(t,e),p()(t,null,[{key:"getDefaultState",value:function(e){var n=C()(e.configuration.consents,(function(e,t){return e[t.label]=t.isPreselected,e}),{}),a=t.getPreferences(e.passengerInfo);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{allRequiredConsentsChecked:t.checkAllRequiredConsents(n,t.getApplicableConsents(a,e.configuration)),preferences:a})}},{key:"checkAllRequiredConsents",value:function(e,t){var n=!0;return t.filter((function(e){return!e.isOptional})).map((function(t){e[t.label]||(n=!1)})),n}},{key:"getApplicableConsents",value:function(e,t){return C()(t.consents,(function(t,n){if(n.visibleWhen){var a=!1;y()(n.visibleWhen,(function(t){y()(e,(function(e){var r=k()(e,t,"");""!==r&&-1===g()(n.excludeSsrs,r)&&(a=!0)}))})),a&&t.push(n)}else t.push(n);return t}),[])}},{key:"getPreferences",value:function(e){return C()(e,(function(e,t,n){return e[n]={mealPreference:k()(t,"mealPreference","")||k()(t,"travelPreferences.mealPreference",""),seatPreference:k()(t,"seatPreference","")||k()(t,"travelPreferences.seatPreference",""),specialRequest0:k()(t,"specialRequests[0]","")||k()(t,"travelPreferences.specialRequests[0]",""),specialRequest1:k()(t,"specialRequests[1]","")||k()(t,"travelPreferences.specialRequests[1]","")},e}),{})}}]),p()(t,[{key:"componentDidUpdate",value:function(e){if(!Object(P.c)(this.props.passengerInfo,e.passengerInfo)){var n=t.getPreferences(this.props.passengerInfo);this.setState({preferences:n,allRequiredConsentsChecked:t.checkAllRequiredConsents(this.state,t.getApplicableConsents(n,this.props.configuration))})}}},{key:"render",value:function(){var e=this.props,t=e.isSignedIn,n=e.configuration,a=e.showSkipSeatSelectionButton,r=e.nextPageTitle,i=e.onBackLinkProps,s=e.handleProceed;return _.a.createElement("div",{className:"page-actions",id:"dxp-page-navigation-buttons"},_.a.createElement(S.a,null,_.a.createElement("div",{className:"dxp-consents"},this.renderConsents(),t&&n.isUpdateProfileEnabled&&_.a.createElement("div",{className:"dxp-update-profile"},_.a.createElement(N.a,{id:"dxp-update-profile-checkbox",label:"passengers.updateMyProfile",ref:this.updateProfileCheckbox}))),_.a.createElement("div",{className:"page-actions-buttons-container"},_.a.createElement(w.a,{className:"dxp-passenger-view-back secondary medium",onClick:i,id:A.c},_.a.createElement(T.c,{name:T.a.ARROW_BASIC_LEFT,srOnlyText:Object(I.i)("passengers.back")})),a&&_.a.createElement(w.a,{id:A.d,disabled:!this.state.allRequiredConsentsChecked,className:"dxp-passenger-view-skip secondary medium",onClick:function(){return s(k()(n,"skipToPage","/ancillaries"),!0)}},Object(I.a)("passengers.skipSeatSelection")),_.a.createElement(w.a,{id:A.b,disabled:!this.state.allRequiredConsentsChecked,className:"dxp-passenger-view-continue primary medium",onClick:function(){return s(k()(n,"nextPage","/seat-selection"),!1)}},Object(I.a)("app.continue",{pageName:r})))))}},{key:"renderConsents",value:function(){var e=this;return t.getApplicableConsents(this.state.preferences,this.props.configuration).map((function(t){return _.a.createElement(N.a,{id:"".concat(t.label,"-checkbox"),onChange:function(n,a){return e.toggleConsent(t.label,a)},checked:e.state[t.label],translatedLabel:Object(I.a)("passengers.consents.".concat(t.label),{optional:t.isOptional?"":'<span class="red-mark">*</span>'})})}))}},{key:"toggleConsent",value:function(e,t){var n=this;this.setState(r()({},e,t),(function(){return n.checkRequiredConsents()}))}},{key:"checkRequiredConsents",value:function(){this.setState((function(e,n){return{allRequiredConsentsChecked:t.checkAllRequiredConsents(e,t.getApplicableConsents(e.preferences,n.configuration))}}))}},{key:"deleteAdditionalInfo",value:function(e){var t=this.state.preferences;delete t[e],this.setState({preferences:t},this.checkRequiredConsents())}},{key:"onAddSectionClick",value:function(e){var t=k()(this.state,"preferences[".concat(e,"]"),{}),n=k()(this.props,"passengerInfo[".concat(e,"]"),{});t.mealPreference=k()(n,"mealPreference",""),t.specialRequest0=k()(n,"specialRequests[0]",""),t.specialRequest1=k()(n,"specialRequests[1]","");var a=this.state.preferences;a[e]=t,this.setState({preferences:a},this.checkRequiredConsents())}},{key:"updateAdditionalInfo",value:function(e,t,n){var a=k()(this.state,"preferences[".concat(e,"]"),{});a[t]=n;var r=this.state.preferences;r[e]=a,this.setState({preferences:r},this.checkRequiredConsents())}}]),t}(O.Component)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _e}));var a=n(54),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(8),C=n.n(b),E=n(51),k=n.n(E),O=n(245),_=n.n(O),P=n(122),S=n.n(P),N=n(55),w=n.n(N),A=n(21),T=n.n(A),I=n(156),D=n.n(I),x=n(336),j=n.n(x),L=n(36),F=n.n(L),B=n(2),R=n.n(B),M=n(49),V=n.n(M),U=n(27),q=n.n(U),H=n(15),W=n.n(H),G=n(16),K=n.n(G),z=n(0),Y=n.n(z),Q=n(1),X=n.n(Q),J=(n(6),n(194),n(160)),$=n(11),Z=n(12),ee=n(1988),te=n(2005),ne=n(10),ae=n(2053),re=n(114),ie=n(9),se=n(148),oe=n(154),le=n(346),ce=n(47),ue=n(521),de=n(3298),pe=n(136),he=n(1249),fe=(n(1290),n(3309)),me=n(3308),ge=n(3331),ve=n(3297),ye=n(3315),be=n(3299),Ce=n(3307),Ee=n(3304),ke=n(2150);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _e=function(t){function n(t,a){var r;return s()(this,n),r=l()(this,u()(n).call(this,t,a)),y()(p()(r),"onRenderCloseClick",(function(){r.closeModal(r.state.modalOnClose)})),y()(p()(r),"getRedirectUrl",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.props.selectedHoldOption,s=K()({},{pathname:r.props.location.pathname},r.props.location.query,{execution:r.props.getExecutionKey()},t,a,R()(i)?{}:{holdOptionId:i.optionId}),o=e.location.port?":".concat(e.location.port):"",l=e.location.origin?e.location.origin:"".concat(e.location.protocol,"//").concat(e.location.hostname).concat(o),c=l+e.location.pathname;return n.shouldGoToRemoteReturn(t.paymentType)?encodeURI("".concat(c,"#").concat(Object(J.e)({pathname:"/remote-return",search:"?".concat(Object(re.l)(s))}))):t.paymentType===r.props.PAYMENT_TYPES.AFOP?encodeURI(c+Object(J.e)({pathname:Object(ie.k)("remoteAfopReturn"),search:"?".concat(Object(re.l)(s))})):encodeURI(c+Object(J.e)({pathname:Object(ie.k)("remoteReturn"),search:"?".concat(Object(re.l)(s))}))})),y()(p()(r),"closeModal",(function(e){r.setState({isModalOpen:!1},(function(){return e&&e()}))})),y()(p()(r),"handlePurchase",(function(){var e=r.props,t=e.paymentSelected,n=e.processPayment,a=r.currentSelectedFop.current;if(!r.isInsuranceSelected())return r.props.setInsuranceSelectionRequired(!0);var i=r.ABNACNPayment.current,s=!0;return!_()(Y()(i,"ABNACNFormRef.current"))&&(s=i.apply()),!t&&a&&a.isValid()&&s?a.apply().then(n).catch(S.a):t&&s?n():void 0})),y()(p()(r),"hasEnteredData",(function(){return!!Y()(r.props,"configuration.showWarningOnFormNavigation",!1)&&(r.currentSelectedFop.current&&r.currentSelectedFop.current.hasEnteredData())})),y()(p()(r),"renderModal",(function(e,t,n){r.setState({isModalOpen:!0,modalTitle:e,modalBody:t,modalOnClose:n})})),y()(p()(r),"selectBNPL",(function(e){var t=Y()(r.props.configuration,"BNPL");!R()(e)&&Y()(t,"dropInsuranceOnBNPL")&&-1!==r.props.productTypes.indexOf(ne.y)?r.renderModal("",r.renderRemoveBnplModal(e)):r.applyBNPL(e)})),y()(p()(r),"selectPayment",(function(e){var t=e.productType,n=r.state.selectedPaymentType,a=r.buildProductsToDrop(e);return R()(t)||R()(a)?(r.setState({selectedPaymentType:void 0}),new Promise((function(t){return r.updateQuery(e,t)})).catch((function(){return r.setState({selectedPaymentType:n})}))):new Promise((function(e,t){r.renderModal("",r.renderRemoveProductModal(a,e,t))})).then((function(){return r.setState({selectedPaymentType:void 0}),r.removeProductsAndUpdateQuery(a,e)})).catch((function(e){throw r.setState({selectedPaymentType:n}),e}))})),y()(p()(r),"selectPaymentOption",(function(e){return r.setState({selectedPaymentType:e})})),y()(p()(r),"findMatchedPayment",(function(e,t){return W()(e,(function(e){return e.paymentType===t.paymentType&&e.subCode===t.subCode}))})),r.currentSelectedFop=X.a.createRef(),r.ABNACNPayment=X.a.createRef(),r.paymentRibbon=X.a.createRef(),r.state={isModalOpen:!1,modalTitle:"",modalBody:!1,selectedPaymentType:void 0},r}return g()(n,t),f()(n,null,[{key:"shouldGoToRemoteReturn",value:function(e){var t;return(t={},y()(t,oe.b.PAY_PAL,!0),y()(t,oe.b.POLI,!0),y()(t,ce.i.POLI,!0),y()(t,ce.i.PAY_PAL,!0),t)[e]||!1}}]),f()(n,[{key:"getCreditCards",value:function(e,t,n,a){var r=[],i=oe.b.CREDIT_CARD,s=Y()(this.props.configuration,"unGroupedCreditCards.prependGroupedCreditCards",!1),o=n.map((function(e){return a(i,e,Object(oe.h)(i,e))})),l=a(i,t);return s?r.concat(o).concat(l):r.concat(l).concat(o)}},{key:"getPaymentDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.props.getPaymentDetails(e,t,this.props.currentFlow)}},{key:"getPaymentDetailsByType",value:function(e){return this.props.paymentDetails[e]||{}}},{key:"getPaymentOptions",value:function(){var e=this.props,t=e.paymentOptions,n=e.paymentQuery,a=e.selectedHoldOption;return R()(n)?R()(a)?Y()(t,"paymentCodesByType",{}):Y()(a,"paymentMethods",{}):Y()(F()(n),"combinablePaymentOptions",{})}},{key:"getPaymentProductByType",value:function(e){var t=this.props,n=t.paymentQuery,a=t.selectedHoldOption,r=Y()(F()(n),"combinablePaymentOptions[".concat(e,"]"),!1),i=Y()(a,"paymentMethods.".concat(e),[]),s=Y()(this.props.paymentOptions,"paymentCodesByType[".concat(e,"]"),[]);return r||(R()(a)?s:i)}},{key:"getPaymentType",value:function(e){return Y()(this.props.configuration,"FOP.".concat(oe.b.SMARTLINK,".enabled"),!1)&&Object(oe.j)(e)?oe.b.SMARTLINK:e.paymentType}},{key:"getPaymentTypeToRender",value:function(e){var t=this.state.selectedPaymentType;if(t){var n=this.findMatchedPayment(e,t);return n||t}var a=this.props.configuration.defaultSelectedPayment,r=void 0===a?{}:a;return this.findMatchedPayment(e,r)||(1===e.length?e[0]:{})}},{key:"getRemainingAmount",value:function(e){var t=q()(F()(this.props.paymentQuery).combinablePaymentOptions[e.paymentType]);return Y()(t,"amount",{amount:0})}},{key:"getTotalComplementaryPrice",value:function(e){if(e)return Y()(this.props.paymentDetails,"AWARD.cashTotal");var t=this.props,n=t.shoppingCart,a=t.selectedHoldOption;return R()(a)?Y()(n,"data.total"):Y()(a,"price",{amount:0})}},{key:"applyBNPL",value:function(e){!R()(e)&&!R()(e)&&"FREE"!==e.type&&this.props.paymentQuery.length>0?this.renderModal(Object(Z.i)("payment.creditCard.modal.cancel.title"),this.renderCancelBnplModal(e)):(this.setState({selectedPaymentType:void 0}),this.props.selectBNPL(e))}},{key:"buildFilteredPaymentTypes",value:function(e){var t=this,n=this.props,a=n.paymentTypesOrganized,r=n.isAwardBooking,i=n.configuration,s=oe.b.CREDIT_CARD,o=oe.b.CUSTOM_CREDIT_CARD,l=oe.b.AFOP,c=function(e,t,n){return 0===t.length?[]:{paymentType:e,subCode:n,paymentProduct:1===t.length?t[0]:t}};return a.reduce((function(n,a){if(a===s){var u=e[s]||[],d=e[o]||[];return n.concat(t.getCreditCards(e,u,d,c))}if(a===l){var p=e[l]||[];return n.concat(p.map((function(e){return c(l,e,Object(oe.h)(l,e))})))}if(a===oe.b.AWARD&&!r&&!i.dynamicLoyaltyEnabled)return n;var h=e[a];return R()(h)?n:n.concat(c(a,h))}),[])}},{key:"buildProductsToDrop",value:function(e){var t=e.productType,n=void 0===t?[]:t,a=e.paymentType,i=e.paymentCode,s=this.props.productTypes,o=void 0===s?[]:s,l=Y()(this.props.configuration,"disallowHotelBookingForCreditCards",[]),c=o.includes(ne.x)&&a===oe.b.CREDIT_CARD&&l.includes(i),u=Y()(this.props.configuration,"disallowCarRentalForCreditCards",[]),d=o.includes(ne.h)&&a===oe.b.CREDIT_CARD&&u.includes(i);return D()([].concat(r()(j()(o,n)),r()(c?[ne.x]:[]),r()(d?[ne.h]:[])))}},{key:"cancelPayment",value:function(e,t){var n=this,a=this.props.paymentQuery;this.setState({selectedPaymentType:{paymentType:e}},(function(){k()(n,"paymentRibbon.current.focusOnSelectedInput")})),Promise.resolve(this.props.cancelPayment(e,a,Y()(this.props.configuration,"FOP.SMARTLINK.enabled"))).then((function(){return t&&t()}))}},{key:"checkPaymentType",value:function(e,t){return this.getPaymentType(e)===t}},{key:"isContinueButtonEnabled",value:function(e){var t=e.paymentType,n=e.afopCode,a=this.props,r=a.paymentSelected,i=a.configuration.finalFormsOfPayment,s=void 0===i?[]:i,o=a.selectedHoldOption;if(r||o&&o.type===ae.a||T()(s,t))return!0;var l=t&&this.getPaymentProductByType(t,n);return l&&(Array.isArray(l)?w()(l,(function(e){return R()(e.combinableWith)})):R()(l.combinableWith))}},{key:"isInsuranceSelected",value:function(){return!this.props.insurance.market||Object(se.d)()}},{key:"filterPaymentTypesByPromoCodeConfiguration",value:function(e,t,n,a){if(R()(a))return e;var r=oe.b.CREDIT_CARD,i=oe.b.AFOP,s=[];return e.forEach((function(e){if(e.paymentType===r&&"CI"===Y()(e,"subCode",!1))Y()(a,"CREDIT_CARD.CI",!1)&&s.push(e);else if(e.paymentType!==r||Y()(e,"subCode",!1))e.paymentType===i?Y()(a,"AFOP.[".concat(e.subCode,"]"),!1)&&s.push(e):Y()(a,"[".concat(e.paymentProduct.paymentCode,"]"),!1)&&s.push(e);else{if(n&&R()(t))return;var o=[];e.paymentProduct.forEach((function(e){Y()(a,"CREDIT_CARD.[".concat(e.paymentCode,"]"),!1)&&o.push(e)})),R()(o)||s.push({paymentType:e.paymentType,paymentProduct:o})}})),s}},{key:"removeProductsAndUpdateQuery",value:function(e,t,n){var a=this;return Promise.resolve(this.props.dropProducts(e,this.props.currentFlow,this.props.location)).then((function(){a.updateQuery(t,n)}))}},{key:"shouldRenderPaymentType",value:function(e,t){var n=this.props.configuration;return!(!Y()(n,"FOP[".concat(t,"].enabled"),!1)||!T()(e,t))&&(t!==oe.b.AWARD||!this.props.isAwardBooking&&n.dynamicLoyaltyEnabled)}},{key:"updateQuery",value:function(e,t){var n=this,a=function(){return n.props.onSelect(e).then((function(){return t&&t()}))},r=this.props,i=r.isAwardBooking,s=r.configuration.dynamicLoyaltyEnabled,o=void 0!==s&&s,l=r.paymentQuery;return!i&&o&&0===(void 0===l?[]:l).length&&e.paymentType!==oe.b.AWARD?this.props.updateCartWithAwardSwitch(le.a.CASH,!1,this.props.currentFlow).then(a):a()}},{key:"renderABNACN",value:function(){var e=this.props,t=e.processABNACNNumber,n=e.configuration,a=e.ABNACNNumber;return X.a.createElement(me.a,{title:"payment.ABNACN.panel.title",defaultOpen:!1,className:"payment-abn-acn",disabled:!1,id:"ABN-ACN",processABNACNNumber:function(e){return t(e)},configuration:Y()(n,"ABNACN"),ABNACNNumber:a,ref:this.ABNACNPayment})}},{key:"renderCancelBnplModal",value:function(e){var t=this;return X.a.createElement(ge.a,{onOkClick:function(){t.props.selectBNPL(e),t.closeModal()},onCancelClick:this.closeModal})}},{key:"renderCancelProductModal",value:function(e,t,n){var a=this;return X.a.createElement(ge.a,{onOkClick:function(){a.props.cancelPayment(e,t),a.closeModal(),n&&n()},onCancelClick:this.closeModal})}},{key:"renderPaymentOfType",value:function(e,t,n){var a=this,r=t||this.getPaymentProductByType(e),i=this.props.paymentQuery,s=this.props.configuration.unGroupedCreditCards,o=Y()(s,"".concat(n,".paymentFormValidation"));C()(this.props.configuration,"customCCPaymentFormValidation",o);var l=K()({},this.props,{paymentObject:W()(i,(function(t){return a.checkPaymentType(t,e)})),paymentProduct:1!==r.length?r:r[0],paymentDetails:this.getPaymentDetailsByType(e),getPaymentDetails:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return a.getPaymentDetails(n,t)},clearPaymentDetails:function(){return a.props.clearPaymentDetails(e)},onSelect:this.selectPayment,onCancel:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return a.cancelPayment(n,t)},getRedirectUrl:this.getRedirectUrl,renderModal:this.renderModal,closeModal:this.closeModal,selectBNPL:this.selectBNPL,selectPaymentOption:this.props.selectPaymentOption,sendFreeChinaUnionPaySms:function(e){return a.props.sendFreeChinaUnionPaySms(e,a.props.currentFlow)},travelBankConfiguration:this.props.travelBankConfiguration,customCCPaymentFormValidation:o});return X.a.createElement(ve.a,{key:n?"".concat(e,"-").concat(n):e,paymentType:e,componentProps:l})}},{key:"renderPayments",value:function(e,t,n,a){var r=this,i=this.props,s=i.configuration,o=i.additionalTermsAndConditions,l=i.paymentType,c=i.paymentQuery,u=i.paymentDetails,d=i.user,p=i.selectedHotel,h=i.purchaseAgreementLinks,f=i.rulesAndFeeData,m=i.showPaymentProcessingModal,g=i.currentFlow,v=i.updateCartWithAwardSwitch,y=i.paymentSelected,b=i.refundData,C=i.shoppingCart,E=i.location,k=R()(e)?[]:this.buildFilteredPaymentTypes(e,t,C,E),O=Y()(s,"travelBankAsPrimaryPaymentOptionForPromoCodes",[]).includes(a);n&&!R()(a)&&(k=this.filterPaymentTypesByPromoCodeConfiguration(k,c,O,Y()(s,"paymentsByPromoCodePrefix.".concat(a),null)));var _=this.getPaymentTypeToRender(k),P=!R()(_),S=P||!R()(this.props.paymentQuery),N=k.length>1&&R()(c),w=k.length>1&&!R()(c),A=k.length>=1&&!R()(c),T=this.getTotalComplementaryPrice(t),I=W()(Y()(b,"refundTargets",[]),["paymentType",oe.b.TRAVEL_BANK])&&l===te.b.REFUND&&!0===y?!d.isEmpty():this.isContinueButtonEnabled(_);return X.a.createElement("div",{className:"no-padding"},k.length>0&&X.a.createElement("div",{className:"header padding"},X.a.createElement("h3",null,n?Object(Z.a)("payment.selectFormOfPaymentWithPromoCode"):Object(Z.a)("payment.selectFormOfPayment")," ",T&&X.a.createElement(he.a,{price:T})),Object(Z.a)("payment.selectFormOfPaymentDescription")),X.a.createElement("div",{className:"body"},X.a.createElement("div",{className:"dxp-payment"},X.a.createElement("div",{className:"payments-container",id:ee.g},N&&X.a.createElement(fe.a,{ref:this.paymentRibbon,paymentTypes:k,onSelect:this.selectPaymentOption,configuration:this.props.configuration,selectedPaymentType:_,updateCartWithAwardSwitch:function(e){return v(e,!1,g)},clearInstallmentPlans:this.props.clearInstallmentPlans,hasEnteredData:this.hasEnteredData,renderModal:this.renderModal,onRenderCloseClick:this.onRenderCloseClick}),S&&X.a.createElement(be.a,{paymentQuery:c,paymentDetails:u,user:d,selectedHotel:p,backendUrl:this.props.backendUrl,onCancel:function(e,t){return r.cancelPayment(e,t)}},A&&X.a.createElement("h4",{className:"remaining"},Object(Z.a)("payment.secondFopMessage"),X.a.createElement(he.a,{className:"price",price:this.getRemainingAmount(_)})),w&&X.a.createElement(fe.a,{paymentTypes:k,onSelect:this.selectPaymentOption,configuration:s,selectedPaymentType:_,clearInstallmentPlans:this.props.clearInstallmentPlans,hasEnteredData:this.hasEnteredData,renderModal:this.renderModal,onRenderCloseClick:this.onRenderCloseClick}),P&&X.a.cloneElement(this.renderPaymentOfType(_.paymentType,_.paymentProduct,_.subCode),{ref:this.currentSelectedFop})))),X.a.createElement(ke.a,{itineraryParts:this.props.itineraryParts,messages:s.dynamicDisclaimers}),X.a.createElement(Ee.a,{isContinueButtonEnabled:I,additionalTermsAndConditions:o,itineraryParts:this.props.itineraryParts,navigation:this.props.navigation,onBagFeeLinkClick:this.props.onBagFeeLinkClick,onFareRulesClick:this.props.onFareRulesClick,paymentType:l,paymentTypeToRender:_,purchaseAgreementLinks:h,rulesAndFeeData:f,showPaymentProcessingModal:m,taxRates:s.taxRates,paymentQuery:c,enableTermsOfConditionCheckbox:s.enableTermsOfConditionCheckbox,showFareRulesInline:s.showFareRulesInline,handlePurchase:this.handlePurchase})))}},{key:"renderRefundPanel",value:function(){var e=this.props,t=e.refundData,n=e.refundableItems,a=e.refundConfiguration;if(R()(n)&&R()(a))return X.a.createElement(Ce.a,{totalRefund:t.totalRefund,refundTargets:t.refundTargets});var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props,{data:t,configuration:a,refundableItems:n});return!R()(t.refundTargets)&&X.a.createElement(de.a,r)}},{key:"renderRemoveBnplModal",value:function(e){var t=this;return X.a.createElement(ye.a,{onAccept:function(){t.closeModal(),t.props.dropProducts([ne.y],t.props.currentFlow,t.props.location,e),t.applyBNPL(e)},onCancel:this.closeModal,productTypes:[ne.y]})}},{key:"renderRemoveProductModal",value:function(e,t,n){var a=this;return X.a.createElement(ye.a,{onAccept:function(){return a.closeModal(t)},onCancel:function(){return a.closeModal(n)},productTypes:e})}},{key:"render",value:function(){var e=this.props,t=e.configuration,n=e.refundData,a=e.paymentOptionsLoading,r=e.isAwardBooking,i=e.shoppingCart,s=e.location,o=oe.b.AWARD,l=oe.b.BNPL,c=t.milesAsPrimaryPaymentOptionForPromoCodes,u=t.promoCodeLengthToBeChecked,d=this.getPaymentOptions(),p=Y()(s,"query.promoCode",!1)?s.query.promoCode.slice(0,u||3).toUpperCase():"",h=Y()(i,"data.discount.breakdownElements[0]",""),f=!R()(p)&&Y()(h,"label","")===ne.v&&Y()(h,"price",[]).length>0,m=(f&&c.includes(p)||r)&&T()(V()(d),o),g=!(a||m&&R()(this.props.paymentQuery)),v=this.state,y=v.isModalOpen,b=v.modalTitle,C=v.modalBody,E=Y()(t,"ABNACN.isEnabled",!1);return X.a.createElement("div",{className:"payment-fops",id:"payment-fops"},y&&X.a.createElement(pe.a,{title:b,onCloseClick:this.onRenderCloseClick},C),!R()(n)&&this.renderRefundPanel(),E&&this.renderABNACN(),m&&this.renderPaymentOfType(o),X.a.createElement("div",{className:"dxp-payment bnpl"},Y()(this.props.configuration,"BNPLEnabled")&&!R()(this.props.holdOptions)&&this.renderPaymentOfType(l)),a&&X.a.createElement(ue.a,null),g&&this.renderPayments(d,m,f,p))}}]),n}(Q.Component);y()(_e,"defaultProps",{productTypes:void 0,paymentQuery:void 0,shoppingCart:void 0,configuration:void 0,paymentOptions:void 0,paymentDetails:void 0,PAYMENT_TYPES:void 0,isAwardBooking:!1,refundData:void 0,paymentOptionsLoading:!1,selectedHoldOption:void 0,getExecutionKey:void 0,location:void 0,cancelPayment:void 0,selectBNPL:void 0,onSelect:void 0,dropProducts:void 0,refundableItems:void 0,currentFlow:void 0,getPaymentDetails:void 0,paymentTypesOrganized:void 0,selectedHotel:void 0,ABNACNNumber:"",updateCartWithAwardSwitch:function(){return Promise.resolve()},sendFreeChinaUnionPaySms:void 0,holdOptions:[],user:Object($.Map)(),additionalTermsAndConditions:Object($.List)(),itineraryParts:[],onFareRulesClick:S.a,onBagFeeLinkClick:S.a,paymentSelected:!1,purchaseAgreementLinks:Object($.List)(),rulesAndFeeData:{},showPaymentProcessingModal:!1,processPayment:void 0,navigation:{},paymentType:void 0,clearInstallmentPlans:void 0,refundConfiguration:{},metadata:Object($.Map)(),travelBankConfiguration:void 0,selectPaymentOption:S.a,insurance:{},setInsuranceSelectionRequired:S.a,backendUrl:void 0})}).call(this,n(41))},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(27),s=n.n(i),o=n(0),l=n.n(o),c=(n(6),n(1)),u=n.n(c),d=n(12),p=n(1249);t.a=function(e){var t=e.items,n=l()(s()(t),"total",[]),a=l()(s()(t),"breakdownElements",[]),i=r()(a,(function(e,t){return u.a.createElement("li",{className:"non-refundable-item pull-left",key:"ancillary.items.".concat(e.label,".").concat(t)},Object(d.a)("ancillary.items.".concat(e.label,".name")),u.a.createElement("span",{className:"cost pull-right"},u.a.createElement(p.a,{price:e.price})))}));return u.a.createElement("div",{className:"dxp-payment-non-refundable-section"},u.a.createElement("ul",{className:"non-refundable-items"},i),u.a.createElement("div",{className:"non-refund-total clearfix"},u.a.createElement("span",{className:"pull-left"},Object(d.a)("app.total"),":"),u.a.createElement("span",{className:"pull-right"},u.a.createElement(p.a,{price:n}))))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return H}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1917),C=n.n(b),E=n(38),k=n.n(E),O=n(2),_=n.n(O),P=n(0),S=n.n(P),N=n(6),w=n.n(N),A=n(1),T=n.n(A),I=(n(194),n(11)),D=n(60),x=n(68),j=n(345),L=n(521),F=n(1249),B=n(319),R=n(1982),M=n(88),V=n(12),U=n(78),q=n(50),H=(n(2971),n(2972),function(t){function n(e){var t;return r()(this,n),t=l()(this,u()(n).call(this,e)),g()(p()(t),"whatsThisButtonRef",T.a.createRef()),g()(p()(t),"onUserHasLogged",(function(){t.props.onModify(!1)})),t.state={appliedFunds:e.appliedFunds,sliderValue:0,isInitialLoad:!0},t.resizeId=null,t}return f()(n,t),s()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.getTravelBankDetails;e.session.get("user").isEmpty()||t()}},{key:"componentDidMount",value:function(){e.addEventListener("resize",this),this.handleEvent(),this.props.onModify(!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.getTravelBankDetails,a=!t.session.get("user").isEmpty(),r=!e.session.get("user").isEmpty();!a&&r&&n(),a&&!r&&this.props.onModify(!1),this.props.appliedFunds.amount!==e.appliedFunds.amount&&this.setState({appliedFunds:e.appliedFunds})}},{key:"componentDidUpdate",value:function(){this.state.isInitialLoad&&this.whatsThisButtonRef.current&&this.whatsThisButtonRef.current.focus()}},{key:"componentWillUnmount",value:function(){e.removeEventListener("resize",this)}},{key:"onRememberMe",value:function(e,t){return this.context.dispatch(Object(x.w)(e,t))}},{key:"onUpdate",value:function(e){var t=this.props,n=t.availableAmountForTrip,a=t.onModify,r=C()(e[0],2);this.setState({appliedFunds:{amount:r>n.amount?n.amount:r,currency:this.props.availableFunds.currency},isInitialLoad:!1},(function(){return a(!0)}))}},{key:"onWhatIsThisPopoverClick",value:function(e){e.preventDefault(),this.props.onWhatIsThisPopoverClick()}},{key:"onWhyMaxPopoverClick",value:function(e){e.preventDefault(),this.props.onWhyMaxPopoverClick(k()(this.props,"availableFunds","availableAmountForTrip","subbalances","priceElements","balanceElements"))}},{key:"handleEvent",value:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.updateOffset.bind(this),100)}},{key:"updateOffset",value:function(){var e=this.context.isMSIE;if(this.travelBank){var t=this.travelBank.getBoundingClientRect().left-this.travelBank.offsetLeft;t!==this.state.parentOffset&&this.setState({parentOffset:e?t:0})}}},{key:"updateQuery",value:function(){(0,this.props.onSelect)(this.state.appliedFunds).catch((function(){}))}},{key:"renderBody",value:function(){var e=this.props,t=e.error,n=e.isLoading,a=e.session.get("user");if(!a.isEmpty()){var r=S()(a.toJS(),"travelBankDetails.balance");return _()(r)?Object(V.a)("payment.travelBank.notAvailable"):r.amount?n?T.a.createElement(L.a,{className:"dark"}):_()(t)?this.renderTravelBank():this.renderError():Object(V.a)("payment.travelBank.insufficientFunds")}return this.renderSignIn()}},{key:"renderError",value:function(){var e=this.props.error;return T.a.createElement(B.a,{type:"error",title:"error.".concat(e.errorCode,".title")},Object(V.a)("error.".concat(e.errorCode,".description")))}},{key:"renderSignIn",value:function(){return T.a.createElement(j.a,{onUserHasLogged:this.onUserHasLogged,title:"payment.travelBank.title",id:"travel-bank",onModify:this.props.onModify,location:this.props.location})}},{key:"renderTravelBank",value:function(){var e=this,t=this.props,n=t.availableAmountForTrip,a=t.availableFunds,r=t.isRightToLeft,i=t.appliedFunds,s=t.selectedLocale,o=t.locales,l=t.travelBankConfiguration,c=t.precision,u=this.state.parentOffset,d=Object(D.a)(n.amount,-1*this.state.appliedFunds.amount);this.context.isMSIE&&this.handleEvent();var p=n.amount-this.state.appliedFunds.amount,h="".concat(Math.round(100*this.state.appliedFunds.amount)/100," ").concat(Object(V.i)("payment.travelBank.remainingBalance")," ").concat(Math.round(100*p)/100);return T.a.createElement("div",{className:"dxp-travel-bank-selection"},T.a.createElement("div",{className:"header"},T.a.createElement("h4",null,Object(V.a)("payment.travelBank.credits"),T.a.createElement("button",{type:"button",ref:this.whatsThisButtonRef,onClick:function(t){return e.onWhatIsThisPopoverClick(t)},className:"as-link what-is"},Object(V.a)("payment.travelBank.what"))),T.a.createElement("span",{className:"available-funds"},Object(V.a)("payment.travelBank.availableFunds"),T.a.createElement("strong",null,T.a.createElement(F.a,{price:a}))),T.a.createElement("div",{className:"travel-bank-details"},l.isEnabled&&T.a.createElement(U.a,{href:l.url,target:"blank",rel:"external",isExternalLink:!0},Object(V.a)("payment.travelBank.detailsLink")),T.a.createElement("div",{id:"payment-travel-bank-note",className:"note"},T.a.createElement(q.c,{name:q.a.INFO_CIRCLE}),Object(V.a)("payment.travelBank.note")))),T.a.createElement("div",{className:"body"},T.a.createElement("div",{className:"available-amount"},Object(V.a)("payment.travelBank.availableAmount"),T.a.createElement("strong",null,T.a.createElement(F.a,{price:n})),T.a.createElement("button",{type:"button",onClick:function(t){return e.onWhyMaxPopoverClick(t)},className:"as-link why-max"},Object(V.a)("payment.travelBank.whyMax"))),T.a.createElement(R.a,{precision:c,className:"slider",selectedLocale:s,locales:o,ref:function(t){e.slider=t},type:"price",min:0,step:.1,isIntegerStep:!this.props.decimalPlaceDisplay,max:n.amount,values:[this.state.appliedFunds.amount||this.state.sliderValue||0],suffix:n.currency,onMove:function(t){return e.onUpdate(t)},onUpdate:function(t){return e.onUpdate(t)},parentOffset:u,isRightToLeft:r,ariaDescribedby:"payment-travel-bank-note",ariaValueText:h},T.a.createElement("span",{className:"applied-travel-funds"},Object(V.a)("payment.travelBank.remainingBalance")),T.a.createElement(F.a,{price:{amount:d,currency:n.currency}}))),T.a.createElement("div",{className:"buttons"},T.a.createElement(M.a,{disabled:0===n.amount||0===this.state.appliedFunds.amount||i<=0,className:"primary small",onClick:function(){return e.updateQuery()}},Object(V.a)("payment.travelBank.apply"))))}},{key:"render",value:function(){var e=this;return T.a.createElement("div",{className:"dxp-travel-bank",ref:function(t){e.travelBank=t}},this.renderBody())}}]),n}(A.Component));g()(H,"contextTypes",{dispatch:w.a.func,isMSIE:w.a.bool,session:w.a.shape({})}),g()(H,"defaultProps",{precision:2,appliedFunds:{},availableFunds:{},availableAmountForTrip:{},isLoading:!1,isRightToLeft:!1,error:{},session:Object(I.Map)({}),selectedLocale:"",locales:{},onModify:y.a,decimalPlaceDisplay:!0,travelBankConfiguration:void 0})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={addressType:"INVOICE"},r={addressType:"HOME"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return U}));var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(8),g=n.n(m),v=n(56),y=n.n(v),b=n(2),C=n.n(b),E=n(52),k=n.n(E),O=n(169),_=n.n(O),P=n(77),S=n.n(P),N=n(0),w=n.n(N),A=n(51),T=n.n(A),I=n(1),D=n.n(I),x=(n(6),n(39)),j=n.n(x),L=n(158),F=n.n(L),B=n(12),R=n(50),M=n(129),V=n(1982),U=(n(3008),function(t){function n(e){var t;r()(this,n),t=s()(this,l()(n).call(this,e));var a=w()(e,"awardDetails.fareSlider.currentPositionIndex",0);return t.state={currentSliderIndex:a,currentSliderValues:n.getSliderValuesByIndex(a,e)},t.resizeId=null,t}return p()(n,t),u()(n,null,[{key:"getSliderValuesByIndex",value:function(e,t){var n=w()(t.awardDetails,"fareSlider.awardMoneyTicks",[]);return w()(n,"[".concat(e,"]"),{})}}]),u()(n,[{key:"componentDidMount",value:function(){e.addEventListener("resize",this),this.handleEvent()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.resizeId),e.removeEventListener("resize",this)}},{key:"onAmountInputChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"awardAmount",n=w()(this.props,"awardDetails.fareSlider.awardMoneyTicks",[]),a=w()(e,"target.value"),r=k()(n,_()(n,(function(e){return Math.abs(a-e[t].amount)})));this.updateSliderValues(r)}},{key:"onFareSliderChange",value:function(e){var t=w()(this.props,"awardDetails.fareSlider.awardMoneyTicks",[]),n=y()(t)-1,a=Math.floor(w()(e,"[0]",this.state.currentSliderIndex)),r=a<0?0:a;r=r>n?n:r,this.updateSliderValues(r)}},{key:"getSliderValuesByIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=w()(t.awardDetails,"fareSlider.awardMoneyTicks",[]);return w()(n,"[".concat(e,"]"),{})}},{key:"handleEvent",value:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.updateOffset.bind(this),100)}},{key:"updateOffset",value:function(){var e=F.a.msie,t=F.a.firefox;this.setState({parentOffset:e||t?this.sliderContainer.getBoundingClientRect().left-this.sliderContainer.offsetLeft:0})}},{key:"updateSliderValues",value:function(e){var t=this;this.setState({currentSliderIndex:e,currentSliderValues:n.getSliderValuesByIndex(e,this.props)},(function(){t.props.updateAwardDetailsFareAmount(t.state.currentSliderValues),t.updatingFieldTexts()}))}},{key:"updatingFieldTexts",value:function(){var e=this.state.currentSliderValues,t=w()(e,"awardAmount.amount")||"0",n=w()(e,"moneyAmount.amount")||"0";g()(this,"cashAmount.input.value",n),g()(this,"awardAmount.input.value",t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.awardDetails,a=t.locales,r=t.selectedLocale,i=this.state,s=i.currentSliderIndex,o=i.currentSliderValues,l=i.parentOffset,c=w()(n,"fareSlider.awardMoneyTicks",[]),u=T()(c,"length",1)-1,d=w()(o,"awardAmount.amount")||"0",p=w()(o,"moneyAmount.amount")||"0",h=j()("input","awardAmount"),f=j()("input","cashAmount"),m="".concat(d," ").concat(Object(B.i)("payment.awardPayment.cashAmount")," ").concat(p);return D.a.createElement("li",{className:"dxp-award-payment-details-cart-fare cart-item"},D.a.createElement("div",{className:"item-icon ".concat(R.a.AIRPLANE)}),D.a.createElement("div",{className:"item-name"},Object(B.a)("fare")),D.a.createElement("div",{className:"item-value",ref:function(t){e.sliderContainer=t}},D.a.createElement(V.a,{locales:a,selectedLocale:r,min:0,max:u,values:[s],type:"price",hideInput:!0,parentOffset:l,onMove:function(t){return e.onFareSliderChange(t)},onUpdate:function(t){return e.onFareSliderChange(t)},ariaValueText:m}),D.a.createElement("div",{className:"slider-text"},Object(B.a)("awardBooking.slider.text")),D.a.createElement("div",{className:"amount ffcurrency"},D.a.createElement("span",{className:"label fflabel"},Object(B.a)("awardBooking.ffcurrency.name")),D.a.createElement(M.a,{className:h,ref:function(t){e.awardAmount=t},onBlur:function(t){return e.onAmountInputChange(t,"awardAmount")},defaultValue:d.toString(),id:"award-amount",keyProp:"award-amount",label:"awardBooking.ffcurrency.name"})),D.a.createElement("div",{className:"amount currency"},D.a.createElement("span",{className:"label cashlabel"},Object(B.a)("awardBooking.cash.due"),!C()(w()(o,"moneyAmount.currency"))&&"(".concat(w()(o,"moneyAmount.currency"),")")),D.a.createElement(M.a,{className:f,ref:function(t){e.cashAmount=t},onBlur:function(t){return e.onAmountInputChange(t,"moneyAmount")},defaultValue:p.toString(),id:"cash-amount",keyProp:"cash-amount",label:"awardBooking.cash.due"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=w()(e,"awardDetails.fareSlider");if(!S()(a,w()(t,"fareSlider"))){var r=w()(e,"awardDetails.fareSlider.currentPositionIndex",0);return{currentSliderIndex:r,currentSliderValues:n.getSliderValuesByIndex(r,e),fareSlider:a}}return null}}]),n}(I.Component));f()(U,"defaultProps",{updateAwardDetailsFareAmount:function(){},awardDetails:{},locales:{},selectedLocale:""})}).call(this,n(41))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return H}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(77),y=n.n(v),b=n(21),C=n.n(b),E=n(92),k=n.n(E),O=n(79),_=n.n(O),P=n(5),S=n.n(P),N=n(2),w=n.n(N),A=n(4),T=n.n(A),I=n(0),D=n.n(I),x=n(1),j=n.n(x),L=(n(6),n(194),n(12)),F=n(319),B=n(2484),R=n(47),M=n(530),V=n(3030),U=n(3031),q=function(e,t){return T()(t,(function(t,n){if(!D()(e,"alertsEnabled.".concat(n.type),!1))return t;if(n.type===R.b.FRAUDCHECK&&n.hardFail)return t.concat({type:"error",title:"payment.alerts.fraudCheck.title",description:Object(L.a)("payment.alerts.fraudCheck.description")});if(n.type===R.b.PAYPAL_CANCEL)return t.concat({type:"error",title:"payment.alerts.paypal.cancel.title",description:Object(L.a)("payment.alerts.paypal.cancel.description")});if(n.type===R.b.PAYMENT_STATUS){var a,r=n.paymentStatus,i=(a={},g()(a,R.h.CANCELED,M.d.WARNING),g()(a,R.h.PENDING,M.d.WARNING),g()(a,R.h.DECLINED,M.d.ERROR),g()(a,R.h.ERROR,M.d.ERROR),g()(a,R.h.FAILED,M.d.ERROR),a);return i[r]?t.concat({type:i[r]||M.d.ERROR,title:"payment.alerts.paymentStatus.".concat(r,".title"),description:Object(L.a)("payment.alerts.paymentStatus.".concat(r,".description"))}):t}return n.type===R.b.BNPL_DROP_INSURANCE?t.concat({type:"error",title:"payment.alerts.bnplDropInsurance.title",description:Object(L.a)("payment.alerts.bnplDropInsurance.description")}):t}),[])},H=function(t){function n(){var e,t;r()(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return t=l()(this,(e=u()(n)).call.apply(e,[this].concat(i))),g()(p()(t),"buildAlerts",(function(){var e=k()(t.props.alerts),n=D()(t.props.location,"query.paymentStatus");if(w()(n)||(n===R.h.CANCELED&&D()(t.props.location,"query.paymentType")===R.i.PAY_PAL?e.push({type:R.b.PAYPAL_CANCEL}):e.push({type:R.b.PAYMENT_STATUS,paymentStatus:n})),e=q(t.props.configuration,e),!w()(t.props.paymentErrors)){var a=Object(U.a)(t.props),r=Object(V.a)(t.props.paymentErrors),i=T()(t.props.paymentErrors,(function(e,t){var n=t.errorType,a=t.errorCode;return n===R.d.VALIDATION||C()(B.a,a)?e:e.concat({type:"error",title:"error.".concat(a,".title"),description:Object(L.a)("error.".concat(a,".description"))})}),[]);e=_()(i,a,r,e)}return e})),g()(p()(t),"renderAlerts",(function(e){return S()(e,(function(e){return j.a.createElement(F.a,{type:e.type,title:Object(L.i)(e.title),key:e.title},e.description)}))})),t}return f()(n,t),s()(n,[{key:"shouldComponentUpdate",value:function(e){return!y()(this.props.paymentErrors,e.paymentErrors)||!y()(this.props.alerts,e.alerts)||!this.props.metadata.equals(e.metadata)||this.props.language!==e.language}},{key:"componentDidUpdate",value:function(t){var n=t.paymentErrors,a=t.alerts;y()(this.props.paymentErrors,n)&&y()(this.props.alerts,a)||e.scrollTo(0,0)}},{key:"render",value:function(){return j.a.createElement("div",null,this.renderAlerts(this.buildAlerts()))}}]),n}(x.Component);g()(H,"defaultProps",{paymentErrors:[],alerts:[]})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["ERR.SSW.PRICING.ITINERARY_NO_LONGER_AVAILABLE","ERR.SSW.PRICING.NO_COMBINABLE_FARES_FOR_CLASS_USED","ERR.SSW.PURCHASE.NO_COMBINABLE_FARES"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(62),r=n.n(a),i=n(91),s=n.n(i),o=n(26),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(22),g=n.n(m),v=n(30),y=n.n(v),b=n(3),C=n.n(b),E=n(19),k=n.n(E),O=n(156),_=n.n(O),P=n(43),S=n.n(P),N=n(122),w=n.n(N),A=n(21),T=n.n(A),I=n(16),D=n.n(I),x=n(15),j=n.n(x),L=n(2),F=n.n(L),B=n(98),R=n.n(B),M=n(0),V=n.n(M),U=n(1),q=n.n(U),H=n(6),W=(n(194),n(17)),G=n.n(W),K=n(12),z=n(2115),Y=n(129),Q=n(2080),X=n(2107),J=n(1249),$=n(529),Z=n(2070),ee=n(1289),te=n(114),ne=n(153),ae=n(50),re=n(1949),ie=n(84),se=n(528),oe=n(521),le=n(11),ce=function(){return q.a.createElement("thead",{className:"installment-options-header"},q.a.createElement("tr",null,q.a.createElement("th",null,Object(K.a)("payment.creditCard.installment.table.headerMonths")),q.a.createElement("th",null,Object(K.a)("payment.creditCard.installment.table.interest")),q.a.createElement("th",null,Object(K.a)("payment.creditCard.installment.table.monthlyPayment")),q.a.createElement("th",null,Object(K.a)("payment.creditCard.installment.table.total"))))},ue=n(1606),de=function(e){var t=e.installmentOption,n=e.selectedInstallmentPlanId,a=e.onSelectInstallmentPlan,r=e.currency;return q.a.createElement("tr",{className:"installment-options-row",onClick:function(){return a(t.get("installmentId"))}},function(e,t,n,a,r,i,s,o,l){return q.a.createElement("td",{className:"spark-table__checkbox"},q.a.createElement(ue.a,{id:e,value:e,checked:t,onChange:function(){return n(e)},"aria-labelledby":"".concat(e,"-details")},"".concat(a," ").concat(Object(K.i)("payment.creditCard.installment.table.months")),q.a.createElement("span",{className:"sr-only",id:"".concat(e,"-details")},Object(K.i)("payment.creditCard.installment.aria.planDetails",{numberOfPayments:a,interestRate:r,interestAmount:i,installmentAmount:s,totalPaymentAmount:o,currency:l}))))}(t.get("installmentId"),t.get("installmentId")===n,a,t.get("numberOfInstallments"),t.get("interestRate"),t.get("interestAmount"),t.get("installmentAmount"),t.get("totalPaymentAmount"),r),function(e,t,n){return q.a.createElement("td",null,q.a.createElement("span",{className:"interest-rate"},Object(K.i)("payment.creditCard.installment.interestRate",{interestRate:e})),q.a.createElement(J.a,{price:{amount:t,currency:n}}))}(t.get("interestRate"),t.get("interestAmount"),r),function(e,t){return q.a.createElement("td",null,q.a.createElement(J.a,{price:{amount:e,currency:t}}))}(t.get("installmentAmount"),r),function(e,t,n,a){return q.a.createElement("td",null,q.a.createElement("div",{className:"installment-plan-total-container"},q.a.createElement(J.a,{price:{amount:e,currency:n},className:"installment-plan-total-price"}),q.a.createElement("div",{className:"amount-of-payments-label"},"".concat(Object(K.i)("payment.creditCard.installment.table.withNumberOfPaymentsTotalLabel",{numberOfPayments:a})," "))))}(t.get("totalPaymentAmount"),t.get("interestAmount"),r,t.get("numberOfInstallments")))};de.defaultProps={selectedInstallmentPlanId:void 0};var pe=de,he=(n(2978),function(e){var t=e.installmentOptions,n=e.selectedInstallmentPlanId,a=e.onSelectInstallmentPlan,r=e.currency;return q.a.createElement("section",{className:"spark-table spark-table--condensed installments-plan-options-container"},q.a.createElement("div",{className:"spark-table__scroll"},q.a.createElement("table",{role:"grid",className:"installment-plan-table"},q.a.createElement(ce,null),q.a.createElement("tbody",null,t.map((function(e){return q.a.createElement(pe,{key:e.get("installmentId"),installmentOption:e,selectedInstallmentPlanId:n,onSelectInstallmentPlan:a,currency:r})}))))))});he.defaultProps={installmentOptions:Object(le.List)(),selectedInstallmentPlanId:void 0,currency:void 0};var fe=he,me=n(244),ge=function(e){var t=e.installmentOption,n=e.selectedInstallmentPlanId,a=e.onSelectInstallmentPlan,r=e.currency;return q.a.createElement("div",{onKeyPress:function(e){return me.a.is(me.a.code.special.space,e.which)&&a(t.get("installmentId"))},tabIndex:"0",role:"button",className:"installment-option-mobile",onClick:function(){return a(t.get("installmentId"))}},q.a.createElement(ue.a,{id:t.get("installmentId"),value:t.get("installmentId"),checked:t.get("installmentId")===n,onChange:function(){return a(t.get("installmentId"))},className:"installment-option-radio-button"},"".concat(t.get("numberOfInstallments")," ").concat(Object(K.i)("payment.creditCard.installment.table.months"))),q.a.createElement("div",{className:"installment-option-details"},q.a.createElement("div",{className:"interest installment-option-detail"},q.a.createElement("div",{className:"installment-option-label"},Object(K.i)("payment.creditCard.installment.table.interest")),q.a.createElement("div",{className:"installment-option-value"},Object(K.i)("payment.creditCard.installment.interestRate",{interestRate:t.get("interestRate")}),q.a.createElement(J.a,{price:{amount:t.get("interestAmount"),currency:r}}))),q.a.createElement("div",{className:"monthly-payment installment-option-detail"},q.a.createElement("div",{className:"installment-option-label"},Object(K.i)("payment.creditCard.installment.table.monthlyPayment")),q.a.createElement("div",{className:"installment-option-value"},q.a.createElement(J.a,{price:{amount:t.get("installmentAmount"),currency:r}}))),q.a.createElement("div",{className:"total-amount installment-option-detail"},q.a.createElement("div",{className:"installment-option-label"},Object(K.i)("payment.creditCard.installment.table.total")),q.a.createElement("div",{className:"installment-option-value"},q.a.createElement(J.a,{price:{amount:t.get("totalPaymentAmount"),currency:r},className:"installment-plan-total-price"})),q.a.createElement("div",{className:"amount-of-payments-label"},"".concat(Object(K.i)("payment.creditCard.installment.table.withNumberOfPaymentsTotalLabel",{numberOfPayments:t.get("numberOfInstallments")})," ")))))};ge.defaultProps={selectedInstallmentPlanId:void 0};var ve=ge,ye=(n(2979),function(e){var t=e.installmentOptions,n=e.selectedInstallmentPlanId,a=e.onSelectInstallmentPlan,r=e.currency;return q.a.createElement("div",{className:"installments-plan-options-container-mobile"},t.map((function(e){return q.a.createElement(ve,{key:e.get("installmentId"),installmentOption:e,selectedInstallmentPlanId:n,onSelectInstallmentPlan:a,currency:r})})))});ye.defaultProps={installmentOptions:Object(le.List)(),selectedInstallmentPlanId:void 0,currency:void 0};var be=ye,Ce=(n(2980),function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),C()(f()(n),"state",{refuseInstallmentPlanCheckboxChecked:!1}),C()(f()(n),"onRefuseInstallmentPlanCheckboxChange",(function(e){n.setState({refuseInstallmentPlanCheckboxChecked:e}),e&&n.props.clearSelectedInstallmentPlan()})),C()(f()(n),"onSelectInstallmentPlan",(function(e){n.props.selectInstallmentPlan(n.props.installmentOptions.find((function(t){return t.get("installmentId")===e})))})),C()(f()(n),"renderInstallmentPlanAvailabilityMessage",(function(){return q.a.createElement("div",{id:"installment-section-description",className:"provide-cc-details-message"},Object(K.i)("payment.creditCard.installment.".concat(n.props.installmentOptions?"creditCardDoesNotQualify":"provideCreditCardNumberMessage")))})),C()(f()(n),"renderInstallmentPlans",(function(){return q.a.createElement("div",null,q.a.createElement("div",{id:"installment-section-description",className:"installment-plans-description"},Object(K.i)("payment.creditCard.installment.description")),q.a.createElement(se.a,{label:Object(K.i)("payment.creditCard.installment.refuseCheckboxLabel"),onChange:function(e,t){n.onRefuseInstallmentPlanCheckboxChange(t)},id:"refuse-installment-payment-checkbox",checked:n.state.refuseInstallmentPlanCheckboxChecked,className:"refuse-installment-plan-checkbox"}),!n.state.refuseInstallmentPlanCheckboxChecked&&q.a.createElement("div",null,q.a.createElement("div",{className:"credit-card-info-section"},q.a.createElement("span",null,Object(K.i)("payment.creditCard.installment.willBeAppliedTo")),q.a.createElement("div",{className:"credit-card-bin-container"},q.a.createElement("span",{className:"".concat(n.props.cardCode,"-card credit-card-image")}),q.a.createElement("span",{className:"credit-card-bin"},n.props.cardBin))),n.context.isMobile?q.a.createElement(be,{installmentOptions:n.props.installmentOptions,onSelectInstallmentPlan:n.onSelectInstallmentPlan,currency:n.props.currency,selectedInstallmentPlanId:n.props.selectedInstallmentPlan&&n.props.selectedInstallmentPlan.get("installmentId")}):q.a.createElement(fe,{installmentOptions:n.props.installmentOptions,onSelectInstallmentPlan:n.onSelectInstallmentPlan,currency:n.props.currency,selectedInstallmentPlanId:n.props.selectedInstallmentPlan&&n.props.selectedInstallmentPlan.get("installmentId")})))})),n}return y()(t,e),g()(t,[{key:"render",value:function(){return q.a.createElement("section",{className:"dxp-installment-plan spark-panel","aria-label":Object(K.i)("payment.creditCard.installment.heading"),"aria-describedby":"installment-section-description",tabIndex:"0"},q.a.createElement("div",{className:"spark-panel__header",role:"heading","aria-expanded":"true"},q.a.createElement("h5",null,q.a.createElement(ae.c,{name:ae.a.DOCUMENT_MONEY}),q.a.createElement("span",{className:"installment-plan-header-text"},Object(K.a)("payment.creditCard.installment.heading")))),q.a.createElement("div",{id:"panel--expand-collapse_content",className:"spark-panel__content"},this.props.isLoading?q.a.createElement(oe.a,{className:"dark"}):q.a.createElement("div",null,this.props.installmentOptions&&!this.props.installmentOptions.isEmpty()?this.renderInstallmentPlans():this.renderInstallmentPlanAvailabilityMessage())))}}]),t}(U.PureComponent));C()(Ce,"contextTypes",{isMobile:H.bool}),C()(Ce,"defaultProps",{installmentOptions:void 0,cardBin:void 0,cardCode:void 0,currency:void 0,selectedInstallmentPlan:void 0});var Ee=n(137),ke=n.n(Ee),Oe=n(2981),_e=n.n(Oe),Pe=n(35),Se=n.n(Pe),Ne=n(5),we=n.n(Ne),Ae=n(321),Te=n.n(Ae),Ie=n(2982),De=n.n(Ie),xe=n(39),je=n.n(xe),Le=n(700),Fe=n(57),Be=n.n(Fe),Re=(n(2985),function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),C()(f()(n),"onChange",(function(e){n.onInputChange(e)})),C()(f()(n),"onBlur",(function(e){n.onInputBlur(e)})),C()(f()(n),"onFocus",(function(e){n.onInputFocus(e)})),n}return y()(t,e),g()(t,[{key:"getValue",value:function(){return this.input?this.input.value.replace(/ /g,""):""}},{key:"setValue",value:function(e){this.input.value=e}},{key:"getInput",value:function(){return this.input}},{key:"renderInput",value:function(){var e=this,t=this.props,n=t.activeCreditCardType,a=t.isCheckingBIN,r=t.hideCreditCardLogo;return q.a.createElement("div",{key:"creditCardNumberField",className:"credit-card-number-container"},!r&&n&&q.a.createElement("span",{className:je()("".concat(n,"-card"),"credit-card-image")}),q.a.createElement("input",Be()({id:"creditCardNumberField","data-test-id":z.k,ref:function(t){e.input=t},disabled:this.props.disabled,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus},this.props.inputProps)),a&&q.a.createElement(oe.a,{className:"bin-spinner dark"}))}}]),t}(Y.a));function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}C()(Re,"propTypes",{inputProps:Object(H.shape)({}),isCheckingBIN:H.bool,activeCreditCardType:H.string,onChange:H.func,onBlur:H.func,hideCreditCardLogo:H.bool,disabled:H.bool});var Ve=function(e){return we()(e.availableCreditCards,(function(e){return V()(e,"pattern","[0-9]+")}))},Ue={configuration:Object(H.shape)({}),onDetection:H.func,availableCreditCards:Object(H.arrayOf)(Object(H.shape)({})),isBankIdentificationValid:H.func.isRequired,hideCreditCardLogo:H.bool,profileData:Object(H.shape)({cardCode:H.string,number:H.string}),className:H.string,onChange:H.func,onBlur:H.func},qe=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(i))),C()(f()(n),"state",{isCheckingBIN:!1,isBINValid:!0,allowedCardValidator:{},activeCreditCard:F()(n.props.profileData)?{}:j()(n.props.availableCreditCards,(function(e){return e.name===n.props.profileData.cardCode}))||{},detectedCardTypes:[]}),C()(f()(n),"onBlur",function(){var e=s()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.autoCCTypeDetection();case 2:return e.abrupt("return",n.props.onBlur&&n.props.onBlur(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C()(f()(n),"onChange",function(){var e=s()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.autoCCTypeDetection();case 2:return e.abrupt("return",n.props.onChange&&n.props.onChange(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}return y()(t,e),g()(t,[{key:"componentWillUnmount",value:function(){this.componentIsUnmounted=!0}},{key:"getBinValidator",value:function(){return V()(this.props.configuration,"bankIdentifierValidation.isEnabled",!1)?[{name:"isValidBIN",error:"payment.validation.CCnumber.invalidBankIdentification",options:this.state.isBINValid}]:[]}},{key:"getCCTypes",value:function(e){return ke()(k()(this.props.availableCreditCards,(function(t){return new RegExp(t.pattern).test(e)&&e.length<=t.charLength})),(function(e){return e.charLength}))}},{key:"getProps",value:function(){var e=function(e){if(F()(e))return{};var t=we()(e,(function(e){var t=new RegExp(e.match),n=De()(Array(e.charLength),"1").join("");return _e()(n.replace(t,"$1 $2 $3 $4").replace(/ {2}/g," ")).length}));return{maxLength:Math.max.apply(null,t),minLength:Math.min.apply(null,t)}}(this.state.detectedCardTypes),t=e.maxLength,n=e.minLength,a=Se()(this.props,Object.keys(Ue));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"tel",className:je()("field-input",Te()("".concat(this.props.className,"-input"))),defaultValue:this.props.profileData.number||"",minLength:n,maxLength:t},a)}},{key:"getValidators",value:function(){var e=this.props.configuration,t=this.state,n=t.allowedCardValidator,a=t.activeCreditCard,r=V()(e,"paymentFormValidation.CCnumber.validators",[]);return V()(e,"excludedCardsForLuhnCheck",[]).includes(a.name)&&(r=k()(r,(function(e){return"isValidLuhn"!==e.name}))),r.concat(F()(n)?[]:[n],[{name:"minLength",error:"payment.validation.CCnumber.isTooShort",options:a.charLength||0},{name:"maxLength",error:"payment.validation.CCnumber.isTooLong",options:a.charLength}],this.getBinValidator())}},{key:"getValue",value:function(){return this.input?this.input.getValue():""}},{key:"setActiveCreditCard",value:function(e){var t=this;return this.props.onDetection&&this.props.onDetection(e),this.componentIsUnmounted?Promise.resolve():new Promise((function(n){return t.setState({activeCreditCard:e||{}},n)}))}},{key:"autoCCTypeDetection",value:function(){var e=this,t=this.getValue();if(t.length){var n=this.getCCTypes(t);this.setState({detectedCardTypes:n});var a=j()(n,(function(e){return t.length<=e.charLength}));if(a){var r=new RegExp(a.match);return a.match&&t.match(r)&&this.input.setValue(_e()(t.replace(r,"$1 $2 $3 $4").replace(/ {2}/g," "))),t.length===Le.a&&V()(this.props.configuration,"bankIdentifierValidation.isEnabled",!1)&&this.isBINValid(t),this.state.activeCreditCard.pattern!==a.pattern||this.state.activeCreditCard.charLength!==a.charLength?this.setActiveCreditCard(a).then((function(){t.length>=a.charLength&&e.input.onInactive()})):Promise.resolve()}return F()(this.state.activeCreditCard)?Promise.resolve():this.setActiveCreditCard().then((function(){return e.input.onInactive()}))}return F()(this.state.activeCreditCard)?Promise.resolve():this.setActiveCreditCard()}},{key:"clear",value:function(){return this.input&&this.input.clear()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"isBINValid",value:function(e){var t=this,n=this.props.configuration.bankIdentifierValidation,a=void 0===n?{}:n;return this.setState({isCheckingBIN:!0,isBINValid:!0}),this.props.isBankIdentificationValid("".concat(a.checkUrl).concat(e)).then((function(e){return e===a.successText})).then((function(e){return!t.componentIsUnmounted&&t.setState({isCheckingBIN:!1,isBINValid:e}),e})).catch((function(){return!t.componentIsUnmounted&&t.setState({isCheckingBIN:!1,isBINValid:!1}),!1}))}},{key:"isValid",value:function(){return this.input&&this.input.state.isValid}},{key:"render",value:function(){var e=this;return q.a.createElement(Re,{ref:function(t){e.input=t},keyProp:"creditCardNumberField",className:"creditCardNumberField",inputProps:this.getProps(),onChange:this.onChange,onBlur:this.onBlur,validators:this.getValidators(),defaultValue:this.props.profileData.number||"",disabled:this.state.disabled,isCheckingBIN:this.state.isCheckingBIN,hideCreditCardLogo:this.props.hideCreditCardLogo,activeCreditCardType:this.state.activeCreditCard.name,label:Object(ee.d)("creditCard.number",{creditCard:{number:{validators:this.getValidators()}}},{},"payment"),useLabelFeedback:V()(this.props,"configuration.useLabelFeedback",!1)})}}],[{key:"getDerivedStateFromProps",value:function(e){return{allowedCardValidator:{name:"isAllowedCreditCardNumber",error:"payment.validation.CCnumber.notAllowed",options:Ve(e)},disabled:!F()(e.profileData)}}}]),t}(U.Component);C()(qe,"defaultProps",{onChange:w.a,onBlur:w.a,onDetection:w.a,availableCreditCards:[],hideCreditCardLogo:!1,profileData:{},configuration:{},className:""});n(2986),n(2987);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var We=function(e){function t(e){var n;l()(this,t),n=u()(this,p()(t).call(this,e)),C()(f()(n),"onCCInputBlur",(function(){var e=n.formFields.number,t=e.getValue();(e&&!e.isValid()||!n.state.activeCreditCardType&&t.length>3)&&V()(n.props.configuration,"installmentPayment.isEnabled")&&n.props.clearInstallmentPlans(),(n.props.isAwardBooking?V()(n.props.configuration,"isDCCEnabledInRBEFlow",!1):V()(n.props.configuration,"isDCCEnabled",!1))&&t.length&&e.isValid()?n.fetchDCCOffers():n.props.clearDCCOffers(),V()(n.props.configuration,"installmentPayment.isEnabled")&&(t.length&&n.isInstallmentPlanAvailableForSelectedCCType()?n.props.getInstallmentPlansForSelectedCCType(n.state.activeCreditCardType,t):t.length?n.props.showInstallmentCreditCardDoesNotQualifyMessage():n.props.clearInstallmentPlans())})),C()(f()(n),"onSelectCreditCard",(function(e){var t=j()(n.props.availableCreditCards,(function(t){return t.name===e}));n.setActiveCreditCard(t),n.state.creditCardFilter!==e&&n.props.clearDCCOffers(),n.setState({creditCardFilter:e},s()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.formFields.number.autoCCTypeDetection();case 2:n.onCCInputBlur();case 3:case"end":return e.stop()}}),e)}))))})),C()(f()(n),"getCreditCardByType",(function(e){return j()(n.props.availableCreditCards,(function(t){return V()(t,"paymentCode")===e}))})),C()(f()(n),"setActiveCreditCard",(function(e){var a=V()(n.props.configuration,"paymentFormValidation.cvc.isEnabled",!1),r=F()(e)?a:a&&!F()(e.cvc),i=t.getCCmask(e);(F()(e)||n.state.activeCreditCardMask!==i)&&n.formFields.cvc&&n.formFields.cvc.clear(),n.setState((function(t){return{activeCard:e,activeCreditCardMask:i,activeCreditCardType:V()(e,"name"),enabledFields:D()({},t.enabledFields,{cvc:r})}})),n.props.onDetection(e)})),C()(f()(n),"setDefaultState",(function(e){var t=V()(e.configuration,"paymentFormValidation");return{enabledFields:{number:V()(t,"CCnumber.isEnabled",!1),holderName:V()(t,"holderName.isEnabled",!1),expirationDate:V()(t,"expirationDate.isEnabled",!1),cvc:V()(t,"cvc.isEnabled",!1)}}})),C()(f()(n),"isInstallmentPlanAvailableForConfiguredCCTypes",(function(){return S()(n.props.availableCreditCards,(function(e){return"INSTALLMENT_DETAILS"===V()(e,["additionalPaymentDetails","@type"])}))})),C()(f()(n),"isInstallmentPlanAvailableForSelectedCCType",(function(){return"INSTALLMENT_DETAILS"===V()(n.getCreditCardByType(n.state.activeCreditCardType),["additionalPaymentDetails","@type"])})),C()(f()(n),"togglePopover",(function(e){return n.popover.togglePopover(e)})),C()(f()(n),"onKeyPress",(function(e){return n.popover.onKeyPress(e)})),C()(f()(n),"handleNoPatternCards",(function(e,t){return e?t:k()(t,(function(e){return e.pattern&&e.pattern.length>0}))})),C()(f()(n),"focusOnCvvField",(function(){n.formFields.cvc.focus()}));var a,i=e.configuration.creditCardSelection,o=void 0===i?{}:i;return n.formFields={},o.isEnabled&&(a=o.defaultSelection&&S()(e.availableCreditCards,(function(e){return e.name===o.defaultSelection}))?o.defaultSelection:V()(e,["availableCreditCards",0,"name"])),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.setDefaultState(e),{creditCardFilter:a}),n}return y()(t,e),g()(t,null,[{key:"getCCmask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="1111111111111111111";return new RegExp(e.cvc||"^([0-9]{4})").exec(t)[0]}},{key:"getCardTypeOptions",value:function(e){return e.map((function(e){return{value:e,label:q.a.createElement("div",{className:"credit-card-option"},q.a.createElement("span",{className:"credit-card-image ".concat(e,"-card")}),Object(K.a)("card.".concat(e)))}}))}}]),g()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.profileData.cardCode||this.state.creditCardFilter;if(e){var t=j()(this.props.availableCreditCards,(function(t){return t.name===e}));return t?this.setActiveCreditCard(t):this.initState()}return this.initState()}},{key:"componentWillUnmount",value:function(){this.componentIsUnmounted=!0}},{key:"getAvailableCardTypes",value:function(){return _()(this.props.availableCreditCards.map((function(e){return e.name})))}},{key:"getCVCValidator",value:function(){var e=this;return this.state.activeCreditCardType?[{name:"matches",error:"payment.validation.cvc.incorrectFormat",options:V()(j()(V()(this.props.configuration,"cardTypes"),(function(t){return t.name===e.state.activeCreditCardType})),"cvc")}]:[]}},{key:"getData",value:function(){var e=this.formFields.expirationDate&&G()(this.formFields.expirationDate.getValue(),this.getExpirationDateFormat()),t={number:this.formFields.number&&this.formFields.number.getValue(),cvc:this.formFields.cvc&&this.formFields.cvc.getValue(),holderName:this.formFields.holderName&&this.formFields.holderName.getValue(),expirationDate:e&&e.isValid()?e.locale("en").format("YYYY-MM"):"",cardCode:this.state.activeCreditCardType};return Object(te.b)(t)}},{key:"getDate",value:function(e,t,n,a){var r=V()(this.props,"configuration.paymentFormValidation.expirationDate"),i=G()().set(V()(r,t,"year"),G()().get(V()(r,t,"year"))+V()(r,n));return a&&i.add(1,"days"),i.format(e)}},{key:"getExpirationDateFormat",value:function(){var e=V()(this.props.configuration,"paymentFormValidation");return V()(e,"expirationDate.dateFormat","YYYY-MM")}},{key:"clearFields",value:function(){this.initState(),this.formFields.number&&this.formFields.number.clear(),V()(this.props.configuration,"paymentFormValidation.expirationDate.isDateField")&&this.formFields.expirationDate&&this.formFields.expirationDate.clear(),this.formFields.cvc&&this.formFields.cvc.clear(),this.formFields.holderName&&this.formFields.holderName.clear()}},{key:"fetchDCCOffers",value:function(){var e=this,t=this.props,n=t.availableCreditCards,a=t.currentFlow,r=this.props.isAwardBooking?V()(this.props.configuration,"typesOfCardsForDCCInRBEFlow",[]):V()(this.props.configuration,"typesOfCardsForDCC",[]),i=j()(n,(function(t){return t.paymentCode===e.state.activeCreditCardType})),s=i?i.amount:{},o=this.formFields.number.getValue(),l=this.state.activeCreditCardType,c={payment:[],cardNumber:o,cardCode:l,amount:s};r&&T()(r,l)?this.props.getDCCOffers(c,a):this.props.clearDCCOffers("both")}},{key:"initState",value:function(){!this.componentIsUnmounted&&this.setState({activeCreditCardMask:t.getCCmask(),activeCreditCardType:void 0})}},{key:"isValid",value:function(){var e=F()(this.props.profileData),t=D()({},this.state.enabledFields,{number:e,holderName:e});return Object(ne.c)(t,this.formFields)}},{key:"renderCVVHelp",value:function(){var e=this,t=q.a.createElement("span",{className:"cvc-help",role:"button",tabIndex:"0",onClick:this.togglePopover,onKeyPress:this.onKeyPress},q.a.createElement(ae.c,{name:ae.a.QUESTION_MARK,srOnlyText:Object(K.i)("payment.creditCard.cvcTitle"),fill:!0,size:"sm"}));return q.a.createElement(X.b,{ref:function(t){e.popover=t},position:X.a.LEFT,toggleEl:t,closeIcon:!0,onClose:this.focusOnCvvField,id:"cvc-help",className:"dxp-popover-cvc-help"},q.a.createElement("span",{className:"cvc-help-details"},Object(K.a)("payment.creditCard.cvvHelp")))}},{key:"renderCVC",value:function(e){var t=this,n=this.getCVCValidator();return q.a.createElement("div",{className:"credit-card-details-field cvc-container"},q.a.createElement(Q.a,{ref:function(e){t.formFields.cvc=e},keyProp:z.f,mask:this.state.activeCreditCardMask,label:Object(ee.d)("cvc",e,{},"payment.creditCard"),className:"cvc",defaultValue:"",useLabelFeedback:V()(this.props,"configuration.useLabelFeedback",!1),validators:R()(V()(e,"cvc.validators"),n),inputType:"tel"}),Boolean(this.formFields.cvc)&&this.renderCVVHelp())}},{key:"renderCreditCardNumber",value:function(e,t){var n=this,a=this.props,r=a.controlFieldsConfiguration,i=a.form,s=a.availableCreditCards,o=this.state.creditCardFilter,l=e&&o?k()(s,(function(e){return e.name===o})):this.handleNoPatternCards(t,s),c=!!Object(re.b)("number",r)&&function(e){return Object(re.a)(r.number,e,n,i)};return q.a.createElement(qe,{ref:function(e){n.formFields.number=e},onChange:function(e){c&&c(e.target.value)},onBlur:this.onCCInputBlur,profileData:this.props.profileData,onDetection:this.setActiveCreditCard,configuration:this.props.configuration,availableCreditCards:l,hideCreditCardLogo:e||t,isBankIdentificationValid:this.props.isBankIdentificationValid})}},{key:"renderExpirationDate",value:function(e){var t=this,n=this.context.language,a=this.getExpirationDateFormat(),r=this.props.profileData.expirationDate?G()(this.props.profileData.expirationDate).locale("en").format(a):"";return q.a.createElement(Z.a,{ref:function(e){t.formFields.expirationDate=e},shouldValidateOnChange:!0,displayYearOptionsAscending:!0,useLabelFeedback:V()(this.props,"configuration.useLabelFeedback",!1),defaultValue:r,mask:a.replace(/[a-zA-Z]/g,"1"),label:Object(ee.d)("expirationDate",e,{},"payment.creditCard",{format:this.getExpirationDateFormat()}),defaultLocale:n,minDate:this.getDate(a,"expirationDateRangeMinType","expirationDateRangeMin",!0),maxDate:this.getDate(a,"expirationDateRangeMaxType","expirationDateRangeMax"),keyProp:z.g,id:"cc-expiration-date",className:"credit-card-details-field expiration-date",configuration:V()(e,"expirationDate")})}},{key:"renderHolderName",value:function(e){var t=this;return q.a.createElement(Y.a,{ref:function(e){t.formFields.holderName=e},keyProp:z.i,label:Object(ee.d)("holderName",e,{},"payment.creditCard"),defaultValue:this.props.profileData.holderName||"",disabled:!F()(this.props.profileData),className:"credit-card-details-field holder-name",useLabelFeedback:V()(this.props,"configuration.useLabelFeedback",!1),validators:V()(e,"holderName.validators")})}},{key:"renderPriceMessage",value:function(){var e=this.state.activeCard,t=e.amount,n=e.surcharge;return q.a.createElement("div",{className:"total-credit-card-amount"},q.a.createElement("div",{className:"total"},Object(K.a)("payment.totalToBePaid"),q.a.createElement(J.a,{price:t})),q.a.createElement("div",{className:"surcharge-message"},"(",this.context.translateWithComponents("thirdPartyPayment.surchargeMessage",{surchargeAmount:q.a.createElement(J.a,{price:n})}),")"))}},{key:"render",value:function(){var e=this.props,n=e.configuration,a=n.paymentFormValidation,r=void 0===a?{}:a,i=n.creditCardSelection,s=void 0===i?{}:i,o=e.profileData,l=this.state.enabledFields,c=l.number,u=l.holderName,d=l.expirationDate,p=l.cvc,h=this.getAvailableCardTypes(),f=s.isEnabled&&h.length>1,m=o.cardCode||this.state.creditCardFilter;return q.a.createElement("fieldset",{className:"credit-card-fieldset"},q.a.createElement("legend",{className:"sr-only"},Object(K.a)("payment.creditCard.cardDetails")),f&&q.a.createElement($.a,{className:"credit-card-type-selection",disabled:!F()(o),options:t.getCardTypeOptions(h),label:Object(K.i)("payment.creditCard.selectCardType"),onChange:this.onSelectCreditCard,defaultValue:m}),q.a.createElement("div",{className:"credit-card-fields-container"},q.a.createElement("div",{className:"credit-card-detection"},c&&this.renderCreditCardNumber(f,1===h.length)),u&&this.renderHolderName(r),q.a.createElement("div",{className:"expiration-cvc-container"},d&&this.renderExpirationDate(r),p&&this.renderCVC(r)),V()(this.props.configuration,"installmentPayment.isEnabled")&&this.isInstallmentPlanAvailableForConfiguredCCTypes()&&q.a.createElement(Ce,{isLoading:this.props.installments.get("isLoading"),installmentOptions:this.props.installments.get("installmentOptions"),cardBin:this.props.installments.get("cardBin"),cardCode:this.props.installments.get("cardCode"),currency:this.props.installments.get("currency"),paymentType:this.props.installments.get("paymentType"),selectInstallmentPlan:this.props.selectInstallmentPlan,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,selectedInstallmentPlan:this.props.installments.get("selectedInstallmentPlan")})),V()(this.state.activeCard,"surcharge.amount",0)>0&&this.renderPriceMessage())}}]),t}(U.Component);C()(We,"contextTypes",{translateWithComponents:H.func,language:H.string}),C()(We,"defaultProps",{controlFieldsConfiguration:{},form:{},isAwardBooking:!1,clearDCCOffers:w.a,getDCCOffers:w.a,isBankIdentificationValid:w.a,profileData:{},currentFlow:ie.a.B2C,getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,onDetection:w.a}),n.d(t,"a",(function(){return We}))},,,,,,,,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(173),s=n.n(i),o=n(2083),l=n(35),c=n.n(l),u=n(9),d="WEB",p=n(7),h=n(68);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return b}));var g=function(e){return function(t){return t({type:p.cc}),function(e){return Object(u.g)(Object(u.l)("profile"),u.c,{body:{profile:{userDetails:c()(e,["password","email","username"]),userInfo:{emails:[e.email]},password:e.password,username:e.username,profileType:d},autoLogin:!0}})}(e).then((function(e){return function(e,t){var n="SUCCESS"===t.result;e({type:p.dc,travelBankAccountInfo:t.profile,createAccountSuccess:n}),n&&e(Object(h.v)())}(t,e)}))}},v=function(e,t){return function(n){return n({type:p.fd}),n({type:p.i}),Object(o.b)(e).then((function(e){n({type:p.j,globalAdvisories:e.advisories,travelPartAdvisories:e.travelPartAdvisories}),function(e,t){e({type:p.gd,data:t.result}),e({type:p.x,results:t.cartResponse,isRefundCart:!0})}(n,e),t&&t()})).catch((function(e){!function(e,t){t({type:p.y,error:m({},e)})}(e,n),t&&t()}))}},y=function(e){return v(e)};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=s()(t,(function(t){return t.paymentType===e.paymentType})),a=t.slice(0,-1===n?t.length:n);return a.push(e),function(e){return e({type:p.ae,paymentQuery:a,paymentSelected:!0})}}},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(0),g=n.n(m),v=n(2),y=n.n(v),b=(n(6),n(1)),C=n.n(b),E=n(18),k=n.n(E),O=n(19),_=n.n(O),P=n(539),S=n.n(P),N=n(27),w=n.n(N),A=n(4),T=n.n(A),I=n(5),D=n.n(I),x=n(12),j=n(2347),L=n(153),F=n(1912),B=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getDefaultFrequentFlyer",value:function(e){var t=this.props.data,n=_()(t.frequentFlyer,{airlineSegment:e});return y()(n)?w()(t.frequentFlyer):w()(n)}},{key:"getMultiFrequentFlyerData",value:function(){var e=this;return D()(g()(this,"props.multiFrequentFlyerData"),(function(t,n){var a=n,r=e["frequentFlyer".concat(n)].getValue();return k()({airlineSegment:a},r)}))}},{key:"getMultiFrequentFlyerDetails",value:function(){var e=this,n=this.props.multiFrequentFlyerData;return D()(n,(function(n,a){var r=Object(x.a)("airlines.".concat(a));return C.a.createElement("div",{className:"frequent-flyer-data",key:a},C.a.createElement("span",{className:"airlines-name"},r),C.a.createElement("div",{className:"airlines-segment"},C.a.createElement("span",null,t.prepareAirlineSegment(n))),C.a.createElement("div",{className:"editable-fields"},e.renderMFF(a)))}))}},{key:"getValue",value:function(){return this.getMultiFrequentFlyerData()}},{key:"isValid",value:function(){var e=this,t=T()(this.props.multiFrequentFlyerData,(function(t,n,a){return t&&e["frequentFlyer".concat(a)].isValid()}),!0);return t}},{key:"renderFrequentFlyerComponent",value:function(e){var t=this.props,n=t.configuration,a=t.frequentFlyerProgram,r=t.id,i=e.fFAvailablePrograms,s=e.fFProgramDefaultValue,o=e.fFNumberDefaultValue,l=e.refNameForFFProgram,c=e.refNameForFFNumber,u=e.ref,d=e.index;return C.a.createElement(j.a,{fFAvailablePrograms:i,fFProgramDefaultValue:s,fFNumberDefaultValue:o,refNameForFFProgram:l,refNameForFFNumber:c,ref:u,validators:g()(n,"frequentFlyerNumber.validators"),fFProgramValidators:g()(n,"frequentFlyerProgram.fFProgramValidators"),fFProgramEnabled:g()(n,"frequentFlyerProgram.isEnabled",!1),fFNumberEnabled:g()(n,"frequentFlyerNumber.isEnabled",!1),fFProgramLabel:"".concat(Object(x.i)("passengers.frequentFlyerProgram.label")," ").concat(Object(x.i)("passengers.optional",{isRequired:Object(L.b)(g()(n,"frequentFlyerProgram.validators"))})),fFNumberLabel:"".concat(Object(x.i)("passengers.frequentFlyerNumber.label")," ").concat(Object(x.i)("passengers.optional",{isRequired:Object(L.b)(g()(n,"frequentFlyerNumber.validators"))})),fFProgramOptions:a,disabled:!g()(n,"frequentFlyerNumber.isEditable"),index:d,id:r,onChange:this.props.onChange})}},{key:"renderMFF",value:function(e){var t=this,n=this.getDefaultFrequentFlyer(e),a=this.props.configuration,r=g()(a,"frequentFlyerProgram.defaultAirline",g()(w()(this.props.frequentFlyerProgram),"value")),i=g()(n,"frequentFlyerProgram",r),s=g()(n,"frequentFlyerNumber",""),o="frequentFlyerProgram".concat(e),l="frequentFlyerNumber".concat(e),c="frequentFlyer".concat(e),u={fFAvailablePrograms:g()(this.props,"data.singleFrequentFlyer",[]),fFProgramDefaultValue:i,fFNumberDefaultValue:s,refNameForFFProgram:o,refNameForFFNumber:l,ref:function(e){t[c]=e},index:e};return this.renderFrequentFlyerComponent(u)}},{key:"render",value:function(){return C.a.createElement(F.a,{sectionName:"frequent-flyer-info",title:"passengers.sections.frequentFlyerInfo"},C.a.createElement("div",{className:"multi-frequent-flyer-description"},C.a.createElement("span",null,Object(x.a)("passengers.multiFrequentFlyerDescription"))),this.getMultiFrequentFlyerDetails())}}],[{key:"prepareAirlineSegment",value:function(e){return D()(e,(function(e){return Object(x.i)("passengers.airlineSegment",{origin:S()(e.origin||""),destination:S()(e.destination||"")})})).join(" | ")}}]),t}(b.Component);f()(B,"defaultProps",{id:""});var R=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){var e=[];return e.push(this.frequentFlyer.getValue()),e}},{key:"isValid",value:function(){return this.frequentFlyer.isValid()}},{key:"renderFrequentFlyerComponent",value:function(){var e=this,t=this.props,n=t.configuration,a=t.frequentFlyerProgram,r=t.id,i=t.data,s=g()(i,"singleFrequentFlyer[0].airline")||g()(i,"frequentFlyer[0].frequentFlyerProgram")||g()(n,"frequentFlyerProgram.defaultAirline"),o=g()(i,"singleFrequentFlyer[0].membershipID")||g()(i,"frequentFlyer[0].frequentFlyerNumber"),l=g()(i,"singleFrequentFlyer",[]);return C.a.createElement(j.a,{ref:function(t){e.frequentFlyer=t},fFProgramDefaultValue:s,fFNumberDefaultValue:o,fFAvailablePrograms:l,id:r,validators:g()(n,"frequentFlyerNumber.validators"),fFProgramValidators:g()(n,"frequentFlyerProgram.fFProgramValidators"),fFProgramEnabled:g()(n,"frequentFlyerProgram.isEnabled",!1),fFNumberEnabled:g()(n,"frequentFlyerNumber.isEnabled",!1),fFProgramLabel:"".concat(Object(x.i)("passengers.frequentFlyerProgram.label")," ").concat(Object(x.i)("passengers.optional",{isRequired:Object(L.b)(g()(n,"frequentFlyerProgram.validators"))})),fFNumberLabel:"".concat(Object(x.i)("passengers.frequentFlyerNumber.label")," ").concat(Object(x.i)("passengers.optional",{isRequired:Object(L.b)(g()(n,"frequentFlyerNumber.validators"))})),fFProgramOptions:a,disabled:!g()(n,"frequentFlyerNumber.isEditable"),onChange:this.props.onChange})}},{key:"render",value:function(){return C.a.createElement(F.a,{sectionName:"frequent-flyer-info",title:"passengers.sections.frequentFlyerInfo"},C.a.createElement("div",{className:"editable-fields"},this.renderFrequentFlyerComponent()))}}]),t}(b.Component);n(2760);n.d(t,"a",(function(){return M}));var M=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){return g()(this,"props.configuration.isMultiFrequentFlyerEnabled")&&!y()(g()(this,"props.multiFrequentFlyerData"))?{frequentFlyer:this.multiFrequentFlyer.getValue()}:{frequentFlyer:this.singleFrequentFlyer.getValue()}}},{key:"isValid",value:function(){return g()(this,"props.configuration.isMultiFrequentFlyerEnabled")&&!y()(g()(this,"props.multiFrequentFlyerData"))?this.multiFrequentFlyer.isValid():this.singleFrequentFlyer.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.frequentFlyerProgram,a=t.data,r=t.configuration,i=t.multiFrequentFlyerData,s=t.id;return g()(this,"props.configuration.isMultiFrequentFlyerEnabled")&&!y()(g()(this,"props.multiFrequentFlyerData"))?C.a.createElement(B,{frequentFlyerProgram:n,data:a,configuration:r,multiFrequentFlyerData:i,id:"".concat(s,"-passenger-frequent-flyer"),ref:function(t){e.multiFrequentFlyer=t},onChange:function(){return e.props.onFrequentFlyerChange(e.getValue(),e.props.passengerId)}}):C.a.createElement(R,{frequentFlyerProgram:n,data:a,id:"".concat(s,"-passenger-frequent-flyer"),configuration:r,ref:function(t){e.singleFrequentFlyer=t},onChange:function(){return e.props.onFrequentFlyerChange(e.getValue(),e.props.passengerId)}})}}]),t}(b.Component);f()(M,"defaultProps",{multiFrequentFlyerData:{}})},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(92),y=n.n(v),b=n(112),C=n.n(b),E=n(52),k=n.n(E),O=n(21),_=n.n(O),P=n(122),S=n.n(P),N=n(4),w=n.n(N),A=n(145),T=n.n(A),I=n(5),D=n.n(I),x=n(2),j=n.n(x),L=n(0),F=n.n(L),B=n(1),R=n.n(B),M=(n(6),n(12)),V=n(11),U=(n(194),"LOVE"),q=n(529),H=n(1289),W=n(1912),G=n(153),K=n(1418),z=n(50),Y=(n(2766),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"errorRef",R.a.createRef()),g()(p()(n),"nervousFlyerConsentRef",R.a.createRef()),g()(p()(n),"ssrConsentRef",R.a.createRef()),g()(p()(n),"state",{error:!1,specialRequestValue:n.getSpecialRequests(),nervousFlyerConsentChecked:!1,ssrConsentChecked:!1}),g()(p()(n),"onControlChange",(function(e,t,a){var r=n.props,i=r.controlFieldConfiguration,s=r.updateControlFields,o=y()(n.state.specialRequestValue);return o[a]=e,F()(i,"controlledFields",[]).includes(t)?(n.setState({specialRequestValue:o}),s(t,p()(n),e,i)):null})),g()(p()(n),"onNervousFlyerConsentChecked",(function(e){n.setState((function(t){return{nervousFlyerConsentChecked:!t.nervousFlyerConsentChecked,error:!e}}))})),g()(p()(n),"onSSRConsentChecked",(function(e){n.setState((function(t){return{ssrConsentChecked:!t.ssrConsentChecked,error:!e}}))})),g()(p()(n),"renderNervousFlyerConsentCheckBox",(function(){return R.a.createElement(K.a,{className:"nervous-flyer-consent",syncStateWithProp:!0,label:Object(M.a)("passengers.specialRequests.nervousFlyerConsent"),ref:n.nervousFlyerConsentRef,onChange:n.onNervousFlyerConsentChecked,checked:n.state.nervousFlyerConsentChecked})})),g()(p()(n),"renderSpecialRequestsConsentCheckBox",(function(){return R.a.createElement(K.a,{syncStateWithProp:!0,label:Object(M.a)("passengers.specialRequests.consent"),ref:n.ssrConsentRef,onChange:n.onSSRConsentChecked,checked:n.state.ssrConsentChecked})})),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.state.specialRequestValue,t=k()(e,U);-1!==t&&this.onControlChange(U,"specialRequests".concat(t),t)}},{key:"getSpecialRequests",value:function(){var e=this.props,t=e.data,n=e.configuration.specialRequests,a=F()(n,"numberOfSSR"),r=Object(H.b)(n,a);return C()(F()(t,["travelPreferences","specialRequests",[]])||F()(t,"specialRequests",[])||F()(t,["specialPreferences","specialRequests",[]]),r)}},{key:"getDefaultSpecialRequestsValue",value:function(e){var t=this.state.specialRequestValue;if(0!==t.length)return t[e]}},{key:"getDefaultValue",value:function(e){return F()(this.props,"data.travelPreferences.".concat(e),!1)?F()(this.props,"data.travelPreferences.".concat(e)):F()(this.props,"data.".concat(e))}},{key:"getSpecialRequestsValue",value:function(){var e=this;return w()(T()(this.props.configuration.specialRequests.numberOfSSR),(function(t,n){return j()(e["specialRequests".concat(n)].getValue())||t.push(e["specialRequests".concat(n)].getValue()),t}),[])}},{key:"getValue",value:function(){var e=this.props.configuration;return{mealPreference:F()(e,"mealPreference.isEnabled",!1)?this.mealPreference.getValue():"",seatPreference:F()(e,"seatPreference.isEnabled",!1)?this.seatPreference.getValue():"",specialRequests:F()(e,"specialRequests.isEnabled",!1)?this.getSpecialRequestsValue():[]}}},{key:"isValid",value:function(){var e=this,t=this.props.configuration,n=this.state.specialRequestValue;if(F()(t,"specialRequests.showConsent",!1)&&!j()(n)&&!this.state.ssrConsentChecked)return this.setState({error:!0}),this.ssrConsentRef.current.focus();if(_()(n,U)&&!this.state.nervousFlyerConsentChecked)return this.setState({error:!0}),this.nervousFlyerConsentRef.current.focus();var a={mealPreference:F()(t,"mealPreference.isEnabled",!1),seatPreference:F()(t,"seatPreference.isEnabled",!1)},r={mealPreference:this.mealPreference,seatPreference:this.seatPreference},i=w()(T()(t.specialRequests.numberOfSSR),(function(n,a,r){return n.enabledFields["specialRequests".concat(r)]=t.specialRequests.isEnabled,n.refs["specialRequests".concat(r)]=e["specialRequests".concat(r)],n}),{enabledFields:a,refs:r});return Object(G.c)(i.enabledFields,i.refs)}},{key:"renderError",value:function(){return R.a.createElement("div",{className:"error",ref:this.errorRef},R.a.createElement(z.c,{name:z.a.ALERT_TRIANGLE}),Object(M.a)("passengers.specialRequests.selectionError"))}},{key:"renderMealPreferences",value:function(){var e=this,t=this.props,n=t.configuration,a=t.mealPreference,r=t.id,i=t.serverValidationErrors;return R.a.createElement("div",{className:"meal-preference-group"},R.a.createElement(q.a,{label:"".concat(Object(M.i)("passengers.mealPreference.label"),"  ").concat(Object(M.i)("passengers.optional",{isRequired:Object(G.b)(n.mealPreference.validators)})),keyProp:"mealPreference",ref:function(t){e.mealPreference=t},useLabelFeedback:!0,defaultValue:this.getDefaultValue("mealPreference"),options:a,validators:F()(n,"mealPreference.validators",{}),className:"mealPreference",disabled:!F()(n,"mealPreference.isEditable",!1),id:"".concat(r,"-mealPreference"),isValid:!i.has("mealPreference"),error:i.get("mealPreference"),onChange:function(t){return e.props.onAdditionalInfoChange("mealPreference",t)}}),R.a.createElement("span",{className:"meal-description-disclaimer"},Object(M.a)("passengers.mealDescription")))}},{key:"renderSeatPreferences",value:function(){var e=this,t=this.props,n=t.configuration,a=t.seatPreference,r=t.id,i=t.serverValidationErrors;return R.a.createElement(q.a,{label:"".concat(Object(M.i)("passengers.seatPreference.label"),"  ").concat(Object(M.i)("passengers.optional",{isRequired:Object(G.b)(n.seatPreference.validators)})),keyProp:"seatPreference",ref:function(t){e.seatPreference=t},useLabelFeedback:!0,defaultValue:this.getDefaultValue("seatPreference"),options:a,validators:F()(n,"seatPreference.validators",{}),className:"seatPreference",disabled:!F()(n,"seatPreference.isEditable",!1),id:"".concat(r,"-seatPreference"),isValid:!i.has("seatPreference"),error:i.get("seatPreference"),onChange:function(t){return e.props.onAdditionalInfoChange("mealPreference",t)}})}},{key:"renderSpecialRequests",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.serverValidationErrors;return D()(T()(n.specialRequests.numberOfSSR),(function(t){var i="specialRequests".concat(t),s=Object(H.o)("specialRequests",n,t);return R.a.createElement(q.a,{label:"".concat(Object(M.i)("passengers.specialRequests.label"),"  ").concat(Object(M.i)("passengers.optional",{isRequired:Object(G.b)(n.specialRequests.validators)})),keyProp:i,key:i,ref:function(t){e[i]=t},useLabelFeedback:!0,validators:F()(n,"specialRequests.validators",[]),defaultValue:e.getDefaultSpecialRequestsValue(t),options:s,className:"specialRequests",disabled:!F()(n,"specialRequests.isEditable",!1),id:"".concat(a,"-specialRequests-").concat(t),isValid:!r.has("specialRequests"),error:r.get("specialRequests"),onChange:function(n){return e.props.onAdditionalInfoChange("specialRequest".concat(t),n)}})}))}},{key:"render",value:function(){var e=this.props,t=e.configuration,n=e.id,a=void 0===n?"":n,r=this.state,i=r.error,s=r.specialRequestValue,o=F()(a.split("-"),[3],"");return R.a.createElement(W.a,{sectionName:"special-requests-info",title:"passengers.sections.specialRequestsInfo",paxType:o},F()(t,"mealPreference.isEnabled",!1)&&this.renderMealPreferences(),F()(t,"seatPreference.isEnabled",!1)&&this.renderSeatPreferences(),F()(t,"specialRequests.isEnabled",!1)&&this.renderSpecialRequests(),R.a.createElement("div",{className:"ssr-consent"},i&&this.renderError(),F()(t,"specialRequests.showConsent",!1)&&this.renderSpecialRequestsConsentCheckBox(),_()(s,U)&&this.renderNervousFlyerConsentCheckBox()))}}]),t}(B.Component));g()(Y,"defaultProps",{id:"",mealPreference:void 0,seatPreference:void 0,serverValidationErrors:Object(V.Map)(),updateControlFields:S.a,data:{specialRequests:[],travelPreferences:{specialRequests:[]},specialPreferences:{specialRequests:[]}},onAdditionalInfoChange:function(){}}),n.d(t,"a",(function(){return Y}))},,,,,,,,,function(e,t,n){"use strict";n(6),n(194);var a=n(1),r=n.n(a),i=n(12),s=n(88),o=n(136),l=function(e){var t=e.user,n=e.callback,a=t.getIn(["personalDetails","firstName"]);return r.a.createElement(o.a,{onCloseClick:function(){return n()}},r.a.createElement("h4",null,Object(i.a)("passengers.frequentFlyerTierWarningModal.title",{userName:a})),r.a.createElement("p",null,Object(i.a)("passengers.frequentFlyerTierWarningModal.description",{userName:a})),r.a.createElement(s.a,{className:"primary medium pull-right frequent-flyer-tier-warning-modal",onClick:function(){return n()}},Object(i.a)("passengers.frequentFlyerTierWarningModal.action")))};n.d(t,"a",(function(){return l}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(0),y=n.n(v),b=n(1),C=n.n(b),E=n(6),k=n(17),O=n.n(k),_=n(12),P=n(11),S=(n(194),n(129)),N=n(326),w=n(1912),A=n(1480),T=n(153),I=(n(2763),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){var e=this.props,t=e.configuration,n=e.dateFormat;return{visaInfo:{issuingCountry:y()(t,"issuingCountry.isEnabled",!1)?this.issuingCountry.getValue():"",countryOfBirth:y()(t,"countryOfBirth.isEnabled",!1)?this.countryOfBirth.getValue():"",issueDate:y()(t,"issueDate.isEnabled",!1)&&!g()(this.issueDate.getValue())?O()(this.issueDate.getValue(),n).locale(this.props.defaultLocale).format("YYYY-MM-DD"):"",documentNumber:y()(t,"documentNumber.isEnabled",!1)?this.documentNumber.getValue():"",issuePlace:y()(t,"issuePlace.isEnabled",!1)?this.issuePlace.getValue():""}}}},{key:"isValid",value:function(){var e=this.props.configuration,t={issuingCountry:y()(e,"issuingCountry.isEnabled",!1),countryOfBirth:y()(e,"countryOfBirth.isEnabled",!1),issueDate:y()(e,"issueDate.isEnabled",!1),documentNumber:y()(e,"documentNumber.isEnabled",!1),issuePlace:y()(e,"issuePlace.isEnabled",!1)};return Object(T.c)(t,{issuingCountry:this.issuingCountry,countryOfBirth:this.countryOfBirth,issueDate:this.issueDate,documentNumber:this.documentNumber,issuePlace:this.issuePlace})}},{key:"renderCountryOfBirth",value:function(){var e=this,t=this.props,n=t.configuration,a=t.countries,r=t.id,i=t.serverValidationErrors,s=n.countryOfBirth.validators;return C.a.createElement(N.a,{label:"".concat(Object(_.i)("passengers.countryOfBirth.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(T.b)(s)})),keyProp:"countryOfBirth",options:a,defaultValue:y()(this.props.defaultValue,"countryOfBirth"),validators:s,useLabelFeedback:!0,ref:function(t){e.countryOfBirth=t},disabled:!y()(n,"countryOfBirth.isEditable",!0),className:"countryOfBirth",id:"".concat(r,"-country-of-birth"),isValid:!i.has("countryOfBirth"),error:i.get("countryOfBirth")})}},{key:"renderDocumentNumber",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.serverValidationErrors,i=n.documentNumber.validators;return C.a.createElement(S.a,{label:"".concat(Object(_.i)("passengers.visaDocumentNumber.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(T.b)(i)})),keyProp:"documentNumber",defaultValue:y()(this.props,"defaultValue.documentNumber"),validators:i,useLabelFeedback:!0,ref:function(t){e.documentNumber=t},disabled:!y()(n,"documentNumber.isEditable",!0),className:"documentNumber",id:"".concat(a,"-document-number"),isValid:!r.has("documentNumber"),error:r.get("documentNumber")})}},{key:"renderIssueDate",value:function(){var e=this,t=this.context.language,n=this.props,a=n.configuration,r=n.id,i=n.serverValidationErrors,s=y()(a,"issueDate.isDatePickerDisabled",!0),o=y()(a,"issueDate.inputType","text"),l=a.issueDate.validators;return C.a.createElement(A.a,{type:o,label:"".concat(Object(_.i)("passengers.issueDate.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(T.b)(l)})),defaultValue:g()(y()(this.props,"defaultValue.issueDate"))?"":O()(y()(this.props,"defaultValue.issueDate")).locale(this.props.defaultLocale),useLabelFeedback:!0,isDatePickerDisabled:s,dateFormat:this.props.dateFormat,defaultLocale:t,validators:l,keyProp:"issueDate",ref:function(t){e.issueDate=t},disabled:!y()(a,"issueDate.isEditable",!0),className:"issueDate",id:"".concat(r,"-issue-date"),isValid:!i.has("issueDate"),error:i.get("issueDate")})}},{key:"renderIssuePlace",value:function(){var e=this,t=this.props,n=t.configuration,a=t.id,r=t.serverValidationErrors,i=n.issuePlace.validators;return C.a.createElement(S.a,{label:"".concat(Object(_.i)("passengers.issuePlace.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(T.b)(i)})),keyProp:"issuePlace",defaultValue:y()(this.props,"defaultValue.issuePlace"),validators:i,useLabelFeedback:!0,ref:function(t){e.issuePlace=t},disabled:!y()(n,"issuePlace.isEditable",!0),className:"issuePlace",id:"".concat(a,"-issue-place"),isValid:!r.has("issuePlace"),error:r.get("issuePlace")})}},{key:"renderIssuingCountry",value:function(){var e=this,t=this.props,n=t.configuration,a=t.countries,r=t.id,i=t.serverValidationErrors,s=n.issuingCountry.validators;return C.a.createElement(N.a,{label:"".concat(Object(_.i)("passengers.visaIssuingCountry.label"),"  ").concat(Object(_.i)("passengers.optional",{isRequired:Object(T.b)(s)})),keyProp:"issuingCountry",options:a,defaultValue:y()(this.props,"defaultValue.issuingCountry"),validators:s,useLabelFeedback:!0,ref:function(t){e.issuingCountry=t},disabled:!y()(n,"issuingCountry.isEditable",!0),className:"issuingCountry",id:"".concat(r,"-issuing-country"),isValid:!i.has("issuingCountry"),error:i.get("issuingCountry")})}},{key:"render",value:function(){var e=this.props.configuration;return C.a.createElement(w.a,{sectionName:"visa-document-info",title:"passengers.sections.visaDocumentInfo"},y()(e,"issuingCountry.isEnabled",!1)&&this.renderIssuingCountry(),y()(e,"countryOfBirth.isEnabled",!1)&&this.renderCountryOfBirth(),y()(e,"issueDate.isEnabled",!1)&&this.renderIssueDate(),y()(e,"documentNumber.isEnabled",!1)&&this.renderDocumentNumber(),y()(e,"issuePlace.isEnabled",!1)&&this.renderIssuePlace())}}]),t}(b.Component));f()(I,"contextTypes",{language:E.string}),f()(I,"defaultProps",{serverValidationErrors:Object(P.Map)()});var D=I;n.d(t,"a",(function(){return D}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(0),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(12),C=n(11),E=(n(194),n(129)),k=n(153),O=n(1912),_=(n(2764),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getValue",value:function(){var e=this.props.configuration;return{redressNumber:g()(e,"redressNumber.isEnabled",!1)?this.redressNumber.getValue():"",knownTravelerNumber:g()(e,"knownTravellerNumber.isEnabled",!1)?this.knownTravellerNumber.getValue():""}}},{key:"isValid",value:function(){var e=this.props.configuration,t={redressNumber:g()(e,"redressNumber.isEnabled",!1),knownTravellerNumber:g()(e,"knownTravellerNumber.isEnabled",!1)};return Object(k.c)(t,{redressNumber:this.redressNumber,knownTravellerNumber:this.knownTravellerNumber})}},{key:"renderPassengerKnownTravellerNumber",value:function(){var e=this,t=this.props,n=t.configuration,a=t.data,r=t.id,i=t.serverValidationErrors;return y.a.createElement(E.a,{label:"".concat(Object(b.i)("passengers.knownTravellerNumber.label"),"  ").concat(Object(b.i)("passengers.optional",{isRequired:Object(k.b)(n.knownTravellerNumber.validators)})),keyProp:"knownTravellerNumber",defaultValue:a.knownTravelerNumber,useLabelFeedback:!0,validators:n.knownTravellerNumber.validators,ref:function(t){e.knownTravellerNumber=t},className:"knownTravellerNumber",id:r,disabled:!g()(n,"knownTravellerNumber.isEditable",!0),isValid:!i.has("knownTravellerNumber"),error:i.get("knownTravellerNumber")})}},{key:"renderPassengerRedressNumber",value:function(){var e=this,t=this.props,n=t.configuration,a=t.data,r=t.id,i=t.serverValidationErrors;return y.a.createElement(E.a,{label:"".concat(Object(b.i)("passengers.redressNumber.label"),"  ").concat(Object(b.i)("passengers.optional",{isRequired:Object(k.b)(n.redressNumber.validators)})),keyProp:"redressNumber",defaultValue:a.redressNumber,useLabelFeedback:!0,validators:n.redressNumber.validators,ref:function(t){e.redressNumber=t},className:"redressNumber",id:r,disabled:!g()(n,"redressNumber.isEditable",!0),isValid:!i.has("redressNumber"),error:i.get("redressNumber")})}},{key:"render",value:function(){var e=this.props.configuration;return y.a.createElement(O.a,{sectionName:"secure-flight-info",title:"passengers.sections.secureFlightInfo"},g()(e,"redressNumber.isEnabled",!1)&&this.renderPassengerRedressNumber(),g()(e,"knownTravellerNumber.isEnabled",!1)&&this.renderPassengerKnownTravellerNumber())}}]),t}(v.Component));f()(_,"defaultProps",{serverValidationErrors:Object(C.Map)()}),n.d(t,"a",(function(){return _}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(65),y=n.n(v),b=n(8),C=n.n(b),E=n(49),k=n.n(E),O=n(4),_=n.n(O),P=n(16),S=n.n(P),N=n(145),w=n.n(N),A=n(5),T=n.n(A),I=n(2),D=n.n(I),x=n(0),j=n.n(x),L=n(1),F=n.n(L),B=(n(6),n(39)),R=n.n(B),M=n(50),V=n(12),U=n(11),q=(n(194),n(1949)),H=n(1290),W=n(2079),G=n(153),K=n(129),z=n(2107),Y=n(1912),Q=n(1289),X=n(2037),J=n(2162);n(2765);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"getConfigurationWithDisabledFields",(function(e){return Object.keys(e).reduce((function(t,n){return Z({},t,g()({},n,Z({},e[n],{isEditable:!1})))}),{})})),n.state={updatedValidatorsWithRequiredValidation:{},backUpValidators:{}},n}return f()(t,e),p()(t,null,[{key:"getLabel",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"app",r=arguments.length>4?arguments[4]:void 0;return Object(Q.a)("".concat(a,".").concat(e,".label"),"passengers.optional",D()(r)?Object(Q.h)(n,j()(t,"".concat(e,".validators"))):r)}}]),p()(t,[{key:"componentDidMount",value:function(){this.validateGstForm()}},{key:"getLabelForOtherPhones",value:function(e){return"".concat(Object(V.i)("passengers.phoneNumber.label",{number:e+1})," ").concat(Object(V.i)("passengers.optional",{isRequired:Object(Q.l)(j()(this.props.configuration.phone,"phoneNumber.secondaryPhoneNumberValidators",[]))}))}},{key:"getLabelForOtherPhonesType",value:function(e){return"".concat(Object(V.i)("passengers.phoneType.label",{number:e+1})," ").concat(Object(V.i)("passengers.optional",{isRequired:Object(Q.l)(j()(this.props.configuration.phone,"phoneType.secondaryPhoneTypeValidators",[]))}))}},{key:"getLabelForPhoneNumber",value:function(e){var t=this.props.configuration;return j()(t.phone.phoneNumber,"primaryPhoneNumberValidators")||j()(t.phone.phoneNumber,"secondaryPhoneNumberValidators")?0===e?this.getLabelForPrimaryPhone(e):this.getLabelForOtherPhones(e):"".concat(Object(V.i)("passengers.phoneNumber.label",{number:e+1})," ").concat(Object(V.i)("passengers.optional",{isRequired:Object(Q.l)(j()(t.phone,"phoneNumber.validators",[]))}))}},{key:"getLabelForPhoneType",value:function(e){var t=this.props.configuration;return j()(t.phone.phoneType,"primaryPhoneTypeValidators")||j()(t.phone.phoneType,"secondaryPhoneTypeValidators")?0===e?this.getLabelForPrimaryPhoneType(e):this.getLabelForOtherPhonesType(e):"".concat(Object(V.i)("passengers.phoneType.label",{number:e+1})," ").concat(Object(V.i)("passengers.optional",{isRequired:Object(Q.l)(j()(t.phone,"phoneType.validators",[]))}))}},{key:"getLabelForPrimaryPhone",value:function(e){return"".concat(Object(V.i)("passengers.phoneNumber.label",{number:e+1})," ").concat(Object(V.i)("passengers.optional",{isRequired:Object(Q.l)(this.state.updatedValidatorsWithRequiredValidation["gstPhones".concat(e)])}))}},{key:"getLabelForPrimaryPhoneType",value:function(e){return"".concat(Object(V.i)("passengers.phoneType.label",{number:e+1})," ").concat(Object(V.i)("passengers.optional",{isRequired:Object(Q.l)(j()(this.props.configuration.phone,"phoneType.primaryPhoneTypeValidators",[]))}))}},{key:"getPhoneFields",value:function(){var e=this.props.configuration.phone;if(e.isEnabled)return _()(w()(e.numberOfPhones),(function(e,t){return e["gstPhones".concat(t)]=!0,e}),{})}},{key:"getPhoneTypeValidators",value:function(e){var t=this.props.configuration;return j()(t,"phone.phoneType.primaryPhoneTypeValidators")||j()(t,"phone.phoneType.secondaryPhoneNumberValidators")?0===e?t.phone.phoneType.primaryPhoneTypeValidators:t.phone.phoneType.secondaryPhoneTypeValidators:j()(t,"phone.phoneType.validators")}},{key:"getPhoneValidators",value:function(e){var t=this.props.configuration.phone,n=(void 0===t?{}:t).phoneNumber,a=(n=void 0===n?{}:n).primaryPhoneNumberValidators,r=n.secondaryPhoneNumberValidators,i=n.validators;return a||r?0===e&&y()(this.state.updatedValidatorsWithRequiredValidation,"gstPhones".concat(e))?this.state.updatedValidatorsWithRequiredValidation["gstPhones".concat(e)]:0===e?a:r:i}},{key:"getPhonesValue",value:function(){var e=this,t=this.props.configuration.phone,n=(t=void 0===t?{}:t).numberOfPhones,a=t.defaultPhoneType,r=void 0===a?"":a;return t.isPhoneGroupEnabled?T()(w()(n),(function(t){return e["gstPhones".concat(t)].getValue()})):_()(w()(n),(function(t,n){var a=e["gstPhones".concat(n)].getValue();return D()(a)||t.push({type:r,countryCode:a.countryCode,number:a.number}),t}),[])}},{key:"getValue",value:function(){var e=this.props.configuration,t=e.number,n=e.company,a=e.address,r=e.phone,i=e.email;return{generalSalesTaxData:{number:t.isEnabled?this.gstNumber.getValue():"",company:n.isEnabled?this.gstCompany.getValue():"",email:i.isEnabled?this.gstEmail.getValue()[0]:"",phones:r.isEnabled?this.getPhonesValue():[],address:a.isEnabled?this.gstAddress.getValue():{}},isGstnAdded:this.props.isGstnAdded}}},{key:"isGstnFieldControlling",value:function(){return j()(this.props.configuration,"number.isEnabled",!1)&&Object(q.b)("gstNumber",this.props.controlFieldConfiguration)}},{key:"isValid",value:function(){var e=this,t=this.getPhoneFields(),n=S()({},t,{gstNumber:this.gstNumber,gstCompany:this.gstCompany,gstAddress:this.gstAddress,gstEmail:this.gstEmail}),a=k()(t),r=_()(a,(function(t,n){return t[n]=e[n],t}),{});return Object(G.c)(n,Z({gstNumber:this.gstNumber,gstCompany:this.gstCompany,gstAddress:this.gstAddress,gstEmail:this.gstEmail},r))}},{key:"validateGstForm",value:function(){var e=this.props,t=e.form,n=e.controlFieldConfiguration;this.isGstnFieldControlling()&&Object(q.a)(n.gstNumber,j()(this,"props.generalSalesTaxData.number"," "),this,t,this.state.backUpValidators)}},{key:"renderFieldPhone",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=this.props,r=a.isGstnAdded,i=a.configuration.phone,s=(i=void 0===i?{}:i).phoneNumber.defaultCountry,o=void 0===s?"":s,l=i.isEditable,c=void 0===l||l,u=i.resetPhoneField,d=void 0===u||u,p=i.hideCountryFlag,h=void 0===p||p,f=a.id,m=a.serverValidationErrors,g=a.phoneCountryCodes,v="gstPhones".concat(n);return F.a.createElement(H.a,{key:n,className:R()("gst-info","phone-".concat(n)),label:this.getLabelForPhoneNumber(n),keyProp:v,defaultValue:t,useLabelFeedback:!0,validators:this.getPhoneValidators(n),defaultCountry:o,ref:function(t){e[v]=t},disabled:!c||r,index:n,id:f,isResetPhoneField:d,hideCountryFlag:h,isValid:!m.has(v),error:m.get(v),phoneCountryCodes:g})}},{key:"renderFieldPhoneGroup",value:function(e,n){var a=this,r=this.props,i=r.configuration,s=r.id,o=r.isGstnAdded,l=r.serverValidationErrors,c=r.phoneCountryCodes,u=i.phone;return F.a.createElement(W.a,{key:"field-phone-group-".concat(n),classNames:"phone-".concat(n),phoneTypeLabel:this.getLabelForPhoneType(n),phoneNumberLabel:this.getLabelForPhoneNumber(n),phoneExtensionLabel:t.getLabel("phoneExtension"),keyProp:"phone".concat(n),defaultValue:e||{},useLabelFeedback:!0,configuration:u,phoneNumberValidators:this.getPhoneValidators(n),phoneTypeValidators:this.getPhoneTypeValidators(n),validators:this.getPhoneTypeValidators(n),ref:function(e){a["gstPhones".concat(n)]=e},disabled:!u.isEditable||o,index:n,id:s,serverValidationErrors:l,phoneCountryCodes:c})}},{key:"renderGSTInfoTooltip",value:function(){var e=this,t=Object(V.i)("passengers.gst.popoverTriggerHoverText");return F.a.createElement(z.b,{ref:function(t){e.popover=t},position:z.a.RIGHT,className:"gst-info-popover",showClose:!0,id:"gst-info-help",toggleEl:F.a.createElement("span",{role:"button",tabIndex:"0",className:"".concat(M.a.INFO_CIRCLE," spark-popover__toggle gst-popup-trigger"),title:t,"aria-label":t})},F.a.createElement("div",{className:"gst-popover-content-wrapper"},F.a.createElement("div",{className:"gst-info-header"}," ",Object(V.i)("passengers.gst.info")," "),F.a.createElement("span",{className:"gst-help-text"}," ",Object(V.i)("passengers.gst.popoverInfoText")," ")))}},{key:"renderGstAddress",value:function(){var e=this,t=j()(this.props.generalSalesTaxData,"address",{}),n=S()(t,{postcode:"NULL"===t.postcode?"":t.postcode}),a=this.props,r=a.id,i=a.countries,s=a.addressType,o=a.controlFieldConfiguration,l=a.provinces,c=a.validations,u=a.configuration,d=a.isGstnAdded,p=a.generalSalesTaxData.address,h=void 0===p?n:p,f=a.serverValidationErrors,m=u.address;return F.a.createElement(X.a,{configuration:d?this.getConfigurationWithDisabledFields(m):m,ref:function(t){e.gstAddress=t},addressType:s,countries:i,provinces:l,className:"passenger-gst-address-section",id:"gst".concat(r),data:h,controlFieldConfiguration:o,validations:c,form:this.form,prefix:"passengers.gst",serverValidationErrors:f})}},{key:"renderGstCompanyName",value:function(){var e=this,n=this.props,a=n.id,r=n.validations,i=n.configuration,s=n.generalSalesTaxData.company,o=void 0===s?"":s,l=n.isGstnAdded,c=n.serverValidationErrors,u=i.company,d=(u=void 0===u?{}:u).validators,p=u.isEditable,h=void 0===p||p,f="company",m=y()(this.state.updatedValidatorsWithRequiredValidation,"gstCompany")?this.state.updatedValidatorsWithRequiredValidation.gstCompany:d;return F.a.createElement(K.a,{label:t.getLabel(f,i,r,"passengers.gst",m),keyProp:"gst".concat(f),defaultValue:o,useLabelFeedback:!0,validators:m,ref:function(t){e.gstCompany=t},className:"gstCompany",disabled:!h||l,id:a,form:this.form,isValid:!c.has("gst".concat(f)),error:c.get("gst".concat(f))})}},{key:"renderGstNumber",value:function(){var e=this,n=this.props,a=n.id,r=n.validations,i=n.form,s=n.configuration,o=n.generalSalesTaxData.number,l=void 0===o?"":o,c=n.controlFieldConfiguration,u=n.isGstnAdded,d=n.serverValidationErrors,p=s.number,h=(p=void 0===p?{}:p).isEditable,f=void 0===h||h,m=p.validators,g="number";return F.a.createElement(K.a,{label:t.getLabel(g,s,r,"passengers.gst"),keyProp:"gst".concat(g),defaultValue:l,useLabelFeedback:!0,validators:m,ref:function(t){e.gstNumber=t},className:"gstNumber",disabled:!f||u,id:a,form:this.form,onChange:function(){return Object(q.b)("gstNumber",c)&&Object(q.a)(c.gstNumber,e.gstNumber.getValue(),e,i,e.state.backUpValidators)},isValid:!d.has("gst".concat(g)),error:d.get("gst".concat(g))})}},{key:"renderPassengerEmailAddress",value:function(){var e=this,t=this.props,n=t.id,a=t.form,r=t.configuration,i=t.generalSalesTaxData,s=(i=void 0===i?{}:i).email,o=void 0===s?[]:s,l=t.isGstnAdded,c=r.email,u=(c=void 0===c?{}:c).primaryEmailValidators,d=y()(this.state.updatedValidatorsWithRequiredValidation,"gstEmail")?this.state.updatedValidatorsWithRequiredValidation.gstEmail:u,p=C()(r,"email.primaryEmailValidators",d),h=[o];return F.a.createElement(J.a,{keyProp:"gstEmail",prefix:"gst",defaultValue:h,ref:function(t){e.gstEmail=t},configuration:l?this.getConfigurationWithDisabledFields(p):p,validators:d,id:n,form:a})}},{key:"renderPassengerPhone",value:function(){return this.props.configuration.phone.isPhoneGroupEnabled?this.renderPassengerPhoneGroup():this.renderPassengerPhoneNumber()}},{key:"renderPassengerPhoneGroup",value:function(){var e=this,t=this.props,n=t.generalSalesTaxData,a=(n=void 0===n?{}:n).phones,r=void 0===a?[]:a,i=t.configuration.phone,s=(i=void 0===i?{}:i).numberOfPhones,o=void 0===s?1:s,l=r.length;if(l>0){var c=T()(r,(function(t,n){return e.renderFieldPhoneGroup(t,n)})),u=T()(w()(o-r.length),(function(t){return e.renderFieldPhoneGroup({},t+l)}));return[].concat(c,u)}return T()(w()(o),(function(t){return e.renderFieldPhoneGroup({},t)}))}},{key:"renderPassengerPhoneNumber",value:function(){var e=this,t=this.props,n=t.generalSalesTaxData.phones,a=void 0===n?[]:n,r=t.configuration.phone,i=(r=void 0===r?{}:r).numberOfPhones,s=void 0===i?1:i,o=a.length;if(o>0){var l=T()(a,(function(t,n){return e.renderFieldPhone(t,n)})),c=T()(w()(s-a.length),(function(t){return e.renderFieldPhone({},t+o)}));return[].concat(l,c)}return T()(w()(s),(function(t){return e.renderFieldPhone({},t)}))}},{key:"render",value:function(){var e=this.props.configuration,t=j()(this.props.configuration,"phone.isPhoneGroupEnabled",!1),n=R()({"gst-phone-section":!t,"gst-phone-group-section":t});return F.a.createElement(Y.a,{sectionName:"goods-and-services-info",title:"passengers.sections.goodsAndServicesInfo"},F.a.createElement("div",{className:"gst-number-company-section"},j()(e,"number.isEnabled",!1)&&this.renderGstNumber(),j()(e,"company.isEnabled",!1)&&this.renderGstCompanyName()),F.a.createElement("div",{className:"gst-address-section"},j()(e,"address.isEnabled",!1)&&this.renderGstAddress()),F.a.createElement("div",{className:"gst-email-section"},j()(e,"email.isEnabled",!1)&&this.renderPassengerEmailAddress()),F.a.createElement("div",{className:n},j()(e,"phone.isEnabled",!1)&&this.renderPassengerPhone()))}}]),t}(L.Component);g()(ee,"defaultProps",{validations:{},id:"",generalSalesTaxData:{},countries:[],addressType:[],form:void 0,controlFieldConfiguration:{},provinces:{},isGstnAdded:!1,serverValidationErrors:Object(U.Map)()});var te=ee;n.d(t,"a",(function(){return te}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={TRAVEL_DOCUMENT_INFO:"travelDocumentInfo",SPECIAL_REQUESTS_INFO:"specialRequestsInfo",FREQUENT_FLYER_INFO:"frequentFlyerInfo",CONTACT_INFO:"contactInfo",VISA_DOCUMENT_INFO:"visaDocumentInfo",GOODS_AND_SERVICES_INFO:"goodsAndServicesInfo",SECURE_FLIGHT_INFO:"secureFlightInfo"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(2827)},function(e,t,n){var a=n(2828)(n(49));e.exports=a},function(e,t,n){var a=n(2829),r=n(256),i=n(783),s=n(2830);e.exports=function(e){return function(t){var n=r(t);return"[object Map]"==n?i(t):"[object Set]"==n?s(t):a(t,e(t))}}},function(e,t,n){var a=n(180);e.exports=function(e,t){return a(t,(function(t){return[t,e[t]]}))}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}},function(e,t){e.exports=function(){return!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(23);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return a(e)?e:[e]}},,,,,,,,,,,function(e,t,n){var a=n(221),r=n(349),i=n(790),s=n(348),o=n(116),l=/\s+$/;e.exports=function(e,t,n){if((e=o(e))&&(n||void 0===t))return e.replace(l,"");if(!e||!(t=a(t)))return e;var c=s(e),u=i(c,s(t))+1;return r(c,0,u).join("")}},function(e,t,n){var a=n(2983),r=n(179);e.exports=function(e,t,n,i){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&r(e,t,n)&&(n=0,i=s),a(e,t,n,i)):[]}},function(e,t,n){var a=n(120),r=n(2984);e.exports=function(e,t,n,i){var s=e.length;for((n=a(n))<0&&(n=-n>s?0:s+n),(i=void 0===i||i>s?s:a(i))<0&&(i+=s),i=n>i?0:r(i);n<i;)e[n++]=t;return e}},function(e,t,n){var a=n(555),r=n(120);e.exports=function(e){return e?a(r(e),0,4294967295):0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2483);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(19),s=n.n(i),o=n(4),l=n.n(o),c=n(1),u=n.n(c),d=(n(6),n(12)),p=n(47),h=function(e){var t=s()(e,(function(e){return e.errorType===p.d.VALIDATION}));return r()(t)?[]:[{type:"error",description:u.a.createElement("ul",{className:"payment-validation-errors"},l()(t,(function(e,t){var n=t.errorField,a=t.errorKey;return e.push(u.a.createElement("li",{className:"payment-validation-error",key:"".concat(n,"-").concat(a)},Object(d.i)("payment.paymentValidationErrors.".concat(n))," ",Object(d.i)("payment.".concat(a)))),e}),[])),title:"payment.validation.error"}]};h.defaultProps={paymentErrors:{}},t.a=h},function(e,t,n){"use strict";var a=n(35),r=n.n(a),i=n(15),s=n.n(i),o=n(21),l=n.n(o),c=n(1),u=n.n(c),d=(n(6),n(12)),p=n(2484),h=n(88),f=n(503),m=n(146);function g(e,t,n,a){return u.a.createElement(h.a,{className:"small primary",onClick:function(){return function(e,t,n){var a=e.get("journeyTypes"),i=e.get("classes"),s=e.get("passengers"),o=Object(m.t)(Object(m.d)(Object(f.a)(t.query,"flight"),{journeyTypes:a,classes:i,passengers:s}));n("URL_UPDATE_HASH","/flight-selection",r()(o,"direction"))}(e,t,n)}},a)}var v=function(e){var t=e.paymentErrors,n=e.metadata,a=e.location,r=e.actionUpdateURLQuery;if(!s()(t,(function(e){var t=e.errorCode;return l()(p.a,t)})))return[];var i=Object(d.a)("app.continue",{pageName:Object(d.i)("flightSelection.title")}),o=u.a.createElement("span",null,u.a.createElement("span",{className:"alert-description"},Object(d.i)("payment.flightNotAvailableErrorDescription")),u.a.createElement("span",{className:"alert-button pull-right"},g(n,a,r,i)));return[{type:"error",title:Object(d.i)("payment.flightNotAvailableError"),description:o}]};v.defaultProps={paymentErrors:[]},t.a=v},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),i=n(12),s=n(319);t.a=function(){return e.scrollTo(0,0),r.a.createElement(s.a,{type:"success",title:"createProfile.successfullyUpdated"},Object(i.a)("createProfile.successfullyDescription"))}}).call(this,n(41))},function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),i=(n(6),n(12)),s=n(319);t.a=function(t){var n=t.error;e.scrollTo(0,0);var a=n.errorCode,o=n.message;return r.a.createElement(s.a,{type:"error",title:a},Object(i.a)(o))}}).call(this,n(41))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(122),g=n.n(m),v=n(2970),y=n.n(v),b=n(23),C=n.n(b),E=n(1),k=n.n(E),O=n(6),_=n.n(O),P=(n(194),n(11)),S=n(12),N=n(57),w=n.n(N),A=n(31),T=n.n(A),I=n(2),D=n.n(I),x=n(16),j=n.n(x),L=n(0),F=n.n(L),B=n(195),R=n(2479),M=n(136),V=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"onClose",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this;return k.a.createElement(M.a,{className:"dxp-popover-why-max",onCloseClick:function(){return e.onClose()}},k.a.createElement("div",{className:"content"},k.a.createElement("h3",null,Object(S.a)("payment.travelBank.whatIsThisTitle")),k.a.createElement("p",null,Object(S.a)("payment.travelBank.whatIsThis"))))}}]),t}(E.Component);f()(V,"contextTypes",{dispatch:O.func});var U=n(1249),q=(n(2973),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"onClose",value:function(){this.props.onClose()}},{key:"renderPriceAndBalanceElements",value:function(){var e=this.props,t=e.priceElements,n=e.balanceElements;return k.a.createElement("div",{className:"limitsTable clearfix dxp-panel"},k.a.createElement("div",null,k.a.createElement("div",{className:"col bold"},Object(S.a)("payment.travelBank.description")),k.a.createElement("div",{className:"col bold"},Object(S.a)("payment.travelBank.popover.yourItinerary")),k.a.createElement("div",{className:"col bold"},Object(S.a)("payment.travelBank.popover.travelBankFunds"))),k.a.createElement("div",null,k.a.createElement("div",{className:"col "},Object(S.a)("payment.travelBank.popover.base")),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:t.BASE})),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:n.BASE}))),k.a.createElement("div",null,k.a.createElement("div",{className:"col "},Object(S.a)("payment.travelBank.popover.taxes")),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:t.TAX})),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:n.TAX}))),k.a.createElement("div",null,k.a.createElement("div",{className:"col "},Object(S.a)("payment.travelBank.popover.fee")),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:t.FEE})),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:n.FEE}))),k.a.createElement("div",null,k.a.createElement("div",{className:"col"},Object(S.a)("payment.travelBank.popover.insurance")),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:t.INSURANCE})),k.a.createElement("div",{className:"col "},k.a.createElement(U.a,{price:n.INSURANCE}))))}},{key:"renderSubBalances",value:function(){var e=this.props.subbalances,t=e.FULL,n=e.FULL_AND_MISC;return k.a.createElement("div",{className:"subBalancesTable clearfix dxp-panel"},k.a.createElement("div",null,k.a.createElement("div",{className:"col bold"},Object(S.a)("payment.travelBank.description")),k.a.createElement("div",{className:"col bold"},Object(S.a)("payment.travelBank.limits"))),k.a.createElement("div",null,k.a.createElement("div",{className:"col"},Object(S.a)("payment.travelBank.popover.fullBT")),k.a.createElement("div",{className:"col"},k.a.createElement(U.a,{price:t}))),k.a.createElement("div",null,k.a.createElement("div",{className:"col"},Object(S.a)("payment.travelBank.popover.fullM")),k.a.createElement("div",{className:"col"},k.a.createElement(U.a,{price:n}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.availableFunds,a=t.availableAmountForTrip;return k.a.createElement(M.a,{className:"dxp-popover-why-max",onCloseClick:function(t){return e.onClose(t)}},k.a.createElement("div",{className:"content"},k.a.createElement("h3",null,Object(S.a)("payment.travelBank.details")),k.a.createElement("p",null,Object(S.a)("payment.travelBank.popover.text",{amount:n.amount,currency:n.currency})),this.renderSubBalances(),k.a.createElement("h4",null,Object(S.a)("payment.travelBank.popover.whyNotFull")),k.a.createElement("p",null,Object(S.a)("payment.travelBank.popover.maxUse",{amount:a.amount,currency:a.currency})),this.renderPriceAndBalanceElements()))}}]),t}(E.Component));f()(q,"contextTypes",{dispatch:O.func});var H=function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),f()(T()(a),"onCancel",(function(){return a.props.onCancel&&a.props.onCancel()})),f()(T()(a),"onModify",(function(e){return a.setState({modified:e})})),f()(T()(a),"onSelect",(function(e){return a.props.onSelect&&e&&a.props.onSelect(j()({},a.props.paymentProduct,{amount:e}))})),f()(T()(a),"onTravelBankWhatIsThisClick",(function(){a.setState({displayWhatIsThisModal:!0})})),f()(T()(a),"onTravelBankWhyMaximumClick",(function(e){a.setState({displayWhyMaximumModal:!0,whyMaximumModalData:e})})),a.state={displayWhatIsThisModal:!1,displayWhyMaximumModal:!1,modified:!1},a}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.loggedOut&&e.loggedOut&&(this.onCancel(),this.onModify(!1))}},{key:"onTravelBankWhatIsThisModalClose",value:function(){this.setState({displayWhatIsThisModal:!1})}},{key:"onTravelBankWhyMaximumModalClose",value:function(){this.setState({displayWhyMaximumModal:!1,whyMaximumModalData:{}})}},{key:"getAppliedFunds",value:function(){var e=this.props.paymentObject;return e?e.amount:{amount:0}}},{key:"hasEnteredData",value:function(){return this.state.modified}},{key:"renderTravelBankWhatIsThisModal",value:function(){var e=this;return k.a.createElement(V,{onClose:function(){return e.onTravelBankWhatIsThisModalClose()}})}},{key:"renderTravelBankWhyMaximumModal",value:function(){var e=this;return k.a.createElement(q,w()({onClose:function(){return e.onTravelBankWhyMaximumModalClose()}},this.state.whyMaximumModalData))}},{key:"render",value:function(){var e=this.props,t=e.signIn,n=e.session,a=e.getPaymentDetails,r=e.paymentDetails,i=e.selectedLocale,s=e.locales,o=e.location,l=e.travelBankConfiguration,c=e.currenciesConfiguration,u=F()(this.props,["paymentProduct","surcharge","currency"]),d=c.getIn([u,"decimalPlaceDisplay"],!0),p=c.getIn([u,"options","maximumFractionDigits"]),h=this.getAppliedFunds(),f=D()(r),m=Object(B.a)(this.props.isAuthorable,"paymentTravelBank");return k.a.createElement("div",m,this.state.displayWhatIsThisModal&&this.renderTravelBankWhatIsThisModal(),this.state.displayWhyMaximumModal&&this.renderTravelBankWhyMaximumModal(),k.a.createElement(R.a,w()({precision:p},r,{selectedLocale:i,locales:s,isLoading:f,session:n,signIn:t,location:o,appliedFunds:h,getTravelBankDetails:a,onSelect:this.onSelect,onCancel:this.onCancel,onWhatIsThisPopoverClick:this.onTravelBankWhatIsThisClick,onWhyMaxPopoverClick:this.onTravelBankWhyMaximumClick,onModify:this.onModify,decimalPlaceDisplay:d,travelBankConfiguration:l})))}}]),t}(E.Component);f()(H,"defaultProps",{isAuthorable:!0,paymentDetails:{},session:Object(P.Map)(),selectedLocale:"",locales:{},disabled:!1,signIn:void 0,paymentObject:void 0,currenciesConfiguration:Object(P.Map)(),travelBankConfiguration:void 0});var W=n(54),G=n.n(W),K=n(62),z=n.n(K),Y=n(91),Q=n.n(Y),X=n(76),J=n.n(X),$=n(98),Z=n.n($),ee=n(27),te=n.n(ee),ne=n(55),ae=n.n(ne),re=n(156),ie=n.n(re),se=n(83),oe=n.n(se),le=n(35),ce=n.n(le),ue=n(92),de=n.n(ue),pe=n(15),he=n.n(pe),fe=n(5),me=n.n(fe),ge=n(4),ve=n.n(ge),ye=n(77),be=n.n(ye),Ce=n(249),Ee=n.n(Ce),ke=n(39),Oe=n.n(ke),_e=n(60),Pe=n(10),Se=n(2115),Ne=n(1491),we=n(1536),Ae=n(1441),Te=n(2333),Ie=n(63),De=n(47),xe=n(2480),je=n(1290),Le=n(154),Fe=n(1606),Be=(n(2992),function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),f()(T()(n),"onChange",(function(e,t){return n.setState({selectedDCCOption:e},(function(){return n.props.setDCCOption(t)}))})),n.state={selectedDCCOption:0},n}return p()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){this.props.dccOptions!==e.dccOptions&&this.setState({selectedDCCOption:0})}},{key:"renderDccOptions",value:function(){var e=this,t=this.props,n=t.dccOptions,a=t.configuration,r=parseInt(this.state.selectedDCCOption,10);return me()(n,(function(t,n){return k.a.createElement("div",{key:t.creditCardCurrencyAmount.currency,className:"dxp-dcc-option-item",role:"radio","aria-checked":r===n},k.a.createElement(Fe.a,{id:"dxp-dcc-option-".concat(n),className:"dxp-dcc-option-".concat(n),value:String(n),checked:r===n,onChange:function(){return e.onChange(n,t)}},k.a.createElement("div",null,Object(S.a)("payment.dcc.optionLabel",{currency:Object(S.i)("currency.".concat(t.creditCardCurrencyAmount.currency))}),k.a.createElement(U.a,{price:t.creditCardCurrencyAmount,showDecimal:a.isDecimalDisplayed,currencyDisplay:a.currencyDisplay})),k.a.createElement("div",null,0===n?Object(S.a)("payment.dcc.optionDefaultInfo"):Object(S.a)("payment.dcc.optionExchangeInfo",{firstCurrencyUnit:t.originalCurrencyAmount.currency,exchangeRate:t.exchangeRate,secondCurrencyUnit:t.creditCardCurrencyAmount.currency}))))}))}},{key:"render",value:function(){var e=F()(this.props,"dccOptions[1].creditCardCurrencyAmount.currency");return k.a.createElement("div",{className:"dxp-dcc-options"},k.a.createElement("fieldset",{className:"dxp-dcc-field-set"},k.a.createElement("legend",{className:"title"},Object(S.a)("payment.dcc.title")),k.a.createElement("span",{id:"dxp-dcc-description"},Object(S.a)("payment.dcc.description",{currency:Object(S.i)("currency.".concat(e))})),k.a.createElement("div",{className:"dxp-dcc-option-list",role:"radiogroup","aria-describedby":"dxp-dcc-description"},this.renderDccOptions())))}}]),t}(E.Component)),Re=n(88),Me=function(e){return k.a.createElement("div",{className:"cc-cancel-modal"},k.a.createElement("p",null,Object(S.a)("payment.creditCard.modal.clear.description")),k.a.createElement("div",{className:"pull-right"},k.a.createElement(Re.a,{className:"primary small",onClick:e.onOkClick},Object(S.a)("app.ok"))))},Ve=function(e){return k.a.createElement("div",{className:"cc-cancel-modal"},k.a.createElement("p",null,Object(S.a)("payment.creditCard.modal.description")),k.a.createElement("div",{className:"pull-right"},k.a.createElement(Re.a,{className:"secondary small",onClick:e.onCancelClick},Object(S.a)("app.cancel")),k.a.createElement(Re.a,{className:"primary small",onClick:e.onOkClick},Object(S.a)("app.yes"))))},Ue=n(2204),qe=n(2629),He=n(1409),We=n(78),Ge=(n(2993),function(e,t){return k.a.createElement("div",{key:t,className:"image-container"},e)});function Ke(e){var t=e.creditCardVerifiedByImages.map((function(e){var t=e.imgPath,n=e.imgAlt,a=e.link,r=k.a.createElement(He.a,{src:Object(Ie.a)(t),alt:Object(S.i)(n),className:"verified-by-image"});return Ge(a?k.a.createElement(We.a,{className:"verified-by-image-link",href:a,isExternalLink:!0},r):r,t)}));return k.a.createElement("div",{className:"verified-by-images-container"},t)}Ke.defaultProps={creditCardVerifiedByImages:[]};var ze=Ke;n(2994),n(2995);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),f()(T()(a),"getBillingAddress",(function(e){var t=e.find((function(e){return e.type===xe.a.addressType})),n=e.find((function(e){return e.type===xe.b.addressType}));return t||n||te()(e)||{}})),f()(T()(a),"getDCCOffers",function(){var e=Q()(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.getDCCOffers(t,a.props.currentFlow);case 3:n=e.sent,a.setState({dccOptions:n,dccOptionSelected:{}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.clearDCCOffers();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),f()(T()(a),"clearDCCOffers",(function(){return a.setState({dccOptions:[],dccOptionSelected:{}})})),f()(T()(a),"handleCreditCardSelect",(function(e){var t=e.creditCardDetails,n=e.billingData,r=n.street1,i=n.street2,s=n.zipCode,o=n.province,l={street1:r,street2:i,city:n.city,country:n.country,zipCode:s,province:o,phone:n.phone,email:n.email};a.selectCreditCard({ccData:t,billingData:l})})),f()(T()(a),"handleDeleteCreditCard",(function(e,t,n){var r=de()(e.userCreditCards);r[n]=t.creditCardDetails,a.props.updateProfile(j()({},e,{userCreditCards:r}))})),f()(T()(a),"handleUpdateProfile",(function(e,t,n){var r=de()(e.userCreditCards);r[n]=t.creditCardDetails,a.props.updateProfile(j()({},e,{userCreditCards:r,addresses:[j.a.apply(void 0,[{},t.billingData].concat(G()(a.props.isSaveAddressTypeInvoiceEnabled?[xe.a]:[])))]}))})),f()(T()(a),"selectCreditCard",(function(e){var t=e.ccData,n=e.billingData,r=a.state,i=r.dccOptions,s=r.dccOptionSelected,o=r.availableCreditCards,l=he()(o,(function(e){return e.name===t.cardCode})),c=a.props,u=c.getRedirectUrl,d=c.currentFlow,p=l.amount,h=a.getDCCData(),f=i.length>0&&D()(s)&&{remarks:["H-AUTH-DCC/OPT OUT"]},m=j()({},t,h,{redirectData:{redirectUrlData:{defaultURL:u({paymentType:De.i.CC_3DS},Qe({paymentStatus:De.h.APPROVED,currentFlow:d},p))}},billingData:n});return a.clearDCCOffers(),a.props.onSelect(j()({},ce()(l,["charLength","cvc","match","name","pattern"]),Qe({data:m},f))).then(a.props.selectPaymentOption)})),f()(T()(a),"setDCCOption",(function(e){return a.setState({dccOptionSelected:e},(function(){return a.props.setDCCOption(e)}))})),a.state={enabledSections:{billingData:e.configuration.showBillingDataForm},availableCreditCards:[],dccOptionSelected:{},dccOptions:[]},a.profileCreditCards=k.a.createRef(),a.form={getEnabledSections:function(){return a.state.enabledSections},setEnabledSections:function(e){return a.setState({enabledSections:e})},getBackedUpSections:function(){return a.state.backedUpSections},backUpEnabledSections:function(e){return a.setState({backedUpSections:e})}},a}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateAvailableCreditCards(this.props),this.paymentObject=this.props.paymentObject,D()(this.props.paymentObject)||(this.props.setPaymentSelected(!1),this.props.canContinue(this.props.paymentSelected,!1))}},{key:"componentDidMount",value:function(){this.form.creditCardDetails&&this.form.creditCardDetails.clearFields()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){Ee()(this.props.paymentProduct,e.paymentProduct)&&Ee()(this.props.configuration.cardTypes,e.configuration.cardTypes)||this.updateAvailableCreditCards(e)}},{key:"componentWillUnmount",value:function(){!D()(this.paymentObject)&&be()(this.paymentObject,this.props.paymentObject)&&this.props.setPaymentSelected(!0),this.props.setDCCOption({})}},{key:"getDCCData",value:function(){var e=this.state.dccOptionSelected,t=e.originalCurrencyAmount,n=e.creditCardCurrencyAmount;return t&&n&&t.currency!==n.currency?{selectedDCCOffer:e}:{}}},{key:"apply",value:function(){return this.handleCreditCardSelection()}},{key:"cancelCreditCard",value:function(){return this.props.onCancel&&this.props.onCancel(),this.form.creditCardDetails&&this.form.creditCardDetails.clearFields(),this.clearDCCOffers(),this.props.closeModal&&this.props.closeModal()}},{key:"displayCardsFromProfile",value:function(){var e=this,t=this.props,n=t.provinces,a=t.session,r=t.configuration,i=me()(this.state.availableCreditCards,(function(e){return e.name})),s=j()({},r,{showBillingData:r.showBillingDataForm,showCreditCardDetails:!0}),o=a.get("profile",Object(P.Map)()).toJS(),l=o.userCreditCards||[],c=this.getBillingAddress(F()(o,"addresses",[])),u=F()(o,"emails[0]",""),d=F()(o,"phones[0]",{});return k.a.createElement("div",{className:"card-list"},k.a.createElement(Te.a,{ref:this.profileCreditCards,configuration:s,provinces:n,availableCreditCards:this.state.availableCreditCards,validCardCodes:i,creditCards:l,address:c,onCreditCardSelect:this.handleCreditCardSelect,onCreditCardSave:function(t,n){return e.handleUpdateProfile(o,t,n)},onCreditCardDelete:function(t,n){return e.handleDeleteCreditCard(o,t,n)},isPaymentMode:!0,currentFlow:this.props.currentFlow,getInstallmentPlansForSelectedCCType:this.props.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:this.props.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:this.props.selectInstallmentPlan,clearInstallmentPlans:this.props.clearInstallmentPlans,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,installments:this.props.installments,selectPaymentOption:this.props.selectPaymentOption,phoneCountryCodes:this.props.phoneCountryCodes,emailAddress:u,phoneNumber:d}))}},{key:"displayCreditCardDetails",value:function(){var e=this,t=this.props,n=t.configuration,a=t.currentFlow,r=t.provinces,i=t.paymentObject,s=t.session,o=t.phoneCountryCodes,l=n.displayCardsFromProfile,c=n.controlFields,u=s.get("profile",Object(P.Map)());return l&&u&&!u.isEmpty()?this.displayCardsFromProfile():k.a.createElement("div",{className:"card-details"},k.a.createElement(qe.a,{ref:function(t){e.form.creditCardDetails=t},configuration:n,availableCreditCards:this.state.availableCreditCards,getDCCOffers:this.getDCCOffers,currentFlow:a,controlFieldsConfiguration:F()(c,"creditCardDetails",{}),form:this.form,onDetection:this.props.selectPaymentOption,isAwardBooking:this.props.isAwardBooking,isBankIdentificationValid:this.props.isBankIdentificationValid,clearDCCOffers:this.clearDCCOffers,getInstallmentPlansForSelectedCCType:this.props.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:this.props.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:this.props.selectInstallmentPlan,clearInstallmentPlans:this.props.clearInstallmentPlans,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,installments:this.props.installments}),this.state.enabledSections.billingData&&k.a.createElement(Ue.a,{ref:function(t){e.form.billingData=t},configuration:n,provincesForPaymentOptions:r,paymentObject:i,controlFieldsConfiguration:F()(c,"billingData",{}),form:this.form,phoneCountryCodes:o}),!D()(this.state.dccOptions)&&this.displayDCCOptions())}},{key:"displayDCCOptions",value:function(){return k.a.createElement(Be,{dccOptions:this.state.dccOptions,configuration:this.props.configuration,setDCCOption:this.setDCCOption})}},{key:"handleCreditCardSelection",value:function(){var e=this.form,t=e.creditCardDetails,n=e.billingData,a=t.getData(),r=n?n.getData():{};return this.selectCreditCard({ccData:a,billingData:r})}},{key:"hasEnteredData",value:function(){var e=this.form,t=e.creditCardDetails,n=e.billingData;return!(ae()(oe()(ce()(t.getData(),"cardCode")),D.a)&&ae()(oe()(n.getData()),D.a))}},{key:"isValid",value:function(){var e=!0,t={};if(this.profileCreditCards.current)return this.profileCreditCards.current.isValid(),!1;var n=this.form,a=n.creditCardDetails,r=n.billingData,i=j()({},a.formFields,r.formFields);return J()(i,(function(n){n&&!n.isValid()&&(e=!1,D()(t)&&(t=n)),D()(t)||(t.isValid(),t.focus&&t.focus())})),e}},{key:"updateAvailableCreditCards",value:function(e){var t=e.configuration.cardTypes,n=void 0===t?{}:t,a=C()(e.paymentProduct)?e.paymentProduct:[e.paymentProduct],r=ve()(n,(function(e,t){var n=he()(a,(function(e){return e.paymentCode===t.name}));return n&&e.push(j()({},t,n,{charLength:parseInt(t.charLength,10)})),e}),[]);this.setState({availableCreditCards:r})}},{key:"renderAvailableCreditCards",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=ie()(me()(this.state.availableCreditCards,(function(e){return e.name}))),a=me()(n,(function(t){var n=e.state.activeCreditCardType===t,a=Oe()("".concat(t,"-card"),"credit-card-image"),r="".concat(t,"-card");return k.a.createElement("li",{key:t,className:Oe()("credit-card-image-container",{"active-card":n})},k.a.createElement("img",{src:Object(Ie.a)("images/Clear.gif"),alt:r,className:a}))}));return k.a.createElement("ul",{className:Oe()(t)},a)}},{key:"renderCreditCardSurchargesText",value:function(){var e=this.context.translateWithComponents,t=k.a.createElement("span",{className:"link-underlined"},Object(S.a)("payment.certainCardTypes"));return k.a.createElement("span",{className:"surcharges-description"},e("payment.surchargesDescription",{cardTypes:k.a.createElement(we.a,{position:"bottom",trigger:t,id:"surcharges-description"},k.a.createElement("h4",{className:"dxp-popover-inner-header"},Object(S.a)("payment.surchargesByCard")),this.renderSurchargesListByCard())},"span"))}},{key:"renderGroupedCreditCardHeader",value:function(){return k.a.createElement("div",{className:"card-details-header-title"},k.a.createElement("div",{className:"title-container"},k.a.createElement("h3",{className:"card-details-header-label"},Object(S.a)("payment.creditCard.title")),this.renderCreditCardSurchargesText()),this.renderAvailableCreditCards("card-details-header-available-credit-cards credit-cards-list"))}},{key:"renderModal",value:function(e,t){var n,a,r=this;t.preventDefault();var i={onCancelClick:function(){return r.props.closeModal&&r.props.closeModal()},onOkClick:function(){return r.cancelCreditCard()}};return"cancel"===e&&(n=Object(S.a)("payment.creditCard.modal.title"),a=Ve(i,this.context)),"clear"===e&&(n=Object(S.a)("payment.creditCard.modal.clear.title"),a=Me(i,this.context)),this.props.renderModal&&this.props.renderModal(n,a)}},{key:"renderSingleCreditCardHeader",value:function(){var e=this.props.paymentProduct,t=e.paymentType,n=e.paymentCode,a=e.surcharge,r=Object(Le.d)(this.props.configuration,t,n),i=Object(S.i)("card.".concat(n));return k.a.createElement("div",{className:"card-details-header-title"},k.a.createElement("div",{className:"title-container"},k.a.createElement("h3",{className:"card-details-header-label"},k.a.createElement("img",{className:"logo",src:Object(Ie.a)(r),alt:i}),i),a&&Object(_e.n)(a)?Object(S.a)("payment.surchargeAmountByCard",a):Object(S.a)("payment.surchargeEmpty")))}},{key:"renderSurchargesItems",value:function(){return oe()(ve()(this.state.availableCreditCards,(function(e,t,n){var a=Oe()("".concat(t.paymentCode,"-card"),"credit-card-image"),r=F()(t,"surcharge.currency",""),i=F()(t,"surcharge.amount",0),s=Object(S.i)("card.".concat(t.paymentCode)),o=0===i?Object(S.a)("payment.surchargeEmpty"):Object(S.a)("payment.surchargeAmountByCard",{amount:i,currency:r});return e[t.paymentCode]=k.a.createElement("li",{className:"active-card",key:n},k.a.createElement("img",{alt:s,src:Object(Ie.a)("images/Clear.gif"),className:a}),k.a.createElement("span",{className:"surcharge-description"},o)),e}),{}))}},{key:"renderSurchargesListByCard",value:function(){return k.a.createElement("ul",{className:"surcharges-by-card"},this.renderSurchargesItems())}},{key:"renderUnavailableCreditCardsWarning",value:function(){var e=this.props.configuration,t=Z()(F()(e,"disallowCarRentalForCreditCards",[]),F()(e,"disallowHotelBookingForCreditCards",[])).map((function(e){var t=Oe()("".concat(e,"-card"),"credit-card-image"),n="".concat(e,"-card");return k.a.createElement("li",{key:e,className:"payment-warning-credit-card"},k.a.createElement("img",{src:Object(Ie.a)("images/Clear.gif"),alt:n,className:t}))}));return k.a.createElement("div",{className:"payment-warning"},k.a.createElement(Ne.a,{type:"warning",title:Object(S.i)("payment.creditCard.unavailableCreditCards.title")},this.context.translateWithComponents("payment.creditCard.unavailableCreditCards.description",{unavailableCreditCards:k.a.createElement("ul",{className:"payment-warning-credit-cards"},t)})))}},{key:"render",value:function(){var e=this.props,t=e.configuration,n=e.productTypes,a=F()(t,"creditCardVerifiedByImages",[]),r=Object(B.b)(this.props.isAuthorable,"paymentCreditCard"),i=n.includes(Pe.x)&&!D()(F()(t,"disallowHotelBookingForCreditCards",[]))||!this.props.isDelayedCarPayment&&n.includes(Pe.h)&&!D()(F()(t,"disallowCarRentalForCreditCards",[]));return k.a.createElement("div",w()({className:"dxp-payment-credit-card"},r),k.a.createElement("form",{className:"payment-type",id:Se.a},k.a.createElement("div",{className:"card-details-header"},C()(this.props.paymentProduct)?this.renderGroupedCreditCardHeader():this.renderSingleCreditCardHeader(),i&&this.renderUnavailableCreditCardsWarning(),k.a.createElement(Ae.a,null)),Object(S.a)("payment.creditCard.disclaimer"),this.displayCreditCardDetails(),k.a.createElement("div",{className:"verified-images"})),!D()(a)&&k.a.createElement(ze,{creditCardVerifiedByImages:a}))}}]),t}(E.Component);f()(Xe,"contextTypes",{translateWithComponents:O.func}),f()(Xe,"defaultProps",{isAuthorable:!0,removeSelectedCarOffer:g.a,selectedCarOffer:void 0,paymentObject:{},onSelect:g.a,onCancel:g.a,closeModal:g.a,paymentType:"",getTotalDue:g.a,setPaymentSelected:g.a,canContinue:g.a,paymentSelected:!1,session:Object(P.Map)(),updateProfile:g.a,setDCCOption:g.a,isAwardBooking:!1,productTypes:[],user:Object(P.Map)(),getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,selectPaymentOption:g.a,isSaveAddressTypeInvoiceEnabled:!1,isDelayedCarPayment:!1});var Je=n(17),$e=n.n(Je),Ze=n(129),et=n(2070),tt=n(521),nt=n(319),at=(n(2996),n(2997),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"state",{isCheckBalanceClicked:!1}),f()(T()(n),"onGiftCardNumberChange",(function(){n.setState({isGCValid:n.isGiftCardNumberValid()})})),f()(T()(n),"handleErrorResult",(function(){n.giftCardNumber&&n.giftCardNumber.focus()})),n}return p()(t,e),s()(t,[{key:"getDate",value:function(e,t,n,a){var r=F()(this.props,"configuration.paymentFormValidation.GCexpirationDate"),i=$e()().set(F()(r,t,"year"),$e()().get(F()(r,t,"year"))+F()(r,n));return a&&i.add(1,"days"),i.format(e)}},{key:"getApplicableAmount",value:function(){var e=this.props.paymentDetails.balance,t=F()(this.props,"paymentProduct.amount",{amount:0});return e.amount>=t.amount?t:e}},{key:"getFormattedExpirationDate",value:function(){return $e()(this.expirationDate.getValue(),F()(this.props.configuration,"paymentFormValidation.GCexpirationDate.dateFormat")).locale("en").format("YYYY-MM-DD")}},{key:"handleApplyBalance",value:function(e){var t=this,n=this.props,a=n.onSelect,r=n.paymentProduct;return this.handleCheckBalance(e).then((function(){return a(j()({},r,{amount:t.getApplicableAmount(),data:{voucherType:r.paymentType,voucherNumber:t.giftCardNumber.getValue(),expDate:t.getFormattedExpirationDate()}}))}))}},{key:"handleCheckBalance",value:function(e){var t=this;if(e&&e.preventDefault(),!this.isValid())return Promise.reject("validation");var n=this.props,a=n.getPaymentDetails,r=n.paymentProduct,i=n.onCancel,s=n.paymentObject;return!D()(s)&&i(r.paymentType),this.setState({isCheckBalanceClicked:!0}),a({"@type":"VOUCHER",voucherType:r.paymentType,voucherNumber:this.giftCardNumber.getValue(),expDate:this.getFormattedExpirationDate()}).catch((function(e){return t.handleErrorResult(e)}))}},{key:"handleOnCancelClick",value:function(){this.handleRemoveAppliedFunds()}},{key:"handleRemoveAppliedFunds",value:function(){return this.resetFields(),this.setState({isCheckBalanceClicked:!1}),this.props.onCancel(F()(this.props,"productType.paymentType"))}},{key:"hasEnteredData",value:function(){return!D()(this.giftCardNumber.getValue())||!D()(this.expirationDate.getValue())}},{key:"isValid",value:function(){var e=he()([this.giftCardNumber,this.expirationDate],(function(e){return!e.isValid()}));return!e||(e.focus(),!1)}},{key:"isGiftCardNumberValid",value:function(){return this.giftCardNumber.isValid()}},{key:"resetFields",value:function(){this.giftCardNumber.setValue(null),this.expirationDate.clear()}},{key:"renderAmountApplied",value:function(){var e=this.props.paymentObject;return D()(e)?k.a.createElement(U.a,{price:this.getApplicableAmount()}):k.a.createElement(U.a,{price:e.amount})}},{key:"renderAvailableFunds",value:function(){var e=this.props.paymentDetails,t=e.balance,n=e.error;return D()(n)?k.a.createElement(U.a,{price:t}):Object(S.a)("payment.giftCard.notAvailable")}},{key:"renderBalanceInformation",value:function(){var e=this.props,t=e.paymentDetails,n=e.paymentDetails.balance,a=e.paymentObject,r=D()(t)&&this.state.isCheckBalanceClicked,i=!r&&!D()(n)&&this.state.isCheckBalanceClicked;return k.a.createElement("div",{className:"balance-container"},r&&k.a.createElement(tt.a,{className:"spinner dark"}),i&&k.a.createElement("div",null,k.a.createElement("div",{className:"balance"},k.a.createElement("div",null,Object(S.a)("payment.giftCard.availableFunds")),k.a.createElement("div",null,this.renderAvailableFunds())),k.a.createElement("div",{className:"balance"},k.a.createElement("div",null,Object(S.a)(D()(a)?"payment.giftCard.applicableFunds":"payment.giftCard.appliedFunds")),k.a.createElement("div",{className:"applied"},this.renderAmountApplied()))))}},{key:"renderForm",value:function(e){var t,n=this,a=this.props.paymentObject,r=!D()(a),i=F()(this.props.configuration,"paymentFormValidation"),s=this.context.language,o=F()(i,["GCexpirationDate","dateFormat"]);if(e){var l=Object(S.i)("error.".concat(e.errorCode,".description")),c=Object(S.i)("error.".concat(e.errorCode,".title"));t="".concat(c," ").concat(l)}return k.a.createElement("div",{className:"form-fields"},k.a.createElement("form",{id:"gift-card-form"},k.a.createElement(Ze.a,{ref:function(e){n.giftCardNumber=e},keyProp:"giftCardNumber",disabled:r,label:"payment.giftCard.fields.giftCardNumberLabel",defaultValue:F()(a,"data.voucherNumber",""),validators:F()(i,"giftCardNumber.validators"),isValid:this.state.isGCValid,error:!this.state.isGCValid&&Object(S.i)("error.".concat(e.errorCode,".description")),onChange:this.onGiftCardNumberChange,useBlockFeedback:!0,srOnlyLabel:t}),k.a.createElement(et.a,{ref:function(e){n.expirationDate=e},displayYearOptionsAscending:!0,label:"payment.giftCard.fields.expirationLabel",disabled:r,defaultValue:F()(a,"data.expDate",""),id:"gift-card-expiration-date",className:"expiration-date",defaultLocale:s,keyProp:"expiration-date",mask:F()(i,["GCexpirationDate","mask"]),dateFormat:o,minDate:this.getDate(o,"expirationDateRangeMinType","expirationDateRangeMin",!0),maxDate:this.getDate(o,"expirationDateRangeMaxType","expirationDateRangeMax"),configuration:F()(i,"GCexpirationDate")}),k.a.createElement(Re.a,{className:"giftcard-balance secondary small",disabled:r,onClick:function(e){return n.handleCheckBalance(e)}},Object(S.a)("payment.giftCard.buttons.checkBalance")),k.a.createElement(Re.a,{className:"primary small giftcard-apply-button",disabled:r,onClick:function(e){return n.handleApplyBalance(e)}},Object(S.a)("payment.giftCard.buttons.apply")),!D()(this.props.paymentObject)&&k.a.createElement("div",{className:"remove-balance"},k.a.createElement("button",{type:"button",onClick:function(){return n.handleRemoveAppliedFunds()}},Object(S.a)("payment.giftCard.removeAppliedFunds")))))}},{key:"render",value:function(){var e=this,n=this.props,a=n.paymentDetails,r=n.paymentDetails,i=r.error,s=r.balance,o=n.isAuthorable,l=Object(B.a)(o,"paymentGiftCard"),c=!(D()(a)&&this.state.isCheckBalanceClicked)&&!D()(s)&&this.state.isCheckBalanceClicked;return k.a.createElement("div",w()({className:"payment-gift-card"},l),k.a.createElement("h4",null,Object(S.a)("payment.giftCard.header")),k.a.createElement("p",null,Object(S.a)("payment.giftCard.instructions")),k.a.createElement("div",{className:"dxp-giftcard-form clearfix"},!D()(i)&&t.renderError(i),this.renderBalanceInformation(),this.renderForm(i)),c&&k.a.createElement("div",{className:"dxp-giftcard-buttons buttons"},k.a.createElement(Re.a,{className:"dxp-giftcard-cancel-button secondary medium",onClick:function(){return e.handleOnCancelClick()}},Object(S.a)("payment.giftCard.buttons.cancel"))))}}],[{key:"renderError",value:function(e){return k.a.createElement("div",{className:"payment-detail-error"},k.a.createElement(nt.a,{type:"error",title:"error.".concat(e.errorCode,".title")},Object(S.a)("error.".concat(e.errorCode,".description"))))}},{key:"getDerivedStateFromProps",value:function(e,t){return!D()(F()(e,"paymentDetails.error",{}))&&t.isCheckBalanceClicked?{isCheckBalanceClicked:!1,isGCValid:!1}:D()(F()(e,"paymentDetails.error",{}))?{isGCValid:!0}:{isGCValid:!1}}}]),t}(E.Component));f()(at,"contextTypes",{language:_.a.string}),f()(at,"defaultProps",{isAuthorable:!0,paymentObject:void 0});n(2998);function rt(e){return k.a.createElement("div",{className:"payment-remote-info",key:e.paymentCode},k.a.createElement("div",{className:"".concat(e.paymentCode,"-title")},Object(S.a)("payment.remote.".concat(e.paymentCode,".title"))),k.a.createElement("div",{className:"".concat(e.paymentCode,"-content")},Object(S.a)("payment.remote.".concat(e.paymentCode,".content"))))}var it=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"state",{selectedOption:void 0}),n}return p()(t,e),s()(t,[{key:"apply",value:function(){return this.props.onSelect&&this.props.onSelect(this.state.selectedOption||this.props.paymentProduct)}},{key:"isValid",value:function(){return!C()(this.props.paymentProduct)||Boolean(this.state.selectedOption)}},{key:"renderRemotePaymentForms",value:function(){var e=this,t=this.props,n=t.paymentProduct,a=t.paymentObject,r=this.state.selectedOption;return C()(n)?me()(n,(function(t){var n="remote-payment-item-".concat(t.paymentCode),i=r?r.paymentCode===t.paymentCode:a.paymentCode===t.paymentCode;return k.a.createElement("label",{className:"payment-remote-option",htmlFor:n,key:n},k.a.createElement("input",{id:n,type:"radio",checked:i,name:"remote-payment-toggle-option",onClick:function(){return e.setState({selectedOption:t})}}),rt(t))})):rt(n)}},{key:"render",value:function(){var e=Object(B.a)(this.props.isAuthorable,"paymentBPC"),t=this.renderRemotePaymentForms();return k.a.createElement("div",w()({className:"payment-remote-container"},e),t)}}]),t}(E.Component);f()(it,"defaultProps",{isAuthorable:!0,paymentObject:{}});var st=n(43),ot=n.n(st),lt=n(145),ct=n.n(lt),ut=n(325),dt=n(524),pt=n(1376),ht=(n(2999),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.configuration.BNPL,n=e.isSelected,a=e.selectBNPL,r=this.isFree(),i=Oe()("dxp-button","small",{primary:!n,secondary:n});return k.a.createElement("div",{className:"dxp-bnpl-offering clearfix"},k.a.createElement("div",{className:"offer-information"},k.a.createElement("div",{className:"dxp-bnpl-offering-pay"},k.a.createElement("strong",null,r?Object(S.a)("payment.BNPL.free"):this.getPrice())),k.a.createElement("div",{className:"dxp-bnpl-lock-time"},k.a.createElement("strong",null,Object(S.a)("payment.BNPL.time",{date:this.getTime()}))),k.a.createElement("small",null,!r&&Object(S.a)("payment.BNPL.payment"),!r&&t.displayAcceptedPaymentMethods&&this.renderAcceptedPaymentMethods())),k.a.createElement("div",{className:"offer-select-button"},k.a.createElement("button",{type:"button",className:i,onClick:function(){return a(!n)}},Object(S.a)(n?"payment.cancel":"payment.select"))))}},{key:"scroll",value:function(e){if(e){var t=document.querySelector(".dxp-payment");this.isFree()&&(t=document.querySelector(".dxp-cart-review")),Object(pt.a)(t,{headerOffset:120})}}},{key:"isFree",value:function(){return"FREE"===this.props.holdOption.type}},{key:"getPrice",value:function(){var e=this.props.holdOption.price;return k.a.createElement("div",{className:"bnpl-hold-option-price"},Object(S.a)("payment.BNPL.fee"),k.a.createElement(U.a,{price:e}))}},{key:"getTime",value:function(){var e=this.props.holdOption.period,t="";return e.days&&(t+=Object(S.i)("payment.BNPL.days",{value:e.days})),e.hours&&(t+=Object(S.i)("payment.BNPL.hours",{value:e.hours})),e.minutes&&(t+=Object(S.i)("payment.BNPL.minutes",{value:e.minutes})),t}},{key:"renderAcceptedPaymentMethods",value:function(){var e=this.props,t=e.holdOption.paymentMethods,n=void 0===t?{}:t,a=e.configuration,r=ve()(n,(function(e,t,n){if(n===Le.b.AFOP)return e.concat(me()(t,(function(e){var t=e.afopCode,r=Object(Ie.a)(Object(Le.d)(a,n,t)),i=Object(S.a)(Object(Le.f)({paymentType:n,afopCode:t}));return k.a.createElement("li",{className:"payment-method",key:"".concat(n,"-").concat(t)},k.a.createElement("img",{src:r,className:"logo",alt:i}),i)})));var r=Object(Ie.a)(Object(Le.d)(a,n)),i=Object(S.a)(Object(Le.f)({paymentType:n}));return e.push(k.a.createElement("li",{className:"payment-method",key:n},k.a.createElement("img",{src:r,className:"logo",alt:i}),i)),e}),[]);return k.a.createElement("div",{className:"bnpl-accepted-methods"},Object(S.a)("payment.BNPL.acceptedPaymentMethods"),k.a.createElement("ul",{className:"bnpl-accepted-methods-list"},r))}}]),t}(ut.a));f()(ht,"propTypes",{holdOption:Object(O.shape)({}),bookNowPayLater:O.func,configuration:Object(O.shape)({}),selectBNPL:O.func,isSelected:O.bool});n(3e3);var ft=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),f()(T()(n),"showMoreItems",(function(){n.setState({itemsToShow:n.props.holdOptions.length,expanded:!0})})),f()(T()(n),"showLessItems",(function(){n.setState({itemsToShow:F()(n.props,"configuration.BNPL.itemsToShow",3),expanded:!1})})),n.state={itemsToShow:F()(e,"configuration.BNPL.itemsToShow",3),expanded:!1},n}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.configuration.BNPL,r=void 0===a?{}:a,i=n.hasAncillaries,s=n.holdOptions,o=n.selectedHoldOption,l=n.isAuthorable,c=this.state.itemsToShow,u=Object(B.a)(l,"bookNowPayLater");return k.a.createElement(dt.a,w()({className:"dxp-bnpl clearfix"},u),i&&r.displayAncillaryWarning&&t.renderAncillaryWarning(),k.a.createElement("div",{className:Oe()("bnpl-container",{expanded:this.state.expanded})},k.a.createElement("div",{className:"bnpl-description"},k.a.createElement("h3",null,Object(S.a)("payment.BNPL.title")),Object(S.a)("payment.BNPL.description")),k.a.createElement("ul",{className:"hold-options",id:"bnpl-hold-options"},me()(ct()(Math.min(s.length,c)),(function(t){var n=s[t],a=o.optionId===n.optionId;return k.a.createElement("li",{className:"hold-option ".concat(n.optionId),key:n.optionId},k.a.createElement(ht,{holdOption:n,isSelected:a,configuration:e.props.configuration,selectBNPL:function(t){return e.selectBNPL(t,n)}}))})))),s.length>r.itemsToShow&&k.a.createElement("div",{className:"show-link-container"},k.a.createElement(We.a,{onClick:s.length>c?this.showMoreItems:this.showLessItems,"aria-controls":"bnpl-hold-options"},Object(S.a)(s.length>c?"app.viewMore":"app.viewLess"))))}},{key:"selectBNPL",value:function(e,t){this.props.selectBNPL(e?t:{})}}],[{key:"renderAncillaryWarning",value:function(){return k.a.createElement("div",{className:"bnpl-ancillary-warning"},Object(S.a)("payment.BNPL.ancillaryWarning"))}}]),t}(ut.a);f()(ft,"propTypes",{isAuthorable:O.bool,holdOptions:Object(O.arrayOf)(Object(O.shape)({})),selectBNPL:O.func.isRequired,hasAncillaries:O.bool,configuration:Object(O.shape)({}),selectedHoldOption:Object(O.shape)({})}),f()(ft,"defaultProps",{isAuthorable:!0,selectedHoldOption:{},holdOptions:[],configuration:{}});var mt=function(e){var t=e.holdOptions,n=e.configuration,a=e.selectBNPL,r=e.selectedHoldOption,i=ot()(e.productTypes,(function(e){return e===Pe.c}));return k.a.createElement(ft,{configuration:n,holdOptions:t,hasAncillaries:i,selectedHoldOption:r,selectBNPL:a})},gt=n(1721),vt=n.n(gt),yt=n(528),bt=(n(3001),n(3002),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"state",{agreementsCheckboxChecked:!1}),n}return p()(t,e),s()(t,[{key:"getAgreementsText",value:function(){var e=this.props,t=e.onFareRulesClick,n=e.onAgreementsClick,a={fareRulesLink:k.a.createElement(We.a,{onClick:t},Object(S.i)("thirdPartyPayment.fareRules")),agreementsLink:k.a.createElement(We.a,{onClick:n,target:"_blank",href:this.props.agreementsUrl,rel:"external",isExternalLink:!0},Object(S.i)("thirdPartyPayment.agreements"))};return this.context.translateWithComponents("thirdPartyPayment.agreementText",a)}},{key:"getPriceBreakDownWithSurcharge",value:function(){return["(",k.a.createElement(U.a,{includeDecimal:!0,price:this.props.priceBeforeSurcharge})," + ",k.a.createElement(U.a,{includeDecimal:!0,price:this.props.surchargeAmount})," ",Object(S.a)("thirdPartyPayment.surcharge"),")"]}},{key:"getSurchargeMessage",value:function(){var e=k.a.createElement(U.a,{includeDecimal:!0,price:this.props.surchargeAmount});return this.context.translateWithComponents("thirdPartyPayment.surchargeMessage",{surchargeAmount:e})}},{key:"handleCheckboxChange",value:function(e,t){this.setState({agreementsCheckboxChecked:t})}},{key:"isValid",value:function(){return!this.props.hasAgreementsCheckbox||this.state.agreementsCheckboxChecked}},{key:"renderAgreementsCheckbox",value:function(){var e=this;return k.a.createElement(yt.a,{id:"terms-agree",translatedLabel:this.getAgreementsText(),checked:!1,disabled:!1,onChange:function(t,n){return e.handleCheckboxChange(t,n)}})}},{key:"renderPrice",value:function(e){return this.context.translateWithComponents("thirdPartyPayment.toBeCollected",{priceAfterSurcharge:k.a.createElement(U.a,{includeDecimal:!0,className:"dxp-third-party-payment-price-after-surcharge",price:e})})}},{key:"render",value:function(){var e=this.props,t=e.paymentProcessing,n=e.paymentProcessingMessage,a=e.surchargeAmount,r=F()(a,"amount",0)>0;return k.a.createElement("div",{className:Oe()("dxp-third-party-payment",this.props.className)},k.a.createElement("div",{className:"dxp-third-party-payment-header-container"},this.props.serviceLogo&&k.a.createElement("div",{className:"dxp-third-party-payment-service-logo-wrapper"},k.a.createElement("img",{src:Object(Ie.a)(this.props.serviceLogo),alt:this.props.serviceName})),k.a.createElement("div",{className:"dxp-third-party-payment-header-text-container"},k.a.createElement("h2",{className:"dxp-third-party-payment-title"},this.props.serviceName),r&&k.a.createElement("div",{className:"dxp-third-party-payment-surcharge-message"},this.getSurchargeMessage()))),this.props.description&&k.a.createElement("div",{className:"dxp-third-party-payment-description"},this.props.description),t&&k.a.createElement(tt.a,{showPageLoadingMessage:!0,loadingMessage:n,className:"small dark no-margin"}),this.props.children&&!t&&k.a.createElement("div",{className:"dxp-third-party-payment-children"},this.props.children),k.a.createElement("div",{className:"dxp-third-party-payment-footer-container clearfix"},k.a.createElement("div",{className:"dxp-third-party-payment-footer-text-container"},k.a.createElement("div",{className:"dxp-third-party-payment-agreement-text"},this.props.hasAgreementsCheckbox?this.renderAgreementsCheckbox():this.getAgreementsText()),k.a.createElement("div",{className:"dxp-third-party-payment-price-container"},r&&k.a.createElement("div",{className:"dxp-third-party-payment-final-price"},this.renderPrice(this.props.priceAfterSurcharge)),k.a.createElement("div",{className:"dxp-third-party-payment-detailed-price"},r?vt()({priceBreakDown:this.getPriceBreakDownWithSurcharge()}):this.renderPrice(this.props.priceBeforeSurcharge))))))}}]),t}(E.Component));f()(bt,"contextTypes",{translateWithComponents:_.a.func}),f()(bt,"defaultProps",{hasAgreementsCheckbox:!1,className:"",paymentProcessing:!1,paymentProcessingMessage:"",description:void 0,onAgreementsClick:void 0,children:void 0,agreementsUrl:void 0});var Ct=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).paypal=k.a.createRef(),n}return p()(t,e),s()(t,[{key:"apply",value:function(){return this.props.onSelect(this.createPaymentObject())}},{key:"createPaymentObject",value:function(){var e=this.props,t=e.getRedirectUrl,n=e.paymentProduct,a=t({paymentType:De.i.PAY_PAL,paymentStatus:De.h.SUCCESSFUL},n.amount),r=t({paymentType:De.i.PAY_PAL,paymentStatus:De.h.CANCELED},n.amount);return j()({},n,{data:{successURL:a,cancelURL:r,"@type":Le.b.PAY_PAL}})}},{key:"isValid",value:function(){return this.paypal.current&&this.paypal.current.isValid()}},{key:"render",value:function(){var e=this.props,t=e.paymentProduct,n=e.onFareRulesClick,a=e.paymentProcessing,r=e.onAgreementsClick,i=e.configuration,s=e.isAuthorable,o={priceAfterSurcharge:t.amount,surchargeAmount:t.surcharge,priceBeforeSurcharge:{amount:F()(t,"amount.amount",0)-F()(t,"surcharge.amount",0),currency:F()(t,"amount.currency","")}},l=F()(i,"FOP.".concat(Le.b.PAY_PAL,".logo"),""),c=Object(B.b)(s,"paymentPayPal");return k.a.createElement("div",{className:"paypal-payment-container"},k.a.createElement(bt,w()({ref:this.paypal},c,{className:"dxp-paypal-payment",serviceLogo:l,serviceName:Object(S.i)("PAY_PAL.serviceName"),description:Object(S.a)("PAY_PAL.description")},o,{paymentProcessing:a,onFareRulesClick:n,onAgreementsClick:r})))}}]),t}(E.Component);f()(Ct,"defaultProps",{isAuthorable:!0,configuration:void 0});n(3003);var Et=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"buildRedirectObject",(function(e,t){return j()({paymentStatus:e},t)})),f()(T()(n),"linkComponent",(function(e,t){return k.a.createElement(We.a,{className:"link-underlined poli-toc",onClick:e},t)})),n}return p()(t,e),s()(t,[{key:"apply",value:function(){var e=this.props,t=e.paymentProduct,n=e.getRedirectUrl,a={paymentType:De.i.POLI},r={amount:F()(t.amount,"amount"),currency:F()(t.amount,"currency")};return this.props.onSelect(j()({},t,{amount:t.amount,data:{checkoutUrl:n(a,this.buildRedirectObject(De.h.CANCELED,r)),homePageUrl:n(a,this.buildRedirectObject(De.h.DECLINED,r)),successfulUrl:n(a,this.buildRedirectObject(De.h.SUCCESSFUL,r)),unSuccessfulUrl:n(a,this.buildRedirectObject(De.h.FAILED,r))}}))}},{key:"renderPrice",value:function(e){return this.context.translateWithComponents("thirdPartyPayment.toBeCollected",{priceAfterSurcharge:k.a.createElement(U.a,{includeDecimal:!0,className:"dxp-third-party-payment-price-after-surcharge",price:e})})}},{key:"render",value:function(){var e=this.context.translateWithComponents,t=this.props,n=t.paymentProduct,a=t.isAuthorable,r=t.onFareRulesClick,i=t.onAgreementsClick,s=Object(B.a)(a,"paymentPoli");return k.a.createElement("div",w()({className:"dxp-payment-poli"},s),k.a.createElement("h4",null,Object(S.a)("payment.poli.heading")),k.a.createElement("p",null,Object(S.a)("payment.poli.message")),k.a.createElement("p",null,e("payment.poli.modal.content",{fareRules:this.linkComponent(r,Object(S.i)("payment.poli.modal.fareRules")),agreements:this.linkComponent(i,Object(S.i)("payment.poli.modal.agreements"))})),k.a.createElement("div",{className:"dxp-payment-poli"},this.renderPrice(F()(n,"amount",0))))}}]),t}(E.Component);f()(Et,"contextTypes",{translateWithComponents:O.func.isRequired}),f()(Et,"defaultProps",{isAuthorable:!0});var kt=n(51),Ot=n.n(kt),_t=n(307),Pt=n(1289),St=n(1936),Nt=n(114),wt=n(2072),At=(n(3004),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"onAgreementsClick",(function(){return n.props.onAgreementsClick()})),f()(T()(n),"onCloseClick",(function(){return n.props.closeModal&&n.props.closeModal()})),f()(T()(n),"onFareRulesClick",(function(){return n.props.onFareRulesClick&&n.props.onFareRulesClick()})),f()(T()(n),"getProvinces",(function(e,t){var n=F()(e,"paymentFormValidation.country.options",[]);return D()(n)?t:n})),n}return p()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return!be()(e,this.props)}},{key:"getDescription",value:function(e){return(0,this.context.translateWithComponents)("".concat(e,".description"),{header:k.a.createElement("strong",null,Object(S.a)("".concat(e,".descriptionHeader"))),body:k.a.createElement("div",null,Object(S.a)("".concat(e,".descriptionBody")))})}},{key:"getPaymentInfo",value:function(){var e=this.props,t=e.paymentProduct,n=e.currentFlow,a=this.payeeBasicInfo&&this.payeeBasicInfo.getValue(),r=this.payeeContactInfo&&{payeeInfoEmail:this.payeeContactInfo.getValue()},i=this.billingData.getData();D()(i.phone)||(i=j()({},ce()(i,"phone"),{phoneNumber:i.phone.number}));var s=this.getRemotePaymentInfo(i,a),o=j()({},a,r,i),l={firstName:o.firstName,lastName:o.lastName,birthDate:o.dateOfBirth,gender:o.gender,email:o.payeeInfoEmail||o.email,street:o.street1,houseNumber:o.houseNumber,postcode:o.zipCode,province:o.province,city:o.city,country:o.country,phoneNumber:o.phoneNumber};return j()({},t,{data:{afopClientDetail:l,redirectUrlData:s,billingData:"exchange"===n?i:null,fopCode:t.fopCode,fopSubcode:t.fopSubCode}})}},{key:"getPrimaryPassenger",value:function(){var e=Ot()(F()(this.props,"passengers",{}),"toJS");return e?e.find((function(e){return 1===e.passengerIndex})):{}}},{key:"getRedirectUrl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=t.amount,i=t.currency,s=this.props.getRedirectUrl,o=s({paymentType:St.b.AFOP,paymentStatus:e},j()({},{amount:r,currency:i},n,a));return Object(_t.a)()&&this.props.backendUrl?"".concat(this.props.backendUrl,"/redirect?callbackUrl=").concat(encodeURIComponent(o)):o}},{key:"getRemotePaymentInfo",value:function(e,t){var n=F()(this.props,"paymentProduct.amount"),a=this.getRedirectUrl(St.a.APPROVED,n,e,t);return{approvedURL:a,declinedURL:this.getRedirectUrl(St.a.DECLINED,n,e,t),errorURL:this.getRedirectUrl(St.a.ERROR,n,e,t),pendingURL:a,cancelURL:this.getRedirectUrl(St.a.CANCELED,n,e,t),defaultURL:this.getRedirectUrl(St.a.APPROVED,n,e,t)}}},{key:"apply",value:function(){return this.props.onSelect(this.getPaymentInfo())}},{key:"hasEnteredData",value:function(){var e=function(e){return!D()(Object(Nt.b)(e))};return this.payeeBasicInfo&&e(this.payeeBasicInfo.getValue())||this.payeeContactInfo&&e(this.payeeContactInfo.getValue())||e(this.billingData.getData())}},{key:"isValid",value:function(){var e=!this.payeeBasicInfo||this.payeeBasicInfo.isValid(),t=!this.payeeContactInfo||this.payeeContactInfo.isValid(),n=this.billingData.isValid(),a=this.thirdParyPayment&&this.thirdParyPayment.isValid();return e&&t&&n&&a}},{key:"render",value:function(){var e=this,n=this.props,a=n.paymentProduct,r=n.provinces,i=n.configuration,s=a.afopCode,o={priceAfterSurcharge:a.amount,surchargeAmount:a.surcharge,priceBeforeSurcharge:{amount:a.amount.amount-a.surcharge.amount,currency:a.amount.currency}},l=F()(this.props.configuration,"alternateFormsOfPayments.".concat(s)),c=this.getProvinces(l,r),u=l.paymentFormValidation,d=u.payeeEmail,p=void 0===d?{}:d,h=t.shouldRenderPassengerBasicInfo(u)||F()(p,"isEnabled",!1),f=this.getPrimaryPassenger(),m=F()(f,"passengerInfo.emails",""),g=t.getBillingDataFromPrimaryPassenger(f),v=this.props.currentFlow,y=F()(i,"serviceLogo.".concat(s),"");return k.a.createElement(bt,w()({className:"dxp-afop-payment",ref:function(t){e.thirdParyPayment=t},modalWindowTitle:Object(S.i)("".concat(s,".modalWindowTitle")),serviceLogo:y,serviceName:Object(S.i)("".concat(s,".serviceName")),description:this.getDescription(s)},o,{paymentProcessingMessage:"payment.afop.paymentProcessing",onCloseClick:this.onCloseClick,onContinueClick:this.onContinueClick,onFareRulesClick:this.onFareRulesClick,PAYMENT_STATUSES:St.a,configuration:i,onAgreementsClick:this.onAgreementsClick,agreementsUrl:F()(i,["alternateFormsOfPayments",s,"termsAndConditionsURL"],"")}),h&&k.a.createElement("fieldset",null,k.a.createElement("legend",{className:"legend"},Object(S.a)("payment.afop.fieldsetLabel")),k.a.createElement(wt.a,{dateFormat:this.props.dateFormat,defaultLocale:this.props.defaultLocale,configuration:u,data:f,ref:function(t){e.payeeBasicInfo=t},flow:v,genderOptions:Object(Nt.j)("gender",u),prefixOptions:Object(Nt.j)("prefix",u),suffixOptions:Object(Nt.j)("suffix",u),validations:this.props.metadata.get("validations",{})}),F()(p,"isEnabled",!1)&&k.a.createElement(Ze.a,{ref:function(t){e.payeeContactInfo=t},validators:F()(p,"validators",[]),defaultValue:m,useLabelFeedback:!0,label:Object(Pt.d)("payeeEmail",u,F()(p,"validators",[]),"payment.alternativeFOPs"),disabled:!F()(p,"isEditable",!1),prefix:"payment",id:"payee-info-email",className:"payee-info-email"})),k.a.createElement(Ue.a,{className:"dxp-afop-payment-billing-data",creditCardData:g,ref:function(t){e.billingData=t},configuration:l,provincesForPaymentOptions:c,phoneCountryCodes:this.props.phoneCountryCodes}))}}],[{key:"getBillingDataFromPrimaryPassenger",value:function(e){var t=F()(e,"passengerInfo.address",{});return{billingData:{street1:F()(t,"street1",""),street2:F()(t,"street2",""),country:F()(t,"country",""),city:F()(t,"city",""),zipCode:F()(t,"postcode",""),phoneNumber:F()(t,"phoneNumber","")}}}},{key:"shouldRenderPassengerBasicInfo",value:function(e){return ot()(["prefix","firstName","middleName","maidenName","lastName","suffix","dateOfBirth","gender"],(function(t){return F()(e,"".concat(t,".isEnabled"),!1)}))}}]),t}(E.Component));f()(At,"contextTypes",{translateWithComponents:O.func,language:O.string}),f()(At,"defaultProps",{onAgreementsClick:g.a,defaultLocale:void 0,backendUrl:void 0});var Tt=n(25),It=n(169),Dt=n.n(It),xt=(n(3005),function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),f()(T()(a),"whatsThisButtonRef",k.a.createRef()),a.state={usingFfcurrencyAlertVisible:!1},a}return p()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.whatsThisButtonRef.current&&this.whatsThisButtonRef.current.focus()}},{key:"toggleUsingFfcurrencyMessage",value:function(){this.setState((function(e){return{usingFfcurrencyAlertVisible:!e.usingFfcurrencyAlertVisible}}))}},{key:"renderUsingFfcurrencyMessage",value:function(){if(!this.state.usingFfcurrencyAlertVisible)return!1;var e=this.context.translateWithComponents;return k.a.createElement(nt.a,{className:"info",type:"success",title:"payment.award.usingMiles.title"},e("payment.award.usingMiles.description",{ffcurrencyName:k.a.createElement("span",null,Object(S.a)("awardBooking.ffcurrency.name")),currencyName:k.a.createElement("span",null,Object(S.a)("awardBooking.currency.name"))}))}},{key:"render",value:function(){var e=this;return k.a.createElement("div",{className:"dxp-award-payment-details-header"},Object(S.a)("payment.award.awardProgram"),k.a.createElement("button",{type:"button",ref:this.whatsThisButtonRef,onClick:function(){return e.toggleUsingFfcurrencyMessage()},className:"using-miles"},Object(S.a)("payment.award.whatsThis")),this.renderUsingFfcurrencyMessage())}}]),t}(E.Component));f()(xt,"contextTypes",{translateWithComponents:_.a.func});var jt=n(2205),Lt=(n(3007),function(e){var t=e.pointDetails,n=[[{amount:F()(t,"minimumAllowed"),currency:"FFCURRENCY"}]];return k.a.createElement("div",{className:"dxp-award-payment-details-summary"},k.a.createElement(jt.a,{title:"payment.award.minimumAllowed",price:n,className:"column"}))});Lt.defaultProps={pointDetails:void 0};var Ft=Lt,Bt=n(52),Rt=n.n(Bt),Mt=n(2481),Vt=n(56),Ut=n.n(Vt),qt=n(19),Ht=n.n(qt),Wt=n(36),Gt=n.n(Wt),Kt=n(2044),zt=n(2045),Yt=n(2349),Qt=(n(3009),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"onCartItemCurrencyChange",value:function(e){var t=te()(e.split(".")),n=Gt()(e.split(".")),a=F()(this.props.awardDetails,"ancillaryToggles",[]);this.props.ancillaryToggleChanged(he()(a,["groupCode",t]),n)}},{key:"renderAncillary",value:function(e){var t=this.renderOptions(e);return k.a.createElement("li",{className:"cart-item ancillary",key:e.groupCode},k.a.createElement("span",{className:"item-icon ".concat(Object(S.i)("ancillary.items.".concat(e.groupCode,".icon")))}),k.a.createElement("div",{className:"item-name"},Object(S.a)("ancillary.items.".concat(e.groupCode,".name"))),k.a.createElement("div",{className:"item-value"},t))}},{key:"renderOptions",value:function(e){var n=t.filterAncillariesSwitchOptionWhichAreNotAvailable(F()(e,"options",[]));return Ut()(n)>1?this.renderSwitchOptionWhenOptionsAreEnabled(n,F()(e,"groupCode"),F()(e,"currentState")):t.renderSwitchOptionAsLabelWhenOptionsAreNotAvailable(n)}},{key:"renderSwitchOptionWhenOptionsAreEnabled",value:function(e,n,a){var r=this,i=me()(e,(function(e){return t.renderOption(e,n)})),s=t.isAnyoneOfOptionDisabled(e);return k.a.createElement(Yt.a,{onChange:function(e){return r.onCartItemCurrencyChange(e)},selected:"".concat(n,".").concat(a),disabled:s,radioButtonsName:"ancillaries-toggle",className:"item-value-switch"},i)}},{key:"render",value:function(){var e=this,t=F()(this.props.awardDetails,"ancillaryToggles",[]);if(D()(t))return null;var n=me()(t,(function(t){return e.renderAncillary(t)}));return k.a.createElement("li",{className:"dxp-award-payment-details-cart-ancillaries"},k.a.createElement("ul",{className:"ancillaries-list"},n))}}],[{key:"filterAncillariesSwitchOptionWhichAreNotAvailable",value:function(e){return Ht()(e,(function(e){return!be()(e.awardAncillaryToggleOptionStatus,zt.a.UNAVAILABLE)}))}},{key:"isAnyoneOfOptionDisabled",value:function(e){return!D()(Ht()(e,(function(e){return t.isOptionDisabled(e)})))}},{key:"isOptionDisabled",value:function(e){return e.awardAncillaryToggleOptionStatus===zt.a.DISABLED}},{key:"renderOption",value:function(e,n){var a=t.isOptionDisabled(e),r="".concat(n,".").concat(e.option);return k.a.createElement(Yt.a.Option,{key:r,radioId:r,value:r,disabled:a},k.a.createElement("span",{className:"sr-only"},Object(S.a)("ancillary.items.".concat(n,".name"))),k.a.createElement(U.a,{price:e.amount}))}},{key:"renderSwitchOptionAsLabelWhenOptionsAreNotAvailable",value:function(e){var t=te()(e),n=t.option===Kt.a.POINTS?Object(S.a)("awardBooking.cannotBePaidInCash"):Object(S.a)("awardBooking.cannotBePaidInMiles");return k.a.createElement("div",null,k.a.createElement(U.a,{price:t.amount}),k.a.createElement("span",{className:"dxp-award-cannot-miles"},n))}}]),t}(E.Component));f()(Qt,"defaultProps",{awardDetails:void 0});n(3010);var Xt=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"ancillaryToggleChanged",value:function(e,t){var n=de()(F()(this.props,"awardDetails.ancillaryToggles",[]));n[Rt()(n,e)]=j()(e,{currentState:t}),this.props.updateAncillaryToggles(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.awardDetails,a=t.displaySlider,r=void 0!==a&&a,i=t.updateFareAmount,s=t.locales,o=t.selectedLocale;return k.a.createElement("ul",{className:"dxp-award-payment-details-cart"},r&&k.a.createElement(Mt.a,{locales:s,selectedLocale:o,updateAwardDetailsFareAmount:function(e){return i(e)},awardDetails:n}),k.a.createElement(Qt,{awardDetails:n,ancillaryToggleChanged:function(t,n){return e.ancillaryToggleChanged(t,n)}}))}}]),t}(E.Component);f()(Xt,"defaultProps",{awardDetails:void 0,displaySlider:void 0,updateFareAmount:void 0,updateAncillaryToggles:void 0,selectedLocale:"",locales:{}});n(3011);var Jt=function(e){var t=e.updateCart,n=e.onCancel;return k.a.createElement("div",{className:"dxp-award-payment-details-footer"},k.a.createElement(Re.a,{className:"secondary small update-cart-button",onClick:t},Object(S.a)("app.updateCart")),n&&k.a.createElement(Re.a,{className:"secondary small update-cart-button",onClick:n},Object(S.a)("app.cancel")))};Jt.defaultProps={onCancel:void 0};var $t=Jt,Zt=(n(3012),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"findMinimumAllowedAndAvailableBalance",value:function(){return{minimumAllowed:F()(Dt()(F()(this.props,"awardDetails.fareSlider.awardMoneyTicks",[]),"awardAmount.amount"),"awardAmount.amount"),availablePoints:F()(this.props,"availablePoints")}}},{key:"render",value:function(){var e=this.props,t=e.awardDetails,n=e.dynamicRewards,a=e.updateFareAmount,r=e.updateAncillaryToggles,i=e.updateCart,s=e.selectedLocale,o=e.locales,l=e.onCancel,c=e.isAwardBooking,u=this.findMinimumAllowedAndAvailableBalance(),d=[[{amount:F()(u,"availablePoints"),currency:"FFCURRENCY"}]];return k.a.createElement("div",{className:"dxp-award-payment-details"},k.a.createElement("div",{className:"dxp-award-payment-header-details"},k.a.createElement(xt,null),!c&&k.a.createElement(jt.a,{title:Object(S.i)("payment.award.currentBalance",{ffcurrencyName:Object(S.i)("awardBooking.ffcurrency.name")}),className:"column success",price:d})),n&&k.a.createElement(Ft,{pointDetails:u}),k.a.createElement(Xt,{selectedLocale:s,locales:o,displaySlider:n,awardDetails:t,updateFareAmount:a,updateAncillaryToggles:r}),k.a.createElement($t,{updateCart:i,onCancel:l}))}}]),t}(E.Component));f()(Zt,"defaultProps",{isAwardBooking:!1,awardDetails:{},dynamicRewards:!1,updateFareAmount:void 0,updateCart:void 0,onCancel:void 0,updateAncillaryToggles:void 0,locales:{},selectedLocale:""});n(3013);var en=function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),f()(T()(a),"updateFareAmount",(function(e){a.setState({fareAmount:e},(function(){a.updateAmounts(a.state.fareAmount,a.state.ancillaryToggles)}))})),a.state={detailsVisible:!0,fareAmount:a.getFareAmount(e),ancillaryToggles:F()(e,"awardDetails.ancillaryToggles")},a}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.configuration;this.setState({detailsVisible:F()(e,"award.detailsVisibleByDefault",!0)}),this.props.onModify(!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){be()(e.awardDetails,this.props.awardDetails)||this.setState({fareAmount:this.getFareAmount(e),ancillaryToggles:F()(e,"awardDetails.ancillaryToggles")})}},{key:"shouldComponentUpdate",value:function(e,t){return Object(Tt.f)()||!be()(F()(e,"awardDetails"),F()(this.props,"awardDetails"))||!be()(this.state,t)}},{key:"getDefaultAmountForFixedRewards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{awardAmount:F()(e,"awardDetails.awardTotal"),moneyAmount:F()(e,"awardDetails.cashTotal")}}},{key:"getFareAmount",value:function(e){return F()(e,"awardDetails.fareSlider.currentTick.awardAmount",this.getDefaultAmountForFixedRewards(e))}},{key:"processAwardPayment",value:function(){this.props.processAwardPayment(F()(this.state,"fareAmount.awardAmount")||F()(this.state,"fareAmount"),F()(this.state,"ancillaryToggles"))}},{key:"toggleDetails",value:function(){this.setState((function(e){return{detailsVisible:!e.detailsVisible}}))}},{key:"updateAmounts",value:function(e,t){var n=this;this.setState({fareAmount:e,ancillaryToggles:t},(function(){return n.props.onModify(!0)}))}},{key:"updateAncillaryToggles",value:function(e){var t=this;this.setState({ancillaryToggles:e},(function(){t.updateAmounts(t.state.fareAmount,t.state.ancillaryToggles)}))}},{key:"updateCart",value:function(){this.props.clearDCCOffers&&this.props.clearDCCOffers("both"),this.processAwardPayment(),this.setState({detailsVisible:!1}),Object(pt.a)(this.node,{headerOffset:120})}},{key:"render",value:function(){var e=this,t=this.state.detailsVisible,n=this.props,a=n.availablePoints,r=void 0===a?0:a,i=n.dynamicRewards,s=void 0===i||i,o=n.locales,l=n.selectedLocale,c=n.isAwardBooking;return k.a.createElement("div",{className:"dxp-award-payment",ref:function(t){e.node=t}},k.a.createElement("div",{className:"no-padding"},k.a.createElement(Zt,{isAwardBooking:c,selectedLocale:l,locales:o,detailsVisible:t,awardDetails:F()(this.props,"awardDetails"),updateFareAmount:this.updateFareAmount,updateAncillaryToggles:function(t){return e.updateAncillaryToggles(t)},updateCart:function(){return e.updateCart()},dynamicRewards:s,availablePoints:r,onCancel:this.props.onCancel})))}}]),t}(E.Component);f()(en,"contextTypes",{translateWithComponents:O.func}),f()(en,"defaultProps",{isAwardBooking:!1,dynamicRewards:!1,awardDetails:{},availablePoints:void 0,clearDCCOffers:void 0,processAwardPayment:void 0,onCancel:void 0,locales:{},selectedLocale:"",onModify:g.a});var tn=n(345),nn=n(346),an=(n(3014),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"state",{isLoading:!1,error:void 0,modified:!1,selected:!1}),f()(T()(n),"onCancel",(function(){n.setState({selected:!1},(function(){n.props.onCancel(g.a,Le.b.AWARD)}))})),f()(T()(n),"onLoginFail",(function(e){return n.setState({error:e})})),f()(T()(n),"onModify",(function(e){return n.setState({modified:e})})),f()(T()(n),"getAwardDetails",(function(){if(n.setState({isLoading:!0,error:void 0,modified:!1}),n.props.isAwardBooking)return n.props.getPaymentDetails().then((function(){return n.setState({isLoading:!1})})).catch((function(e){return n.setState({isLoading:!1,error:e})}));var e=n.props,t=e.updateCartWithAwardSwitch,a=e.currentFlow,r=e.getPaymentDetails;return t(nn.a.POINTS,!1,a).then((function(){return r()})).then((function(){return n.setState({isLoading:!1})})).catch((function(e){return n.setState({isLoading:!1,error:e})}))})),n}return p()(t,e),s()(t,[{key:"componentDidMount",value:function(){!this.props.user.isEmpty()&&this.getAwardDetails()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.user.isEmpty()&&e.user.isEmpty()&&(this.props.clearPaymentDetails(),this.onCancel()),this.props.user.isEmpty()&&!e.user.isEmpty()&&this.getAwardDetails()}},{key:"componentWillUnmount",value:function(){this.state.selected||this.props.isAwardBooking||this.props.updateCartWithAwardSwitch(nn.a.CASH,!1,this.props.currentFlow)}},{key:"onSelect",value:function(){var e=this.props,t=e.paymentProduct,n=e.paymentDetails;return this.props.onSelect(j()({},t,{amount:F()(n,"awardTotal",{})}))}},{key:"hasEnteredData",value:function(){return this.state.modified}},{key:"processAwardPayment",value:function(e,t){var n=this;this.setState({isLoading:!0,error:void 0,selected:!0});var a=this.props.paymentProduct.combinableWith,r=me()(t,(function(e){return{groupCode:F()(e,"groupCode"),option:F()(e,"currentState")}}),[]),i=D()(a)?{}:j()({},{fareAmount:e},{ancillaryToggleSelections:r});return Promise.resolve(this.props.getPaymentDetails(i)).then((function(){return n.onSelect()})).then((function(){n.props.requestCart(n.props.currentFlow,n.props.location)})).catch((function(e){return n.setState({isLoading:!1,error:e,selected:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.error;if(n)return k.a.createElement(tt.a,null);var r=this.props,i=r.user,s=r.paymentDetails.fareSlider,o=r.isAwardBooking,l=r.configuration,c=D()(s),u=this.props.disabled||c,d=i.getIn(["loyaltyDetails","balance"],0),p=Oe()("award-payment-container",{awardBooking:o,dynamicLoyality:!o});return k.a.createElement("div",{className:p,"aria-live":"assertive"},a&&k.a.createElement(nt.a,{type:"error",title:"error.".concat(a.errorCode,".title")},Object(S.a)("error.".concat(a.errorCode,".description"))),i.isEmpty()&&k.a.createElement(tn.a,{onLoginFail:this.onLoginFail,id:"rbe-sign-in-container",onModify:this.onModify,location:this.props.location}),!i.isEmpty()&&D()(a)&&k.a.createElement(en,{isAwardBooking:o,configuration:l,selectedLocale:this.props.selectedLocale,locales:this.props.locales,awardDetails:this.props.paymentDetails,disabled:u,dynamicRewards:!c,availablePoints:d,onModify:this.onModify,processAwardPayment:function(t,n){return e.processAwardPayment(t,n)},clearDCCOffers:this.props.clearDCCOffers}))}}]),t}(E.Component));f()(an,"defaultProps",{user:Object(P.Map)(),paymentDetails:{},disabled:!1,locales:{},selectedLocale:"",clearDCCOffers:g.a});n(3015);var rn=function(e){var t=e.paymentObject,n=e.children,a=e.paymentDetails,r=[[{amount:e.user.getIn(["loyaltyDetails","balance"],0),currency:"FFCURRENCY"}]];return k.a.createElement("div",{className:"award-payment-successful"},!D()(t)&&function(e){var t=F()(e,"awardTotal",{});return k.a.createElement(nt.a,{className:"alert award-payment-successful",type:"success",title:"payment.award.appliedAlert.title"},Object(S.k)("payment.award.appliedAlert.description",{price:k.a.createElement(U.a,{price:t})}))}(a),k.a.createElement(dt.a,{className:"dxp-payment-award"},k.a.createElement("div",{className:"header"},k.a.createElement("div",{className:"padding"},k.a.createElement("h3",null,Object(S.a)("awardBooking.creditAndAwards")),Object(S.a)("awardBooking.creditAndAwardsDescription")),k.a.createElement(jt.a,{title:Object(S.i)("payment.award.currentBalance",{ffcurrencyName:Object(S.i)("awardBooking.ffcurrency.name")}),className:"column success",price:r})),k.a.createElement("div",{className:"body"},k.a.createElement("div",{className:"dxp-payment"},n))))};rn.defaultProps={paymentObject:{},paymentDetails:{},children:null,user:Object(P.Map)()};var sn=rn,on=n(128),ln=n.n(on),cn=n(2038),un=n(326),dn=n(1281),pn=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getAgreementsText",value:function(){var e=this.props,t=e.onFareRulesClick,n=e.onAgreementsClick,a=e.configuration,r=F()(a,"termsAndConditionsURL",""),i={fareRulesLink:k.a.createElement(We.a,{onClick:t},Object(S.i)("thirdPartyPayment.fareRules")),agreementsLink:k.a.createElement(We.a,{onClick:n,target:"_blank",href:r,isExternalLink:!0,rel:"external"},Object(S.i)("thirdPartyPayment.agreements"))};return this.context.translateWithComponents("thirdPartyPayment.agreementText",i)}},{key:"renderPrice",value:function(e){return this.context.translateWithComponents("thirdPartyPayment.toBeCollected",{priceAfterSurcharge:k.a.createElement(U.a,{includeDecimal:!0,className:"dxp-third-party-payment-price-after-surcharge",price:e})})}},{key:"render",value:function(){var e=this.props.paymentProduct,n={priceAfterSurcharge:e.amount,surchargeAmount:e.surcharge,priceBeforeSurcharge:{amount:F()(e,"amount.amount",0)-F()(e,"surcharge.amount",0),currency:F()(e,"amount.currency","")}},a=F()(n.surchargeAmount,"amount",0)>0;return k.a.createElement("div",{className:"dxp-payment-smartlink-paynow-footer-container clearfix"},k.a.createElement("div",{className:"dxp-payment-smartlink-paynow-agreement-text"},this.getAgreementsText()),k.a.createElement("div",{className:"dxp-payment-smartlink-paynow-price-container"},a&&k.a.createElement("div",{className:"dxp-payment-smartlink-paynow-final-price"},this.renderPrice(n.priceAfterSurcharge)),k.a.createElement("div",{className:"dxp-payment-smartlink-paynow-detailed-price"},a?vt()({priceBreakDown:t.getPriceBreakDownWithSurcharge(n.priceBeforeSurcharge,n.surchargeAmount)}):this.renderPrice(n.priceBeforeSurcharge))))}}],[{key:"getPriceBreakDownWithSurcharge",value:function(e,t){return k.a.createElement("div",{className:"price-breakdown-with-surcharge"},k.a.createElement(U.a,{className:"priceBeforeSurcharge",includeDecimal:!0,price:e}),k.a.createElement(U.a,{className:"surchargeAmount",includeDecimal:!0,price:t}),Object(S.a)("thirdPartyPayment.surcharge"))}}]),t}(E.Component);f()(pn,"contextTypes",{translateWithComponents:O.func});var hn,fn=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getLocationRemark",value:function(){return["".concat(F()(this.props.configuration,"locationRemark","")).concat(this.paymentLocationDropdown.getValue())]}},{key:"holdAndPayLater",value:function(){return this.paymentLocationDropdown.isValid()?this.props.onSelect(j()({},this.props.paymentProduct,{remarks:this.getLocationRemark()})):Promise.reject()}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.onFareRulesClick,r=t.paymentProduct,i=t.onAgreementsClick,s=Object(Nt.j)("locations",n);return k.a.createElement("div",{id:"smartlink-pay-later-container",className:"row dxp-smartlink-pay-later"},k.a.createElement("div",{className:"row dxp-smartlink-pnpl-container"},k.a.createElement(dn.a,{tag:"h4",className:"dxp-smartlink-pnpl-container-title",title:"payment.smartlink.payLater.title"}),k.a.createElement("div",{id:"pnpl-additional-info",className:"dxp-smartlink-pnpl-additional-info"},Object(S.a)("payment.smartlink.payLater.holdYourBooking"),k.a.createElement(un.a,{className:"dxp-smartlink-pl-dropdown",options:s,ref:function(t){e.paymentLocationDropdown=t},label:"payment.smartlink.payLater.locations.title",clearable:!1,multi:!1,validators:F()(n,"validators",[])}),Object(S.a)("payment.smartlink.payLater.additionalInfo"))),k.a.createElement(pn,{onAgreementsClick:i,configuration:n,paymentProduct:r,onFareRulesClick:a}))}}]),t}(E.Component),mn=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getPayNowAcceptanceList",value:function(){return me()(Object(Nt.j)("acceptList",this.props.configuration),(function(e,t){return k.a.createElement("li",{key:"smartlink-pn-acceptance-item-".concat(t)},e.label)}))}},{key:"getPaymentInfo",value:function(){var e=this.props,t=e.paymentProduct,n=e.getRedirectUrl,a=e.currentFlow;return j()({},t,{data:{redirectUrlData:{defaultURL:n({paymentType:Le.b.SMARTLINK,paymentStatus:De.h.SUCCESSFUL,currentFlow:a},t.amount),pendingURL:n({paymentType:Le.b.SMARTLINK,paymentStatus:De.h.PENDING,currentFlow:a},t.amount),approvedURL:n({paymentType:Le.b.SMARTLINK,paymentStatus:De.h.APPROVED,currentFlow:a},t.amount),declinedURL:n({paymentType:Le.b.SMARTLINK,paymentStatus:De.h.DECLINED,currentFlow:a},t.amount),cancelURL:n({paymentType:Le.b.SMARTLINK,paymentStatus:De.h.CANCELED,currentFlow:a},t.amount),errorURL:n({paymentType:Le.b.SMARTLINK,paymentStatus:De.h.ERROR,currentFlow:a},t.amount)},fopCode:t.fopCode,afopClientDetail:{}}})}},{key:"payNow",value:function(){return this.props.onSelect(this.getPaymentInfo())}},{key:"render",value:function(){var e=this.props,t=e.onFareRulesClick,n=e.paymentProduct,a=e.configuration,r=e.onAgreementsClick;return k.a.createElement("div",{id:"smartlink-pay-now-container",className:"row dxp-smartlink-pay-now"},k.a.createElement("div",{className:"row dxp-smartlink-pnpl-container"},k.a.createElement(dn.a,{tag:"h4",className:"dxp-smartlink-pnpl-container-title",title:"payment.smartlink.payNow.title"}),k.a.createElement("div",{id:"pnpl-additional-info",className:"dxp-smartlink-pnpl-additional-info"},Object(S.a)("payment.smartlink.payNow.acceptanceListLabel"),k.a.createElement("ul",{className:"dxp-smartlink-pn-acceptance-list"},this.getPayNowAcceptanceList()),Object(S.a)("payment.smartlink.payNow.additionalInfo"))),k.a.createElement(pn,{paymentProduct:n,configuration:a,onFareRulesClick:t,onAgreementsClick:r}))}}]),t}(E.Component),gn=(n(3016),function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),f()(T()(a),"apply",(function(){return{PL:function(){return a.smartLinkPayLater.holdAndPayLater()},PN:function(){return a.smartLinkPayNow.payNow()}}[a.state.paymentType]()})),f()(T()(a),"toggleButtonClick",(function(e,t){a.setState({paymentType:t})})),a.state={paymentType:a.getDefaultPaymentType()},a}return p()(t,e),s()(t,[{key:"getDefaultPaymentType",value:function(){return t.paymentTypeCode[F()(ln()(this.props.paymentProduct),"paymentType")]}},{key:"renderPayLater",value:function(){var e=this;return k.a.createElement(fn,{ref:function(t){e.smartLinkPayLater=t},onFareRulesClick:this.props.onFareRulesClick,onAgreementsClick:this.props.onAgreementsClick,configuration:F()(this.props.configuration,"smartLink.payLater"),paymentProduct:he()(this.props.paymentProduct,(function(e){return e.paymentType===De.i.REMOTE})),onSelect:this.props.onSelect})}},{key:"renderPayNow",value:function(){var e=this;return k.a.createElement(mn,{ref:function(t){e.smartLinkPayNow=t},onAgreementsClick:this.props.onAgreementsClick,configuration:F()(this.props.configuration,"smartLink.payNow"),serviceLogo:F()(this.props.configuration,"serviceLogo.".concat(De.i.SMARTLINK),""),paymentProduct:he()(this.props.paymentProduct,(function(e){return e.paymentType===De.i.AFOP})),renderModal:this.props.renderModal,paymentQuery:this.props.paymentQuery,onFareRulesClick:this.props.onFareRulesClick,onCloseClick:this.props.onCloseClick,getRedirectUrl:this.props.getRedirectUrl,paymentProcessing:this.props.paymentProcessing,onSelect:this.props.onSelect,currentFlow:this.props.currentFlow})}},{key:"renderPayNowPayLaterContainer",value:function(){var e=this,t={PL:function(){return e.renderPayLater()},PN:function(){return e.renderPayNow()}};return t[this.state.paymentType]()}},{key:"renderToggleButton",value:function(){var e=this,t=F()(this.props,"configuration.smartLink.toggleOptions",[]),n=this.state.paymentType;return k.a.createElement(cn.a,{ref:function(t){e.toggleButton=t},onClick:this.toggleButtonClick,options:t,prefix:"payment.smartlink.toggleButton",label:"payment.smartlink.toggleButton.label",buttonClassNames:["small","primary"],numberOfOptions:2,className:"dxp-pnpl-toggle",defaultValue:n,ariaDescribedBy:"pnpl-additional-info",id:"pnpl"})}},{key:"render",value:function(){return k.a.createElement("div",{className:"dxp-payment-smartlink"},k.a.createElement("h3",null,Object(S.a)("payment.smartlink.title")),this.props.paymentProduct.length>1&&this.renderToggleButton(),this.renderPayNowPayLaterContainer())}}]),t}(E.Component));f()(gn,"paymentTypeCode",(hn={},f()(hn,De.i.AFOP,De.k.PAY_NOW),f()(hn,De.i.REMOTE,De.k.PAY_LATER),hn));var vn=gn,yn=n(38),bn=n.n(yn),Cn=n(50),En=n(1725),kn=n(582),On=n(2054),_n=n(2107),Pn=n(244),Sn=n(560),Nn=n(2080),wn=n(153),An=n(1415);n(3017);var Tn=function(e){var t=e.onCancelClick,n=e.onOkClick,a=e.totalCost,r=e.agreementsMsg;return k.a.createElement("div",{className:"china-union-pay-confirm-modal"},k.a.createElement("h4",null,Object(S.i)("payment.chinaUnionPaySecurePlus.modalTitle")),k.a.createElement("p",null,Object(S.i)(r)),k.a.createElement("div",{className:"china-union-pay-totalcost-info"},k.a.createElement("div",{className:"china-union-pay-totalcost-title"},Object(S.i)("payment.chinaUnionPaySecurePlus.toBeCollected")),k.a.createElement("div",null,k.a.createElement(U.a,{price:a}))),k.a.createElement("div",{className:"china-union-pay-confirm-actions"},k.a.createElement(Re.a,{className:"secondary small",onClick:t},Object(S.i)("app.cancel")),k.a.createElement(Re.a,{className:"primary small",onClick:n},Object(S.i)("payment.chinaUnionPaySecurePlus.confirmAndPay"))))};n(3018),n(3019);function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xn,jn=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(T()(n),"state",{enabledFields:{number:F()(n.props.configuration.chinaUnionPaySecurePlusPayments,"CCnumber.isEnabled",!1),telephone:F()(n.props.configuration.chinaUnionPaySecurePlusPayments,"mobile.isEnabled",!1),expirationDate:F()(n.props.configuration.chinaUnionPaySecurePlusPayments,"expirationDate.isEnabled",!1),cvc:F()(n.props.configuration.chinaUnionPaySecurePlusPayments,"cvc.isEnabled",!1),holderName:F()(n.props.configuration.chinaUnionPaySecurePlusPayments,"holderName.isEnabled",!1)},activeCreditCardMask:n.getCreditCardMask(),showSendSmsMessage:!1,validSmsCodeFilledIn:!1}),f()(T()(n),"onChinaUnionPayPhoneChange",(function(){n.formFields.telephone&&n.formFields.telephone.isPhoneNumberEntered()&&n.formFields.telephone.isValid()&&n.setState({showSendSmsMessage:!0})})),f()(T()(n),"onChinaUnionPaySmsCodeChange",(function(){if(n.formFields.smsCode){var e=!D()(n.formFields.smsCode.getValue())&&Object(wn.c)({smsCode:!0},{smsCode:n.formFields.smsCode});n.setState({validSmsCodeFilledIn:e})}})),f()(T()(n),"onCreditCardBlur",(function(e){e.preventDefault(),n.splitCreditCardDataIntoBlocks(e),n.stopCreditCardInputOnEnteringMaxDigits(e)})),f()(T()(n),"onCreditCardKeyPress",(function(e){n.splitCreditCardDataIntoBlocks(e),n.stopCreditCardInputOnEnteringMaxDigits(e)})),f()(T()(n),"onSendSMS",(function(e){if(e.preventDefault(),n.isFormValid()){var t=n.getSendSmsPayload();n.props.sendFreeChinaUnionPaySms(t)}})),f()(T()(n),"getAgreementsText",(function(){var e=n.props.onFareRulesClick,t=k.a.createElement(We.a,{onClick:e},Object(S.i)("payment.chinaUnionPaySecurePlus.fareRules")),a=k.a.createElement(We.a,{href:Object(S.i)(n.props.agreementsUrl)},Object(S.i)("payment.chinaUnionPaySecurePlus.agreements"));return n.context.translateWithComponents("payment.chinaUnionPaySecurePlus.agreementText",{fareRules:t,agreements:a})})),f()(T()(n),"getCupConfirmPayload",(function(){var e=n.props.paymentProduct,t=n.getChinaUnionFormData(),a=t.creditCard,r=t.smsCode,i=n.props.chinaUnionPay.getIn(["smsResponse","redirectInfo","transactionId"]),s=F()(e,"amount"),o=F()(e,"paymentCode");return Dn({"@type":"COLLECT_ADDITIONAL_DATA_RETURN",amount:s,paymentCode:o},a,{data:Dn({},a,{cardCode:o}),transactionId:i,received3rdPartyData:{smsCode:r},paymentType:On.b,productType:F()(e,"productType",[])})})),f()(T()(n),"getSendSmsPayload",(function(){var e=n.props.paymentProduct,t=n.props.configuration.chinaUnionPaySecurePlusPayments.mobile.defaultPhoneType,a=n.getChinaUnionFormData(),r=a.creditCard,i=a.telephone,s=a.holderName;return{paymentRequired:!0,payment:[Dn({"@type":On.c,holderName:s,cardCode:e.paymentCode},bn()(e,["amount"]),{},r,{mobileNumber:Dn({},i,{type:t})})]}})),f()(T()(n),"setReference",(function(e){return function(t){n.formFields[e]=t}})),f()(T()(n),"cancelChinaUnionCard",(function(){return n.clearFields(),n.props.onCancel(),n.props.clearChinaUnionPaySmsResponse(),n.props.closeModal()})),f()(T()(n),"processChinaUnionPayment",(function(){n.props.clearChinaUnionPaySmsResponse(),n.props.closeModal(),n.props.processPayment()})),f()(T()(n),"renderCardHolderName",(function(){return k.a.createElement(Ze.a,{label:Object(S.i)("payment.creditCard.holderName"),defaultValue:"",className:"holder-name",ref:n.setReference("holderName"),validators:n.props.configuration.chinaUnionPaySecurePlusPayments.holderName.validators,useLabelFeedback:n.props.configuration.chinaUnionPaySecurePlusPayments.useLabelFeedback})})),f()(T()(n),"renderPhoneField",(function(){var e=n.props.configuration.chinaUnionPaySecurePlusPayments.mobile.phoneNumber.defaultCountry.defaultCountry,t=n.props.configuration.chinaUnionPaySecurePlusPayments.mobile.phoneNumber.validators,a=n.formFields.telephone?n.formFields.telephone.getValue():{};return k.a.createElement(je.a,{id:"china-union-pay-phone",ref:n.setReference("telephone"),label:"payment.creditCard.phone.phoneNumberOfCardHolder",classNames:Oe()("field-phone"),defaultCountry:e,defaultValue:a,isResetPhoneField:!0,validators:t,onChange:n.onChinaUnionPayPhoneChange,useLabelFeedback:n.props.configuration.chinaUnionPaySecurePlusPayments.useLabelFeedback,hideCountryFlag:F()(n.props.configuration,"chinaUnionPaySecurePlusPayments.mobile.hideCountryFlag",!0),phoneCountryCodes:n.props.phoneCountryCodes})})),f()(T()(n),"renderSmsConfirmation",(function(){var e=n.props.chinaUnionPay.get("smsRequested"),t=n.props.chinaUnionPay.get("smsRequestSuccess");return k.a.createElement("div",{className:"card-details-sms"},n.renderPhoneField(),k.a.createElement("div",{className:"send-sms-action"},k.a.createElement(Re.a,{type:"button",className:"secondary small send-sms",onClick:n.onSendSMS},t&&Object(S.i)("payment.chinaUnionPaySecurePlus.resend"),!t&&!e&&Object(S.i)("payment.chinaUnionPaySecurePlus.sms"),e&&k.a.createElement(tt.a,{className:"small dark"})),n.state.showSendSmsMessage&&k.a.createElement("div",{className:"send-sms-message"},k.a.createElement(An.a,{type:"info"},Object(S.a)("payment.chinaUnionPaySecurePlus.sendSmsMessage")))),k.a.createElement("div",{className:"sms-code-message"},Object(S.i)("payment.chinaUnionPaySecurePlus.smsCode")),k.a.createElement(Sn.a,{ref:n.setReference("smsCode"),label:Object(S.i)("payment.chinaUnionPaySecurePlus.smsLabel"),defaultValue:"",className:"sms-code",disabled:!t,validators:n.props.configuration.chinaUnionPaySecurePlusPayments.smsCode.validators,useLabelFeedback:n.props.configuration.chinaUnionPaySecurePlusPayments.useLabelFeedback,onChange:n.onChinaUnionPaySmsCodeChange}),t&&k.a.createElement("div",{className:"sms-sent-message"},k.a.createElement(Ne.a,{type:"success",title:Object(S.i)("payment.chinaUnionPaySecurePlus.smsSent")},Object(S.a)("payment.chinaUnionPaySecurePlus.smsSentConfirmation"))),n.props.chinaUnionPay.get("smsRequestError")&&k.a.createElement("div",{className:"sms-sent-message"},k.a.createElement(Ne.a,{type:"error",title:Object(S.i)("payment.chinaUnionPaySecurePlus.smsSentError.title")},Object(S.a)("payment.chinaUnionPaySecurePlus.smsSentError.description"))))})),f()(T()(n),"togglePopover",(function(e){return Pn.a.is(Pn.a.code.special.enter,e.which)&&n.popover.togglePopover()})),n}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.formFields={},this.paymentObject=this.props.paymentObject,D()(this.props.paymentObject)||(this.props.setPaymentSelected(!1),this.props.canContinue(this.props.paymentSelected,!1))}},{key:"getChinaUnionFormData",value:function(){var e=this.formFields.expirationDate&&$e()(this.formFields.expirationDate.getValue(),this.getExpirationDateFormat()).locale("en").format(this.getExpirationDateFormat()),t=this.formFields.number&&this.formFields.number.getValue().replace(kn.g,""),n=this.formFields.cvc&&this.formFields.cvc.getValue(),a=this.formFields.telephone&&this.formFields.telephone.getValue(),r=this.formFields.smsCode&&this.formFields.smsCode.getValue(),i={number:t,cvc:n,expirationDate:e,holderName:this.formFields.holderName&&this.formFields.holderName.getValue()};return Object(Nt.b)({creditCard:i,telephone:a,smsCode:r})}},{key:"getCreditCardMask",value:function(){var e=this.props.configuration.chinaUnionCardType;return{cardMask:kn.d.substring(0,e.charLength).replace(new RegExp(e.match),"$1 $2 $3 $4"),cvcMask:new RegExp(e.cvc).exec(kn.d)[0]}}},{key:"getExpirationDateFormat",value:function(){return F()(this.props.configuration,"chinaUnionPaySecurePlusPayments.expirationDate.dateFormat",kn.e)}},{key:"apply",value:function(){var e=this,t=this.props.paymentProduct,n=F()(t,"amount");return new Promise((function(t,a){e.props.renderModal("",k.a.createElement(Tn,{onCancelClick:function(){e.props.closeModal(),e.cancelChinaUnionCard(),a()},onOkClick:function(){e.props.clearChinaUnionPaySmsResponse(),e.props.closeModal(),e.props.onSelect(e.getCupConfirmPayload()).then(t).catch(a)},agreementsMsg:e.getAgreementsText(),totalCost:n}))}))}},{key:"clearFields",value:function(){Object.values(this.formFields).map((function(e){return e&&e.clear()}))}},{key:"isFormValid",value:function(){return Object(wn.c)(this.state.enabledFields,{number:this.formFields.number,cvc:this.formFields.cvc,expirationDate:this.formFields.expirationDate,telephone:this.formFields.telephone,holderName:this.formFields.holderName})}},{key:"isValid",value:function(){return this.isFormValid()&&this.props.chinaUnionPay.get("smsRequestSuccess")&&this.state.validSmsCodeFilledIn}},{key:"splitCreditCardDataIntoBlocks",value:function(e){var n=t.extractCreditCardDetails(e),a=n.creditCardInput,r=n.providedCreditCardNumber,i=this.props.configuration.chinaUnionCardType,s=e.keyCode===En.a;if(i&&!s){var o=new RegExp(i.match);r.match(o)&&(a.value=r.replace(o,"$1 $2 $3 $4").replace(kn.f," "))}}},{key:"stopCreditCardInputOnEnteringMaxDigits",value:function(e){var n=t.extractCreditCardDetails(e).providedCreditCardNumber;e.keyCode===En.a||n.length>=parseInt(this.props.configuration.chinaUnionCardType.charLength,10)&&e.preventDefault()}},{key:"renderCVC",value:function(e){return k.a.createElement("div",{className:"cvc-container"},k.a.createElement(Nn.a,{ref:this.setReference("cvc"),keyProp:"cvc-new",mask:this.state.activeCreditCardMask.cvcMask,label:"payment.creditCard.cvc",className:"cvc",defaultValue:"",useLabelFeedback:e.useLabelFeedback,validators:e.cvc.validators}),this.renderCVCHelp())}},{key:"renderCVCHelp",value:function(){var e=this,t=k.a.createElement("span",{role:"button",tabIndex:"0",onKeyPress:this.togglePopover,title:Object(S.i)("payment.creditCard.cvcTitle")},k.a.createElement(Cn.c,{name:Cn.a.INFO_CIRCLE}));return k.a.createElement(_n.b,{ref:function(t){e.popover=t},className:"dxp-popover-cvc-help cup-popover",position:_n.a.BOTTOM,showClose:!1,id:"cvc-help",toggleEl:t},k.a.createElement("span",{className:"cvc-help-text"}," ",Object(S.a)("payment.chinaUnionPaySecurePlus.cvvHelp")," "))}},{key:"renderCreditCardNumber",value:function(e){var t=F()(e,"CCnumber.validators",[]);return k.a.createElement("div",null,k.a.createElement(Nn.a,{ref:this.setReference("number"),onKeyPress:this.onCreditCardKeyPress,label:"payment.creditCard.number",mask:this.state.activeCreditCardMask.cardMask,onBlur:this.onCreditCardBlur,defaultValue:"",keyProp:"chinaUnionCreditCardNumber",error:this.state.CCInvalidError,className:"number",useLabelFeedback:e.useLabelFeedback,validators:t}),this.state.isCheckingBIN&&k.a.createElement(tt.a,{className:"bin-spinner dark"}))}},{key:"renderExpirationDate",value:function(e){return k.a.createElement(Nn.a,{ref:this.setReference("expirationDate"),mask:this.getExpirationDateFormat().replace(kn.a,"1"),defaultValue:"",label:Object(S.i)("payment.creditCard.expirationDate",{format:this.getExpirationDateFormat()}),className:"expiration-date",useLabelFeedback:e.useLabelFeedback,validators:F()(e,"expirationDate.validators")})}},{key:"render",value:function(){var e=F()(this.props.configuration,"chinaUnionPaySecurePlusPayments"),t=this.state.enabledFields,n=t.number,a=t.expirationDate,r=t.cvc,i=t.telephone,s=t.holderName,o=Object(B.a)(this.props.isAuthorable,"paymentChinaUnion");return k.a.createElement("form",w()({className:"payment-type china-union-pay-card clearfix"},o),k.a.createElement("div",{className:"card-details-header"},k.a.createElement("div",{className:"card-details-header-title"},k.a.createElement("h3",{className:"card-details-header-label"},Object(S.a)("payment.chinaUnionPaySecurePlus.infoTitle")))),k.a.createElement("hr",null),k.a.createElement(Ae.a,null),k.a.createElement("div",{className:"card-details"},k.a.createElement("fieldset",null,k.a.createElement("legend",{className:"card-details-legend"},Object(S.a)("payment.creditCard.cardDetails")),k.a.createElement("div",{className:"fields-container"},k.a.createElement("div",{className:"credit-card-detection",id:"creditCardDetection"},n&&this.renderCreditCardNumber(e)),s&&this.renderCardHolderName(),a&&this.renderExpirationDate(e),r&&this.renderCVC(e)),i&&this.renderSmsConfirmation())))}}],[{key:"extractCreditCardDetails",value:function(e){var t=e.currentTarget||e.target,n=t.value.replace(kn.g,"");return{creditCardInput:t,providedCreditCardNumber:n}}}]),t}(E.Component);f()(jn,"contextTypes",{translateWithComponents:O.func}),f()(jn,"defaultProps",{paymentProduct:void 0,closeModal:g.a,paymentObject:void 0,paymentSelected:!1,isAuthorable:!0,agreementsUrl:""});var Ln=function(e,t){return k.a.createElement(H,{ref:t,signIn:e.signIn,currenciesConfiguration:e.metadata.get("currencies",Object(P.Map)()),paymentDetails:e.paymentDetails,getPaymentDetails:e.getPaymentDetails,onSelect:e.onSelect,onCancel:e.onCancel,loggedOut:e.loggedOut,paymentProduct:e.paymentProduct,paymentObject:e.paymentObject,session:e.session,location:e.location,selectedLocale:e.selectedLocale,locales:e.locales,travelBankConfiguration:e.travelBankConfiguration,key:"payment-travel-bank"})},Fn=function(e,t){return k.a.createElement(an,{ref:t,configuration:e.configuration,key:"payment-award",paymentObject:e.paymentObject,paymentProduct:e.paymentProduct,paymentDetails:e.paymentDetails,getPaymentDetails:e.getPaymentDetails,isAwardBooking:e.isAwardBooking,onSelect:e.onSelect,onCancel:e.onCancel,requestCart:e.requestCart,clearDCCOffers:e.clearDCCOffers,updateCartWithAwardSwitch:e.updateCartWithAwardSwitch,currentFlow:e.currentFlow,user:e.user,clearPaymentDetails:e.clearPaymentDetails,selectedLocale:e.selectedLocale,locales:e.locales,paymentQuery:e.paymentQuery,location:e.location,shoppingCartTotal:e.shoppingCart.data.total})},Bn=function(e,t){return k.a.createElement(sn,{paymentObject:e.paymentObject,paymentDetails:e.paymentDetails,user:e.user},Fn(e,t))},Rn=function(e,t){return Fn(e,t)},Mn=function(e,t){return k.a.createElement(Xe,{ref:t,configuration:e.configuration,provinces:e.provinces,paymentProduct:e.paymentProduct,paymentObject:e.paymentObject,onSelect:e.onSelect,onCancel:e.onCancel,secondFOP:e.secondFOP,getRedirectUrl:e.getRedirectUrl,closeModal:e.closeModal,getTotalDue:e.getTotalDue,renderModal:e.renderModal,setPaymentSelected:e.setPaymentSelected,canContinue:e.canContinue,paymentSelected:e.paymentSelected,session:e.session,user:e.user,updateProfile:e.updateProfile,getDCCOffers:e.getDCCOffers,setDCCOption:e.setDCCOption,clearDCCOffers:e.clearDCCOffers,dccOptions:e.dccOptions,dccOptionSelected:e.dccOptionSelected,currentFlow:e.currentFlow,isAwardBooking:e.isAwardBooking,removeSelectedCarOffer:e.removeSelectedCarOffer,isBankIdentificationValid:e.isBankIdentificationValid,selectedCarOffer:e.selectedCarOffer,productTypes:e.productTypes,paymentType:e.PAYMENT_TYPES.CC_3DS,selectedHotel:e.selectedHotel,getInstallmentPlansForSelectedCCType:e.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:e.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:e.selectInstallmentPlan,clearInstallmentPlans:e.clearInstallmentPlans,clearSelectedInstallmentPlan:e.clearSelectedInstallmentPlan,installments:e.installments,phoneCountryCodes:e.phoneCountryCodes,selectPaymentOption:e.selectPaymentOption,isSaveAddressTypeInvoiceEnabled:e.metadata.get("isSaveAddressTypeInvoiceEnabled"),isDelayedCarPayment:e.metadata.get("isDelayedCarPayment")})},Vn=function(e,t){return k.a.createElement(at,{ref:t,onSelect:e.onSelect,onCancel:e.onCancel,paymentObject:e.paymentObject,paymentProduct:e.paymentProduct,paymentDetails:e.paymentDetails,getPaymentDetails:e.getPaymentDetails,configuration:e.configuration,paymentErrors:e.paymentErrors})},Un=function(e,t){return k.a.createElement(mt,{ref:t,productTypes:e.productTypes,holdOptions:e.holdOptions,configuration:e.configuration,selectBNPL:e.selectBNPL,selectedHoldOption:e.selectedHoldOption})},qn=function(e,t){return k.a.createElement(vn,{ref:t,configuration:e.configuration,paymentProduct:C()(e.paymentProduct)?e.paymentProduct:y()(e.paymentProduct),onSelect:e.onSelect,onCancel:e.onCancel,renderModal:e.renderModal,paymentQuery:e.paymentQuery,paymentObject:e.paymentObject,onFareRulesClick:e.onFareRulesClick,onAgreementsClick:e.onAgreementsClick,onCloseClick:e.closeModal,paymentProcessing:e.paymentProcessing,getRedirectUrl:e.getRedirectUrl,currentFlow:e.currentFlow})},Hn=function(e,t){return k.a.createElement(At,{ref:t,paymentProduct:e.paymentProduct,configuration:e.configuration,renderModal:e.renderModal,closeModal:e.closeModal,onSelect:e.onSelect,paymentQuery:e.paymentQuery,paymentObject:e.paymentObject,selectedHoldOption:e.selectedHoldOption,metadata:e.metadata,provinces:e.provinces,onFareRulesClick:e.onFareRulesClick,onAgreementsClick:e.onAgreementsClick,getRedirectUrl:e.getRedirectUrl,dateFormat:e.dateFormat,defaultLocale:e.defaultLocale,currentFlow:e.currentFlow,phoneCountryCodes:e.phoneCountryCodes,backendUrl:e.backendUrl})},Wn=function(e,t){return k.a.createElement(jn,{ref:t,configuration:Object(Le.c)(e.configuration),sendFreeChinaUnionPaySms:e.sendFreeChinaUnionPaySms,chinaUnionPay:e.chinaUnionPay,paymentProduct:e.paymentProduct,renderModal:e.renderModal,closeModal:e.closeModal,onSelect:e.onSelect,onFareRulesClick:e.onFareRulesClick,agreementsUrl:e.agreementsUrl||Object(S.i)("payment.chinaUnionPaySecurePlus.agreementsUrl"),paymentObject:e.paymentObject,setPaymentSelected:e.setPaymentSelected,canContinue:e.canContinue,onCancel:e.onCancel,clearChinaUnionPaySmsResponse:e.clearChinaUnionPaySmsResponse,processPayment:e.processPayment,phoneCountryCodes:e.phoneCountryCodes})},Gn=(xn={},f()(xn,Le.b.AWARD,(function(e,t){return e.isAwardBooking?Bn(e,t):Rn(e,t)})),f()(xn,Le.b.BNPL,Un),f()(xn,Le.b.TRAVEL_BANK,Ln),f()(xn,Le.b.CREDIT_CARD,Mn),f()(xn,Le.b.REMOTE,(function(e,t){return k.a.createElement(it,{ref:t,paymentObject:e.paymentObject,paymentProduct:e.paymentProduct,onSelect:e.onSelect})})),f()(xn,Le.b.PAY_PAL,(function(e,t){return k.a.createElement(Ct,{ref:t,paymentProcessing:e.paymentProcessing,onFareRulesClick:e.onFareRulesClick,onAgreementsClick:e.onAgreementsClick,onSelect:e.onSelect,paymentProduct:e.paymentProduct,configuration:e.configuration,getRedirectUrl:e.getRedirectUrl})})),f()(xn,Le.b.AFOP,Hn),f()(xn,Le.b.GIFT_CARD,Vn),f()(xn,Le.b.POLI,(function(e,t){return k.a.createElement(Et,{ref:t,paymentProduct:e.paymentProduct,onSelect:e.onSelect,getRedirectUrl:e.getRedirectUrl,onFareRulesClick:e.onFareRulesClick,onAgreementsClick:e.onAgreementsClick})})),f()(xn,Le.b.SMARTLINK,qn),f()(xn,Le.b.CUPSP,Wn),xn),Kn=function(e){function t(e){var n;r()(this,t),(n=l()(this,u()(t).call(this,e))).fopComponentRef=k.a.createRef();var a=e.componentProps,i=a.paymentProduct,s=a.selectPaymentOption;return Array.isArray(i)?s(void 0):s(i),n}return p()(t,e),s()(t,[{key:"apply",value:function(){return this.fopComponentRef.current&&this.fopComponentRef.current.apply()}},{key:"hasEnteredData",value:function(){return this.fopComponentRef.current&&this.fopComponentRef.current.hasEnteredData&&this.fopComponentRef.current.hasEnteredData()}},{key:"isValid",value:function(){return!this.fopComponentRef.current||!this.fopComponentRef.current.isValid||this.fopComponentRef.current.isValid()}},{key:"render",value:function(){var e=this.props,t=e.paymentType,n=e.componentProps;return Gn[t]&&Gn[t](n,this.fopComponentRef)}}]),t}(E.Component);f()(Kn,"defaultProps",{}),Bn.defaultProps={paymentObject:{},paymentDetails:{}},Mn.defaultProps={paymentObject:{},PAYMENT_TYPES:{CC_3DS:"THIRD_PARTY_REDIRECT_INFO"},secondFOP:!1,paymentSelected:!1,session:{},dccOptions:[],dccOptionSelected:{},isAwardBooking:!1,selectedCarOffer:{},productTypes:[],selectedHotel:void 0,getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,selectPaymentOption:g.a},qn.defaultProps={paymentObject:{}},Fn.defaultProps={user:Object(P.Map)(),paymentObject:{},paymentDetails:{},locales:{},selectedLocale:""},Rn.propTypes={paymentObject:Object(O.shape)({})},Rn.defaultProps={paymentObject:{}},Wn.defaultProps={paymentObject:{},paymentProduct:{},agreementsUrl:""},Ln.defaultProps={travelBankConfiguration:void 0},Vn.defaultProps={paymentObject:{},paymentErrors:""},Un.defaultProps={productTypes:[]},Hn.defaultProps={backendUrl:void 0},Ln.defaultProps={session:Object(P.Map)()},n.d(t,"a",(function(){return Kn}))},function(e,t,n){"use strict";var a=n(27),r=n.n(a),i=n(2),s=n.n(i),o=n(56),l=n.n(o),c=n(19),u=n.n(c),d=n(16),p=n.n(d),h=n(51),f=n.n(h),m=n(0),g=n.n(m),v=n(1),y=n.n(v),b=n(6),C=n.n(b),E=(n(194),n(39)),k=n.n(E),O=n(11),_=n(12),P=n(524),S=n(2478),N=n(154),w=n(26),A=n.n(w),T=n(29),I=n.n(T),D=n(28),x=n.n(D),j=n(31),L=n.n(j),F=n(22),B=n.n(F),R=n(30),M=n.n(R),V=n(3),U=n.n(V),q=n(36),H=n.n(q),W=n(78),G=n(1349),K=n(528),z=n(14),Y=(n(2949),n(2950),function(e){function t(e){var n;return A()(this,t),n=I()(this,x()(t).call(this,e)),U()(L()(n),"getAcceptLinkProps",(function(){return{path:"/".concat(z.a.MYB)}})),n.state={isCheckboxChecked:!1},n}return M()(t,e),B()(t,null,[{key:"getModalProps",value:function(){return{title:Object(_.a)("transactionSummary.modals.cancel.title"),description:Object(_.a)("transactionSummary.modals.cancel.description")}}}]),B()(t,[{key:"onBack",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(z.a.CANCEL,"/").concat(z.a.TRANSACTION_SUMMARY))}},{key:"getTitle",value:function(){var e=H()(this.props.getNextPage("cancel","payment").split("/"));return Object(_.i)("app.".concat(e))}},{key:"render",value:function(){var e=this,n=this.context.translateWithComponents,a=this.props,r=a.configuration.refundPayment.termsAndConditionsLink,i=a.className,s=a.isContinueEnabled,o=n("cancelFlight.payment.completeRefundAgreementDescription",{termsAndConditions:y.a.createElement(W.a,{className:"dxp-payment-panel-body-footer__link",isExternalLink:!0,href:r,target:"_blank",rel:"external"},Object(_.a)("cancelFlight.payment.termsAndConditions"))});return y.a.createElement("div",{className:k()("dxp-payment-panel-body-footer",i),id:"dxp-payment-panel-body-footer"},y.a.createElement("div",{className:"dxp-payment-panel-body-footer__agreement"},y.a.createElement(K.a,{disabled:!s,id:"cancel-flight-payment-checkbox",onChange:function(t,n){return e.setState({isCheckboxChecked:n})},translatedLabel:o})),y.a.createElement("div",{className:"dxp-payment-panel-body-footer__buttons"},y.a.createElement(G.a,{modal:t.getModalProps(),continueTitle:this.getTitle(),onBack:function(){return e.onBack()},onContinue:this.props.onContinue,acceptLink:this.getAcceptLinkProps(),disableContinueButton:!this.state.isCheckboxChecked})))}}]),t}(v.Component));U()(Y,"contextTypes",{translateWithComponents:C.a.func}),U()(Y,"defaultProps",{isContinueEnabled:!0,className:""});var Q=n(5),X=n.n(Q),J=(n(2951),n(2952),function(e){return y.a.createElement("div",{className:"dxp-refund-credit-card-details-container"},X()(e.filteredRefundTargets,(function(e,t){var n=g()(e,"paymentCode"),a=g()(e,"identifier"),r=k()("dxp-refund-credit-card-details-cc-logo","".concat(n,"-card"),"credit-card-image");return y.a.createElement("div",{key:"dxp-refund-credit-card-details-".concat(t),className:"dxp-refund-credit-card-details"},y.a.createElement("div",{className:"dxp-refund-credit-card-details-cc"},y.a.createElement("span",{className:r}),y.a.createElement("span",{className:"dxp-refund-credit-card-details-cc-type"},Object(_.a)("card.".concat(n))),y.a.createElement("span",{className:"dxp-refund-credit-card-details-cc-number"},"(...".concat(a,")"))))})))});J.defaultProps={filteredRefundTargets:[]};var $=J,Z=n(57),ee=n.n(Z),te=n(18),ne=n.n(te),ae=n(2302),re=n(701),ie=n(88),se=n(54),oe=n.n(se),le=n(4),ce=n.n(le),ue=n(49),de=n.n(ue),pe=n(1289),he=n(136),fe=n(129),me=n(560),ge=n(529),ve=n(2069),ye=n(521),be=n(319),Ce=n(153),Ee=(n(2953),function(e){function t(){var e,n;A()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=x()(t)).call.apply(e,[this].concat(r))),U()(L()(n),"state",{isCheckboxChecked:!1,isLoading:!1,error:void 0}),n}return M()(t,e),B()(t,[{key:"onCancel",value:function(){this.props.onCancel()}},{key:"getEnabledInputs",value:function(){var e=g()(this.props,"cancelFlightPaymentConfiguration");return{prefix:g()(e,"prefix.isEnabled",!1),firstName:g()(e,"firstName.isEnabled",!1),lastName:g()(e,"lastName.isEnabled",!1),email:g()(e,"email.isEnabled",!1),username:g()(e,"username.isEnabled",!1),password:g()(e,"password.isEnabled",!1)}}},{key:"getFormValues",value:function(){var e=this,t=this.getEnabledInputs(),n=u()(de()(t),(function(e){return t[e]}));return this.isFormValid(),ce()(n,(function(t,n){return t[n]=e[n].getValue(),t}),{})}},{key:"getLabel",value:function(e){var t=this.props.cancelFlightPaymentConfiguration;return Object(pe.d)(e,t,g()(t,"".concat(e,".validators"),[]),"passengers")}},{key:"createAccount",value:function(){var e=this;this.isFormValid()&&(this.setState({isLoading:!0,error:void 0}),this.props.onCreateAccount(this.getFormValues()).then((function(){e.setState({isLoading:!1}),e.onCancel()})).catch((function(t){e.handleError(t)})))}},{key:"handleError",value:function(e){this.setState({isLoading:!1,error:e}),this.errorMessage&&this.errorMessage.focus()}},{key:"isFormValid",value:function(){var e=this,t={},n=this.getEnabledInputs();return u()(de()(n),(function(e){return n[e]})).forEach((function(n){t[n]=e[n]})),Object(Ce.c)(n,t)}},{key:"processOptionsForDropDown",value:function(e){var t=g()(this.props,"cancelFlightPaymentConfiguration"),n=g()(t,"".concat(e,".options")),a=g()(t,"".concat(e,".prefix"));return X()(n,(function(e){var t=s()(a)?e:"".concat(a,".").concat(e);return{value:e,label:Object(_.i)(t)}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.validators,a=t.cancelFlightPaymentConfiguration,r=this.state,i=r.isLoading,s=r.error,o="cancelFlight.payment.panels.TRAVEL_BANK.",l=this.getEnabledInputs(),c=g()(a,"email.validators",[]);return y.a.createElement(he.a,{key:"create-account",className:"create-account-modal",onCloseClick:function(){return e.onCancel()}},s&&y.a.createElement("div",{tabIndex:"-1",ref:function(t){e.errorMessage=t}},y.a.createElement(be.a,{type:"error",title:"error.".concat(s.errorCode,".title")},Object(_.a)("error.".concat(s.errorCode,".description")))),y.a.createElement("h1",{className:"modal-header"},Object(_.a)("".concat(o,"createAccount.modal.label"))),y.a.createElement("div",{className:"description"},Object(_.a)("".concat(o,"createAccount.modal.description"))),y.a.createElement("form",{className:"create-account-form"},l.prefix&&y.a.createElement("div",{className:"prefix"},y.a.createElement(ge.a,{options:this.processOptionsForDropDown("prefix"),label:this.getLabel("prefix"),useLabelFeedback:!0,validators:g()(a,"prefix.validators",[]),ref:function(t){e.prefix=t},className:"prefix"})),l.firstName&&y.a.createElement("div",{className:"first-name"},y.a.createElement(fe.a,{label:this.getLabel("firstName"),validators:g()(a,"firstName.validators",[]),autoComplete:"off",ref:function(t){e.firstName=t},keyProp:"firstName",useLabelFeedback:!0})),l.lastName&&y.a.createElement("div",{className:"last-name"},y.a.createElement(fe.a,{label:this.getLabel("lastName"),validators:g()(a,"lastName.validators",[]),autoComplete:"off",ref:function(t){e.lastName=t},keyProp:"lastName",useLabelFeedback:!0})),l.email&&y.a.createElement("div",{className:"email"},y.a.createElement(ve.a,{index:1,showConfirmEmail:g()(a,["email","shouldConfirmEmail"],!1),validators:c,ref:function(t){e.email=t},useLabelFeedback:!0,emailLabel:"".concat(Object(_.i)("passengers.emailAddress",{number:1})," ").concat(Object(_.i)("passengers.optional",{isRequired:Object(pe.l)(c)})),confirmEmailLabel:"".concat(Object(_.i)("passengers.confirmEmailAddress.label",{number:1})," ").concat(Object(_.i)("passengers.optional",{isRequired:Object(pe.l)(c)}))})),l.username&&y.a.createElement("div",{className:"username"},y.a.createElement(fe.a,{label:this.getLabel("username"),validators:[].concat(oe()(n.username||[]),oe()(g()(a,"username.validators",[]))),autoComplete:"off",ref:function(t){e.username=t},keyProp:"username",useLabelFeedback:!0})),l.password&&y.a.createElement("div",{className:"password"},y.a.createElement(me.a,{label:this.getLabel("password"),validators:[].concat(oe()(n.password||[]),oe()(g()(a,"password.validators",[]))),autoComplete:"off",inputType:this.state.isCheckboxChecked?"text":"password",ref:function(t){e.password=t},keyProp:"password",useLabelFeedback:!0}))),l.password&&y.a.createElement("div",{className:"show-password pull-left"},y.a.createElement(K.a,{isChecked:this.state.isCheckboxChecked,id:"show-password-checkbox",onChange:function(){return e.setState((function(e){return{isCheckboxChecked:!e.isCheckboxChecked}}))},label:"".concat(o,"createAccount.showPassword")})),y.a.createElement("div",{className:"buttons"},y.a.createElement(ie.a,{className:"secondary medium cancel-button",onClick:function(){return e.onCancel()}},Object(_.a)("app.cancel")),y.a.createElement(ie.a,{className:"primary medium",disabled:i,onClick:function(){return e.createAccount()}},i?y.a.createElement(ye.a,null):Object(_.a)("".concat(o,"createAccount.label")))))}}]),t}(v.Component));Ee.defaultProps={validators:{}};n(2954),n(2955);var ke=function(e){function t(e){var n;return A()(this,t),(n=I()(this,x()(t).call(this,e))).state={isCreateAccountModalOpen:!1},n}return M()(t,e),B()(t,[{key:"getModalProps",value:function(){var e=this;return p()({},this.props,{onCancel:function(){return e.setState({isCreateAccountModalOpen:!1})},onCreateAccount:function(t){return e.props.createAccount(t)}})}},{key:"render",value:function(){var e=this,t=this.context.translateWithComponents,n="cancelFlight.payment.panels.TRAVEL_BANK.",a="".concat(n,"createAccount.title"),r=y.a.createElement(W.a,{href:g()(this.props,"configuration.travelBankExternalLink","#"),isExternalLink:!0,target:"_blank",rel:"external"},Object(_.a)("".concat(n,"createAccount.link")));return y.a.createElement("div",{className:"create-travel-bank-account","data-test-id":ae.b},this.state.isCreateAccountModalOpen&&y.a.createElement(Ee,this.getModalProps()),t(a,{link:r},"p",{className:"create-account-text"}),y.a.createElement("p",{className:"description"},Object(_.a)("".concat(n,"createAccount.description"))),y.a.createElement(ie.a,{className:"primary medium pull-right",onClick:function(){return e.setState({isCreateAccountModalOpen:!0})}},Object(_.a)("".concat(n,"createAccount.label"))))}}]),t}(v.Component);ke.contextTypes={translateWithComponents:C.a.func};n(2956),n(2957);var Oe=function(e){var t=Object(v.useRef)(null),n=ne()(e.signIn,{isCaptchaEnabled:!1}),a=function(){t.current&&f()(t.current,"clearPassword")};return y.a.createElement("div",{className:"split-panel"},y.a.createElement("div",{className:"side sign-in","data-test-id":ae.c},y.a.createElement(re.a,ee()({},n,{validators:e.validators,title:"cancelFlight.payment.panels.TRAVEL_BANK.signIn.title",dispatch:e.dispatch,location:e.location,hideRememberMe:!0,onSubmit:function(t){return e.signInCallback(t).then(a).catch(a)},id:"travel-bank",ref:t}))),y.a.createElement("span",{className:"mobile-mid-line"},y.a.createElement("hr",null)),y.a.createElement("div",{className:"side travel-bank"},y.a.createElement(ke,e)))},_e=n(15),Pe=n.n(_e),Se=n(1249),Ne=(n(2958),n(2959),function(e){var t=f()(e.data,"toJS",e.data),n=Pe()(g()(t,"refundTargets"),(function(e){return"TRAVEL_BANK"===e.paymentType})),a=g()(n,"price"),r=f()(e.user,"toJS",{}),i=g()(r,"personalDetails"),s=g()(e.travelBankAccountInfo,"userDetails"),o=g()(r,"travelBankDetails"),l=g()(o,"balance"),c="cancelFlight.payment.panels.TRAVEL_BANK.";return y.a.createElement("div",{className:"dxp-refund-travel-bank-details",id:"dxp-refund-travel-bank-details"},y.a.createElement("div",{className:"details-item"},y.a.createElement("span",{className:"name-title"},Object(_.a)("".concat(c,"name"))),y.a.createElement("div",{className:"account-name"},Object(_.a)("account.fullName",i||s))),y.a.createElement("div",{className:"details-row"},y.a.createElement("div",{className:"details-item"},y.a.createElement("span",{className:"amount-title"},Object(_.a)("".concat(c,"amountToBeRefunded"))),y.a.createElement("div",{className:"refund"},y.a.createElement(Se.a,{price:a}))),l&&y.a.createElement("div",{className:"details-item"},y.a.createElement("span",{className:"amount-title"},Object(_.a)("".concat(c,"currentBalance"))),y.a.createElement("div",{className:"balance"},y.a.createElement(Se.a,{price:l})))))});Ne.defaultProps={travelBankAccountInfo:void 0};var we=Ne,Ae=(n(2960),function(e,t){var n=e.refundTargetType,a=e.shouldShowBodyFooter,r=e.shouldShowPageFooter,i=!a&&"TRAVEL_BANK"===n,s={CREDIT_CARD:function(){return $(e,t)},AWARD:function(){return $(e,t)},TRAVEL_BANK:function(){return we(e,t)}};return y.a.createElement("div",{className:"dxp-payment-panel-body"},a&&y.a.createElement("h3",{className:"dxp-payment-panel-body__title"},Object(_.a)("cancelFlight.payment.panels.".concat(n,".bodyTitle"))),a&&f()(s,n),r&&y.a.createElement(Y,{location:e.location,getNextPage:e.getNextPage,configuration:g()(e,"configuration",{}),actionUpdateURLQuery:e.actionUpdateURLQuery}),i&&Oe(e,t))}),Te=n(60),Ie=n(1415);n(2961);function De(e,t){var n=e.refundTargetCount,a=e.filteredRefundTargets,r=e.paymentType,i=t.translateWithComponents;return y.a.createElement("div",{className:"dxp-payment-panel-header-content"},y.a.createElement("h3",{className:"dxp-payment-panel-header-content__title"},Object(_.a)(function(e,t){return"cancelFlight.payment.panels.".concat(t,e>1?".secondFOP.title":".title")}(n,r))),y.a.createElement(Ie.a,{type:"success",title:"cancelFlight.payment.panels.".concat(r,".status")},function(e,t,n,a){return n("cancelFlight.payment.panels.".concat(a,e<2?".message":".secondFOP.message"),{amount:y.a.createElement(Se.a,{price:xe(t)})},"span")}(n,a,i,r)))}function xe(e){return e.map((function(e){return e.price})).reduce((function(e,t){return Object(Te.q)(e,t)}))}De.contextTypes={translateWithComponents:C.a.func.isRequired};var je=De,Le=n(1536),Fe=(n(2962),function(e){function t(){return A()(this,t),I()(this,x()(t).apply(this,arguments))}return M()(t,e),B()(t,[{key:"getTitle",value:function(){return this.props.refundTargetCount>1?"cancelFlight.payment.panels.TRAVEL_BANK.secondFOP.title":"cancelFlight.payment.panels.TRAVEL_BANK.title"}},{key:"render",value:function(){var e=this.context.translateWithComponents,n=t.renderPopover();return y.a.createElement("span",{className:"travel-bank-title-container",id:"travel-bank-title-container"},e(this.getTitle(),{link:n},"h2",{className:"payment-panel-title"}))}}],[{key:"renderPopover",value:function(){var e=y.a.createElement("span",{className:"travel-bank-title-trigger"},Object(_.a)("cancelFlight.payment.panels.TRAVEL_BANK.link.title"));return y.a.createElement(Le.a,{className:"whats-travel-bank-popover",position:"right",trigger:e,hasCloseButton:!0,hasCloseIcon:!0},y.a.createElement("div",{className:"popover-inner-container"},y.a.createElement("h3",{className:"popover-title"},Object(_.a)("cancelFlight.payment.panels.TRAVEL_BANK.popover.title")),y.a.createElement("p",{className:"popover-content"},Object(_.a)("cancelFlight.payment.panels.TRAVEL_BANK.popover.description"))))}}]),t}(v.Component));U()(Fe,"contextTypes",{translateWithComponents:C.a.func});n(2963);function Be(e){var t=e.refundTargetType,n=e.refundTargetCount,a=e.filteredRefundTargets;return{CREDIT_CARD:function(){return y.a.createElement(je,{refundTargetCount:n,filteredRefundTargets:a,paymentType:N.b.CREDIT_CARD})},AWARD:function(){return y.a.createElement(je,{refundTargetCount:n,filteredRefundTargets:a,paymentType:N.b.AWARD})},TRAVEL_BANK:function(){return y.a.createElement(Fe,{refundTargetCount:n})}}[t]()}Be.propTypes={refundTargetType:C.a.string.isRequired,refundTargetCount:C.a.number.isRequired,filteredRefundTargets:C.a.arrayOf(C.a.shape({})).isRequired},Be.defaultProps={refundTargetType:"CREDIT_CARD"};var Re=Be,Me=function(e,t){return e.refundTargetCount>1?y.a.createElement("div",{className:"description no-background second-fop"},Object(_.a)("cancelFlight.payment.panels.TRAVEL_BANK.secondFOP.description")):function(e,t,n){var a=y.a.createElement(W.a,{href:t,target:"_blank",rel:"external",isExternalLink:!0},Object(_.a)("cancelFlight.payment.type.TRAVEL_BANK"));return e&&e.description?Object(_.a)("cancelFlight.payment.panels.TRAVEL_BANK.user.description"):n.translateWithComponents("cancelFlight.payment.panels.TRAVEL_BANK.description",{link:a},"div",{className:"description"})}(e.user,g()(e.configuration,"travelBankExternalLink","#"),t)};Me.contextTypes={translateWithComponents:C.a.func};var Ve=Me,Ue=(n(2964),function(e){var t="TRAVEL_BANK"===e.refundTargetType;return y.a.createElement("div",{className:"dxp-payment-panel-header"},y.a.createElement(Re,e),t&&y.a.createElement(Ve,e))}),qe=(n(2965),function(e,t,n){return n===N.b.TRAVEL_BANK&&e||Boolean(t)||n!==N.b.TRAVEL_BANK}),He=function(e,t,n,a){return p()({},e,{shouldShowBodyFooter:qe(!e.user.isEmpty(),e.travelBankAccountInfo,t),shouldShowPageFooter:!1,refundTargetCount:l()(a),refundTargetType:t,filteredRefundTargets:n})},We=function(e,t,n,a,r){var i=k()("dxp-payment-panel-container",{"add-top-margin":l()(a)>1&&r===N.b.TRAVEL_BANK});return y.a.createElement("div",{className:i},y.a.createElement(P.a,{className:"dxp-payment-panel"},y.a.createElement(Ue,He(e,r,n,a)),y.a.createElement(Ae,He(e,r,n,a))))},Ge=function(e,t){return u()(e,(function(e){return e.paymentType===t}))};function Ke(e,t){var n,a,i=e.currentFlow,o=e.data,l=o.refundTargets||f()(o,"toJS",{}).refundTargets,c=Ge(l,N.b.CREDIT_CARD),u=Ge(l,N.b.TRAVEL_BANK),d=Ge(l,N.b.AWARD);return y.a.createElement(P.a,{className:"payment-panel-container"},"exchange"===i&&(n=e.refundableItems,a=!s()(g()(r()(n),"total")),y.a.createElement("div",null,y.a.createElement("h3",{className:"refund-items-title"},Object(_.a)("payment.refundItemsTitle")),a&&y.a.createElement(S.a,{items:n}))),!s()(c)&&We(e,0,c,l,N.b.CREDIT_CARD),!s()(u)&&We(e,0,u,l,N.b.TRAVEL_BANK),!s()(d)&&We(e,0,d,l,N.b.AWARD))}We.defaultProps={user:Object(O.Map)(),travelBankAccountInfo:{}},Ke.defaultProps={currentFlow:"b2c",data:{},refundableItems:[]};var ze=Ke;n.d(t,"a",(function(){return ze}))},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(2),s=n.n(i),o=n(6),l=n(1),c=n.n(l),u=n(11),d=(n(194),n(524)),p=n(3),h=n.n(p),f=n(154),m=n(26),g=n.n(m),v=n(22),y=n.n(v),b=n(29),C=n.n(b),E=n(28),k=n.n(E),O=n(31),_=n.n(O),P=n(30),S=n.n(P),N=n(0),w=n.n(N),A=n(27),T=n.n(A),I=n(12),D=n(1264),x=n(50),j=n(1249),L=function(e){function t(){var e,n;g()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=k()(t)).call.apply(e,[this].concat(r))),h()(_()(n),"giftCardChangeButton",c.a.createRef()),n}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.giftCardChangeButton.current&&this.giftCardChangeButton.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.paymentObject,n=e.onChange,a=w()(t.amount,"currency",""),r=w()(T()(t.combinablePaymentProducts),"amount",{amount:0,currency:a});return c.a.createElement("div",{className:"gift-card-summary",id:"gift-card-summary"},c.a.createElement("div",{className:"name"},c.a.createElement(x.c,{name:x.a.CHECK,size:"sm",fill:!0}),c.a.createElement("h4",{className:"gift-card-title"},Object(I.a)("payment.giftCard.title"))),c.a.createElement("div",{className:"applied-funds"},c.a.createElement("small",{className:"applied-funds-title"},Object(I.a)("payment.giftCard.appliedFunds")),c.a.createElement(j.a,{price:t.amount})),c.a.createElement("div",{className:"amount-remaining"},c.a.createElement("small",{className:"amount-remaining-title"},Object(I.a)("payment.giftCard.remainingBalance")),c.a.createElement(j.a,{price:r})),c.a.createElement(D.a,{ref:this.giftCardChangeButton,type:"button",className:"primary small dxp-button",onClick:function(){return n(t.paymentType)},ariaDescribedBy:"gift-card-summary"},Object(I.a)("".concat(t.paymentType,".change"))))}}]),t}(l.Component),F=n(51),B=n.n(F),R=n(39),M=n.n(R),V=n(2115),U=n(88),q=(n(3021),function(e){function t(e,n){var a;return g()(this,t),(a=C()(this,k()(t).call(this,e,n))).changeCreditCardButton=c.a.createRef(),a}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){B()(this,"changeCreditCardButton.current.focus")}},{key:"render",value:function(){var e=this.props,t=e.paymentObject,n=e.selectedHotel,a=e.savedInsurance,r=e.onChange,i=w()(t,"data.selectedDCCOffer.creditCardCurrencyAmount",{}),o=!s()(i)&&i||t.amount,l=t.data,u=M()("".concat(w()(l,"cardCode"),"-card"),"credit-card-image"),d=w()(t,"surcharge",{}),p=!s()(d)&&w()(d,"amount",0)>0,h=!n.isEmpty(),f=this.context.translateWithComponents;return c.a.createElement("div",{className:"payment-credit-card"},c.a.createElement("div",{className:"prices"},o&&c.a.createElement(j.a,{price:o}),p&&f("payment.creditCard.surchargeAdvisory",{amount:c.a.createElement(j.a,{price:d})},"small",{className:"surcharge-message"}),h&&c.a.createElement("span",null," ","+",c.a.createElement(j.a,{price:n.getIn(["hotelRoomType","price"])})),a&&c.a.createElement("span",null,o&&" + ",c.a.createElement(j.a,{price:a.price}))),c.a.createElement("div",{className:"credit-card-summary",id:V.n},l.number&&c.a.createElement("div",{className:"name"},c.a.createElement("span",{className:"inner-card credit-card"},c.a.createElement("span",{title:Object(I.i)("card.".concat(t.cardCode)),className:u}),c.a.createElement("span",{className:"card-number"},"(...".concat(l.number.slice(-4),")")))),c.a.createElement("div",{className:"exp"},c.a.createElement("small",null,Object(I.a)("payment.creditCard.summary.exp")),w()(l,"expirationDate")),c.a.createElement("div",{className:"cvc"},c.a.createElement("small",null,Object(I.a)("payment.creditCard.summary.cvc")),w()(l,"cvc","").replace(/[0-9]/g,"*")),c.a.createElement("div",{className:"owner"},c.a.createElement("small",null,Object(I.a)("payment.creditCard.summary.owner")),w()(l,"holderName")),c.a.createElement(U.a,{aria:{"aria-describedby":V.n},ref:this.changeCreditCardButton,onClick:function(){return r(t.paymentType)},className:"change primary small"},Object(I.a)("".concat(t.paymentType,".change")))))}}]),t}(l.Component));q.contextTypes={translateWithComponents:o.func.isRequired},q.defaultProps={selectedHotel:Object(u.Map)(),savedInsurance:void 0},q.contextTypes={translateWithComponents:o.func.isRequired};var H=n(582),W=(n(3022),function(e){function t(){var e,n;g()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=k()(t)).call.apply(e,[this].concat(r))),h()(_()(n),"chinaUnionPayChangeButton",c.a.createRef()),n}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.chinaUnionPayChangeButton.current&&this.chinaUnionPayChangeButton.current.focus()}},{key:"render",value:function(){var e=this,n=this.props.paymentObject,a=n.data,r=a.number,i=void 0===r?"":r,s=a.cvc,o=void 0===s?"":s,l=a.cardCode,u=n.amount,d=n.expirationDate,p=n.surcharge,h=void 0===p?{}:p,f=n.paymentType,m=w()(h,"amount",0)>0;return c.a.createElement("div",{className:"payment-china-union-pay",id:"china-union-pay-summary"},u&&c.a.createElement(j.a,{price:u}),m&&this.context.translateWithComponents("payment.creditCard.surchargeAdvisory",{amount:c.a.createElement(j.a,{price:h})},"small",{className:"surcharge-message"}),c.a.createElement("div",{className:"credit-card-summary"},i&&t.renderNumber(i,l),c.a.createElement("div",{className:"exp"},c.a.createElement("small",null,Object(I.a)("payment.creditCard.summary.exp")),d),c.a.createElement("div",{className:"cvc"},c.a.createElement("small",null,Object(I.a)("payment.creditCard.summary.cvc")),o.replace(H.c,"*")),c.a.createElement("div",{className:"change"},c.a.createElement(U.a,{ref:this.chinaUnionPayChangeButton,className:"primary small",onClick:function(){return e.props.onChange(f)},aria:{"aria-describedby":"china-union-pay-summary"}},Object(I.a)("".concat(f,".change"))))))}}],[{key:"renderNumber",value:function(e,t){var n=M()("".concat(t,"-card"),"credit-card-image");return c.a.createElement("div",{className:"name"},c.a.createElement("span",{className:"inner-card"},c.a.createElement("span",{title:Object(I.i)("card.".concat(t)),className:n}),"(...".concat(e.slice(H.b),")")))}}]),t}(l.Component));h()(W,"contextTypes",{translateWithComponents:o.func.isRequired});n(3023);var G=function(e){function t(){var e,n;g()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=k()(t)).call.apply(e,[this].concat(r))),h()(_()(n),"travelBankChangeButton",c.a.createRef()),n}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.travelBankChangeButton.current&&this.travelBankChangeButton.current.focus()}},{key:"componentDidUpdate",value:function(){this.props.user&&!this.props.user.isEmpty()||this.props.onChange(f.b.TRAVEL_BANK)}},{key:"render",value:function(){var e=this.props,t=e.paymentObject,n=e.onChange,a=e.paymentDetails,r=w()(t.amount,"currency",""),i=w()(a,"".concat(f.b.TRAVEL_BANK))?w()(a,"".concat(f.b.TRAVEL_BANK,".availableFunds.amount"),0)-w()(t.amount,"amount",0):0;return c.a.createElement("div",{className:"travel-bank-summary",id:"travel-bank-summary"},c.a.createElement("div",{className:"name"},c.a.createElement(x.c,{name:x.a.CHECK,size:"sm",fill:!0}),c.a.createElement("h4",null,Object(I.a)("payment.travelBank.title"))),c.a.createElement("div",{className:"applied-funds"},c.a.createElement("small",{className:"applied-funds-title"},Object(I.a)("payment.travelBank.appliedFunds")),c.a.createElement(j.a,{price:t.amount})),c.a.createElement("div",{className:"amount-remaining"},c.a.createElement("small",{className:"amount-remaining-title"},Object(I.a)("payment.travelBank.remainingBalance")),c.a.createElement(j.a,{price:{amount:i,currency:r}})),c.a.createElement(U.a,{ref:this.travelBankChangeButton,type:"button",className:"dxp-button primary small",onClick:function(){return n(t.paymentType)},aria:{"aria-describedby":"travel-bank-summary"}},Object(I.a)("".concat(t.paymentType,".change"))))}}]),t}(l.Component),K=n(1359),z=n(2205),Y=(n(3024),function(e){return{amount:e,currency:"FFCURRENCY"}}),Q=function(e){function t(){var e,n;g()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=k()(t)).call.apply(e,[this].concat(r))),h()(_()(n),"awardButtonChangeButton",c.a.createRef()),n}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.awardButtonChangeButton.current&&this.awardButtonChangeButton.current.focus()}},{key:"componentDidUpdate",value:function(){this.props.user.isEmpty()&&this.props.onChange(f.b.AWARD)}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.paymentDetails,a=e.paymentObject,r=e.onChange,i=w()(a,"paymentType",""),s=w()(n,"".concat(i,".awardTotal.amount"),0),o=t.getIn(["loyaltyDetails","balance"],0)-s;return c.a.createElement("div",{className:"dxp-award-payment-details-summary",id:"award-summary"},c.a.createElement(K.a,{tag:"h4",className:"name",iconName:x.a.CHECK,iconSize:"sm",iconFill:!0,title:Object(I.a)("awardBooking.creditAndAwards")}),c.a.createElement(z.a,{title:Object(I.i)("awardBooking.ffcurrency.name"),className:"column success applied-funds",price:Y(s)}),c.a.createElement(z.a,{title:"awardBooking.remainingBalance",price:Y(o),className:"column amount-remaining"}),c.a.createElement(U.a,{className:"primary small dxp-button",onClick:function(){return r(a.paymentType)},ref:this.awardButtonChangeButton,aria:{"aria-describedby":"award-summary"}},Object(I.a)("".concat(a.paymentType,".change"))))}}]),t}(l.Component),X=(n(3025),function(e){function t(){var e,n;g()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=k()(t)).call.apply(e,[this].concat(r))),h()(_()(n),"changeButton",c.a.createRef()),n}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.changeButton.current&&this.changeButton.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.paymentObject,n=e.onChange;return c.a.createElement("div",{className:"payment-summary-general ".concat(t.paymentType),id:"payment-summary"},c.a.createElement("div",{className:"title"},c.a.createElement(x.c,{name:x.a.CHECK,size:"sm",fill:!0}),c.a.createElement("small",{className:"payment-summary-message"},Object(I.a)("payment.paymentSelected",{paymentOption:Object(I.i)(Object(f.f)(t))}))),t.amount&&c.a.createElement("div",{className:"price-summary"},c.a.createElement(j.a,{price:t.amount})),c.a.createElement(U.a,{className:"primary small dxp-button",onClick:function(){return n(t.paymentType)},ref:this.changeButton,aria:{"aria-describedby":"payment-summary"}},Object(I.a)("payment.creditCard.summary.change")))}}]),t}(l.Component));h()(X,"defaultProps",{paymentObject:{}});n(3026);var J=function(e){return c.a.createElement(L,{paymentObject:e.paymentObject,onChange:e.onChange})},$=function(e){return c.a.createElement(q,{paymentObject:e.paymentObject,selectedHotel:e.selectedHotel,onChange:e.onChange})},Z=function(e){return c.a.createElement(W,{paymentObject:e.paymentObject,onChange:e.onChange})},ee=function(e){return c.a.createElement(G,{paymentObject:e.paymentObject,paymentDetails:e.paymentDetails,onChange:e.onChange,user:e.user})},te=function(e){return c.a.createElement(Q,{paymentDetails:e.paymentDetails,user:e.user,onChange:e.onChange,paymentObject:e.paymentObject})},ne=function(e){var t,n=e.paymentObject,a=e.paymentDetails,r=e.user,i=e.selectedHotel,s=e.onChange,o=n.paymentType,l=(t={},h()(t,f.b.GIFT_CARD,J),h()(t,f.b.CREDIT_CARD,$),h()(t,f.b.TRAVEL_BANK,ee),h()(t,f.b.AWARD,te),h()(t,f.b.CUPSP,Z),t);return c.a.createElement("div",{className:"payment-summary"},l[o]?l[o]({paymentObject:n,paymentDetails:a,onChange:s,user:r,selectedHotel:i}):function(e,t){return c.a.createElement(X,{paymentObject:e,onChange:t})}(n,s))};ne.defaultProps={user:Object(u.Map)(),selectedHotel:void 0},$.defaultProps={paymentObject:{},selectedHotel:void 0},Z.defaultProps={paymentObject:{}};var ae=ne,re=(n(3027),function(e){var t=e.children,n=e.paymentQuery,a=e.paymentDetails,i=e.user,o=e.selectedHotel,l=e.onCancel;return c.a.createElement(d.a,{className:"payment-form-container"},!s()(n)&&c.a.createElement("ul",{className:"payment-summaries"},r()(n,(function(e){return function(e,t,n,a,r){return c.a.createElement("li",{className:"payment-summary-item",key:e.paymentType},c.a.createElement(ae,{paymentObject:e,paymentDetails:t,user:n,selectedHotel:a,onChange:r}))}(e,a,i,o,l)}))),t)});re.defaultProps={paymentQuery:[],paymentDetails:{},children:void 0,user:Object(u.Map)(),selectedHotel:Object(u.Map)()};var ie=re;n.d(t,"a",(function(){return ie}))},,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(77),y=n.n(v),b=n(83),C=n.n(b),E=n(55),k=n.n(E),O=n(2),_=n.n(O),P=n(21),S=n.n(P),N=n(0),w=n.n(N),A=n(27),T=n.n(A),I=n(1),D=n.n(I),x=n(6),j=n(12),L=n(11),F=(n(194),n(1988)),B=n(2013),R=n(524),M=n(136),V=n(521),U=n(1349),q=n(1590),H=n(47),W=n(39),G=n.n(W),K=n(528);var z=function(e){var t=e.terms,n=e.checkboxEnabled,a=e.handleCheckboxChange,r=e.checkedTerms;return D.a.createElement("div",{className:"agreement-checkboxes"},t.map((function(e){return D.a.createElement("div",{className:"agreement-checkbox",key:e},D.a.createElement("div",{className:G()("dxp-cart-terms-checkbox",e)},D.a.createElement(K.a,{id:"terms-agree-".concat(e),label:e,checked:r[e],disabled:!n,onChange:function(t,n){return a(t,n,e)}})))})))},Y=(n(3028),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{termsChecked:!n.props.enableTermsOfConditionCheckbox}),g()(p()(n),"handleAdditionalAgreementCheckBoxChange",(function(e,t,a){n.handleCheckboxChange(t,a)})),g()(p()(n),"handleAgreementCheckBoxChange",(function(e,t){n.handleCheckboxChange(t,"termsChecked")})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!_()(e.paymentQuery)||y()(this.props.paymentQuery,e.paymentQuery)&&w()(e.paymentTypeToRender,"paymentType")===w()(this.props.paymentTypeToRender,"paymentType")||this.setState({termsChecked:!1})}},{key:"getContinueButtonLabel",value:function(){var e=this.props,t=e.isContinueButtonEnabled,n=e.navigation,a=e.paymentTypeToRender,r=a.paymentType===H.i.AFOP?a.afopCode:a.paymentType;return t&&r?"".concat(r,".continue"):n.onPurchaseTitle}},{key:"getIsAdditionalTermsSelected",value:function(){var e=this,t=this.props.additionalTermsAndConditions;return!t||t.every((function(t){return e.state[t]}))}},{key:"handleCheckboxChange",value:function(e,t){this.setState(g()({},t,e))}},{key:"showTaxRates",value:function(){var e=this.props.taxRates;if(!w()(e,"isEnabled",!1))return!1;var t=this.props.itineraryParts,n=e.airportWithTaxRates;return S()(n,w()(T()(t),"origin"))||S()(n,w()(T()(t),"destination"))}},{key:"renderTaxRates",value:function(){var e=this.props.taxRates,t=w()(e,"taxRateUrl.".concat(this.context.language));return t&&D.a.createElement("div",{className:"tax-rates-container"},D.a.createElement("iframe",{title:Object(j.i)("payment.taxRatesTitle"),id:"tax-rates",src:t}))}},{key:"render",value:function(){var e=this.props,t=e.additionalTermsAndConditions,n=e.navigation,a=e.onBagFeeLinkClick,r=e.onFareRulesClick,i=e.paymentType,s=e.purchaseAgreementLinks,o=e.rulesAndFeeData,l=e.showPaymentProcessingModal,c=e.showFareRulesInline,u=k()(C()(this.state))&&this.getIsAdditionalTermsSelected();return D.a.createElement("div",{className:"dxp-payment-complete"},D.a.createElement(R.a,{className:"complete-payment-panel",id:F.b},D.a.createElement("div",{className:"complete-payment-panel-header"},D.a.createElement("h3",null,Object(j.a)("payment.".concat(i,".complete"))),D.a.createElement("span",null,Object(j.a)("payment.".concat(i,".reviewDescription"))),Object(j.a)("payment.termsAndConditions")),this.showTaxRates()&&this.renderTaxRates(),c&&D.a.createElement(q.a,{renderWithinModal:!1}),D.a.createElement("div",{className:"toc-container clearfix"},D.a.createElement("div",{className:"agreement-checkbox"},this.props.enableTermsOfConditionCheckbox&&D.a.createElement(B.a,{checkboxEnabled:!0,onFareRulesClick:r,checkboxChecked:this.state.termsChecked,onBagFeeLinkClick:a,rulesAndFeeData:o,purchaseAgreementLinks:s,handleCheckboxChange:this.handleAgreementCheckBoxChange})),!_()(t)&&D.a.createElement(z,{terms:t,checkboxEnabled:!0,handleCheckboxChange:this.handleAdditionalAgreementCheckBoxChange,checkedTerms:this.state})),D.a.createElement("div",{className:"page-actions"},D.a.createElement(U.a,{modal:n.modal,continueTitle:Object(j.i)(this.getContinueButtonLabel()),onBack:n.onBackClick,showCancelButton:n.showCancelButton,acceptLink:n.acceptLink,disableContinueButton:!(this.props.isContinueButtonEnabled&&u),continueButtonIsLoading:n.isProcessing,onContinue:this.props.handlePurchase}))),l&&D.a.createElement(M.a,{className:"payment-processing",preventBackButtonDisplay:!0},D.a.createElement("h2",null,Object(j.a)("payment.paymentProcessing.title")),D.a.createElement("h3",null,Object(j.a)("payment.paymentProcessing.subTitle")),D.a.createElement("p",null,Object(j.a)("payment.paymentProcessing.description")),D.a.createElement(V.a,{className:"dark"})))}}]),t}(I.Component));g()(Y,"contextTypes",{language:x.string}),g()(Y,"defaultProps",{additionalTermsAndConditions:Object(L.List)(),itineraryParts:[],onFareRulesClick:x.noop,onBagFeeLinkClick:x.noop,navigation:{},paymentType:void 0,paymentTypeToRender:{},purchaseAgreementLinks:Object(L.List)(),rulesAndFeeData:{},showPaymentProcessingModal:!1,taxRates:{},isContinueButtonEnabled:!1,enableTermsOfConditionCheckbox:!1,showFareRulesInline:!1,paymentQuery:void 0}),n.d(t,"a",(function(){return Y}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(77),y=n.n(v),b=n(38),C=n.n(b),E=n(122),k=n.n(E),O=n(21),_=n.n(O),P=n(5),S=n.n(P),N=n(16),w=n.n(N),A=n(0),T=n.n(A),I=n(1),D=n.n(I),x=n(6),j=n(12),L=n(194),F=n.n(L),B=n(1986),R=n(2198),M=n(528),V=n(325),U=n(114),q=n(1441),H=n(530),W=n(1415),G=function(e){var t=e.title,n=e.info;return D.a.createElement(W.a,{type:H.d.INFO,title:t},Object(j.a)(n))},K=n(195),z=(n(2769),n(2770),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).form=e.form,n}return f()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!y()(e,this.props)||!y()(t,this.state)}},{key:"render",value:function(){var e=this.props,t=e.isFirst,n=e.isAuthorable,a=e.id,i=e.isCreateAccountEnabled,s=e.isCreateProfileEnabled,o=e.isRememberMeEnabled,l=Object(K.b)(n,"passengerForm"),c=t&&(i&&s||o);return D.a.createElement("div",r()({className:"passenger-form clearfix",refs:"paxEditPanel"},l,{id:"".concat(a,"-passenger-form")}),D.a.createElement(q.a,null),D.a.createElement("form",{className:"passenger-information","data-test-id":B.c},this.renderBasicInfoSection(),c&&this.renderCheckBoxes()))}},{key:"renderCheckBoxes",value:function(){return D.a.createElement("div",{className:"save-passenger-section-checkbox"},this.props.isCreateAccountEnabled&&this.props.isCreateProfileEnabled&&!this.props.isSignedIn&&this.renderCreateAccountCheckbox(),this.props.isRememberMeEnabled&&!this.props.isSignedIn&&this.renderRememberMeCheckbox())}},{key:"renderBasicInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.dateFormat,r=t.type,i=t.itineraryParts,s=t.defaultLocale,o=t.rememberedFirstNames,l=t.isUserLoggedIn,c=t.isFirst,u=t.validations,d=t.configuration,p=t.controlFieldsConfiguration,h=t.personNameSortOrder,f=t.serverValidationErrors,m=t.isPassengerInfoEditable,g=C()(d,["prefix","firstName","lastName","middleName","maidenName","suffix","dateOfBirth","gender"]);return D.a.createElement(R.a,{data:n,dateFormat:a,type:r,itineraryParts:i,defaultLocale:s,rememberedFirstNames:o,isLoggedIn:l,isFirst:c,basicInfoDisabled:!m,validations:u,updateFullName:this.props.updateFullName,prefixOptions:Object(U.j)("prefix",d),genderOptions:Object(U.j)("gender",d),suffixOptions:Object(U.j)("suffix",d),configuration:g,ref:function(t){e.form.editBasicInfo=t},onChange:function(t){return c&&e.handleFirstNameChange(t)},id:"".concat(this.props.id,"-basic-info"),form:this.form,controlFieldConfiguration:T()(p,"editBasicInfo"),personNameSortOrder:h,serverValidationErrors:f,isSecureFlight:this.props.isSecureFlight})}},{key:"handleFirstNameChange",value:function(e){var t=T()(e,"target.value"),n=this.props.id;_()(this.props.rememberedFirstNames,t)&&T()(this.props,"filterRememberedPassengersInLocalStorage",k.a)(n,t)}},{key:"renderCreateAccountCheckbox",value:function(){var e=this,t=!!this.props.data&&this.props.data.createAccount;return D.a.createElement("div",{className:"create-profile-checkbox"},D.a.createElement(M.a,{id:"create-profile-check-box",label:"passengers.showCreateProfile",checked:t,ref:function(t){e.createProfileCheckbox=t}}),D.a.createElement("p",{className:"create-profile-info"},Object(j.a)("passengers.createProfileInfo")))}},{key:"isPassengerInLocalStorage",value:function(){var e=this.props.data.firstName;return _()(this.props.rememberedFirstNames,e)}},{key:"renderRememberMeCheckbox",value:function(){var e=this,t=this.isPassengerInLocalStorage();return D.a.createElement("div",{className:"remember-me-checkbox"},D.a.createElement(G,{title:"passengers.disclaimer",info:"passengers.gdprDisclaimerText"}),D.a.createElement(M.a,{id:"remember-me-check-box",label:"passengers.showRememberMe",ref:function(t){e.rememberMeCheckbox=t},checked:t}))}},{key:"renderUpdateProfileCheckbox",value:function(){var e=this;return D.a.createElement("div",{className:"update-profile-checkbox"},D.a.createElement(M.a,{id:"update-profile-check-box",label:"passengers.updateMyProfile",checked:T()(this.props,"data.updateProfile",!1),ref:function(t){e.updateProfileCheckbox=t}}))}},{key:"getValue",value:function(){var e=this.props,t=e.isFirst,n=e.type,a=e.isUserLoggedIn,r=e.isCreateAccountEnabled,i=e.isCreateProfileEnabled;return w()({type:n},{tierLevel:T()(this,"props.data.tierLevel","")},t&&!a&&r&&i&&this.createProfileCheckbox&&{createAccount:this.createProfileCheckbox.isChecked()},t&&this.rememberMeCheckbox&&{rememberMe:this.rememberMeCheckbox.isChecked()},this.form.editBasicInfo.getValue())}},{key:"getCountries",value:function(){var e=T()(this.props,"provinces.countries");return S()(e,(function(e){var t="".concat("country",".").concat(e.code),n=Object(j.i)(t);return{value:e.code,label:n}}))}},{key:"isValid",value:function(){return this.form.editBasicInfo.isValid()}}]),t}(V.a));g()(z,"propTypes",{idToExpand:x.string,id:x.string,data:Object(x.shape)({}),configuration:Object(x.shape)({}),isFirst:x.bool,fullName:x.string,type:x.string,dateFormat:x.string,defaultLocale:x.string,isUserLoggedIn:x.bool,isSignedIn:x.bool,isCreateAccountEnabled:x.bool,rememberedFirstNames:Object(x.arrayOf)(x.string),multiFrequentFlyerData:Object(x.shape)({}),form:Object(x.shape)({}),savePassenger:x.func,provinces:Object(x.shape)({countries:Object(x.arrayOf)(Object(x.shape)({})).isRequired}).isRequired,clearSignInInfo:x.func,isAuthorable:x.bool,isCreateProfileEnabled:x.bool,itineraryParts:Object(x.arrayOf)(Object(x.shape)({})).isRequired,isUpdateProfileEnabled:x.bool,serverValidationErrors:F.a.map,updateFullName:x.func,isSecureFlight:x.bool}),g()(z,"defaultProps",{isAuthorable:!0,provinces:{},updateFullName:k.a,isSecureFlight:!1}),n.d(t,"a",(function(){return z}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(19),y=n.n(v),b=n(18),C=n.n(b),E=n(21),k=n.n(E),O=n(4),_=n.n(O),P=n(1),S=n.n(P),N=(n(6),n(12)),w=n(153),A=(n(1290),n(31)),T=n.n(A),I=n(122),D=n.n(I),x=n(38),j=n.n(x),L=n(0),F=n.n(L),B=n(321),R=n.n(B),M=n(50),V=n(88),U=n(2641),q=n(114),H=n(2364),W=n(2652),G=n(2653),K=n(2654),z=n(2642),Y=n(2074),Q=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),g()(T()(n),"sectionNameToMethodMappers",{travelDocumentInfo:function(){return n.renderTravelDocumentInfoSection()},frequentFlyerInfo:function(){return n.renderFrequentFlyerInfoSection()},contactInfo:function(){return n.renderContactInfoSection()},visaDocumentInfo:function(){return n.renderVisaDocumentInfoSection()},goodsAndServicesInfo:function(){return n.renderGoodsAndServicesInfoSection()},secureFlightInfo:function(){return n.renderSecureFlightInfoSection()},specialRequestsInfo:function(){return n.renderSpecialRequestsInfoSection()}}),n.state={isExpanded:e.isSectionExpanded},n}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isExpanded:e.isSectionExpanded})}},{key:"getValue",value:function(){return this.state.isExpanded?this["".concat(this.props.sectionName,"Section")].getValue():{}}},{key:"isValid",value:function(){var e=this.props.sectionName;if(this.state.isExpanded){var t={},n={};return t[e]=this.state.isExpanded,n[e]=this["".concat(e,"Section")],Object(w.c)(t,n)}return!0}},{key:"renderContactInfoSection",value:function(){var e=this,t=this.props,n=t.configuration,a=t.data,r=t.id,i=t.controlFieldsConfiguration.editContactInfo,s=void 0===i?{}:i,o=t.phoneCountryCodes,l=t.type,c=t.selectedValue,u=j()(n,["phone","email"]);return S.a.createElement(Y.a,{configuration:u,data:a,id:r,key:"contact-info",controlFieldConfiguration:s,ref:function(t){e.contactInfoSection=t},phoneCountryCodes:o,type:l,ssrSelectedValue:c})}},{key:"renderFrequentFlyerInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.validations,r=t.id,i=t.configuration,s=t.controlFieldsConfiguration,o=t.multiFrequentFlyerData,l=j()(i,["frequentFlyerProgram","frequentFlyerNumber","isMultiFrequentFlyerEnabled","frequentFlyerSectionEnabled"]);return S.a.createElement(U.a,{frequentFlyerProgram:Object(q.j)("frequentFlyerProgram",i),data:n,validations:a,id:r,passengerId:r,configuration:l,multiFrequentFlyerData:o,ref:function(t){e.frequentFlyerInfoSection=t},form:this.form,controlFieldConfiguration:F()(s,"editFrequentFlyerInfo"),onFrequentFlyerChange:this.props.onFrequentFlyerChange})}},{key:"renderGoodsAndServicesInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.validations,r=t.countries,i=t.id,s=t.provinces,o=t.configuration,l=o.goodsAndServicesDocuments,c=o.phone,u=o.isPassengerInfoEditable,d=void 0===u||u,p=t.controlFieldsConfiguration.editGSTDocument,h=void 0===p?{}:p,f=t.phoneCountryCodes;return S.a.createElement(K.a,{id:i,key:"gst-document",validations:a,provinces:s,generalSalesTaxData:n.generalSalesTaxData,isGstnAdded:n.isGstnAdded,countries:r,configuration:l,phoneTypes:Object(q.j)("phoneType",c),isPassengerInfoEditable:d,ref:function(t){e.goodsAndServicesInfoSection=t},controlFieldConfiguration:h,phoneCountryCodes:f})}},{key:"renderSecureFlightInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.validations,r=t.configuration,i=t.controlFieldsConfiguration,s=t.isPassengerInfoEditable;return S.a.createElement(G.a,{data:n,validations:a,configuration:r,ref:function(t){e.secureFlightInfoSection=t},id:this.props.id,key:"secure-flight-info",isPassengerInfoEditable:s,controlFieldConfiguration:F()(i,"editSecureFlightInfo")})}},{key:"renderSpecialRequestsInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.validations,r=t.id,i=t.configuration,s=t.controlFieldsConfiguration,o=t.updateControlFields;return S.a.createElement(z.a,{mealPreference:Object(q.j)("mealPreference",i),seatPreference:Object(q.j)("seatPreference",i),specialRequests:Object(q.j)("specialRequests",i),data:n,validations:a,configuration:i,ref:function(t){e.specialRequestsInfoSection=t},id:"passenger-".concat(r),key:"special-requests-info",controlFieldConfiguration:F()(s,"editRequestsRewards"),updateControlFields:o,onAdditionalInfoChange:function(t,n){return e.props.onAdditionalInfoChange(t,n)}})}},{key:"renderTravelDocumentInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.dateFormat,r=t.defaultLocale,i=t.configuration,s=t.controlFieldsConfiguration,o=t.countries,l=t.id,c=i.travelDocuments;return S.a.createElement(H.a,{travelDocumentType:Object(q.j)("documentType",i),defaultValue:F()(n,"documentInfo",{}),dateFormat:a,defaultLocale:r,configuration:c,countries:o,ref:function(t){e.travelDocumentInfoSection=t},id:l,key:"travel-document",controlFieldConfiguration:F()(s,"editTravelDocuments")})}},{key:"renderVisaDocumentInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.dateFormat,r=t.defaultLocale,i=t.configuration,s=t.controlFieldsConfiguration,o=t.countries,l=t.id,c=i.visaDocuments;return S.a.createElement(W.a,{defaultValue:F()(n,"visaInfo",{}),dateFormat:a,defaultLocale:r,configuration:c,ref:function(t){e.visaDocumentInfoSection=t},id:l,key:"visa-document",countries:o,controlFieldsConfiguration:s})}},{key:"render",value:function(){var e=this.props,t=e.sectionName,n=e.onRemoveSectionClick,a=e.onAddSectionClick,r=e.isEditable,i=this.state.isExpanded?"passengers.buttonNames.".concat(t,".remove"):"passengers.buttonNames.".concat(t,".add"),s=this.state.isExpanded?n:a;return S.a.createElement("li",{className:"passenger-additional-info-button-mobile"},S.a.createElement("div",{className:"section-button"},S.a.createElement(V.a,{className:"".concat(R()(t)," primary small round"),onClick:function(){return s(t)},disabled:!r},S.a.createElement(M.c,{name:this.state.isExpanded?M.a.MATH_SUBTRACT:M.a.MATH_ADD,srOnlyText:Object(N.i)(i),fill:!0})),S.a.createElement("span",{"aria-hidden":"true"},Object(N.i)(i))),this.state.isExpanded&&this.sectionNameToMethodMappers[t]())}}]),t}(P.Component);g()(Q,"defaultProps",{isSectionExpanded:!1,validations:{},controlFieldsConfiguration:{},isPassengerInfoEditable:!1,countries:[],provinces:{},data:{},multiFrequentFlyerData:{},isEditable:!0,onFrequentFlyerChange:D.a,dateFormat:void 0,defaultLocale:void 0,type:void 0,selectedValue:void 0,updateControlFields:void 0});n(2767);var X=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"getValue",value:function(){var e=this,t=this.props.configuration,n=_()(t.passengerFormSections,(function(e,t){return t.isEnabled&&!t.isRequired&&e.push("".concat(t.name,"Section")),e}),[]);return _()(n,(function(t,n){return C()(t,e[n].getValue()),t}),{})}},{key:"isValid",value:function(){var e=this,t=this.props.configuration,n=_()(t.passengerFormSections,(function(t,n){return n.isEnabled&&!n.isRequired&&(t.enabledSections[n.name]=!0,t.refsToEnabledSections[n.name]=e["".concat(n.name,"Section")]),t}),{enabledSections:{},refsToEnabledSections:{}});return Object(w.c)(n.enabledSections,n.refsToEnabledSections)}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.onAddSectionClick,i=t.onRemoveSectionClick,s=t.enabledFormSections,o=t.phoneCountryCodes,l=t.updateControlFields,c=y()(n.passengerFormSections,(function(e){return e.isEnabled&&!e.isRequired}));return S.a.createElement("div",{className:"additional-information-section"},c.length>0&&S.a.createElement("h3",{className:"passenger-info-panel-title additional-info-title"},Object(N.a)("passengers.sections.additionalInfo")),S.a.createElement("ul",{className:"passenger-additional-info-buttons-mobile"},_()(c,(function(t,n){return t.push(S.a.createElement(Q,r()({key:"passenger-additional-info-button-mobile-".concat(n.name),id:"passengerAdditionalInfoButtonMobile".concat(n.name),isEditable:n.isEditable,sectionName:n.name,isSectionExpanded:k()(s,n.name),onAddSectionClick:a,onRemoveSectionClick:i,enabledFormSections:s,ref:function(t){e["".concat(n.name,"Section")]=t}},e.props,{updateControlFields:l,phoneCountryCodes:o}))),t}),[])))}}]),t}(P.Component);g()(X,"defaultProps",{updateControlFields:void 0}),n.d(t,"a",(function(){return X}))},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=(n(6),n(1)),s=n.n(i),o=n(12),l=n(524),c=n(1249),u=n(39),d=n.n(u),p=function(e){var t=e.refundTarget,n=t.paymentCode,a=t.identifier,r=t.price,i=d()("".concat(n,"-card"),"credit-card-image");return s.a.createElement("div",{className:"refund-item"},a&&s.a.createElement("div",{className:"name"},s.a.createElement("h4",null,s.a.createElement("span",{className:i}),s.a.createElement("span",{className:"card-name"}," ",Object(o.a)("card.".concat(n))," ","(...".concat(a.slice(-4),")")," "),s.a.createElement("div",{className:"amount-refund"},s.a.createElement(c.a,{price:r})))))},h=function(e){var t=e.totalRefund,n=e.refundTargets;return s.a.createElement(l.a,{className:"payment-refund-panel"},s.a.createElement("div",{className:"header"},s.a.createElement("h3",null,Object(o.a)("payment.refundPaymentHeader"),t&&s.a.createElement(c.a,{price:t})),Object(o.a)("payment.refundPaymentDescription")),s.a.createElement("div",{className:"body"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r()(e,(function(e){return s.a.createElement(p,{key:"refund-".concat(e.paymentCode),refundTarget:e})}))}(n)))};n.d(t,"a",(function(){return h}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),C=n(39),E=n.n(C),k=n(524),O=n(0),_=n.n(O),P=n(50),S=n(129),N=n(153),w=n(1289),A=(n(2968),n(2969),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onApply",(function(){var e=n.isValid();return e&&n.props.processNumber(n.australianAccountNumber.getValue()),e})),n}return f()(t,e),s()(t,[{key:"isValid",value:function(){var e=this.props.configuration,t={ABNACNNumber:_()(e,"ABNACNNumber.isEnabled")};return Object(N.c)(t,{ABNACNNumber:this.australianAccountNumber})}},{key:"renderFieldText",value:function(){var e=this,t=this.props,n=t.configuration,a=t.number,r=_()(n,"ABNACNNumber.validators",[]);return y.a.createElement(S.a,{label:Object(w.a)("payment.ABNACN.form.label.number","passengers.optional",r),id:"abn-acn-number",isOptional:!1,defaultValue:a,ref:function(t){e.australianAccountNumber=t},className:"abn-acn-number",useLabelFeedback:!0,validators:r})}},{key:"render",value:function(){return y.a.createElement("div",{className:"dxp-abn-acn"},y.a.createElement("form",{className:"dxp-abn-acn-form"},y.a.createElement("div",{className:"top"},y.a.createElement("fieldset",{className:"dxp-abn-acn-fieldset dxp-fieldset"},y.a.createElement("legend",{className:"title"},Object(b.a)("payment.ABNACN.form.fieldset.title")),y.a.createElement("div",{className:"note"},y.a.createElement(P.c,{name:P.a.INFO_CIRCLE}),Object(b.a)("payment.ABNACN.form.fieldset.note")),this.renderFieldText())),y.a.createElement("div",{className:"bottom"},y.a.createElement("div",{className:"payment-abn-acn-disclaimer"},Object(b.a)("payment.ABNACN.form.disclaimer")))))}}]),t}(v.Component)),T=function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),g()(p()(a),"processNumber",(function(e){a.props.processABNACNNumber(e)})),g()(p()(a),"apply",(function(){return a.ABNACNFormRef.current.onApply()})),a.ABNACNFormRef=y.a.createRef(),a}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.configuration,n=e.ABNACNNumber,a=e.className,r=E()("header padding",a);return y.a.createElement(k.a,{className:"no-padding"},y.a.createElement("div",{className:r},y.a.createElement("h3",null,Object(b.a)("payment.ABNACN.title")),Object(b.a)("payment.ABNACN.description")),y.a.createElement("div",{className:"body"},y.a.createElement("div",{className:"dxp-payment ABN-ACN"},y.a.createElement(A,{configuration:t,processNumber:this.processNumber,number:n,ref:this.ABNACNFormRef}))))}}]),t}(v.Component);g()(T,"defaultProps",{className:""}),n.d(t,"a",(function(){return T}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(122),C=n.n(b),E=n(4),k=n.n(E),O=n(1),_=n.n(O),P=(n(6),n(12)),S=n(39),N=n.n(S),w=n(1988),A=n(524),T=n(154),I=n(63),D=n(1264),x=(n(2966),function(e){var t=e.onOk,n=e.onCancel;return _.a.createElement("div",{className:"payment-confirm-form-navigation-modal"},Object(P.a)("payment.confirmFormNavigation"),_.a.createElement("div",{className:"buttons-container"},_.a.createElement(D.a,{className:"btn btn-ok",onClick:t,isSecondaryButton:!0},Object(P.a)("app.ok")),_.a.createElement(D.a,{className:"btn btn-cancel",onClick:n},Object(P.a)("app.cancel"))))}),j=(n(2967),function(e,t){return Object(P.i)(Object(T.f)({paymentType:e,subCode:t}))}),L=function(e,t){return t?"".concat(e,".").concat(t):e},F=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{selectedOption:L(n.props.selectedPaymentType.paymentType,n.props.selectedPaymentType.subCode),focusedOption:void 0}),n}return f()(t,e),s()(t,[{key:"onChange",value:function(e,t,n){var a=this;if(this.props.hasEnteredData()){e&&e.preventDefault();this.props.renderModal("",_.a.createElement(x,{onOk:function(){a.props.onRenderCloseClick(),a.onSelect(t,n)},onCancel:this.props.onRenderCloseClick}))}else this.onSelect(t,n)}},{key:"onSelect",value:function(e,t){this.setState({selectedOption:e}),y()(this.props.configuration,"installmentPayment.isEnabled")&&this.props.clearInstallmentPlans(),this.props.onSelect(t)}},{key:"getLabel",value:function(e,t){var n=Object(T.d)(this.props.configuration,e,t),a=j(e,t);return _.a.createElement("div",{className:"option-label"},_.a.createElement("div",{className:"logo-container"},_.a.createElement("img",{className:"logo",src:Object(I.a)(n),alt:"".concat(Object(P.i)("app.image")," ").concat(a)})),_.a.createElement("div",{className:"payment-option-title"},a))}},{key:"setFocus",value:function(e){this.setState({focusedOption:e})}},{key:"focusOnSelectedInput",value:function(){var e=y()(this,"items.".concat(this.state.selectedOption));e&&e.focus()}},{key:"renderToggleItem",value:function(e){var t=this,n=e.paymentType,a=e.subCode,r=L(n,a),i="payment-types-toggle-id-".concat(r.replace(".","-")),s=this.state,o=s.focusedOption,l=s.selectedOption===r,c=N()("payment-types-toggle-option",{"is-focused":o===r,selected:l});return _.a.createElement("li",{className:c,key:r},_.a.createElement("label",{title:j(n,a),className:N()("payment-types-toggle-label",n,a),htmlFor:i},this.getLabel(n,a),_.a.createElement("input",{ref:function(e){t.items[r]=e},id:i,"data-test-id":Object(w.f)(n),type:"radio",className:"payment-types-toggle-option-input",name:"payment-types-toggle-group",value:n,onChange:function(n){return t.onChange(n,r,e)},onFocus:function(){return t.setFocus(r)},onBlur:function(){return t.setFocus()},checked:l})))}},{key:"render",value:function(){var e=this,t=this.props.paymentTypes;return this.items={},_.a.createElement(A.a,{className:"payment-types-toggle-options-container"},_.a.createElement("fieldset",{className:"payment-types-options-fieldset"},_.a.createElement("legend",{className:"sr-only","aria-hidden":"true"},Object(P.a)("payment.selectFormOfPayment")),_.a.createElement("ul",{className:"payment-types-toggle-options"},k()(t,(function(t,n){return t.push(e.renderToggleItem(n)),t}),[]))))}}],[{key:"getDerivedStateFromProps",value:function(e){return{selectedOption:L(e.selectedPaymentType.paymentType,e.selectedPaymentType.subCode)}}}]),t}(O.Component);g()(F,"defaultProps",{paymentTypes:[],onSelect:C.a,configuration:{},selectedPaymentType:{},updateCartWithAwardSwitch:C.a,clearInstallmentPlans:C.a,hasEnteredData:function(){return!1},renderModal:C.a,onRenderCloseClick:C.a});var B=F;n.d(t,"a",(function(){return B}))},,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(287),y=n.n(v),b=n(6),C=n(1),E=n.n(C),k=n(11),O=n(12),_=n(194),P=n(1415),S=n(195),N=n(78),w=n(325),A=n(27),T=n.n(A),I=n(5),D=n.n(I),x=n(2),j=n.n(x),L=n(19),F=n.n(L),B=n(0),R=n.n(B),M=(n(2771),n(2772),n(125)),V=function e(t){var n=t.type,a=t.fullName,r=t.data,i=t.configuration,s=t.isFirst,o=t.passengerTypeData,l=t.frequentFlyer;return E.a.createElement("div",{className:"dxp-passenger-avatar"},E.a.createElement("span",{className:"passenger-name-info"},E.a.createElement("span",{className:"passenger-name"},a),o&&E.a.createElement("span",{className:"passenger-type"},Object(O.a)(o.passengerLabel)),l.isEmpty()&&E.a.createElement("div",{className:"tier-details"},e.getFrequentFlyerNumber(i,s,n,r,l)),!l.isEmpty()&&E.a.createElement("div",{className:"tier-details"},e.getFrequentFlyerNumberFromForm(l,i,s,n))))};V.getFrequentFlyerNumberFromForm=function(e,t,n,a){return(n&&a===M.a.ADT&&R()(t,"displayFirstFrequentFlyerProgramOnCollapsed",!1)?Object(k.fromJS)([e.get("frequentFlyer").first()]):e.get("frequentFlyer")).map((function(e){var t=e.get("frequentFlyerProgram"),n=e.get("frequentFlyerNumber");return n&&E.a.createElement("span",{key:n},"".concat(t,": #").concat(n))}))},V.getFrequentFlyerNumber=function(e,t,n,a){var r=t&&n===M.a.ADT&&R()(e,"displayFirstFrequentFlyerProgramOnCollapsed",!1),i=R()(a,"singleFrequentFlyer")||R()(a,"frequentFlyer"),s=F()(i,(function(e){return!j()(e.membershipID||e.frequentFlyerNumber)})),o=r?T()(s):s;return D()(o,(function(e){var t=e.membershipID||e.frequentFlyerNumber,n=e.airline||e.frequentFlyerProgram,r=e.tierLevel||R()(a,"tierLevel")||e.membershipLevelTypeCode||"default";return E.a.createElement("span",{key:t},"".concat(Object(O.i)("passengers.tierLevel.".concat(r))," ").concat(n,": #").concat(t))}))},V.defaultProps={isFirst:!1,configuration:void 0,data:void 0,passengerTypeData:void 0};var U=V,q=(n(2773),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.configuration,a=e.isFirst,i=e.fullName,s=e.type,o=e.isUserLoggedIn,l=e.passengerTypeData,c=e.isAuthorable,u=Object(S.b)(c,"passengerSummary");return E.a.createElement("div",{className:"passenger-summary"},E.a.createElement("div",r()({className:"passenger-details"},u),E.a.createElement("div",{className:"passenger-list-item-avatar"},E.a.createElement(U,{frequentFlyer:this.props.frequentFlyer,isFirst:a,fullName:i,configuration:n,data:t,passengerTypeData:l,type:s}))),o&&this.renderSignedInUserSection())}},{key:"getFullName",value:function(){return Object(O.i)("passengers.fullName",{firstName:y()(this.props.data.firstName||""),middleName:y()(this.props.data.middleName||""),lastName:y()(this.props.data.lastName||""),prefix:y()(this.props.data.prefix||"")})}},{key:"renderSignedInUserSection",value:function(){var e=this,t=this.getFullName();return E.a.createElement("div",{className:"passenger-signed-in-section"},E.a.createElement("div",{className:"passenger-signed-in-section-content"},E.a.createElement(P.a,{type:"info"},Object(O.a)("passengers.signedInUserHelpInfo",{name:t}),E.a.createElement(N.a,{role:"link",tabIndex:"0",className:"clear-sign-in-info",onClick:function(t){return e.handleClearInfoClick(t)}},Object(O.a)("passengers.enterNewPassengerInfo")))))}},{key:"handleClearInfoClick",value:function(e){e.stopPropagation(),this.props.clearSignInInfo()}}]),t}(w.a));g()(q,"propTypes",{data:Object(b.shape)({}).isRequired,configuration:Object(b.shape)({}).isRequired,isFirst:b.bool,fullName:b.string.isRequired,type:b.string.isRequired,flow:b.string,dateFormat:b.string.isRequired,defaultLocale:b.string.isRequired,isUserLoggedIn:b.bool,isSignedIn:b.bool,clearSignInInfo:b.func.isRequired,isCollapsed:b.bool,isAuthorable:b.bool,frequentFlyer:_.map}),g()(q,"defaultProps",{isFirst:!1,isUserLoggedIn:!1,isSignedIn:!1,isCollapsed:!1,isAuthorable:!0,frequentFlyer:Object(k.Map)()}),n.d(t,"a",(function(){return q}))},function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(5),s=n.n(i),o=(n(6),n(1)),l=n.n(o),c=n(12),u=n(88),d=(n(3020),function(e){var t=e.onCancel,n=e.onAccept,a=e.productTypes;return l.a.createElement("div",{key:"cancel",className:"remove-product-confirmation-modal"},l.a.createElement("h2",{className:"modal-header"},Object(c.a)("payment.removeProduct.title")),function(e){return l.a.createElement("div",{className:"modal-description"},l.a.createElement("ul",{className:"product-types-list"},s()(e,(function(e){return l.a.createElement("li",{key:e,className:"product-type"},Object(c.a)("payment.removeProduct.".concat(r()(e))))}))))}(a),l.a.createElement("div",{className:"buttons-container"},l.a.createElement(u.a,{className:"secondary small",onClick:function(){return t()}},Object(c.a)("payment.removeProduct.cancel")),l.a.createElement(u.a,{className:"primary small",onClick:function(){return n()}},Object(c.a)("payment.removeProduct.accept"))))});n.d(t,"a",(function(){return d}))},,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(34),y=n.n(v),b=n(122),C=n.n(b),E=n(2),k=n.n(E),O=n(27),_=n.n(O),P=n(16),S=n.n(P),N=n(56),w=n.n(N),A=n(0),T=n.n(A),I=n(1),D=n.n(I),x=(n(6),n(158)),j=n.n(x),L=n(12),F=n(50),B=n(157),R=n(521),M=n(524),V=n(2356),U=n(2352),q=n(2341),H=(n(2948),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{selectedAncillaryCode:n.getSelectedAncillaryCode(),openSelectedAncillary:!1}),g()(p()(n),"renderInsurance",(function(e,t){return D.a.createElement(V.a,{ancillariesConfiguration:t,ancillary:e,onAncillarySelected:function(){return n.onAncillarySelected()},onAncillaryAddToCart:function(){return n.onSummaryClick()},selectedAncillaryCode:n.state.selectedAncillaryCode,onAncillaryClose:function(){return n.setSelectedAncillary(void 0)},updateTotalForInsurance:function(e,t,a){return n.props.updateTotalForInsurance(t,a)}})})),g()(p()(n),"renderRefreshWarning",(function(){return D.a.createElement("div",{className:"refresh-warning"},D.a.createElement(F.c,{name:F.a.ALERT_TRIANGLE,className:"icon",size:"md",fill:!0}),D.a.createElement("span",{className:"warning-text"},Object(L.a)("payment.insuranceRefreshWarning")))})),g()(p()(n),"renderSelectedAncillary",(function(e,t){return D.a.createElement(U.a,{isMobile:j.a.mobile,ancillariesConfiguration:t,ancillaryCode:e.code,ancillaries:g()({},e.code,e),onAncillaryClose:function(){return n.setState({openSelectedAncillary:!1})},onAncillaryAddToCart:function(){return n.onSummaryClick()},onAncillaryChange:C.a,updateTotalForInsurance:function(e,t,a){return n.props.updateTotalForInsurance(t,a)}})})),g()(p()(n),"selectSingleInsurance",(function(){var e=n.props,t=e.insurance,a=e.updateInsurance,r=T()(_()(t.products),"insurance.productID");return a&&a(S()(t,{productID:r}),!t.isAddedToCart)})),n}return f()(t,e),s()(t,[{key:"onAncillarySelected",value:function(){var e=this.props.insurance;return w()(e.products)>1?this.props.configuration.showSelectedFeaturedAncillaryInModal?this.onSummaryClick():this.setSelectedAncillary(e.code):this.onSummaryClick()}},{key:"onSummaryClick",value:function(){var e=this.props,t=e.insurance,n=e.updateInsurance,a=e.configuration,r=1===w()(t.products);return this.setSelectedAncillary(void 0),this.setState({openSelectedAncillary:!1}),r?this.selectSingleInsurance():a.showSelectedFeaturedAncillaryInModal&&!this.state.openSelectedAncillary?this.setState({openSelectedAncillary:!0}):n&&n(t,t.isSelected)}},{key:"getConfiguration",value:function(){var e=this.props,t=e.insurance.code,n=e.configuration,a=y()(n),r=T()(a,"featuredOfferingCodes",{});return r[B.b.INSURANCE]={expanded:T()(a,"featuredOfferingCodes.".concat(t,".expanded"),!1)},S()({},a,{featuredOfferingCodes:r})}},{key:"getSelectedAncillaryCode",value:function(){var e=this.props.configuration,t=T()(e,"insurance.code");return T()(e,"featuredOfferingCodes.".concat(t,".expanded"),!1)?t:void 0}},{key:"setSelectedAncillary",value:function(e){this.setState({selectedAncillaryCode:e})}},{key:"render",value:function(){var e=this.props,t=e.insurance,n=e.isFetching,a=e.paymentQuery,r=w()(t.products),i=!n&&r>0;if(!i)return null;var s=this.getConfiguration();return t.market?D.a.createElement(q.a,{ancillary:t,onAncillarySelected:this.selectSingleInsurance,updateTotalForInsurance:this.props.updateTotalForInsurance,insuranceSelectionRequired:this.props.insuranceSelectionRequired,setInsuranceSelectionRequired:this.props.setInsuranceSelectionRequired}):D.a.createElement(M.a,{className:"payment-insurance-container"},n&&D.a.createElement(R.a,null),this.state.openSelectedAncillary&&this.renderSelectedAncillary(t,s),i&&!k()(a)&&this.renderRefreshWarning(),i&&this.renderInsurance(t,s))}}]),t}(I.Component));g()(H,"defaultProps",{insurance:{},configuration:{},isFetching:!1,paymentQuery:[],insuranceSelectionRequired:!1,setInsuranceSelectionRequired:C.a});var W=H;n.d(t,"a",(function(){return W}))},,function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(12),s=n(524),o=n(521),l=n(2478),c=(n(3032),function(e){var t=e.items,n=e.isLoading;return r.a.createElement(s.a,{className:"payment-non-refund-panel"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,Object(i.a)("payment.nonRefundPaymentHeader")),Object(i.a)("payment.nonRefundPaymentDescription")),r.a.createElement("div",{className:"body"},n&&r.a.createElement(o.a,{className:"dxp-spinner dark"}),!n&&r.a.createElement(l.a,{items:t})))});n.d(t,"a",(function(){return c}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(19),g=n.n(m),v=n(21),y=n.n(v),b=n(321),C=n.n(b),E=n(4),k=n.n(E),O=n(1),_=n.n(O),P=(n(6),n(12)),S=n(50),N=n(88),w=(n(2758),n(2759),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"renderButton",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,a=n.enabledFormSections,i=n.onRemoveSectionClick,s=n.onAddSectionClick,o=y()(a,e),l=o?S.a.MATH_SUBTRACT:S.a.MATH_ADD,c="passengers.buttonNames.".concat(e,o?".remove":".add"),u=o?i:s,d={"aria-expanded":o};return _.a.createElement("li",{className:"passenger-additional-info-button",key:C()(e)},_.a.createElement(N.a,r()({className:"".concat(C()(e)," primary small round"),onClick:function(){return u(e)},disabled:!t},d),_.a.createElement(S.c,{name:l,srOnlyText:Object(P.i)(c),fill:!0})),_.a.createElement("span",{"aria-hidden":"true"},Object(P.i)(c)))}},{key:"render",value:function(){var e=this,t=this.props.configuration,n=g()(t,(function(e){return e.isEnabled&&!e.isRequired}));return _.a.createElement("div",{className:"additional-information-section"},n.length>0&&_.a.createElement("h3",{className:"passenger-info-panel-title additional-info-title"},Object(P.a)("passengers.sections.additionalInfo")),_.a.createElement("ul",{className:"passenger-additional-info-buttons"},k()(n,(function(t,n){return t.push(e.renderButton(n.name,n.isEditable)),t}),[])))}}]),t}(O.Component));n.d(t,"a",(function(){return w}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(77),y=n.n(v),b=n(38),C=n.n(b),E=n(18),k=n.n(E),O=n(4),_=n.n(O),P=n(0),S=n.n(P),N=n(5),w=n.n(N),A=n(1),T=n.n(A),I=n(6),D=n(39),x=n.n(D),j=n(11),L=(n(194),n(153)),F=n(114),B=n(2364),R=n(2652),M=n(2653),V=n(2654),U=n(2642),q=n(2074),H=n(2641),W=n(524),G=(n(1290),n(2768),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"sectionNameToMethodMappers",{travelDocumentInfo:function(){return n.renderTravelDocumentInfoSection()},frequentFlyerInfo:function(){return n.renderFrequentFlyerInfoSection()},contactInfo:function(){return n.renderContactInfoSection()},visaDocumentInfo:function(){return n.renderVisaDocumentInfoSection()},goodsAndServicesInfo:function(){return n.renderGoodsAndServicesInfoSection()},secureFlightInfo:function(){return n.renderSecureFlightInfoSection()},specialRequestsInfo:function(){return n.renderSpecialRequestsInfoSection()}}),n}return f()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return!y()(e,this.props)}},{key:"getValue",value:function(){var e=this.props,t=e.enabledFormSections,n=e.form;return _()(t,(function(e,t){return k()(e,n["".concat(t,"Section")].getValue()),e}),{})}},{key:"isValid",value:function(){var e=this.props,t=e.enabledFormSections,n=e.form,a=_()(t,(function(e,t){return e.enabledSections[t]=!0,e.refsToEnabledSections[t]=n["".concat(t,"Section")],e}),{enabledSections:{},refsToEnabledSections:{}});return Object(L.c)(a.enabledSections,a.refsToEnabledSections)}},{key:"renderContactInfoSection",value:function(){var e=this.props,t=e.configuration,n=e.data,a=e.id,r=e.controlFieldsConfiguration.editContactInfo,i=void 0===r?{}:r,s=e.serverValidationErrors,o=e.phoneCountryCodes,l=e.form,c=C()(t,["phone","email"]);return T.a.createElement(q.a,{configuration:c,data:n,id:a,phoneCountryCodes:o,key:"contact-info",controlFieldConfiguration:i,serverValidationErrors:s,ref:function(e){l.contactInfoSection=e}})}},{key:"renderFrequentFlyerInfoSection",value:function(){var e=this.props,t=e.data,n=e.validations,a=e.id,r=e.configuration,i=e.controlFieldsConfiguration,s=e.multiFrequentFlyerData,o=e.serverValidationErrors,l=e.phoneCountryCodes,c=e.form,u=C()(r,["frequentFlyerProgram","frequentFlyerNumber","isMultiFrequentFlyerEnabled","frequentFlyerSectionEnabled"]);return T.a.createElement(H.a,{frequentFlyerProgram:Object(F.j)("frequentFlyerProgram",r),data:t,validations:n,id:a,key:"frequent-flyer",configuration:u,multiFrequentFlyerData:s,ref:function(e){c.frequentFlyerInfoSection=e},controlFieldConfiguration:S()(i,"editFrequentFlyerInfo"),serverValidationErrors:o,onFrequentFlyerChange:this.props.onFrequentFlyerChange,passengerId:this.props.passengerId,phoneCountryCodes:l})}},{key:"renderGoodsAndServicesInfoSection",value:function(){var e=this.props,t=e.data,n=e.validations,a=e.countries,r=e.id,i=e.provinces,s=e.configuration,o=s.goodsAndServicesDocuments,l=s.phone,c=e.controlFieldsConfiguration.editGSTDocument,u=void 0===c?{}:c,d=e.serverValidationErrors,p=e.phoneCountryCodes,h=e.form;return T.a.createElement(V.a,{id:r,key:"gst-document",validations:n,provinces:i,generalSalesTaxData:t.generalSalesTaxData,isGstnAdded:t.isGstnAdded,countries:a,configuration:o,phoneTypes:Object(F.j)("phoneType",l),ref:function(e){h.goodsAndServicesInfoSection=e},controlFieldConfiguration:u,serverValidationErrors:d,phoneCountryCodes:p})}},{key:"renderSecureFlightInfoSection",value:function(){var e=this.props,t=e.data,n=e.validations,a=e.configuration,r=e.controlFieldsConfiguration,i=e.serverValidationErrors,s=e.form;return T.a.createElement(M.a,{data:t,validations:n,configuration:a,ref:function(e){s.secureFlightInfoSection=e},id:this.props.id,key:"secure-flight-info",controlFieldConfiguration:S()(r,"editSecureFlightInfo"),serverValidationErrors:i})}},{key:"renderSpecialRequestsInfoSection",value:function(){var e=this,t=this.props,n=t.data,a=t.validations,r=t.id,i=t.configuration,s=t.controlFieldsConfiguration,o=t.serverValidationErrors,l=t.updateControlFields,c=t.form;return T.a.createElement(U.a,{mealPreference:Object(F.j)("mealPreference",i),seatPreference:Object(F.j)("seatPreference",i),specialRequests:Object(F.j)("specialRequests",i),data:n,validations:a,configuration:i,ref:function(e){c.specialRequestsInfoSection=e},id:r,key:"special-requests-info",controlFieldConfiguration:S()(s,"editRequestsRewards"),serverValidationErrors:o,updateControlFields:l,onAdditionalInfoChange:function(t,n){return e.props.onAdditionalInfoChange(t,n)}})}},{key:"renderTravelDocumentInfoSection",value:function(){var e=this.props,t=e.data,n=e.dateFormat,a=e.defaultLocale,r=e.configuration,i=e.controlFieldsConfiguration,s=e.countries,o=e.id,l=e.serverValidationErrors,c=e.form,u=r.travelDocuments;return T.a.createElement(B.a,{travelDocumentType:Object(F.j)("documentType",r),defaultValue:S()(t,"documentInfo",{}),dateFormat:n,defaultLocale:a,configuration:u,countries:s,ref:function(e){c.travelDocumentInfoSection=e},id:o,key:"travel-document",controlFieldConfiguration:S()(i,"editTravelDocuments"),serverValidationErrors:l})}},{key:"renderVisaDocumentInfoSection",value:function(){var e=this.props,t=e.data,n=e.dateFormat,a=e.defaultLocale,r=e.configuration,i=e.controlFieldsConfiguration,s=e.countries,o=e.id,l=e.serverValidationErrors,c=e.form,u=r.visaDocuments;return T.a.createElement(R.a,{defaultValue:S()(t,"visaInfo",{}),dateFormat:n,defaultLocale:a,configuration:u,ref:function(e){c.visaDocumentInfoSection=e},id:o,key:"visa-document",countries:s,controlFieldsConfiguration:i,serverValidationErrors:l})}},{key:"render",value:function(){var e=this,t=this.props,n=t.enabledFormSections,a=t.className;return T.a.createElement(W.a,{className:x()("no-padding additional-info-panel",{hidden:0===n.length},a)},w()(n,(function(t){return e.sectionNameToMethodMappers[t]()})))}}]),t}(A.Component));g()(G,"defaultProps",{validations:{},configuration:{},controlFieldsConfiguration:{},countries:[],provinces:{},data:{},className:"",multiFrequentFlyerData:{},serverValidationErrors:Object(j.Map)(),updateControlFields:void 0,onAdditionalInfoChange:I.func}),n.d(t,"a",(function(){return G}))},function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(12),s=n(88),o=function(e){var t=e.onCancelClick,n=e.onOkClick;return r.a.createElement("div",{className:"cc-cancel-modal"},r.a.createElement("h2",{className:"modal-header"},Object(i.a)("payment.creditCard.modal.cancel.title")),r.a.createElement("p",null,Object(i.a)("payment.creditCard.modal.cancel.description")),r.a.createElement("div",{className:"pull-right"},r.a.createElement(s.a,{className:"secondary small",onClick:function(){return t()}},Object(i.a)("app.cancel")),r.a.createElement(s.a,{className:"primary small",onClick:function(){return n()}},Object(i.a)("app.yes"))))};n.d(t,"a",(function(){return o}))},,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(82),y=n.n(v),b=n(1),C=n.n(b),E=n(123),k=n(6),O=(n(194),n(12)),_=n(11),P=n(66),S=n(1249),N=n(2359),w=(n(2838),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"renderBoldRow",value:function(){return C.a.createElement("div",{className:"bold-row"},C.a.createElement("strong",{className:"name"},this.props.name),C.a.createElement("strong",{className:"price"},C.a.createElement(S.a,{price:this.props.minimumAveragePrice,includeDecimal:!0})))}},{key:"render",value:function(){return C.a.createElement("div",{className:"header-content"},this.renderBoldRow(),C.a.createElement("div",{className:"small-row"},this.props.district&&C.a.createElement("div",{className:"localization"},this.props.district,", ",this.props.city),!this.props.district&&C.a.createElement("div",{className:"localization"},this.props.city),C.a.createElement("div",{className:"per-night"},Object(O.i)("app.perNight"))),C.a.createElement(N.a,{starsValue:this.props.starLevel}))}}]),t}(b.Component));g()(w,"defaultProps",{district:void 0});n(2839);var A=function(e){var t=e.amenities;return C.a.createElement("div",{className:"hotel-amenities"},C.a.createElement("div",{className:"header"},Object(O.i)("hotel.hotelDetails.amenities")),C.a.createElement("div",{className:"matrix"},C.a.createElement("ul",null,t.map((function(e){return C.a.createElement("li",{key:e},C.a.createElement("span",{className:"amenity"},e))})))))},T=n(17),I=n.n(T),D=function(e){var t=e.time,n=e.format;return C.a.createElement("div",{className:"check-in"},Object(O.a)("hotel.hotelDetails.checkInTime",{checkInTime:I()(t.toString(),"HH").format(n)}))};D.defaultProps={format:"hh:mm A"};var x=D,j=function(e){var t=e.time,n=e.format;return C.a.createElement("div",{className:"check-out"},Object(O.a)("hotel.hotelDetails.checkOutTime",{checkOutTime:I()(t.toString(),"HH").format(n)}))};j.defaultProps={format:"hh:mm A"};var L=j,F=(n(2840),function(e){return C.a.createElement("div",{className:"hotel-details-panel","data-test-id":"hotel-info"},C.a.createElement(w,{city:e.city,district:e.district,starLevel:e.starLevel,name:e.name,minimumAveragePrice:e.minimumAveragePrice}),C.a.createElement("div",{className:"description"},e.shortDescription),C.a.createElement(x,{time:e.checkInTime}),C.a.createElement(L,{time:e.checkOutTime}),C.a.createElement(A,{amenities:e.amenities}))});F.defaultProps={district:void 0};var B=F,R=n(34),M=n.n(R),V=n(50),U="AtProperty",q="Addition";n(2841);var H=function(e){var t=function(e,t){return e.get("rooms").flatMap((function(e){return e.get("supplements")})).filter((function(e){return e.get("chargeType")===t})).map((function(e){return e.get("name")})).toSet()}(e.hotelRoomType,e.supplementType);return C.a.createElement("div",{className:"hotel-supplements"},!t.isEmpty()&&C.a.createElement("div",{className:"matrix"},C.a.createElement("ul",null,t.map((function(e){return C.a.createElement("li",{key:e},C.a.createElement("span",{className:"supplement"},e))})))))},W=n(244),G=(n(2842),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{nightsBreakdown:{},showAdditionalFeesBreakdown:!1,showCheckInFeesBreakdown:!1}),n}return f()(t,e),s()(t,[{key:"changeAdditionalFeesBreakdown",value:function(){this.setState((function(e){return{showAdditionalFeesBreakdown:!e.showAdditionalFeesBreakdown}}))}},{key:"changeCheckInFeesBreakdown",value:function(){this.setState((function(e){return{showCheckInFeesBreakdown:!e.showCheckInFeesBreakdown}}))}},{key:"expandNights",value:function(e){this.setState((function(t){var n=t.nightsBreakdown,a=M()(n);return a[e]=!a[e],{nightsBreakdown:a}}))}},{key:"renderAdditionalFees",value:function(e){var t=this;return C.a.createElement("button",{type:"button",className:"additional-fees",tabIndex:"0",onClick:function(){return t.changeAdditionalFeesBreakdown()},onKeyPress:function(e){return W.a.is(W.a.code.special.enter,e.which)&&t.changeAdditionalFeesBreakdown()}},Object(O.a)("hotel.hotelDetails.additionalFees"),C.a.createElement("div",{className:"total"},C.a.createElement(S.a,{price:e,includeDecimal:!0}),this.state.showAdditionalFeesBreakdown?C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_UP,fill:!0}):C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_DOWN,fill:!0})))}},{key:"renderCheckInFees",value:function(e){var t=this;return C.a.createElement("button",{type:"button",className:"checkIn-fees",tabIndex:"0",onClick:function(){return t.changeCheckInFeesBreakdown()},onKeyPress:function(e){return W.a.is(W.a.code.special.enter,e.which)&&t.changeCheckInFeesBreakdown()}},C.a.createElement("span",{className:"label"},Object(O.a)("hotel.hotelDetails.checkInFees")),C.a.createElement("div",{className:"total"},C.a.createElement(S.a,{price:e,includeDecimal:!0}),this.state.showCheckInFeesBreakdown?C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_UP,fill:!0}):C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_DOWN,fill:!0})))}},{key:"renderNightPrice",value:function(e){return C.a.createElement("div",{className:"nights-breakdown",key:e.get("day")},C.a.createElement("div",{className:"night-number"},C.a.createElement("span",{className:"label"},Object(O.i)("hotel.hotelDetails.roomPrice")," ",I()(this.props.checkinDate).add(e.get("day"),"days").format(this.props.priceRangeFormat))),C.a.createElement("div",{className:"night-price"},C.a.createElement(S.a,{price:e.get("price"),showDecimal:!0})))}},{key:"renderSelectedRoom",value:function(e,t){var n=this;return C.a.createElement("div",{key:t,className:"selected-room"},C.a.createElement("div",{className:"room-information"},C.a.createElement("button",{type:"button",className:"room-row",tabIndex:"0",onClick:function(){return n.expandNights(t)},onKeyPress:function(e){return W.a.is(W.a.code.special.enter,e.which)&&n.expandNights(t)}},C.a.createElement("div",{className:"room-number"},Object(O.a)("hotel.hotelDetails.roomLabel",{number:t+1})),C.a.createElement("div",{className:"room-total"},C.a.createElement(S.a,{price:e.get("total"),includeDecimal:!0}),this.state.nightsBreakdown[t]?C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_UP,fill:!0}):C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_DOWN,fill:!0}))),this.state.nightsBreakdown[t]&&e.get("pricePerNight").map((function(e){return n.renderNightPrice(e)}))))}},{key:"render",value:function(){var e=this,n=this.props.hotelRoomType.get(this.props.selectedRoomIndex),a=n.get("totalAmount"),r=n.get("grandTotal"),i=n.get("supplementalPrice"),s=0!==i.get("totalAdditionAmount").get("amount")?i.get("totalAdditionAmount"):void 0,o=0!==i.get("totalAtPropertyAmount").get("amount")?i.get("totalAtPropertyAmount"):void 0;return C.a.createElement("div",{className:"rate-breakdown"},C.a.createElement("h3",{className:"title"},Object(O.a)("hotel.hotelDetails.breakdownLabel")),C.a.createElement("ul",{className:"description"},C.a.createElement("li",null,Object(O.a)("hotel.hotelDetails.breakdownDescription")),C.a.createElement("li",null,Object(O.a)("hotel.hotelDetails.moreInfoMessage.head"),C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_DOWN,fill:!0}),Object(O.a)("hotel.hotelDetails.moreInfoMessage.tail"))),C.a.createElement("div",{className:"rooms-breakdowns"},n.get("rooms").map((function(t,n){return e.renderSelectedRoom(t,n)}))),s&&this.renderAdditionalFees(s),this.state.showAdditionalFeesBreakdown&&t.renderAdditionalFeesBreakdown(n),o&&C.a.createElement("div",{className:"total-amount"},Object(O.a)("hotel.hotelDetails.totalAmount"),C.a.createElement(S.a,{price:a,includeDecimal:!0})),o&&this.renderCheckInFees(o),this.state.showCheckInFeesBreakdown&&t.renderCheckInFeesBreakdown(n),C.a.createElement("div",{className:"grand-total"},Object(O.a)("hotel.hotelDetails.grandTotal"),C.a.createElement(S.a,{price:r,includeDecimal:!0})))}}],[{key:"renderAdditionalFeesBreakdown",value:function(e){return C.a.createElement("div",{className:"additional-fees-breakdown"},C.a.createElement("div",{className:"label"},Object(O.i)("hotel.hotelDetails.additionalFeesDescription")),C.a.createElement(H,{hotelRoomType:e,supplementType:q}))}},{key:"renderCheckInFeesBreakdown",value:function(e){return C.a.createElement("div",{className:"checkIn-fees-breakdown"},C.a.createElement("div",{className:"label"},Object(O.i)("hotel.hotelDetails.checkInFeesBreakdown")),C.a.createElement(H,{hotelRoomType:e,supplementType:U}))}}]),t}(b.Component));g()(G,"defaultProps",{priceRangeFormat:"MMMM Do"});var K=n(122),z=n.n(K),Y=n(0),Q=n.n(Y),X=n(39),J=n.n(X),$=n(1608),Z=n(88),ee=n(528),te=n(78),ne=n(524),ae=n(24),re=n(14),ie=(n(2843),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isChecked:n.props.checked}),g()(p()(n),"backToHotelsSearchPage",(function(){n.props.removeSelectedRoomType();var e=Q()(n.props.location,"query");n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(ae.a.HOTEL,"/").concat(re.a.HOTELS_SEARCH),e)})),g()(p()(n),"continueToAncillariesPage",(function(){n.props.removeSelectedRoomType();var e=Q()(n.props.location,"query");n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/ancillaries",e)})),n}return f()(t,e),s()(t,[{key:"renderAgreements",value:function(){return C.a.createElement(te.a,{key:"agreements",className:"agreements",target:"_blank",isExternalLink:!0,disabled:!1,href:this.props.hotelsConfiguration.agreementsUrl},Object(O.a)("hotel.hotelDetails.navigationPanel.agreementsLabel"))}},{key:"renderFareRules",value:function(){return C.a.createElement(te.a,{key:"fare-rules",className:"fare-rules",target:"_blank",disabled:!1,isExternalLink:!0,rel:"external",href:this.props.hotelsConfiguration.fareRulesUrl},Object(O.a)("hotel.hotelDetails.navigationPanel.fareRulesLabel"))}},{key:"render",value:function(){var e=this,t=this.renderFareRules(),n=this.renderAgreements(),a=this.props.cancelMode?"disabled":"",r=J()("hotel-navigation-panel",this.props.showTermsAndConditions?"":"checkbox-hidden");return C.a.createElement(ne.a,{className:r},this.props.showTermsAndConditions&&C.a.createElement("div",{className:"terms-container"},C.a.createElement("div",{className:"terms"},C.a.createElement(ee.a,{id:"dxp-hotel-details-agreements",className:a,checked:this.state.isChecked,disabled:this.props.cancelMode,onChange:function(t,n){return e.setState({isChecked:n})},translatedLabel:this.context.translateWithComponents("hotel.hotelDetails.navigationPanel.agreement",{fareRules:t,agreements:n},"span")}))),C.a.createElement("div",{className:"buttons-container"},C.a.createElement("div",{className:"buttons"},C.a.createElement(Z.a,{id:$.c,className:"back-to-search secondary medium",onClick:this.backToHotelsSearchPage},C.a.createElement(V.c,{name:V.a.ARROW_BASIC_LEFT,srOnlyText:Object(O.i)("hotel.hotelDetails.backToSearch")})),C.a.createElement(Z.a,{id:"dxp-page-navigation-cancel-transaction",className:"cancel-button secondary medium",onClick:this.continueToAncillariesPage},Object(O.a)("hotel.hotelDetails.navigationPanel.cancel")),C.a.createElement(Z.a,{id:$.b,className:"add-to-cart primary medium",disabled:this.props.cancelMode||!this.state.isChecked,onClick:function(){return e.props.addHotelToCart().then(e.continueToAncillariesPage)}},Object(O.a)("hotel.hotelDetails.navigationPanel.add")))))}}]),t}(b.Component));g()(ie,"contextTypes",{translateWithComponents:k.func.isRequired}),g()(ie,"defaultProps",{cancelMode:!1,addHotelToCart:z.a,location:void 0,checked:!1,showTermsAndConditions:!0});var se=n(153),oe=n(1289),le=n(136),ce=n(1290),ue=n(529),de=n(129),pe=n(2069),he=(n(2844),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"saveGuest",(function(){if(!n.checkFormInvalid()){var e={firstName:n.firstName.getValue(),lastName:n.lastName.getValue(),prefix:n.prefix&&n.prefix.getValue(),middleName:n.middleName.getValue(),suffix:n.suffix&&n.suffix.getValue(),mobilePhone:n.mobilePhone.getValue(),email:n.email&&n.email.getValue()};n.props.addGuestDetails(e,n.props.roomNumber),n.props.onModalClose()}})),n}return f()(t,e),s()(t,[{key:"checkFormInvalid",value:function(){return!Object(se.c)({firstName:!0,lastName:!0,mobilePhone:!0,email:Boolean(this.email)},{firstName:this.firstName,lastName:this.lastName,mobilePhone:this.mobilePhone,email:this.email})}},{key:"render",value:function(){var e=this,t=this.props.hotelsConfiguration.guestForm;return C.a.createElement(le.a,{className:"guest-details-modal",onCloseClick:function(){return e.props.onModalClose()}},!this.props.guest.isEmpty()&&C.a.createElement("h4",null,Object(O.a)("hotel.hotelDetails.editGuestDetails")),this.props.guest.isEmpty()&&C.a.createElement("h4",null,Object(O.a)("hotel.hotelDetails.addGuestDetails")),C.a.createElement("div",{className:"basic-info"},C.a.createElement("div",{className:"title"},Object(O.i)("hotel.hotelDetails.basicInfo")),C.a.createElement("div",{className:"form-content"},this.props.hotelsConfiguration.guestForm.prefix.isEnabled&&C.a.createElement(ue.a,{keyProp:"guest-prefix",label:"hotel.hotelDetails.editGuestModal.prefix",options:Object(oe.o)("prefix",t),useLabelFeedback:!0,ref:function(t){e.prefix=t},className:"guest-title",disabled:!1,isOptional:!0,defaultValue:this.props.guest.get("prefix")}),C.a.createElement(de.a,{keyProp:"guest-firstName",className:"guest-name",ref:function(t){e.firstName=t},useLabelFeedback:!0,label:"hotel.hotelDetails.editGuestModal.firstName",defaultValue:this.props.guest.get("firstName"),validators:t.firstName.validators}),C.a.createElement(de.a,{keyProp:"guest-middleName",className:"guest-middleName",ref:function(t){e.middleName=t},useLabelFeedback:!0,label:"hotel.hotelDetails.editGuestModal.middleName",isOptional:!0,defaultValue:this.props.guest.get("middleName"),validators:t.middleName.validators}),C.a.createElement(de.a,{keyProp:"guest-lastName",className:"guest-lastName",ref:function(t){e.lastName=t},useLabelFeedback:!0,label:"hotel.hotelDetails.editGuestModal.lastName",defaultValue:this.props.guest.get("lastName"),validators:t.lastName.validators}),this.props.hotelsConfiguration.guestForm.suffix.isEnabled&&C.a.createElement(ue.a,{keyProp:"guest-suffix",label:"hotel.hotelDetails.editGuestModal.suffix",options:Object(oe.o)("suffix",t),useLabelFeedback:!0,ref:function(t){e.suffix=t},className:"guest-suffix",disabled:!1,isOptional:!0,defaultValue:this.props.guest.get("suffix")}))),C.a.createElement("div",{className:"contact-info"},C.a.createElement("div",{className:"title"},Object(O.i)("hotel.hotelDetails.contactInfo")),C.a.createElement("div",{className:"form-content"},C.a.createElement(ce.a,{keyProp:"guest-phone",ref:function(t){e.mobilePhone=t},defaultCountry:"us",label:"hotel.hotelDetails.editGuestModal.phone",className:"guest-phone",useLabelFeedback:!0,defaultValue:this.props.guest.get("mobilePhone")?this.props.guest.get("mobilePhone").toJS():{},validators:t.mobilePhone.validators,hideCountryFlag:Q()(t,"mobilePhone.hideCountryFlag",!0),phoneCountryCodes:this.props.phoneCountryCodes}),this.props.hotelsConfiguration.guestForm.email.isEnabled&&C.a.createElement(pe.a,{keyProp:"guest-email",ref:function(t){e.email=t},useLabelFeedback:!0,emailLabel:"hotel.hotelDetails.editGuestModal.email",disabled:!1,className:"guest-phone",defaultValue:this.props.guest.get("email"),confirmEmailLabel:"hotel.hotelDetails.editGuestModal.email",validators:t.email.validators,isOptional:!0}))),C.a.createElement("div",{className:"buttons"},C.a.createElement(Z.a,{className:"button cancel secondary medium",onClick:this.props.onModalClose},Object(O.a)("app.cancel")),C.a.createElement(Z.a,{"data-test-id":"save-guest-details",className:"button done primary medium",onClick:this.saveGuest},Object(O.a)("app.done"))))}}]),t}(b.Component));g()(he,"defaultProps",{guest:Object(_.Map)()});var fe=n(2),me=n.n(fe),ge=(n(2845),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"renderAddedGuest",value:function(e,t){var n=this;return C.a.createElement("div",{className:"guest-data"},C.a.createElement("div",null,e.get("firstName")," ",e.get("lastName")),e.get("mobilePhone")&&C.a.createElement("div",null,"+",e.get("mobilePhone").get("countryCode"),"-",e.get("mobilePhone").get("number")),me()(e.get("mobilePhone"))&&C.a.createElement("div",null,Object(O.i)("hotel.hotelDetails.phoneLabel")," ",C.a.createElement("span",{className:"missing-field"},Object(O.i)("hotel.hotelDetails.missing"))),C.a.createElement("div",null,C.a.createElement(te.a,{key:"edit-guest-details",className:"edit-guest-details",id:"dxp-edit-hotel-guest-details",disabled:!1,onClick:function(){return n.props.setGuestModalData(t,e)}},Object(O.a)("hotel.hotelDetails.editGuestDetails"))))}},{key:"renderEmptyGuest",value:function(e){var t=this;return C.a.createElement("div",{className:"guest-data"},C.a.createElement("div",null,Object(O.i)("hotel.hotelDetails.nameLabel")),C.a.createElement("div",null,Object(O.i)("hotel.hotelDetails.phoneLabel")),C.a.createElement("div",null,C.a.createElement(te.a,{key:"add-guest-details",className:"add-guest-details",disabled:!1,onClick:function(){return t.props.setGuestModalData(e)}},Object(O.a)("hotel.hotelDetails.addGuestDetails"))))}},{key:"render",value:function(){var e,t=this.props.guests.get(this.props.roomNumber);return e=void 0!==t?this.renderAddedGuest(t,this.props.roomNumber):this.renderEmptyGuest(this.props.roomNumber),C.a.createElement("div",{className:"room-breakdown"},C.a.createElement("div",{className:"name"},C.a.createElement("strong",null,Object(O.a)("hotel.hotelDetails.roomNumber",{roomNumber:this.props.roomNumber}))),C.a.createElement("div",{className:"guests-data"},e))}}]),t}(b.Component)),ve=(n(2846),function(e){var t=e.displayCancellationPolicy;return C.a.createElement("div",{className:"rooms-policy"},C.a.createElement("div",null,C.a.createElement("div",{className:"confirmation-label"},Object(O.i)("hotel.hotelDetails.roomsPolicy.label")),C.a.createElement("div",{className:"confirmation-description"},Object(O.i)("hotel.hotelDetails.roomsPolicy.description"))),C.a.createElement("button",{type:"button",className:"as-link",onClick:t,"data-test-id":"open-room-cancellation-policy"},Object(O.a)("hotel.hotelDetails.roomsPolicy.linkLabel")))}),ye=n(57),be=n.n(ye),Ce=n(521),Ee=n(1370),ke=n(1491),Oe=n(195);function _e(e,t){var n=e.cancellationPolicy,a=e.currency,r=t.translateWithComponents;return C.a.createElement("div",{"data-test-id":"hotel-cancellation-policy"},!n.get("beforeArrivalPolicies",Object(_.List)()).isEmpty()&&C.a.createElement("div",{className:"cancellation-policy-title"},C.a.createElement("h2",null,Object(O.i)("hotel.cancellationPolicy.beforeArrivalPolicies")),C.a.createElement("ul",{className:"cancellation-policy-list"},Pe(n.get("beforeArrivalPolicies"),a,r))),!n.get("afterBookingPolicies",Object(_.List)()).isEmpty()&&C.a.createElement("div",{className:"cancellation-policy-title"},C.a.createElement("h2",null,Object(O.i)("hotel.cancellationPolicy.afterBookingPolicies")),C.a.createElement("ul",{className:"cancellation-policy-list"},Pe(n.get("afterBookingPolicies"),a,r))),!n.get("noShowPolicies",Object(_.List)()).isEmpty()&&C.a.createElement("div",{className:"cancellation-policy-title"},C.a.createElement("h2",null,Object(O.i)("hotel.cancellationPolicy.noShowPolicies")),C.a.createElement("ul",{className:"cancellation-policy-list"},function(e,t,n){return e.map((function(e){var a="AMOUNT"===e.get("type")?C.a.createElement(S.a,{price:{amount:e.get("value"),currency:t}}):e.get("value");return C.a.createElement("li",{key:"".concat(e.get("type"),"-").concat(e.get("duration"),"-").concat(e.get("timeUnit"),"-").concat(e.get("policyStartType"))},n("hotel.cancellationPolicy.noShow",{type:n("hotel.cancellationPolicy.type.".concat(e.get("type")),{value:a})}))}))}(n.get("noShowPolicies"),a,r))))}function Pe(e,t,n){return e.map((function(e){var a="AMOUNT"===e.get("type")?C.a.createElement(S.a,{price:{amount:e.get("value"),currency:t}}):e.get("value");return C.a.createElement("li",{key:"".concat(e.get("type"),"-").concat(e.get("duration"),"-").concat(e.get("timeUnit"),"-").concat(e.get("policyStartType"))},n("hotel.cancellationPolicy.description",{duration:e.get("duration"),timeUnit:Object(O.i)("hotel.cancellationPolicy.timeUnit.".concat(e.get("timeUnit"))),policyStartType:Object(O.i)("hotel.cancellationPolicy.policyStartType.".concat(e.get("policyStartType"))),type:n("hotel.cancellationPolicy.type.".concat(e.get("type")),{value:a})}))}))}_e.contextTypes={translateWithComponents:k.func.isRequired};var Se=_e,Ne=(n(2847),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{selectedTabIndex:0}),g()(p()(n),"onTabSelect",(function(e){n.setState({selectedTabIndex:e},(function(){var t=n.props,a=t.cancellationPolicies,r=t.hotelRoomTypes;!a.some((function(t){return t.get("hotelRoomTypeId")===r.get(e).get("id")}))&&n.props.retrieveHotelCancellationPolicy(r.get(e).get("id"))}))})),g()(p()(n),"renderCancellationPolicyContent",(function(e){var a,r=n.props.cancellationPolicies.find((function(t){return t.get("hotelRoomTypeId")===e.get("id")}));return a=r?n.renderCancellationPolicyPanel(r):n.props.cancellationPolicyErrorResponse.get("hotelRoomTypeId")===e.get("id")?t.renderErrorCancellationPolicyPanel(e):t.renderLoadingCancellationPolicyPanel(e),C.a.createElement(Ee.b,{key:e},a)})),g()(p()(n),"renderCancellationPolicyTab",(function(e){return C.a.createElement(Ee.a,{key:e.get("type")},C.a.createElement("div",null,e.get("type")))})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.setState({selectedTabIndex:this.findPreSelectedTabIndex()}),!this.props.cancellationPolicies.some((function(t){return t.get("hotelRoomTypeId")===e.props.hotelRoomTypeId}))&&this.props.retrieveHotelCancellationPolicy(this.props.hotelRoomTypeId)}},{key:"findPreSelectedTabIndex",value:function(){var e=this;return this.props.hotelRoomTypes.some((function(t){return t.get("id")===e.props.hotelRoomTypeId}))&&this.props.hotelRoomTypes.findIndex((function(t){return t.get("id")===e.props.hotelRoomTypeId}))}},{key:"renderCancellationPolicyPanel",value:function(e){return C.a.createElement(Se,{cancellationPolicy:e,currency:this.props.hotelOfferCurrency})}},{key:"render",value:function(){var e=Object(Oe.a)(this.props.isAuthorable,"hotelCancellationView");return C.a.createElement(le.a,{onCloseClick:this.props.onClose},C.a.createElement("div",be()({className:"dxp-hotel-cancellation-view"},e,{"data-test-id":"dxp-hotel-cancellation-view"}),C.a.createElement("h2",{className:"hotel-cancellation-header"},Object(O.i)("hotel.cancellationPolicy.title")),C.a.createElement(Ee.c,{id:"hotel-cancellation-tabs",className:"dxp-hotel-cancellation-view-tabs",selectedTabIndex:this.state.selectedTabIndex},C.a.createElement(Ee.e,{onTabSelect:this.onTabSelect},this.props.hotelRoomTypes.map(this.renderCancellationPolicyTab)),C.a.createElement(Ee.d,null,this.props.hotelRoomTypes.map(this.renderCancellationPolicyContent)))))}}],[{key:"renderErrorCancellationPolicyPanel",value:function(){return C.a.createElement(ke.a,{type:"error",title:Object(O.i)("hotel.cancellationPolicy.errorResponse.title")},Object(O.a)("hotel.cancellationPolicy.errorResponse.content"))}},{key:"renderLoadingCancellationPolicyPanel",value:function(){return C.a.createElement(Ce.a,{className:"dark",showPageLoadingMessage:!0})}}]),t}(b.Component));g()(Ne,"defaultProps",{hotelRoomTypes:Object(_.List)(),hotelOfferCurrency:void 0,isAuthorable:!0});n(2848);var we=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{shouldShowCancellationPolicies:!1}),g()(p()(n),"buildCancellationPolicyHotelContext",(function(){return n.props.hotelRoomType.map((function(e){return Object(_.Map)({id:e.get("id"),type:e.get("type")})}))})),g()(p()(n),"closeCancellationPolicyModal",(function(){n.setState((function(){return{shouldShowCancellationPolicies:!1}}))})),g()(p()(n),"openCancellationPolicyModal",(function(){n.setState((function(){return{shouldShowCancellationPolicies:!0}}))})),n}return f()(t,e),s()(t,[{key:"onModalClose",value:function(){this.props.resetGuestModalData()}},{key:"addGuestDetails",value:function(e,t){var n={};n[t]=Object(_.fromJS)(e);var a=this.props.guests.merge(Object(_.Map)(n));this.props.saveGuests(a)}},{key:"guestsAdded",value:function(){return this.props.guests.size>=this.props.selectedRoomType.get("rooms").size&&this.validateGuests()}},{key:"validateGuests",value:function(){return void 0===this.props.guests.find((function(e){return!(e.get("firstName")&&e.get("lastName")&&e.get("mobilePhone"))}))}},{key:"renderCancellationPolicyModal",value:function(){return C.a.createElement(Ne,{retrieveHotelCancellationPolicy:this.props.retrieveHotelCancellationPolicy,cancellationPolicies:this.props.cancellationPolicies,hotelRoomTypeId:this.props.selectedRoomType.get("id"),hotelOfferCurrency:this.props.hotelOfferCurrency,hotelRoomTypes:this.buildCancellationPolicyHotelContext(),cancellationPolicyErrorResponse:this.props.cancellationPolicyErrorResponse,onClose:this.closeCancellationPolicyModal})}},{key:"renderGuestModal",value:function(){var e=this;return C.a.createElement(he,{guest:this.props.guestModalData.get("guest"),hotelsConfiguration:this.props.hotelsConfiguration,addGuestDetails:function(t,n){return e.addGuestDetails(t,n)},onModalClose:function(){return e.onModalClose()},roomNumber:this.props.guestModalData.get("roomNumber"),phoneCountryCodes:this.props.phoneCountryCodes})}},{key:"renderRoomsGuest",value:function(e,t){return C.a.createElement("div",{key:t},C.a.createElement(ge,{guests:this.props.guests,roomNumber:t.toString(),setGuestModalData:this.props.setGuestModalData}))}},{key:"render",value:function(){var e=this;return C.a.createElement("div",{className:"confirm-hotel"},C.a.createElement("div",{className:"rooms-confirmation"},C.a.createElement(ve,{displayCancellationPolicy:this.openCancellationPolicyModal}),C.a.createElement("div",{className:"guests-details"},this.props.selectedRoomType.get("rooms").map((function(t,n){return e.renderRoomsGuest(t,n+1)})))),C.a.createElement(ie,{hotelsConfiguration:this.props.hotelsConfiguration,addHotelToCart:this.props.addHotelToCart,location:this.props.location,actionUpdateURLQuery:this.props.actionUpdateURLQuery,removeSelectedRoomType:this.props.removeSelectedRoomType,cancelMode:!this.guestsAdded()}),!y()(this.props.guestModalData.get("roomNumber"))&&this.renderGuestModal(),this.state.shouldShowCancellationPolicies&&this.renderCancellationPolicyModal())}}]),t}(b.Component);g()(we,"defaultProps",{location:void 0});n(2849);var Ae=function(e){return C.a.createElement("div",{className:"about-hotel tab-content","data-test-id":"about-hotel"},C.a.createElement(w,{city:e.city,district:e.district,starLevel:e.starLevel,name:e.name,minimumAveragePrice:e.minimumAveragePrice}),C.a.createElement("div",{className:"long-description"},e.fullDescription.map((function(e,t){return C.a.createElement("p",{key:"description-paragraph-".concat(t)},e)}))),C.a.createElement(x,{time:e.checkInTime}),C.a.createElement(L,{time:e.checkOutTime}))};Ae.defaultProps={district:void 0};var Te=Ae,Ie=n(2107),De=(n(2850),function(e){var t=e.grandTotal;return C.a.createElement("div",{className:"rooms-rates-header"},C.a.createElement("div",{className:"message"},C.a.createElement("div",{className:"title"},Object(O.a)("hotel.hotelDetails.messages")),C.a.createElement("ul",null,C.a.createElement("li",null,Object(O.a)("hotel.hotelDetails.allRoomsMessage")))),C.a.createElement("div",{className:"total-price"},Object(O.a)("hotel.hotelDetails.grandTotalColon"),C.a.createElement(S.a,{price:t,includeDecimal:!0})))}),xe=(n(2851),function(e){var t=e.currency;return C.a.createElement("thead",null,C.a.createElement("tr",null,C.a.createElement("th",{scope:"col"},Object(O.a)("hotel.hotelDetails.roomsTable.moreInfo")),C.a.createElement("th",{scope:"col"},Object(O.a)("hotel.hotelDetails.roomsTable.hotelRoomType")),C.a.createElement("th",{scope:"col"},Object(O.a)("hotel.hotelDetails.roomsTable.people")),C.a.createElement("th",{scope:"col"},Object(O.a)("hotel.hotelDetails.roomsTable.perDay")),C.a.createElement("th",{scope:"col"},Object(O.a)("hotel.hotelDetails.roomsTable.days",{currency:t})),C.a.createElement("th",{scope:"col"},Object(O.a)("hotel.hotelDetails.roomsTable.total",{currency:t})),C.a.createElement("td",null)))}),je=(n(2852),function(e){var t=e.removeSelectedRoomType;return C.a.createElement("div",{className:"hotel-rooms-rates-remove-button"},C.a.createElement("div",{className:"all-rooms-applied-info"},C.a.createElement("span",null,C.a.createElement(V.c,{name:V.a.CHECK,size:"sm"}),Object(O.a)("hotel.hotelDetails.appliedToAllRooms"))),C.a.createElement(Z.a,{className:"remove-button secondary small",onClick:t},Object(O.a)("hotel.hotelDetails.button.remove")))}),Le=function(e){var t=e.selectRoomType,n=e.roomIndex;return C.a.createElement(Z.a,{className:"book-now secondary small",onClick:function(){return t(n)},"data-test-id":"select-hotel-room"},Object(O.a)("hotel.hotelDetails.button.book"))};n(2853);function Fe(e){var t=e.facilities;return C.a.createElement("div",{className:"hotel-facilities"},C.a.createElement("div",{className:"hotel-facilities-title"},Object(O.i)("hotel.hotelDetails.facilities.title")),C.a.createElement("ul",{className:"hotel-facilities-list"},t.map((function(e){return C.a.createElement("li",{key:e},C.a.createElement("span",null,e))}))))}n(2854);var Be=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"togglePopover",(function(e){return W.a.is(W.a.code.special.enter,e.which)&&n.popover.togglePopover()})),n}return f()(t,e),s()(t,[{key:"renderRoomRow",value:function(e,t){var n=this,a=this.props.selectedRoomIndex,r=void 0===a,i=a===t,s=void 0!==a&&a!==t,o=this.props.hotelRoomType.getIn([t,"facilities"],Object(_.List)()),l=C.a.createElement("span",{role:"button",tabIndex:"0",onKeyPress:this.togglePopover},C.a.createElement(V.c,{name:V.a.INFO_CIRCLE}));return C.a.createElement("tbody",{key:t,"data-test-id":"hotel-room"},C.a.createElement("tr",null,C.a.createElement("td",null,o.isEmpty()?C.a.createElement(V.c,{name:V.a.INFO_CIRCLE}):C.a.createElement(Ie.b,{ref:function(e){n.popover=e},position:Ie.a.RIGHT,toggleEl:l,closeIcon:!0},C.a.createElement(Fe,{facilities:o}))),C.a.createElement("td",null,e.get("type")),C.a.createElement("td",null,C.a.createElement("div",{className:"max-allowed-guest"},C.a.createElement(V.c,{name:V.a.USER,fill:!0}),C.a.createElement("span",null,"x",e.get("maxAllowedGuest")))),C.a.createElement("td",null,C.a.createElement(S.a,{showDecimal:!0,showCurrency:!1,price:e.get("averageNightlyPrice")})),C.a.createElement("td",null,e.get("rooms").first().get("pricePerNight").size),C.a.createElement("td",null,C.a.createElement(S.a,{showDecimal:!0,showCurrency:!1,price:e.get("totalAmount")})),C.a.createElement("td",null,r&&C.a.createElement(Le,{selectRoomType:this.props.selectRoomType,roomIndex:t}),i&&C.a.createElement(je,{removeSelectedRoomType:this.props.removeSelectedRoomType}),s&&C.a.createElement(Z.a,{disabled:!0,className:"book-now disabled secondary small"},Object(O.a)("hotel.hotelDetails.button.book")))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.hotelRoomType,a=t.selectedRoomIndex,r=n.first().get("totalAmount").get("currency"),i=void 0!==a?n.get(a).get("grandTotal"):Object(_.fromJS)({amount:0,currency:r});return C.a.createElement("div",{className:"rooms-rates tab-content","data-test-id":"room-rates"},C.a.createElement(De,{grandTotal:i}),C.a.createElement("div",{className:"rooms-table","data-test-id":"hotel-rooms-list"},C.a.createElement("table",{cellSpacing:"0"},C.a.createElement(xe,{currency:r}),n.map((function(t,n){return e.renderRoomRow(t,n)})))))}}]),t}(b.PureComponent);g()(Be,"defaultProps",{selectedRoomIndex:void 0});n(2855);var Re=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"renderRoomRecord",value:function(e,n){var a=this.props.selectedRoomIndex,r=void 0===a,i=a===n,s=void 0!==a&&a!==n,o=this.props.hotelRoomType.getIn([n,"facilities"],Object(_.List)());return C.a.createElement("div",{className:"room-record",key:n},C.a.createElement("div",{className:"row"},Object(O.a)("hotel.hotelDetails.roomsList.hotelRoomType"),C.a.createElement("span",null,e.get("type"))),C.a.createElement("div",{className:"row"},Object(O.a)("hotel.hotelDetails.roomsList.people"),C.a.createElement("span",null,C.a.createElement(V.c,{name:V.a.USER,fill:!0})," x",e.get("maxAllowedGuest"))),C.a.createElement("div",{className:"row"},Object(O.a)("hotel.hotelDetails.roomsList.perDay"),C.a.createElement(S.a,{showDecimal:!0,price:e.get("averageNightlyPrice")})),C.a.createElement("div",{className:"row"},Object(O.a)("hotel.hotelDetails.roomsList.days"),e.get("rooms").first().get("pricePerNight").size),C.a.createElement("div",{className:"row"},Object(O.a)("hotel.hotelDetails.roomsList.total"),C.a.createElement(S.a,{showDecimal:!0,price:e.get("totalAmount")})),C.a.createElement("div",null,!o.isEmpty()&&C.a.createElement(Ie.b,{position:Ie.a.TOP,toggleEl:t.renderMoreInfoPopoverToggleElement(),closeIcon:!0},C.a.createElement(Fe,{facilities:o}))),C.a.createElement("div",{className:"button"},r&&C.a.createElement(Le,{selectRoomType:this.props.selectRoomType,roomIndex:n}),i&&C.a.createElement(je,{removeSelectedRoomType:this.props.removeSelectedRoomType}),s&&C.a.createElement(Z.a,{disabled:!0,className:"book-now disabled secondary small"},Object(O.a)("hotel.hotelDetails.button.book"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.hotelRoomType,a=t.selectedRoomIndex,r=n.first().get("totalAmount").get("currency"),i=void 0!==a?n.get(a).get("totalAmount"):Object(_.fromJS)({amount:0,currency:r});return C.a.createElement("div",{className:"rooms-rates-mobile"},C.a.createElement(De,{grandTotal:i}),C.a.createElement("div",{className:"rooms-list"},n.map((function(t,n){return e.renderRoomRecord(t,n)}))))}}]),t}(b.PureComponent);g()(Re,"renderMoreInfoPopoverToggleElement",(function(){return C.a.createElement("span",{className:"more-info-toggle"},C.a.createElement(V.c,{name:V.a.INFO_CIRCLE}),C.a.createElement("span",{className:"more-info-text"},Object(O.i)("hotel.hotelDetails.roomsList.moreInfo")))})),g()(Re,"defaultProps",{selectedRoomIndex:void 0});n(2856);function Me(e){return C.a.createElement("div",{className:"dxp-hotel-tabs-panel tabs-section"},C.a.createElement(Ee.c,{id:"hotel-tabs",className:"hotel-tabs",selectedTabIndex:e.preSelectedTabIndex},C.a.createElement(Ee.e,null,C.a.createElement(Ee.a,{key:"about-the-hotel-tab",className:"book-a-flight",id:"dxp-about-the-hotel-tab"},Object(O.a)("hotel.hotelDetails.aboutTheHotelTab")),C.a.createElement(Ee.a,{key:"hotel-room-and-rates-tab",className:"manage-my-trips",id:"dxp-room-rates-tab"},Object(O.a)("hotel.hotelDetails.roomsRates"))),C.a.createElement(Ee.d,null,C.a.createElement(Ee.b,{key:"about-hotel"},C.a.createElement(Te,{name:e.name,minimumAveragePrice:e.minimumAveragePrice,city:e.city,district:e.district,starLevel:e.starLevel,fullDescription:e.fullDescription,checkInTime:e.checkInTime,checkOutTime:e.checkOutTime})),C.a.createElement(Ee.b,{key:"hotel-room-and-rates"},e.isMobile?C.a.createElement(Re,{hotelRoomType:e.hotelRoomType,selectRoomType:e.selectRoomType,selectedRoomIndex:e.selectedRoomIndex,removeSelectedRoomType:e.removeSelectedRoomType}):C.a.createElement(Be,{hotelRoomType:e.hotelRoomType,selectRoomType:e.selectRoomType,selectedRoomIndex:e.selectedRoomIndex,removeSelectedRoomType:e.removeSelectedRoomType})))))}Me.defaultProps={selectedRoomIndex:void 0,preSelectedTabIndex:0,district:void 0};var Ve=Me,Ue=n(1334),qe=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"ARROW_LEFT",37),g()(p()(n),"carouselRef",C.a.createRef()),g()(p()(n),"changeImage",(function(e){return e.which===n.ARROW_LEFT?n.sparkCarousel.backH():n.sparkCarousel.forwardH()})),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.sparkCarousel=new Ue.Carousel(this.carouselRef.current)}},{key:"componentWillUnmount",value:function(){this.sparkCarousel._removeListeners(),this.sparkCarousel.remove()}},{key:"render",value:function(){var e=this,n=this.props.images;return C.a.createElement("div",{"data-test-id":"image-carousel",ref:this.carouselRef,className:"dxp-image-carousel spark-carousel","data-spark-carousel-hero-light":!0,tabIndex:"0",role:"listbox",onKeyDown:function(t){return e.changeImage(t)}},C.a.createElement("div",{className:"spark-carousel__outer-container"},C.a.createElement("div",{className:"spark-carousel__container-mask"},C.a.createElement("div",{className:"spark-carousel__container"},t.renderCarouselElements(n))),C.a.createElement("div",{className:"spark-carousel__controls"},C.a.createElement("div",{className:"spark-carousel__back"},C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_LEFT,fill:!0})),C.a.createElement("div",{className:"spark-carousel__forward"},C.a.createElement(V.c,{name:V.a.ARROW_CHEVRON_RIGHT,fill:!0})),C.a.createElement("div",{className:"spark-carousel__dots"}))))}}],[{key:"renderCarouselElements",value:function(e){return e.map((function(e){return C.a.createElement("div",{className:"spark-carousel__item",key:e.src},C.a.createElement("div",{className:"spark-carousel__item--content"},C.a.createElement("img",{className:"carousel-image",alt:e.alt,src:e.src})))}))}}]),t}(b.PureComponent),He=n(319),We=n(1294),Ge=n(1315),Ke=n(1376),ze=n(542),Ye=n(527);var Qe=n(42),Xe=n(174),Je=n(214),$e=n(532),Ze=n(531),et=n(327),tt=n(328),nt=n(125);var at=n(1972),rt=(n(2857),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isMobileView:n.getIsMobileView()}),g()(p()(n),"handleResize",(function(){n.getIsMobileView()!==n.state.isMobileView&&n.setState((function(e){return{isMobileView:!e.isMobileView}}))})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.shouldRefreshShoppingCart&&this.props.requestCart(this.props.currentFlow,this.props.location),this.props.retrieveHotelContext().then((function(){var t=e.props.hotelContext.get("hotelId");e.props.fetchHotelDetails(t,e.props.hotelContext.get("hotelSearch"))})),this.props.getGuestsDetails().then((function(){if(e.props.guests.isEmpty()){var t=(n=e.props.firstPassenger,a=e.props.hotelsConfiguration.guestForm,r=n.getIn(["passengerInfo","phones"]).first(),{1:{firstName:(i=n.get("passengerDetails")).get("firstName"),lastName:i.get("lastName"),prefix:a.prefix.isEnabled?i.get("prefix"):void 0,suffix:a.suffix.isEnabled?i.get("suffix"):void 0,middleName:i.get("middleName"),mobilePhone:r?{countryCode:r.get("countryCode"),number:r.get("number")}:void 0}});e.props.saveGuests(t)}var n,a,r,i}))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.addHotelToCartError&&e.addHotelToCartError!==this.props.addHotelToCartError&&Object(Ke.a)(this.view)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"getIsMobileView",value:function(){return this.context.isMobile||this.props.viewBreakPoint>window.innerWidth}},{key:"renderHotelDetails",value:function(){var e=this;return C.a.createElement("div",{ref:function(t){e.view=t}},this.props.addHotelToCartError&&t.renderCartErrorMessage(),C.a.createElement(ne.a,{className:"centered-section"},C.a.createElement("div",{className:"hotel-details-content"},C.a.createElement("div",{className:"image"},!this.props.images.isEmpty()&&C.a.createElement(qe,{images:this.props.images.map((function(e){return{src:e.get("url"),alt:Object(O.i)("hotel.hotelDetails.carouselAlt")}}))})),C.a.createElement(B,{name:this.props.name,minimumAveragePrice:this.props.minimumAveragePrice,city:this.props.city,district:this.props.district,starLevel:this.props.starLevel,shortDescription:this.props.shortDescription,checkInTime:this.props.checkInTime,checkOutTime:this.props.checkOutTime,amenities:this.props.amenities})),C.a.createElement(Ve,{name:this.props.name,minimumAveragePrice:this.props.minimumAveragePrice,hotelRoomType:this.props.hotelRoomType,checkInTime:this.props.checkInTime,checkOutTime:this.props.checkOutTime,starLevel:this.props.starLevel,city:this.props.city,district:this.props.district,fullDescription:this.props.fullDescription,selectRoomType:this.props.selectRoomType,selectedRoomIndex:this.props.selectedRoomIndex,removeSelectedRoomType:this.props.removeSelectedRoomType,preSelectedTabIndex:this.props.hotelsConfiguration.hotelDetailsDefaultTabIndex,isMobile:this.state.isMobileView})),!y()(this.props.selectedRoomIndex)&&C.a.createElement("div",{className:"purchase-section","data-test-id":"review-room-costs-and-payment"},C.a.createElement(ne.a,{className:"centered-section"},C.a.createElement(G,{hotelRoomType:this.props.hotelRoomType,selectedRoomIndex:this.props.selectedRoomIndex,checkinDate:this.props.checkinDate,priceRangeFormat:this.props.hotelsConfiguration.priceRangeFormat}),C.a.createElement(we,{guests:this.props.guests,selectedRoomType:this.props.hotelRoomType.get(this.props.selectedRoomIndex),saveGuests:this.props.saveGuests,setGuestModalData:this.props.setGuestModalData,guestModalData:this.props.guestModalData,hotelsConfiguration:this.props.hotelsConfiguration,resetGuestModalData:this.props.resetGuestModalData,removeSelectedRoomType:this.props.removeSelectedRoomType,addHotelToCart:this.props.addHotelToCart,location:this.props.location,actionUpdateURLQuery:this.props.actionUpdateURLQuery,updateHotelContext:this.props.updateHotelContext,hotelRoomType:this.props.hotelRoomType,hotelOfferCurrency:this.props.hotelOfferCurrency,cancellationPolicies:this.props.cancellationPolicies,cancellationPolicyErrorResponse:this.props.cancellationPolicyErrorResponse,retrieveHotelCancellationPolicy:this.props.retrieveHotelCancellationPolicy,phoneCountryCodes:this.props.phoneCountryCodes}))))}},{key:"render",value:function(){var e=Object(Oe.a)(this.props.isAuthorable,"hotelDetailsView");return C.a.createElement(at.a,{id:"dxp-hotel-details-view",className:"dxp-hotel-view",title:"hotel.hotelDetails.title",authorableAttributes:e,location:this.props.location},this.props.hotelDetailsLoading&&C.a.createElement(Ce.a,{showPageLoadingMessage:!0}),this.props.hotelDetailsError&&!this.props.hotelDetailsLoading&&t.renderErrorMessage(),!this.props.hotelDetailsError&&!this.props.hotelDetailsLoading&&this.renderHotelDetails(),y()(this.props.selectedRoomIndex)&&C.a.createElement(ie,{cancelMode:!0,hotelsConfiguration:this.props.hotelsConfiguration,location:this.props.location,actionUpdateURLQuery:this.props.actionUpdateURLQuery,removeSelectedRoomType:this.props.removeSelectedRoomType,showTermsAndConditions:!1}))}}],[{key:"renderCartErrorMessage",value:function(){return C.a.createElement(He.a,{type:"error",title:Object(O.i)("hotel.hotelDetails.addToCartError.title"),className:"hotel-details-addToCartError"},Object(O.i)("hotel.hotelDetails.addToCartError.description"))}},{key:"renderErrorMessage",value:function(){return C.a.createElement(He.a,{type:"error",title:Object(O.i)("hotel.hotelDetails.error.title"),className:"hotel-details-error"},Object(O.i)("hotel.hotelDetails.error.description"))}}]),t}(b.Component));g()(rt,"contextTypes",{isMobile:k.bool}),g()(rt,"defaultProps",{selectedRoomIndex:void 0,hotelDetailsError:void 0,addHotelToCartError:void 0,isAuthorable:!0,cancellationPolicies:Object(_.List)(),cancellationPolicyErrorResponse:Object(_.Map)(),name:void 0,minimumAveragePrice:Object(_.Map)(),hotelRoomType:Object(_.List)(),checkInTime:void 0,checkOutTime:void 0,checkinDate:void 0,starLevel:void 0,city:void 0,district:void 0,shortDescription:void 0,fullDescription:void 0,images:Object(_.List)(),amenities:Object(_.List)(),hotelOfferCurrency:void 0,firstPassenger:Object(_.Map)()});var it=Object(E.b)((function(){return Object(Qe.b)({name:function(e){return e.hotels.get("hotelDetails").get("name")},hotelRoomType:function(e){return e.hotels.get("hotelDetails").get("hotelRoomType")},checkInTime:function(e){return e.hotels.get("hotelDetails").get("checkInTime")},checkOutTime:function(e){return e.hotels.get("hotelDetails").get("checkOutTime")},checkinDate:function(e){return e.hotels.get("hotelDetails").get("checkinDate")},minimumAveragePrice:function(e){return e.hotels.get("hotelDetails").get("minimumAveragePrice")},starLevel:function(e){return e.hotels.get("hotelDetails").get("starLevel")},country:function(e){return e.hotels.get("hotelDetails").get("country")},state:function(e){return e.hotels.get("hotelDetails").get("state")},city:function(e){return e.hotels.get("hotelDetails").get("city")},district:function(e){return e.hotels.get("hotelDetails").get("district")},shortDescription:function(e){return e.hotels.get("hotelDetails").get("shortDescription")},fullDescription:function(e){return e.hotels.get("hotelDetails").get("fullDescription")},images:function(e){return e.hotels.get("hotelDetails").get("images")},amenities:function(e){return e.hotels.get("hotelDetails").get("amenities")},guests:function(e){return e.hotels.get("guests")},firstPassenger:function(e){return e.shoppingCart.getIn(["data","passengers","passengers"],Object(_.Map)()).find((function(e){return e.getIn(["passengerInfo","type"])===nt.a.ADT}))},selectedRoomIndex:function(e){return e.hotels.get("selectedRoomIndex")},guestModalData:function(e){return e.hotels.get("guestModalData")},hotelsConfiguration:function(e){return e.metadata.get("hotelsConfiguration")},location:function(e,t){return Q()(t,"location",{})},hotelDetailsLoading:function(e){return e.hotels.get("hotelDetailsLoading")},hotelContext:function(e){return e.hotels.get("hotelContext")},hotelDetailsError:function(e){return e.hotels.get("hotelDetailsError")},addHotelToCartError:function(e){return e.hotels.get("addHotelToCartError")},viewBreakPoint:function(e){return e.metadata.get("viewBreakPoint")},shouldRefreshShoppingCart:function(e){return e.shoppingCart.getIn(["data","itinerary"],Object(_.Map)()).isEmpty()},cancellationPolicies:function(e){return e.hotels.get("cancellationPolicies")},hotelOfferCurrency:function(e){return e.hotels.getIn(["hotelContext","hotelSearch","currency"])},cancellationPolicyErrorResponse:function(e){return e.hotels.get("cancellationPolicyErrorResponse")},getNextPage:$e.a,language:et.a,background:Object(Ze.a)(),dateFormat:tt.b,currentFlow:Xe.a,searchCriteria:Object(Je.a)(),phoneCountryCodes:function(e){return e.metadata.get("phoneConfiguration")}})}),{addHotelToCart:ze.a,saveGuests:ze.l,getGuestsDetails:ze.e,selectRoomType:ze.n,removeSelectedRoomType:ze.g,setGuestModalData:ze.o,resetGuestModalData:ze.i,actionUpdateURLQuery:P.c,fetchHotelDetails:ze.c,retrieveHotelContext:ze.k,updateHotelContext:ze.p,requestCart:Ye.g,retrieveHotelCancellationPolicy:ze.j})(Object(We.a)(Object(Ge.a)(rt),"hotelDetailsLoading"));n.d(t,"default",(function(){return it}))},,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(2),y=n.n(v),b=n(5),C=n.n(b),E=n(73),k=n.n(E),O=n(0),_=n.n(O),P=n(34),S=n.n(P),N=n(1),w=n.n(N),A=n(6),T=(n(194),n(11)),I=n(123),D=n(527),x=n(14),j=n(534),L=n(75),F=n(195),B=n(326),R=n(12),M=n(319),V=n(521),U=n(449),q=n.n(U),H=n(565),W=n.n(H),G=n(2111),K=n.n(G),z=n(2278),Y=n.n(z),Q=n(1917),X=n.n(Q),J=n(39),$=n.n(J),Z=n(524),ee=n(2166),te=(n(2823),function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"UNSAFE_componentWillReceiveProps",(function(e){return n.setState({currentPage:e.pageToRender,pagesCount:X()(Y()(e.elements.count(),e.configuration.itemsOnPage))})})),g()(p()(n),"calculateEndingIndex",(function(){return n.state.currentPage*n.props.configuration.itemsOnPage})),g()(p()(n),"calculateStartingIndex",(function(){return(n.state.currentPage-1)*n.props.configuration.itemsOnPage})),g()(p()(n),"renderEllipsis",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.a.createElement("span",{disabled:!0,className:"spark-pagination__ellipsis ".concat(e),key:K()("ellipsis")},"...")})),g()(p()(n),"renderNavigation",(function(){var e=n.state.currentPage===n.state.pagesCount;return w.a.createElement("div",{className:"spark-pagination__pages"},w.a.createElement("button",{"data-test-id":ee.d,type:"button",onClick:n.showPreviousPage,className:"spark-pagination__arrow spark-pagination__arrow--previous","aria-label":Object(R.i)("pagination.aria.previous"),disabled:1===n.state.currentPage},w.a.createElement("span",{className:"spark-pagination__arrow-text"},Object(R.i)("pagination.previous"))),n.renderPageButtonItem(1,$()("spark-pagination__item",g()({},"spark-pagination__item--active",1===n.state.currentPage))),q()(n.state.currentPage,2)&&n.renderEllipsis(3===n.state.currentPage?"mobile-only":""),q()(n.state.currentPage,1)&&W()(n.state.currentPage,n.state.pagesCount)&&n.renderMiddlePageButtons(),q()(n.state.pagesCount,2)&&(1===n.state.currentPage||e)&&n.renderPageButtonItem(e?n.state.currentPage-1:n.state.currentPage+1,$()("spark-pagination__item","mobile-hidden")),W()(n.state.currentPage,n.state.pagesCount-1)&&q()(n.state.pagesCount,2)&&n.renderEllipsis(n.state.currentPage===n.state.pagesCount-2?"mobile-only":""),n.renderPageButtonItem(n.state.pagesCount,$()("spark-pagination__item",g()({},"spark-pagination__item--active",e))),w.a.createElement("button",{"data-test-id":ee.c,type:"button",onClick:n.showNextPage,className:"spark-pagination__arrow spark-pagination__arrow--next","aria-label":Object(R.i)("pagination.aria.next"),disabled:e},w.a.createElement("span",{className:"spark-pagination__arrow-text"},Object(R.i)("pagination.next"))))})),g()(p()(n),"renderPageButtonItem",(function(e,t){return w.a.createElement("button",{type:"button",className:t,"aria-current":e===n.state.currentPage,onClick:function(){return n.showSpecificPage(e)},key:"pagination-page-".concat(e),"aria-label":Object(R.i)("pagination.aria.goto",{pageNumber:e})},e)})),g()(p()(n),"renderPaginationSummary",(function(){var e=n.calculateEndingIndex()<n.props.elements.count()?n.calculateEndingIndex():n.props.elements.count();return w.a.createElement("div",{className:"spark-pagination__results"},w.a.createElement("div",{className:"spark-pagination__summary"},Object(R.a)("pagination.summary",{startingItemNumber:n.calculateStartingIndex()+1,endingItemNumber:e,totalItems:n.props.elements.count()})))})),g()(p()(n),"focusOnElementsContainer",(function(){n.paginationElements.current.focus()})),g()(p()(n),"showNextPage",(function(){return n.setState((function(e){return{currentPage:e.currentPage+1}}),n.focusOnElementsContainer())})),g()(p()(n),"showPreviousPage",(function(){return n.setState((function(e){return{currentPage:e.currentPage-1}}),n.focusOnElementsContainer())})),g()(p()(n),"showSpecificPage",(function(e){return n.setState({currentPage:e},n.focusOnElementsContainer())})),n.state={currentPage:e.pageToRender,pagesCount:X()(Y()(e.elements.count(),e.configuration.itemsOnPage))},n.paginationElements=w.a.createRef(),n}return f()(t,e),s()(t,[{key:"renderMiddlePageButtons",value:function(){return[q()(this.state.currentPage,2)?this.renderPageButtonItem(this.state.currentPage-1,$()("spark-pagination__item","mobile-hidden")):"",this.renderPageButtonItem(this.state.currentPage,$()("spark-pagination__item","spark-pagination__item--active")),W()(this.state.currentPage,this.state.pagesCount-1)?this.renderPageButtonItem(this.state.currentPage+1,$()("spark-pagination__item","mobile-hidden")):""]}},{key:"renderPaginationButtons",value:function(){return w.a.createElement(Z.a,{className:"pagination-panel"},w.a.createElement("nav",{className:"spark-pagination","aria-label":"Pagination navigation","data-test-id":ee.b},this.state.pagesCount>1&&this.renderNavigation(),this.renderPaginationSummary()))}},{key:"render",value:function(){var e=this.state.currentPage===this.state.pagesCount?Object(R.i)("pagination.lastPage"):Object(R.i)("pagination.pageNumber",{currentPageNumber:this.state.currentPage,totalPageNumber:this.state.pagesCount});return w.a.createElement("div",{className:"dxp-pagination"},w.a.createElement("ul",{className:"elements-container",ref:this.paginationElements,tabIndex:"0","aria-label":e},this.props.elements.slice(this.calculateStartingIndex(),this.calculateEndingIndex())),this.renderPaginationButtons())}}]),t}(N.Component));g()(te,"defaultProps",{pageToRender:1,configuration:{itemsOnPage:10}});var ne=n(57),ae=n.n(ne),re=n(82),ie=n.n(re),se=n(13),oe=n.n(se),le=n(21),ce=n.n(le),ue=n(128),de=n.n(ue),pe=n(55),he=n.n(pe),fe=n(159),me=n.n(fe),ge=n(43),ve=n.n(ge),ye=n(35),be=n.n(ye),Ce=n(336),Ee=n.n(Ce),ke=n(79),Oe=n.n(ke),_e=n(1564),Pe=n.n(_e),Se=n(115),Ne=n.n(Se),we=n(50),Ae=n(528),Te=n(529),Ie=n(244),De=(n(2824),{filters:{provider:{},vehicleType:{},distance:{},location:{},passengerCapacity:{},baggageCapacity:{},numberOfDoors:{},features:{}},activeGroupFilter:{}}),xe=function(e){function t(){var e;return r()(this,t),e=l()(this,u()(t).call(this)),g()(p()(e),"state",De),g()(p()(e),"clearFilters",(function(){e.props.onFilterChange(De.filters),e.setState(De),oe()(e.dropdowns,(function(e){return e.clearSelection()}))})),e.dropdowns={},e}return f()(t,e),s()(t,null,[{key:"renderAppliedFilterItem",value:function(e,t){return w.a.createElement("span",{key:t,className:"car-filter-list-item"},e)}}]),s()(t,[{key:"onBooleanFilterChange",value:function(e,t){var n=this,a=t.filterName,r=t.filterGroupName;this.setState((function(t){var n=S()(t.filters);return e?n[r][a]=[!0]:n[r]=be()(t.filters[r],a),{filters:n}}),(function(){n.props.onFilterChange(n.state.filters)}))}},{key:"onCheckboxFilterChange",value:function(e,t){var n=this,a=t.filterValue,r=t.filterName,i=t.filterGroupName;this.setState((function(t){var n=S()(t.filters);if(e)n[i][r]=Oe()(_()(t.filters,"".concat(i,".").concat(r),[]),[a]);else{var s=Ee()(_()(t.filters,"".concat(i,".").concat(r),[]),[a]);s.length?n[i][r]=s:n[i]=be()(t.filters[i],r)}return{filters:n}}),(function(){n.props.onFilterChange(n.state.filters)}))}},{key:"onDropdownFilterChange",value:function(e,t){var n=this,a=t.filter,r=t.filterName,i=t.filterGroupName;return this.setState((function(t){var n=a.toArray(),s=S()(t.filters);return s[i][r]=n.slice(n.indexOf(me()(e))),{filters:s}}),(function(){n.props.onFilterChange(n.state.filters)}))}},{key:"getValue",value:function(){return S()(this.state.filters)}},{key:"isChecked",value:function(e,t,n){return ce()(_()(this.state.filters,"".concat(e,".").concat(t),[]),n)}},{key:"isCheckedBoolean",value:function(e,t){return void 0!==_()(this.state.filters,"".concat(e,".").concat(t),void 0)}},{key:"toggleGroupFilter",value:function(e){this.setState((function(t){return{activeGroupFilter:g()({},e,!!ie()(t.activeGroupFilter[e])||!t.activeGroupFilter[e])}}))}},{key:"renderAppliedFiltersList",value:function(){var e=C()(this.state.filters,(function(e,n){return C()(e,(function(e,a){return he()(e,(function(e){return Ne()(e)}))?t.renderAppliedFilterItem(Object(R.a)("car.filters.".concat(n,".minimumValue"),{value:de()(e)}),n):C()(e,(function(e){return t.renderAppliedFilterItem(Object(R.a)("car.filters.".concat(n,".").concat(a,".").concat(e)),"".concat(n,"_").concat(a,"_").concat(e))}))}))}));return w.a.createElement("div",{className:"applied-filters"},w.a.createElement("div",{className:"applied-filters-label"},Object(R.a)("car.filters.appliedFilters")),w.a.createElement("div",{className:"filter-list"},e))}},{key:"renderBooleanCheckboxFilter",value:function(e,t){var n=this;return[w.a.createElement("div",{key:"filter-label",className:"filter-label"},Object(R.a)("car.filters.".concat(t,".").concat(e))),w.a.createElement("div",{key:"filter",className:"filter"},w.a.createElement(Ae.a,{label:Object(R.i)("car.filters.".concat(t,".").concat(e)),onChange:function(a,r){return n.onBooleanFilterChange(r,{filterName:e,filterGroupName:t})},id:"".concat(t,"_").concat(e),checked:this.isCheckedBoolean(t,e)}))]}},{key:"renderCheckboxFilter",value:function(e,t,n){var a=this,r=e.reduce((function(e,r){return e.push(w.a.createElement("div",{key:"".concat(n,"_").concat(t,"_").concat(r),className:"filter"},w.a.createElement(Ae.a,{label:Object(R.i)("car.filters.".concat(n,".").concat(t,".").concat(r)),id:"".concat(n,"_").concat(t,"_").concat(r),onChange:function(e,i){return a.onCheckboxFilterChange(i,{filterValue:r,filterName:t,filterGroupName:n})},checked:a.isChecked(n,t,r)}))),e}),[]);return w.a.createElement("div",{key:"".concat(n,"-").concat(t)},w.a.createElement("div",{key:"filter-label",className:"filter-label"},Object(R.a)("car.filters.".concat(n,".").concat(t,".subgroupName"))),r)}},{key:"renderDropdownFilter",value:function(e,t,n){var a=this,r=function(e,t){return e.reduce((function(e,n){return e.push({value:"".concat(n),label:Object(R.i)("car.filters.".concat(t,".minimumValue"),{value:n})}),e}),[])}(e,n);return w.a.createElement(Te.a,{key:"".concat(n,"-dropdown"),label:Object(R.i)("car.filters.".concat(n,".subgroupName")),options:r,defaultValue:r[0].value,className:"".concat(t,"-dropdown"),onChange:function(r){return a.onDropdownFilterChange(r,{filter:e,filterName:t,filterGroupName:n})},id:"".concat(n,"_").concat(t),ref:function(e){a.dropdowns[n]=e}})}},{key:"renderFilterGroup",value:function(e,t){var n=this,a=this.state.activeGroupFilter[e],r=t.filter((function(e){return e.size>0})).reduce((function(t,a,r){return t.push(n.renderFilters(a,r,e)),t}),[],this);return w.a.createElement("li",{key:e,"data-group-name":e,className:$()(e,{active:a})},w.a.createElement("div",{tabIndex:"0",role:"button",className:"filter-btn",onClick:function(){return n.toggleGroupFilter(e)},onKeyPress:function(t){return Ie.a.is(Ie.a.code.special.enter,t.which)&&n.toggleGroupFilter(e)}},Object(R.a)("car.filters.group.".concat(e)),a?w.a.createElement(we.c,{name:we.a.ARROW_CHEVRON_UP}):w.a.createElement(we.c,{name:we.a.ARROW_CHEVRON_DOWN})),a&&w.a.createElement("div",{className:"filter-details"},w.a.createElement("div",{className:"dxp-checkbox-filter mobile-padding"},r)))}},{key:"renderFilterGroups",value:function(){var e=this;return this.props.filters.filter((function(e){return e.some((function(e){return e.size>0}))})).reduce((function(t,n,a){return t.push(e.renderFilterGroup(a,n)),t}),[],this)}},{key:"renderFilters",value:function(e,t,n){return e.every((function(e){return Ne()(e)}))?this.renderDropdownFilter(e,t,n):e.every((function(e){return Pe()(e)}))?this.renderBooleanCheckboxFilter(t,n):this.renderCheckboxFilter(e,t,n)}},{key:"render",value:function(){var e=Object(F.a)(this.props.isAuthorable,"carsFilter");return w.a.createElement("div",ae()({className:"dxp-cars-filters"},e,{"data-test-id":"car-offers-filter"}),w.a.createElement(Z.a,{className:"cars-filter-panel"},w.a.createElement("div",{className:"dxp-filter","data-component-id":"filter"},w.a.createElement("div",null,w.a.createElement("div",{className:"overlay filters-tab"},w.a.createElement("h3",{className:"matching-offers"},Object(R.i)("car.filters.filterOffers")),ve()(this.state.filters,(function(e){return!y()(e)}))&&this.renderAppliedFiltersList(),w.a.createElement("ul",null,this.renderFilterGroups()),w.a.createElement("div",{className:"bottom-section clearfix"},w.a.createElement("button",{type:"button",className:"dxp-clear-filter clear-all",title:"Clear",onClick:this.clearFilters},w.a.createElement("span",null,w.a.createElement(we.c,{name:we.a.TRASH}),Object(R.i)("car.filters.clear")))))))))}}]),t}(N.Component);g()(xe,"defaultProps",{isAuthorable:!0});var je=n(321),Le=n.n(je),Fe=n(88),Be=n(1249),Re=n(2202),Me=n(63),Ve=(n(2825),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.isOfferSelected&&this.saveOrCancelButton.focus()}},{key:"renderActionButton",value:function(e,t,n){var a=this,r={"aria-describedby":n};return w.a.createElement(Fe.a,{"data-test-id":"car-offer-select-button",className:"car-offer-select-button medium secondary",onClick:t,aria:r,ref:function(e){a.saveOrCancelButton=e}},e)}},{key:"renderRentalData",value:function(){var e=this.props.configuration.selectedCarOffer.dateFormat;return w.a.createElement(Re.a,{pickUpDateTime:"".concat(this.props.pickUpDate," ").concat(this.props.pickUpTime),dropOffDateTime:"".concat(this.props.dropOffDate," ").concat(this.props.dropOffTime),pickUpLocation:this.props.pickUpLocation,dropOffLocation:this.props.dropOffLocation,carLocationDateFormat:e})}},{key:"render",value:function(){var e=this,n="".concat(Le()(this.props.car.get("model")),"-").concat(this.props.index),a="".concat(Le()(this.props.car.get("model")),"-").concat(this.props.index,"-price"),r="".concat(n," ").concat(a),i=Object(F.a)(this.props.isAuthorable,"carOffer");return w.a.createElement(Z.a,{className:"car-offer",element:"li",ariaLabelledBy:n,tabIndex:0,attributes:i,"data-test-id":"car-offer"},w.a.createElement("div",{className:"car-offer-photo"},w.a.createElement("img",{alt:this.props.car.get("model"),src:this.props.car.get("image")})),w.a.createElement("div",{className:"car-offer-description"},w.a.createElement("h3",{className:"car-offer-header",id:n},this.props.car.get("model")),w.a.createElement("div",{className:"car-offer-details"},this.props.isOfferSelected&&this.renderRentalData(),w.a.createElement("div",{className:"car-offer-features"},Object(R.a)("car.features.title"),w.a.createElement("ul",{className:"features-list"},t.getFeaturesList(this.props.car.get("carCharacteristics").get("features").filter((function(e){return e}))))),w.a.createElement("div",{className:"car-offer-additional-details"},w.a.createElement("div",{className:"car-offer-passenger-capacity"},Object(R.a)("car.features.passengerCapacity",{value:this.props.car.getIn(["carCharacteristics","passengerCapacity","values"])})),w.a.createElement("div",{className:"car-offer-baggage-capacity"},Object(R.a)("car.features.baggageCapacity",{value:this.props.car.getIn(["carCharacteristics","baggageCapacity","values"])})),w.a.createElement("div",{className:"car-offer-number-of-doors"},Object(R.a)("car.features.numberOfDoors",{value:this.props.car.getIn(["carCharacteristics","numberOfDoors","values"])})),w.a.createElement("div",{className:"car-offer-vehicle-type"},Object(R.a)("car.carType.label"),Object(R.a)("car.carType.".concat(k()(this.props.car.getIn(["carCharacteristics","vehicleType","typeCode"]))))),w.a.createElement("div",null,Object(R.a)("car.provider.label"),w.a.createElement("img",{alt:this.props.car.getIn(["carCharacteristics","provider","name"],""),className:"car-offer-provider",src:Object(Me.a)("images/cars/vendors/".concat(this.props.car.getIn(["carCharacteristics","provider","name"],"").toLowerCase(),".png"))}))),w.a.createElement("div",{className:"car-offer-price-container"},w.a.createElement("div",{className:"car-offer-price-content",id:a},w.a.createElement("div",{className:"title"},Object(R.a)("car.offer.title")),w.a.createElement(Be.a,{className:"dxp-price price-per-day rise-decimal",price:this.props.car.getIn(["rentalRate","dailyEstimatedTotal"]).toObject(),includeDecimal:!0}),w.a.createElement("div",{className:"caption"},Object(R.a)("car.content.caption")),w.a.createElement("div",{className:"caption"},Object(R.a)("car.content.total"),w.a.createElement("strong",null,w.a.createElement(Be.a,{className:"dxp-price price car-offer-price-total rise-decimal",price:this.props.car.getIn(["rentalRate","estimatedTotal"]).toObject(),includeDecimal:!0})))),this.props.isOfferSelected?this.renderActionButton(this.props.isOfferAddedToCart?Object(R.a)("app.remove"):Object(R.a)("app.cancel"),(function(){return e.props.cancelSelectedOffer()}),r):this.renderActionButton(Object(R.a)("app.select"),(function(){return e.props.updateSelectCarOffer(e.props.car)}),r)))))}}],[{key:"getFeaturesList",value:function(e){return e.keySeq().map((function(t,n){return w.a.createElement("li",{key:"".concat(e.get(t)).concat(n+1)},Object(R.a)("car.features.".concat(t),{value:e.get(t)}))}))}}]),t}(N.Component));g()(Ve,"defaultProps",{updateSelectCarOffer:void 0,cancelSelectedOffer:void 0,isOfferAddedToCart:!1,isOfferSelected:!1,configuration:{selectedCarOffer:{dateFormat:"ddd, Do MMM h:mm a"}},pickUpDate:"",pickUpTime:"",dropOffDate:"",dropOffTime:"",pickUpLocation:"",dropOffLocation:"",isAuthorable:!0,index:0});var Ue=n(103),qe=n.n(Ue),He=n(116),We=n.n(He),Ge=n(16),Ke=n.n(Ge),ze=n(58),Ye=n.n(ze),Qe=n(122),Xe=n.n(Qe),Je=n(77),$e=n.n(Je),Ze=n(2826),et=n.n(Ze),tt=n(1289),nt=n(153),at=n(1907),rt=n(2831),it=n.n(rt),st=n(777),ot=n.n(st),lt=n(2214),ct=n.n(lt),ut=n(4),dt=n.n(ut),pt=function(e){return{label:e,value:e}},ht=function(e){var t=["airport","city","train"],n=ct()([[function(e){return e.get("atAirport")},ot()(t[0])],[function(e){return e.get("rentalAreaName").includes("Train")},ot()(t[2])],[it.a,ot()(t[1])]]),a=dt()(e,(function(e,t){var a=n(t);return e[a]=(e[a]||[]).concat(pt(t.get("rentalAreaName"))),e}),{});return C()(t,(function(e){return{label:Object(R.a)("car.locationGroup.".concat(e)),options:a[e]||[]}}))},ft=n(25),mt=n(17),gt=n.n(mt),vt=n(1480),yt=n(176),bt=n.n(yt),Ct=n(705),Et=n.n(Ct);n(2832);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ot=function(e){var t,n,a,r,i,s,o,l,c,u=function(e){var t=e.startHour,n=e.startMinute,a=e.intervalInMinutes,r=e.numberOfOptions,i=gt.a.utc().hour(t).minute(n);return bt()(r,(function(){var e=Et()(i.get("hour"),2,"0"),t=Et()(i.get("minute"),2,"0"),n="".concat(e,":").concat(t);return i.add(a,"m"),{value:n,label:Object(R.i)("time.options.".concat(n))}}))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{numberOfOptions:(n=(t=e).startHour,a=t.endHour,r=t.startMinute,i=t.endMinute,s=t.intervalInMinutes,o=gt.a.utc().hour(n).minute(r),l=gt.a.utc().hour(a).minute(i),c=gt.a.duration(l.diff(o)),Math.floor(c.asMinutes()/s)+1)}));return w.a.createElement(Te.a,ae()({},e,{options:u}))};Ot.defaultProps={startHour:0,startMinute:0,endHour:23,endMinute:0,intervalInMinutes:60,disabled:!1,defaultValue:"",className:"",label:"",onChange:void 0};var _t=Ot,Pt=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"getValue",value:function(){return this.fieldAutoComplete.getValue()}},{key:"isValid",value:function(){return this.fieldAutoComplete.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.defaultLocation,r=t.defaultCountry,i=t.getCityCountryOptions,s=t.updateCountryDetails,o=t.handleCountryState,l=t.formatGroupLabel,c=t.defaultDate,u=t.updateLocation,d=t.updateTime,p=t.defaultTime,h=t.provinces,f=t.isCarsLocationsProcessing,m=t.handleCheckBox,g=t.checkBoxChecked,v=t.updateDate,y=t.validations,b=t.className,C=t.searchType,E=t.translation,k=t.defaultDateFormat,O=t.weekStartDay,_=t.cityKeyProp,P=t.locationKeyProp,S=t.timeKeyProp,N=i(h),A=r.split("|"),T=qe()(A,2),I=T[0],D=T[1],x=I?"".concat(Object(R.i)("car.searchForm.cityCountryLabel"),", ").concat(I,", ").concat(Object(R.i)("country.".concat(D))):Object(R.i)("car.searchForm.cityCountryLabel"),j=a.value?"".concat(Object(R.i)("car.searchForm.fieldSet.selectLocation"),", ").concat(a.value):Object(R.i)("car.searchForm.fieldSet.selectLocation"),L=p?"".concat(Object(R.i)("car.searchForm.fieldSet.".concat(E,"Time")),", ").concat(Object(R.i)("time.options.".concat(p))):Object(R.i)("car.searchForm.fieldSet.".concat(E,"Time"));return w.a.createElement("fieldset",{className:"dxp-fieldset car-search-panel"},w.a.createElement("legend",{className:"cars-search-form-legend"},Object(R.a)("car.searchForm.fieldSet.".concat(E,"Header"))),"dropoff"===C&&w.a.createElement(Ae.a,{id:"".concat(b,"-checkbox"),onChange:m,checked:g,label:Object(R.i)("car.searchForm.fieldSet.samePickupLocation")}),w.a.createElement("div",{className:"".concat(b,"-date-field")},!g&&(f?w.a.createElement(V.a,{isDark:!0}):w.a.createElement("div",{className:"".concat(b,"-location")},w.a.createElement("div",{className:"car-search-country"},w.a.createElement(B.a,{label:Object(R.i)("car.searchForm.cityCountryLabel"),options:N,defaultValue:r,onChange:function(e){return s(e,C)},placeholder:Object(R.i)("car.searchForm.placeholder"),matchPos:"start",keyProp:_,"aria-label":x})),w.a.createElement("div",{className:"".concat(b,"-date-dropdown")},w.a.createElement(B.a,{label:"car.searchForm.fieldSet.selectLocation",options:n,defaultValue:a,onChange:function(e){u(e),o()},ref:function(t){e.fieldAutoComplete=t},className:"cars-cities-dropdown-pick-up",formatGroupLabel:l,validators:y.validators,useLabelFeedback:!0,keyProp:P,"aria-label":j})))),w.a.createElement("div",{className:"".concat(b,"-date-time")},w.a.createElement("div",{className:"car-search-date"},w.a.createElement(vt.a,{label:"car.searchForm.fieldSet.".concat(E,"Date"),defaultValue:c,onChange:function(e){return v(e.format(k.dateFormat))},dateFormat:k.dateFormat,weekStartDay:O,srLabel:"car.searchForm.fieldSet.".concat(E,"Date"),id:"cars-search-".concat(b,"-date")})),w.a.createElement("div",{className:"car-search-time"},w.a.createElement(_t,{label:Object(R.i)("car.searchForm.fieldSet.".concat(E,"Time")),defaultValue:Object(R.i)("time.options.".concat(p)),onChange:function(e){return d(e)},className:"field field-time",keyProp:S,"aria-label":L})))))}}]),t}(N.Component);g()(Pt,"defaultProps",{checkBoxChecked:void 0,handleCheckBox:Xe.a,searchType:void 0,cityKeyProp:"",locationKeyProp:"",timeKeyProp:""});n(2833);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=function(e){return{pickUpLocation:e.carParameters.lastSearchPickUpLocation||"",dropOffLocation:e.carParameters.lastSearchDropOffLocation||"",citiesList:e.carRentalAreasDestination||Object(T.List)(),dropOffCityCountry:e.carParameters.dropOffCity||"",pickUpCityCountry:e.carParameters.pickUpCity||"",pickUpDate:e.carParameters.lastSearchPickUpDate,dropOffDate:e.carParameters.lastSearchDropOffDate,pickUpTime:e.carParameters.lastSearchPickUpTime,dropOffTime:e.carParameters.lastSearchDropOffTime,residenceCountry:e.carParameters.lastSearchResidenceCountry||"",driverAge:We()(e.carParameters.lastSearchDriverAge),isSearchPanelOpened:e.isSearchPanelOpened,checkBoxChecked:e.carParameters.pickUpCity===e.carParameters.dropOffCity,isSearchButtonDisabled:!0,isPickUpCountrySelected:!1,isDropOffCountrySelected:!1,isSearchClicked:!1}},At=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"getCityCountryOptions",(function(){var e=Object(R.i)("separator");return Ye()(C()(_()(n.props.provinces,"countries"),(function(t){return C()(t.cities,(function(n){return{label:"".concat(n).concat(e," ").concat(Object(R.i)("country.".concat(t.code))),value:"".concat(n).concat("|").concat(t.code)}}))})))})),g()(p()(n),"formatGroupLabel",(function(e){return w.a.createElement("div",null,w.a.createElement("span",null,e.label))})),g()(p()(n),"handleCheckBox",(function(){n.setState((function(e){return{checkBoxChecked:!e.checkBoxChecked,isSearchButtonDisabled:!1}}))})),g()(p()(n),"handleDropOffCountryState",(function(){n.setState({isDropOffCountrySelected:!1})})),g()(p()(n),"handlePickUpCountryState",(function(){n.setState({isPickUpCountrySelected:!1})})),g()(p()(n),"updateCountryDetails",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.split("|"),r=qe()(a,2),i=r[0],s=r[1];t?(n.updateCountryDropOff(e),n.props.getCarsLocationsDropOff(i,s,n.props.location),n.setState({isSearchPanelOpened:!0,isSearchClicked:!1,dropOffFirstTimeRender:!1})):(n.updateCountryPickUp(e),n.props.getCarsLocationsDestination(i,s,n.props.location),n.setState({isSearchPanelOpened:!0,isSearchClicked:!1,pickUpFirstTimeRender:!1}))})),g()(p()(n),"updateDropOffDate",(function(e){gt()(e).isBefore(gt()(n.state.pickUpDate))&&n.updatePickUpDate(e),n.updateState({dropOffDate:e})})),g()(p()(n),"updateDropOffLocation",(function(e){n.setState({dropOffLocation:e,isSearchButtonDisabled:!1,isSearchClicked:!1})})),g()(p()(n),"updateDropOffTime",(function(e){n.setState({dropOffTime:e,isSearchButtonDisabled:!1,isSearchClicked:!1})})),g()(p()(n),"updatePickUpDate",(function(e){gt()(e).isAfter(gt()(n.state.dropOffDate))&&n.updateDropOffDate(e),n.updateState({pickUpDate:e})})),g()(p()(n),"updatePickUpLocation",(function(e){n.setState({pickUpLocation:e,isSearchButtonDisabled:!1,isSearchClicked:!1})})),g()(p()(n),"updatePickUpTime",(function(e){n.setState({pickUpTime:e,isSearchButtonDisabled:!1,isSearchClicked:!1})})),g()(p()(n),"updateState",(function(e){n.setState(Nt({},e,{isSearchButtonDisabled:!1,isSearchClicked:!1}))})),n.state=Nt({},wt(e),{pickUpFirstTimeRender:!0,dropOffFirstTimeRender:!0}),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){$e()(e.citiesList,this.props.citiesList)||this.updateState(Nt({},e.citiesList))}},{key:"shouldComponentUpdate",value:function(e,t){return Object(ft.f)()||!$e()(this.state,t)||e.isProcessing!==this.props.isProcessing||e.isOfferSelected!==this.props.isOfferSelected||e.locale!==this.props.locale||e.isCarsDropOffLocationsProcessing!==this.props.isCarsDropOffLocationsProcessing||e.isCarsLocationsDestinationProcessing!==this.props.isCarsLocationsDestinationProcessing||!$e()(e.citiesList,this.props.citiesList)}},{key:"getLastSearchData",value:function(){var e=this.state.pickUpCityCountry||this.props.carParameters.pickUpCity,t=this.state.checkBoxChecked?e:this.state.dropOffCityCountry||this.props.carParameters.dropOffCity,n=this.state.checkBoxChecked?this.state.pickUpLocation||this.props.carParameters.lastSearchPickUpLocation:this.state.dropOffLocation||this.props.carParameters.lastSearchDropOffLocation;return{pickUpCity:e,dropOffCity:t,lastSearchPickUpLocation:this.state.pickUpLocation||this.props.carParameters.lastSearchPickUpLocation,lastSearchDropOffLocation:n,lastSearchResidenceCountry:this.state.residenceCountry||this.props.carParameters.lastSearchResidenceCountry,lastSearchDriverAge:this.state.driverAge||this.props.carParameters.lastSearchDriverAge,lastSearchPickUpDate:this.state.pickUpDate||this.props.carParameters.lastSearchPickUpDate,lastSearchDropOffDate:this.state.dropOffDate||this.props.carParameters.lastSearchDropOffDate,lastSearchPickUpTime:this.state.pickUpTime||this.props.carParameters.lastSearchPickUpTime,lastSearchDropOffTime:this.state.dropOffTime||this.props.carParameters.lastSearchDropOffTime,defaultCarLocationId:this.props.carParameters.defaultCarLocationId}}},{key:"getValue",value:function(){return S()(this.state)}},{key:"collapseHeader",value:function(){this.setState((function(e){return{isSearchPanelOpened:!e.isSearchPanelOpened,isSearchButtonDisabled:!0}}))}},{key:"createCountriesOptions",value:function(){return C()(et()(this.props.countries),(function(e){var t=qe()(e,2);return{value:t[0],label:t[1]}}))}},{key:"createDriverAgesOptions",value:function(){return C()(this.props.carsConfiguration.driverAgeOptions,(function(e){var t=Object(R.a)("car.driverAgeOption.".concat(e));return{value:e.toString(),label:t}}))}},{key:"createSearchCarsContext",value:function(){var e=this,t={primaryDriver:{driverAge:this.state.driverAge||this.props.carParameters.lastSearchDriverAge},primaryDriverCitizenship:this.state.residenceCountry||this.props.carParameters.lastSearchResidenceCountry,drivers:[]},n=this.props.carParameters.defaultCarLocationId,a=this.props.carParameters.defaultCarLocationId;return this.props.carRentalAreasDestination.forEach((function(t){t.get("rentalAreaName")===(e.state.pickUpLocation||e.props.carParameters.lastSearchPickUpLocation)&&(n=t.get("carLocationId"))})),this.props.carRentalAreasDropOffLocation.forEach((function(t){t.get("rentalAreaName")===(e.state.dropOffLocation||e.props.carParameters.lastSearchDropOffLocation)&&(a=t.get("carLocationId"))})),{driversInfo:t,pickUpDetail:{date:gt()("".concat(this.state.pickUpDate||this.props.carParameters.lastSearchPickUpDate," ").concat(this.state.pickUpTime||this.props.carParameters.lastSearchPickUpTime),"YYYY-MM-DD HH:mm").format("YYYY-MM-DDTHH:mm:ss"),carLocationId:n},dropOffDetail:{date:gt()("".concat(this.state.dropOffDate||this.props.carParameters.lastSearchDropOffDate," ").concat(this.state.dropOffTime||this.props.carParameters.lastSearchDropOffTime),"YYYY-MM-DD HH:mm").format("YYYY-MM-DDTHH:mm:ss"),carLocationId:this.state.checkBoxChecked?n:a},countryCode:this.state.pickUpCityCountry||this.props.carParameters.pickUpCity}}},{key:"isValid",value:function(){return this.state.checkBoxChecked?Object(nt.c)({pickUpLocation:!0},{pickUpLocation:this.carPickUpField}):Object(nt.c)({pickUpLocation:!0,dropOffLocation:!0},{pickUpLocation:this.carPickUpField,dropOffLocation:this.carDropOffField})}},{key:"resetStateData",value:function(){var e=Ke()({},wt(this.props),{citiesList:this.props.carRentalAreasDestination});this.setState(Nt({},e)),this.collapseHeader()}},{key:"searchCars",value:function(){if(this.isValid()){this.state.checkBoxChecked&&this.setState({isSearchClicked:!0}),this.setState((function(e){return{isSearchPanelOpened:!e.isSearchPanelOpened}}));var e=this.getLastSearchData();this.props.updateLastSearchData(e),this.props.searchCars(this.createSearchCarsContext(),this.props.location)}return null}},{key:"updateCountryDropOff",value:function(e){this.setState({dropOffCityCountry:e}),this.props.carParameters.dropOffCity.split("|")[0]!==e.split("|")[0]&&this.setState({isDropOffCountrySelected:!0})}},{key:"updateCountryPickUp",value:function(e){this.setState({pickUpCityCountry:e}),this.props.carParameters.pickUpCity.split("|")[0]!==e.split("|")[0]&&this.setState({isPickUpCountrySelected:!0})}},{key:"renderDriverFieldSet",value:function(){var e=this;return w.a.createElement("fieldset",{className:"dxp-fieldset car-search-panel"},w.a.createElement("legend",{className:"cars-search-form-legend"},Object(R.a)("car.searchForm.fieldSet.driverHeader")),w.a.createElement("div",{className:"driver-information"},w.a.createElement("div",{className:"car-search-driver-country"},w.a.createElement(B.a,{label:"car.searchForm.fieldSet.country",options:this.createCountriesOptions(),defaultValue:this.state.residenceCountry||this.props.carParameters.lastSearchResidenceCountry,disabled:!1,onChange:function(t){return e.updateState({residenceCountry:t})},className:"cars-country-dropdown",keyProp:"car-driver-residence-country"})),w.a.createElement("div",{className:"car-search-driver-age"},w.a.createElement(Te.a,{keyProp:"driverAge",label:"car.searchForm.fieldSet.driverAge",options:this.createDriverAgesOptions(),defaultValue:this.state.driverAge||We()(this.props.carParameters.lastSearchDriverAge),disabled:!1,onChange:function(t){return e.updateState({driverAge:t})},className:"cars-age-dropdown"}))))}},{key:"renderDropOffFieldSet",value:function(){var e,t,n=this,a=this.props.carRentalAreasDropOffLocation.isEmpty()?[]:ht(this.props.carRentalAreasDropOffLocation.toArray());return this.state.isSearchClicked?(e=pt(this.props.carParameters.lastSearchDropOffLocation),t=this.state.pickUpCityCountry||this.props.carParameters.pickUpCity):(t=this.state.dropOffCityCountry||this.props.carParameters.dropOffCity,e=this.state.isDropOffCountrySelected?"":this.state.dropOffLocation?pt(this.state.dropOffLocation):pt(this.props.carParameters.lastSearchDropOffLocation)),this.state.dropOffFirstTimeRender&&(t=""),w.a.createElement(Pt,{ref:function(e){n.carDropOffField=e},data:a,defaultLocation:e,defaultCountry:t,getCityCountryOptions:this.getCityCountryOptions,updateCountryDetails:this.updateCountryDetails,handleCountryState:this.handleDropOffCountryState,formatGroupLabel:this.formatGroupLabel,defaultDate:this.state.dropOffDate||this.props.carParameters.lastSearchDropOffDate,updateDate:this.updateDropOffDate,defaultTime:this.state.dropOffTime||this.props.carParameters.lastSearchDropOffTime,provinces:this.props.provinces,isCarsLocationsProcessing:this.props.isCarsDropOffLocationsProcessing,handleCheckBox:this.handleCheckBox,checkBoxChecked:this.state.checkBoxChecked,validations:this.props.carsConfiguration.car.dropOffLocation,className:"dropoff",searchType:"dropoff",translation:"dropOff",updateLocation:this.updateDropOffLocation,updateTime:this.updateDropOffTime,defaultDateFormat:this.props.carsConfiguration.carPickUpDropOffFormats,weekStartDay:this.props.weekStartDay,label:Object(tt.d)("dropOffLocation",this.props.carsConfiguration.car,{},"car"),cityKeyProp:"car-dropOff-city",locationKeyProp:"car-dropOff-location",timeKeyProp:"car-drop-off-time"})}},{key:"renderHeader",value:function(){var e=this.props.carsConfiguration.lastSearchCriteria.dateFormat;return w.a.createElement(at.a.Header,{className:"cars-form-header"},w.a.createElement("div",{className:"cars-form-summary"},w.a.createElement("div",{className:"pickup-details"},w.a.createElement("div",{className:"cars-form-summary-item"},w.a.createElement("strong",null,Object(R.a)("car.searchForm.pickUpCity")),w.a.createElement("span",{className:"cars-form-summary-value"},this.props.carParameters.lastSearchPickUpLocation)),w.a.createElement("div",{className:"cars-form-summary-item"},w.a.createElement("strong",null,Object(R.a)("car.searchForm.pickUpDate")),w.a.createElement("span",{className:"cars-form-summary-value"},gt()("".concat(this.props.carParameters.lastSearchPickUpDate," ").concat(this.props.carParameters.lastSearchPickUpTime),"YYYY-MM-DD HH:mm").format(e)))),w.a.createElement("div",{className:"dropoff-details"},w.a.createElement("div",{className:"cars-form-summary-item"},w.a.createElement("strong",null,Object(R.a)("car.searchForm.dropOffCity")),w.a.createElement("span",{className:"cars-form-summary-value"},this.props.carParameters.lastSearchDropOffLocation)),w.a.createElement("div",{className:"cars-form-summary-item"},w.a.createElement("strong",null,Object(R.a)("car.searchForm.dropOffDate")),w.a.createElement("span",{className:"cars-form-summary-value"},gt()("".concat(this.props.carParameters.lastSearchDropOffDate," ").concat(this.props.carParameters.lastSearchDropOffTime),"YYYY-MM-DD HH:mm").format(e)))),w.a.createElement("div",{className:"driver-details"},w.a.createElement("div",{className:"cars-form-summary-item"},w.a.createElement("strong",null,Object(R.a)("car.searchForm.driverAge")),w.a.createElement("span",{className:"cars-form-summary-value"},Object(R.a)("car.driverAgeOption.".concat(this.props.carParameters.lastSearchDriverAge)))),w.a.createElement("div",{className:"cars-form-summary-item"},w.a.createElement("strong",null,Object(R.a)("car.searchForm.country")),w.a.createElement("span",{className:"cars-form-summary-value"},this.props.countries&&this.props.countries[this.props.carParameters.lastSearchResidenceCountry])))),w.a.createElement("div",null,w.a.createElement("span",{className:"cars-edit-search"},Object(R.a)("car.searchForm.editSearchLabel")),this.state.isSearchPanelOpened?w.a.createElement(we.c,{size:"md",name:we.a.ARROW_CHEVRON_UP}):w.a.createElement(we.c,{size:"md",name:we.a.ARROW_CHEVRON_DOWN})))}},{key:"renderPickUpFieldSet",value:function(){var e,t=this,n=this.props.carRentalAreasDestination.isEmpty()?[]:ht(this.props.carRentalAreasDestination.toArray());e=this.state.isPickUpCountrySelected?"":this.state.pickUpLocation?pt(this.state.pickUpLocation):pt(this.props.carParameters.lastSearchPickUpLocation);var a=this.state.pickUpCityCountry||this.props.carParameters.pickUpCity;return this.state.pickUpFirstTimeRender&&(a=""),w.a.createElement(Pt,{ref:function(e){t.carPickUpField=e},data:n,defaultLocation:e,defaultCountry:a,getCityCountryOptions:this.getCityCountryOptions,updateCountryDetails:this.updateCountryDetails,handleCountryState:this.handlePickUpCountryState,formatGroupLabel:this.formatGroupLabel,defaultDate:this.state.pickUpDate||this.props.carParameters.lastSearchPickUpDate,updateDate:this.updatePickUpDate,defaultTime:this.state.pickUpTime||this.props.carParameters.lastSearchPickUpTime,provinces:this.props.provinces,isCarsLocationsProcessing:this.props.isCarsLocationsDestinationProcessing,validations:this.props.carsConfiguration.car.pickUpLocation,className:"pickup",translation:"pickUp",updateLocation:this.updatePickUpLocation,updateTime:this.updatePickUpTime,defaultDateFormat:this.props.carsConfiguration.carPickUpDropOffFormats,weekStartDay:this.props.weekStartDay,label:Object(tt.d)("pickUpLocation",this.props.carsConfiguration.car,{},"car"),cityKeyProp:"car-pickup-city",locationKeyProp:"car-pickup-location",timeKeyProp:"car-pickup-time"})}},{key:"render",value:function(){var e=this,t=Object(F.a)(this.props.isAuthorable,"carsSearch");return w.a.createElement(Z.a,{className:"no-padding",attributes:t,id:"dxp-car-search-panel"},w.a.createElement(at.a,{hideHeaderIcon:!0,isCollapsed:!this.state.isSearchPanelOpened,onCollapse:function(){},destroyChildrenOnCollapse:!0,handleCollapseClick:function(){return e.collapseHeader()}},w.a.createElement("div",{className:"search-warning-container"},this.renderHeader(),w.a.createElement("div",{className:"search-warning"}," ",Object(R.a)("car.searchForm.message")," ")),w.a.createElement(at.a.Body,{refs:"paxEditPanel"},this.renderPickUpFieldSet(),this.renderDropOffFieldSet(),this.renderDriverFieldSet(),w.a.createElement("div",{className:"car-search-button-container"},w.a.createElement(Fe.a,{className:"car-edit-cancel-button small secondary",onClick:function(){return e.resetStateData()}},Object(R.a)("app.cancel")),w.a.createElement(Fe.a,{className:"car-search-button small primary",onClick:function(){return e.searchCars()},disabled:this.state.isSearchButtonDisabled},Object(R.a)("car.searchForm.buttonSearchLabel"))))))}}]),t}(N.Component);g()(At,"defaultProps",{isAuthorable:!0,carParameters:{},carRentalAreasDestination:Object(T.List)(),carRentalAreasDropOffLocation:Object(T.List)(),getCarsLocationsDestination:Xe.a,getCarsLocationsDropOff:Xe.a,citiesList:{},isCarsDropOffLocationsProcessing:!1,isCarsLocationsDestinationProcessing:!1});var Tt=n(1349),It=n(66),Dt=n(1294),xt=n(1315),jt=(n(1290),n(23)),Lt=n.n(jt),Ft=n(83),Bt=n.n(Ft),Rt=n(136),Mt=n(1370),Vt=n(1491),Ut=n(110),qt=n.n(Ut),Ht=n(51),Wt=n.n(Ht);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n(2834),n(2835);var Kt=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"renderNoCarRentalConditionsWarning",(function(){return w.a.createElement(Vt.a,{type:"warning"},y()(n.props.carRentalConditionsError)?Object(R.a)("car.rentalConditions.warning.description"):n.props.carRentalConditionsError.errorMessage)})),g()(p()(n),"getTextData",(function(e){return w.a.createElement("span",null,w.a.createElement("p",null,e))})),g()(p()(n),"getRentalConditionText",(function(e){return Lt()(e)?e.map((function(e){return n.getTextData(e)})):n.getTextData(e)})),g()(p()(n),"getRentalConditionDetails",(function(e){return e.map((function(e){return w.a.createElement("div",null,w.a.createElement("h3",null,e.title),n.getRentalConditionText(e.paragraph))}))})),g()(p()(n),"getTabs",(function(){var e=n.props.rentalConditionsCategories;return y()(e)?n.renderNoCarRentalConditionsWarning():w.a.createElement(Mt.c,{className:"dxp-car-rental-conditions-tabs"},w.a.createElement(Mt.e,{className:"dxp-car-rental-conditions-tabs-tabslist"},n.getTabsList(e)),w.a.createElement(Mt.d,null,n.getTabsPanels(e)))})),g()(p()(n),"getTabsList",(function(e){return Bt()(e).map((function(e){return w.a.createElement(Mt.a,{key:"cars-header-".concat(e.title),className:"dxp-car-rental-conditions-tabs-tab"},w.a.createElement(we.c,{name:e.icon,className:"dxp-car-rental-conditions-tabs-tab-icon"}),w.a.createElement("span",{className:"dxp-car-rental-conditions-tabs-tab-text"},Object(R.a)("".concat(e.title))))}))})),g()(p()(n),"getTabsPanels",(function(e){return Bt()(e).map((function(e){return w.a.createElement(Mt.b,{key:"rental-condition-".concat(e.title),className:"dxp-car-rental-conditions-tabs-tab-panel"},n.getRentalConditionDetails(e.data))}))})),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.fetchCarRentalConditions(this.props.selectedCarOffer)}},{key:"render",value:function(){return w.a.createElement("div",null,w.a.createElement(Rt.a,{className:"dxp-car-rental-conditions",onCloseClick:this.props.onCarRentalConditionsCloseClick},w.a.createElement("h2",null,this.props.title),this.props.isFetching&&w.a.createElement(V.a,{className:"dark"}),!this.props.isFetching&&y()(this.props.carRentalConditions)&&this.renderNoCarRentalConditionsWarning(),!this.props.isFetching&&!y()(this.props.carRentalConditions)&&this.getTabs()))}}]),t}(N.Component);g()(Kt,"defaultProps",{title:"",isFetching:!1,carRentalConditions:void 0,carRentalConditionsError:void 0});var zt=Object(I.b)((function(e){var t=Wt()(e.cars.get("carRentalConditions"),"toJS"),n=e.cars.get("isCarsRentalConditionsFetching"),a=e.cars.get("carRentalConditionsError"),r=t?qt()(t.conditions,(function(e){return e.categoryId})):{};return{carRentalConditions:t,isFetching:n,carRentalConditionsError:a,rentalConditionsCategories:e.metadata.get("carsConfiguration").rentalConditionsCategories.filter((function(e){return r[e.categoryId]})).map((function(e){return e.title&&e.categoryId?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{data:r[e.categoryId]}):e})),groupedRentalConditions:r}}),(function(e){return{fetchCarRentalConditions:function(t){e(Object(j.e)(t))}}}))(Kt),Yt=n(200),Qt=n.n(Yt),Xt=n(778),Jt=n.n(Xt),$t=n(38),Zt=n.n($t),en=n(114),tn=n(1441),nn=n(2279),an=n(2074),rn=n(2072),sn=n(78),on=function(e,t){return w.a.createElement(sn.a,{onClick:function(e){return function(e,t){e.preventDefault(),t&&t(e)}(e,t)}},Object(R.i)("car.driverInfo.".concat(e)))};function ln(e,t){var n,a,r=e.checkboxChecked,i=e.handleCheckboxChange,s=e.handleCarRentalConditionsClick;return w.a.createElement(Ae.a,{id:"terms-agree",translatedLabel:t.translateWithComponents("car.driverInfo.agreementDescription",{rentalConditions:on("rentalConditionsLabel",s),bookingTermsAndConditions:(n=e.bookingConditionsLink,a="bookingTermsAndConditionsLabel",w.a.createElement(sn.a,{title:Object(R.i)("".concat("car.driverInfo.").concat(a)),href:n,rel:"external",target:"_blank",isExternalLink:!0},Object(R.i)("".concat("car.driverInfo.").concat(a))))}),checked:r,onChange:function(e,t){return i(e,t)}})}ln.contextTypes={translateWithComponents:A.func.isRequired},ln.defaultProps={checkboxChecked:!1};var cn=ln;n(2836);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var dn="car-driver-form",pn=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{saveInfoButtonDisabled:!0}),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({saveInfoButtonDisabled:this.props.selectedOfferDriversInfo.isEmpty()})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.selectedOfferDriversInfo&&!e.selectedOfferDriversInfo.equals(this.props.selectedOfferDriversInfo)&&this.setState({saveInfoButtonDisabled:e.selectedOfferDriversInfo.isEmpty()})}},{key:"getAllowedNameValues",value:function(e){var t=Zt()(this.props.configuration,["firstName","lastName","prefix"]);return dt()(t,(function(t,n,a){return _()(n,"isEnabled")&&(t[a]=_()(e,a)),t}),{})}},{key:"getCountries",value:function(){var e=_()(this.props,"provinces.countries");return C()(e,(function(e){var t="".concat("country",".").concat(e.code),n=Object(R.i)(t);return{value:e.code,label:n}}))}},{key:"getValue",value:function(){var e={driverName:this.getAllowedNameValues(this.basicInfoSection.getValue()),driverAge:this.props.driverAge},t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({addresses:[Jt()(this.addressInfoSection.getValue(),Qt.a)]},this.contactInfoSection.getValue());return{primaryDriver:e,primaryDriverCitizenship:this.props.primaryDriverCitizenship,drivers:[],contactDetails:t}}},{key:"handleCheckboxChange",value:function(e){this.setState({saveInfoButtonDisabled:!e})}},{key:"handleSaveInfoClick",value:function(e){e.preventDefault(),this.isValid()&&this.saveDriverInformation()}},{key:"isValid",value:function(){var e={basicInfoSection:!ie()(this.basicInfoSection),contactInfoSection:!ie()(this.contactInfoSection),addressInfoSection:!ie()(this.addressInfoSection)};return Object(nt.c)(e,{basicInfoSection:this.basicInfoSection,contactInfoSection:this.contactInfoSection,addressInfoSection:this.addressInfoSection})}},{key:"saveDriverInformation",value:function(){var e=this.getValue();this.carDriverInfoCollapse.collapse(),this.props.saveDriverData(e)}},{key:"renderAddressInfo",value:function(e){var t=this,n=this.props,a=n.passenger,r=n.configuration.address,i=n.provinces,s=e?this.props.selectedOfferDriversInfo.getIn(["contactDetails","addresses"]).first():a.getIn(["passengerInfo","address"]);return w.a.createElement(nn.a,{configuration:r,countries:this.getCountries(),provinces:i,data:Wt()(s,"toJS"),ref:function(e){t.addressInfoSection=e},id:dn,className:"driver-address-info-section dxp-fieldset",prefix:"car.driverInfo"})}},{key:"renderBasicInfo",value:function(e){var t=this,n=this.props,a=n.passenger,r=n.configuration,i=Zt()(r,"firstName","lastName","prefix"),s=e?this.props.selectedOfferDriversInfo.getIn(["primaryDriver","driverName"]):a.get("passengerDetails");return w.a.createElement(rn.a,{configuration:i,prefixOptions:Object(en.j)("prefix",r),data:Wt()(s,"toJS"),ref:function(e){t.basicInfoSection=e},prefix:"car.driverInfo",id:dn})}},{key:"renderContactInfo",value:function(e){var t=this,n=this.props,a=n.passenger,r=n.configuration,i=n.phoneCountryCodes,s=Zt()(r,"phone","email"),o=e?this.props.selectedOfferDriversInfo.get("contactDetails"):a.get("passengerInfo");return w.a.createElement(an.a,{configuration:s,data:Wt()(o,"toJS"),ref:function(e){t.contactInfoSection=e},id:dn,prefix:"car.driverInfo",className:"driver-contact-info-section dxp-fieldset",phoneCountryCodes:i})}},{key:"renderDriverInfo",value:function(e){var n=this.props,a=n.passenger,r=n.primaryDriverCitizenship,i=n.selectedOfferDriversInfo,s=n.driverAge,o=e?i.getIn(["primaryDriver","driverName"],Object(T.Map)()):a.get("passengerDetails",Object(T.Map)()),l=e?i.get("contactDetails",Object(T.Map)()):a.get("passengerInfo",Object(T.Map)()),c=l.getIn(["phones",0]),u=l.getIn(["emails",0]);return w.a.createElement("div",{className:"driver-info"},w.a.createElement("div",{className:"driver-name"},w.a.createElement("span",null,"".concat(Object(R.i)("prefix.".concat(o.get("prefix","")))," ").concat(o.get("firstName","")," ").concat(o.get("lastName","")))),w.a.createElement("div",{className:"driver-info-column"},c&&t.renderDriverInfoSection(we.a.PHONE,"+".concat(c.get("countryCode","")).concat(c.get("number",""))),u&&t.renderDriverInfoSection(we.a.EMAIL,u)),w.a.createElement("div",{className:"driver-info-column"},t.renderDriverInfoSection(we.a.CALENDAR,Object(R.i)("car.driverAgeOption.".concat(s))),t.renderDriverInfoSection(we.a.LOCATION_EMPTY,Object(R.i)("country.".concat(r)))))}},{key:"render",value:function(){var e=this,t=!this.props.selectedOfferDriversInfo.isEmpty(),n=Object(F.a)(this.props.isAuthorable,"carDriverInfo");return w.a.createElement(at.a,{isCollapsed:t,ref:function(t){e.carDriverInfoCollapse=t},className:"dxp-driver-info",attributes:n},w.a.createElement(at.a.Header,null,this.renderDriverInfo(t),w.a.createElement("span",{className:"edit-info"},Object(R.i)("car.driverInfo.editDriversInfo"))),w.a.createElement(at.a.Body,null,w.a.createElement("div",null,w.a.createElement("div",{className:"dxp-panel clearfix"},w.a.createElement("div",{className:"header"},w.a.createElement("h2",null,Object(R.a)("car.driverInfo.header"))),w.a.createElement(tn.a,null),w.a.createElement("form",{className:"dxp-driver-info-form"},w.a.createElement("div",{className:"driver-information"},w.a.createElement("fieldset",{className:$()("driver-basic-info-section","dxp-fieldset")},w.a.createElement("legend",{className:"driver-basic-info-section-legend"},Object(R.a)("car.driverInfo.basicInfoHeader")),this.renderBasicInfo(t)),this.renderContactInfo(t),w.a.createElement("fieldset",{className:$()("driver-address-info-section","dxp-fieldset")},w.a.createElement("legend",{className:"driver-address-info-section-legend"},Object(R.a)("car.driverInfo.addressInfoHeader")),this.renderAddressInfo(t))),!t&&w.a.createElement("div",{className:"toc-container"},w.a.createElement(cn,{bookingConditionsLink:_()(this.props.configuration,"bookingTermsAndConditions"),rentalConditionsLink:_()(this.props.configuration,"rentalConditions.".concat(this.props.provider)),handleCheckboxChange:function(t,n){return e.handleCheckboxChange(n)},handleCarRentalConditionsClick:this.props.onCarRentalConditionsClick})),w.a.createElement("div",{className:"dxp-save-driver-info-section"},w.a.createElement(Fe.a,{id:"save-driver-info",className:$()("dxp-button medium primary"),onClick:function(t){return e.handleSaveInfoClick(t)},disabled:this.state.saveInfoButtonDisabled},t?Object(R.a)("car.driverInfo.updateDriversInfo"):Object(R.a)("car.driverInfo.addCarHireButtonLabel"))))))))}}],[{key:"renderDriverInfoSection",value:function(e,t){return w.a.createElement("div",{className:"driver-info-section"},w.a.createElement(we.c,{name:e,size:"sm"}),w.a.createElement("span",null,t))}}]),t}(N.Component);g()(pn,"defaultProps",{provinces:{},passenger:Object(T.Map)(),selectedOfferDriversInfo:Object(T.Map)(),isAuthorable:!0});var hn=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"renderDriverInformationForm",value:function(){var e=this,t=this.props,n=t.carsConfiguration,a=t.primaryPassenger,r=t.provinces,i=t.driverAge,s=t.primaryDriverCitizenship,o=t.phoneCountryCodes,l=this.props.selectedCarOffer.getIn(["carCharacteristics","provider","name"],"");return w.a.createElement("div",{className:"car-driver-information-container"},w.a.createElement(pn,{configuration:_()(n,"carDriverInfoForm"),provinces:r,passenger:a,driverAge:i||_()(n,"defaultDriverAge"),primaryDriverCitizenship:s||_()(n,"defaultPrimaryDriverCitizenship"),provider:l,selectedOfferDriversInfo:this.props.selectedOfferDriversInfo,saveDriverData:function(t){return e.props.updateSelectCarOffer(t)},phoneCountryCodes:o,onCarRentalConditionsClick:this.props.onCarRentalConditionsClick}))}},{key:"renderSelectedOffer",value:function(){var e=this,t=!this.props.selectedOfferDriversInfo.isEmpty();return w.a.createElement("div",{"data-component-state":t?"car-added-to-cart":"car-not-added-to-cart"},w.a.createElement(Ve,{key:"car-offer-".concat(this.props.selectedCarOffer.get("signature")),car:this.props.selectedCarOffer,cancelSelectedOffer:function(){return e.props.cancelSelectedOffer()},isOfferSelected:!0,isOfferAddedToCart:t,primaryDriverCitizenship:this.carSearchPanel&&this.carSearchPanel.getPrimaryDriverCitizenship(),configuration:this.props.carsConfiguration,pickUpDate:this.props.pickUpDate,pickUpTime:this.props.pickUpTime,dropOffDate:this.props.dropOffDate,dropOffTime:this.props.dropOffTime,pickUpLocation:this.props.pickUpLocation,dropOffLocation:this.props.dropOffLocation}))}},{key:"render",value:function(){return w.a.createElement("div",{className:"car-filters-offers-container"},w.a.createElement("div",{className:"car-offers-container"},this.renderSelectedOffer(),this.renderDriverInformationForm()))}}]),t}(N.Component);g()(hn,"defaultProps",{selectedCarOffer:Object(T.Map)(),provinces:{},selectedOfferDriversInfo:Object(T.Map)(),driverAge:void 0,primaryDriverCitizenship:void 0});var fn=hn,mn=n(42),gn=n(559),vn=n(1892),yn=n(532),bn=n(125),Cn=n(327),En=n(531),kn=n(328),On=n(174),_n=n(214),Pn=function(e){return e.ancillaries.getIn(["cartData","result","passengers","passengers"],Object(T.Map)()).find((function(e){return e.getIn(["passengerInfo","type"])===bn.a.ADT}))};var Sn=function(e){return e.cars.get("carRentalAreas")},Nn=Object(mn.a)(Object(gn.a)(),(function(e){return e.shoppingCart.get("data")}),(function(e){return e.cars.getIn(["carRentalAreas","default","0","carLocationId"],Object(T.Map)()).toJS()}),(function(e){return e.metadata.get("carsConfiguration")}),Object(vn.a)(),(function(e){return e.cars.get("pickUpDateTime")}),(function(e){return e.cars.get("dropOffDateTime")}),Sn,(function(e,t,n,a,r,i,s,o){var l=t.isEmpty()?{date:void 0}:L.h(t.get("itinerary").get("itineraryParts"),n),c=t.isEmpty()?{date:void 0}:L.d(t.get("itinerary").get("itineraryParts"),n,a.defaultRentDuration,r.isRoundTrip),u=_()(a,["carPickUpDropOffFormats","dateFormat"]),d=_()(a,["carPickUpDropOffFormats","timeFormat"]),p=gt()(i||l.date).format(d),h=gt()(s||c.date).format(d),f=gt()(i||l.date).format(u),m=gt()(s||c.date).format(u),g=o.getIn(["default","0","address","country"]),v=o.getIn(["default","0","carLocationId"],Object(T.Map)()).toJS(),y=o.getIn(["default","0","rentalAreaName"]);return{pickUpCity:"".concat(e).concat("|").concat(g),dropOffCity:"".concat(e).concat("|").concat(g),lastSearchPickUpLocation:y,lastSearchDropOffLocation:y,lastSearchResidenceCountry:a.defaultPrimaryDriverCitizenship,lastSearchDriverAge:a.defaultDriverAge,lastSearchPickUpDate:f,lastSearchDropOffDate:m,lastSearchPickUpTime:p,lastSearchDropOffTime:h,defaultCarLocationId:v}})),wn=Object(mn.a)(Nn,(function(e){return e.cars.get("carLastSearchParameters",Object(T.Map)()).toJS()}),(function(e,t){return y()(t)?e:t}));var An=n(76),Tn=n.n(An);function In(e,t){var n=e;return Tn()(t,(function(e,t){n=n.filter((function(n){return function(e,t,n){return he()(t,(function(t,a){return function(e,t,n,a){var r=e.get("carCharacteristics").get(n).get(a);return ce()(t,r)}(e,t,n,a)}))}(n,e,t)}))})),n}var Dn=n(1972);n(2837);function xn(e,t){return e<t?-1:e>t?1:0}function jn(e,t){return e>t?-1:e<t?1:0}var Ln=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{cars:Object(T.List)(),selectedCarOffer:Object(T.Map)(),sortingDirection:_()(n.props,["carsConfiguration","defaultSortOrder"],"priceAsc"),isCarRentalConditionModalOpen:!1}),g()(p()(n),"onCarRentalConditionsCloseClick",(function(e){e&&e.preventDefault(),Object(j.b)(),n.setState({isCarRentalConditionModalOpen:!1})})),g()(p()(n),"onCarRentalConditionsClick",(function(e){e&&e.preventDefault(),n.setState({isCarRentalConditionModalOpen:!0})})),g()(p()(n),"onSearchCars",(function(e,t){return n.cancelSelectedOffer(),n.props.searchCars(e,t)})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.selectedCarOffer,a=t.carOffers,r=t.currentFlow,i=t.location,s=t.carsLocationsError,o=t.carsSearchError;this.props.fetchAndTransformSelectedOffer(),n.isEmpty()&&(a?this.setState({cars:a.get("cars",Object(T.List)())}):s||o||this.props.requestCart(r,i).then((function(){return e.props.getDefaultCarsLocations(i).then((function(){return e.props.searchCars(e.prepareDefaultCarsRequestData(),i)}))})))}},{key:"componentDidMount",value:function(){this.props.carOffers&&this.filters&&this.sortCarOffers(this.props.carsConfiguration.defaultSortOrder)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.props.selectedCarOffer.isEmpty()||this.setState({selectedCarOffer:this.props.selectedCarOffer.get("car")})}},{key:"componentDidUpdate",value:function(e){this.props.carOffers&&!this.props.carOffers.equals(e.carOffers)&&this.sortCarOffers(this.props.carsConfiguration.defaultSortOrder)}},{key:"addSelectedCarOfferToCart",value:function(e){this.props.updateSelectCarOffer(this.state.selectedCarOffer.get("signature"),e)}},{key:"applyFilters",value:function(e){var t=e.filters,n=void 0===t?this.filters.getValue():t,a=e.sortingDirection,r=void 0===a?this.state.sortingDirection:a;return this.filterCarOffers(n).sort((function(e,t){return n=r,a=e.getIn(["rentalRate","estimatedTotal","amount"]),i=t.getIn(["rentalRate","estimatedTotal","amount"]),s={},g()(s,"priceDsc",jn),g()(s,"priceAsc",xn),(o=s)[n]?o[n](a,i):0;var n,a,i,s,o}))}},{key:"cancelSelectedOffer",value:function(){var e=this;this.props.removeSelectedCarOffer().then((function(){return e.setState({selectedCarOffer:Object(T.Map)()},(function(){return e.sortCarOffers(e.props.carsConfiguration.defaultSortOrder)}))}))}},{key:"filterCarOffers",value:function(e){return In(S()(this.props.carOffers.get("cars")),e)}},{key:"filtersChanged",value:function(e){this.setState({cars:this.applyFilters({filters:e})})}},{key:"goBackToAncillaryPage",value:function(){var e=_()(this.props,"location.query",{});this.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(x.a.ANCILLARIES),e)}},{key:"isCarDataBeingFetched",value:function(){var e=this.props,t=e.isCarsLocationsProcessing,n=e.isCarsSearchProcessing;return t||n}},{key:"prepareDefaultCarsRequestData",value:function(){var e=this.props.carsConfiguration,t=this.props.shoppingCart.getIn(["data","itinerary","itineraryParts"]),n=this.props.carRentalAreas.getIn(["default","0","carLocationId"]).toObject();return{driversInfo:{primaryDriver:{driverAge:_()(e,"defaultDriverAge")},primaryDriverCitizenship:_()(e,"defaultPrimaryDriverCitizenship"),drivers:[]},pickUpDetail:Object(L.h)(t,n),dropOffDetail:Object(L.d)(t,n,_()(e,"defaultRentDuration"),this.props.journeyType),pickUpCity:Object(L.e)(this.props.shoppingCart.getIn(["data","itinerary"]))}}},{key:"proceedToNextPage",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),_()(this,"props.location.query",{}))}},{key:"selectOffer",value:function(e){this.setState({selectedCarOffer:e})}},{key:"sortCarOffers",value:function(e){var t=this;return new Promise((function(n){return t.setState({sortingDirection:e,cars:t.applyFilters({sortingDirection:e})},n)}))}},{key:"renderCarOffers",value:function(){var e=this,t=this.state.cars.map((function(t,n){return w.a.createElement(Ve,{key:"car-offer-".concat(t.get("signature")),car:t,index:n,updateSelectCarOffer:function(t){return e.selectOffer(t)}})}));return w.a.createElement(te,{elements:t,configuration:_()(this.props,"carsConfiguration.paginationConfiguration")})}},{key:"renderCars",value:function(){var e=this;return w.a.createElement("div",{"data-test-id":"car-offers"},w.a.createElement("div",{className:"filter-results"},w.a.createElement(B.a,{className:"car-offers-sort",label:"car.sort.label",onChange:function(t){return e.sortCarOffers(t)},options:[{value:"priceAsc",label:Object(R.i)("car.sort.".concat("priceAsc"))},{value:"priceDsc",label:Object(R.i)("car.sort.".concat("priceDsc"))}],defaultValue:this.state.sortingDirection,ref:function(t){e.sortOffers=t},disabled:!this.state.selectedCarOffer.isEmpty(),keyProp:"car-offers-sort"})),w.a.createElement("div",{className:"car-filters-offers-container"},this.props.carFilters&&w.a.createElement(xe,{filters:this.props.carFilters,className:"cars-filters",onFilterChange:function(t){return e.filtersChanged(t)},ref:function(t){e.filters=t}}),w.a.createElement("div",{className:"car-offers-container","data-test-id":"car-offers-list"},this.state.cars.isEmpty()?w.a.createElement(M.a,{type:"info",title:"car.filters.message.title"},Object(R.a)("car.filters.message.description")):this.renderCarOffers())))}},{key:"renderError",value:function(){var e=this.props,t=e.carsLocationsError,n=e.carsSearchError,a=e.carParameters,r=y()(t)?"searchErrorMessage":t,i=a.lastSearchPickUpLocation;return w.a.createElement(M.a,{type:"error",title:"car.".concat(r,".title")},n&&Object(R.a)("car.searchErrorMessage.description",{city:i}),t&&Object(R.a)("car.".concat(t,".description")))}},{key:"renderSearchPanel",value:function(){var e=this,t=this.props,n=t.carParameters,a=t.carRentalAreasDestination,r=void 0===a?Object(T.List)():a,i=t.carRentalAreasDropOffLocation,s=void 0===i?Object(T.List)():i,o=r.map((function(e){return e.get("rentalAreaName")})).toArray(),l=s.map((function(e){return e.get("rentalAreaName")})).toArray(),c=C()(o,(function(e){return{value:e,label:e}})),u=C()(l,(function(e){return{value:e,label:e}})),d=this.props.carsLocationsError||this.props.carsSearchError,p=this.props.carRentalAreas.getIn(["default","0","rentalAreaName"]);return w.a.createElement(At,{carParameters:n,getCarsLocations:this.props.getCarsLocations,actionUpdateURLQuery:this.props.actionUpdateURLQuery,location:this.props.location,carsConfiguration:this.props.carsConfiguration,defaultRentalArea:p,searchCars:this.onSearchCars,destination:this.props.destination,countries:this.props.countries,isProcessing:this.props.isCarsLocationsProcessing||this.props.isCarsSearchProcessing,ref:function(t){e.carSearchPanel=t},isSearchPanelOpened:void 0!==d,isOfferSelected:!this.state.selectedCarOffer.isEmpty(),locale:this.props.locale,carRentalAreasDestination:r,carRentalAreasDropOffLocation:s,getCarsLocationsDestination:this.props.getCarsLocationsDestination,getCarsLocationsDropOff:this.props.getCarsLocationsDropOff,citiesList:c,provinces:this.props.provinces,citiesListDropOff:u,updateLastSearchData:this.props.updateLastSearchData,isCarsLocationsProcessing:this.props.isCarsLocationsProcessing,isCarsDropOffLocationsProcessing:this.props.isCarsDropOffLocationsProcessing,isCarsLocationsDestinationProcessing:this.props.isCarsLocationsDestinationProcessing,weekStartDay:this.props.weekStartDay})}},{key:"renderSelectedCarOffer",value:function(){var e=this,t=this.props.carParameters,n=t.lastSearchDriverAge,a=t.lastSearchResidenceCountry,r=t.lastSearchPickUpDate,i=t.lastSearchPickUpTime,s=t.lastSearchDropOffDate,o=t.lastSearchDropOffTime,l=t.lastSearchPickUpLocation,c=t.lastSearchDropOffLocation;return w.a.createElement(fn,{selectedCarOffer:this.state.selectedCarOffer,carsConfiguration:this.props.carsConfiguration,primaryPassenger:this.props.primaryPassenger,provinces:this.props.provinces,updateSelectCarOffer:function(t){return e.addSelectedCarOfferToCart(t)},cancelSelectedOffer:function(){return e.cancelSelectedOffer()},selectedOfferDriversInfo:this.props.selectedCarOffer.get("driversInfo"),driverAge:parseInt(n,10),primaryDriverCitizenship:a,pickUpDate:r,pickUpTime:i,dropOffDate:s,dropOffTime:o,pickUpLocation:l,dropOffLocation:c,phoneCountryCodes:this.props.phoneCountryCodes,onCarRentalConditionsClick:this.onCarRentalConditionsClick})}},{key:"renderCarRentalConditionsModal",value:function(){return w.a.createElement(zt,{title:Object(R.i)("car.rentalConditions.rentalConditionsModalTitle"),onCarRentalConditionsCloseClick:this.onCarRentalConditionsCloseClick,selectedCarOffer:this.state.selectedCarOffer})}},{key:"render",value:function(){var e=this,t=this.props,n=t.carsLocationsError,a=t.isCarsLocationsProcessing,r=t.getNextPage,i=t.carsSearchError,s=t.isCarsSearchProcessing,o=t.location,l=n||i,c=a||s,u=!c&&!this.state.selectedCarOffer.isEmpty(),d=!l&&!u,p=Object(F.a)(this.props.isAuthorable,"carsView");return w.a.createElement(Dn.a,{location:o,className:"dxp-cars-view",id:"dxp-cars-view",title:this.state.selectedCarOffer.isEmpty()?"car.header.viewTitle":"car.header.selectedOffer",authorableAttributes:p},l&&this.renderError(),!a&&this.renderSearchPanel(),u&&this.renderSelectedCarOffer(),this.state.isCarRentalConditionModalOpen&&this.renderCarRentalConditionsModal(),c?w.a.createElement(V.a,null):d&&this.renderCars(),w.a.createElement("div",{className:"pull-right"},w.a.createElement(Tt.a,{location:o,continueTitle:Object(R.i)("app.".concat(k()(r("b2c","cars")))),backTitle:Object(R.i)("app.backToAncillaries"),onBack:function(){return e.goBackToAncillaryPage()},onContinue:function(){return e.proceedToNextPage()}})))}}]),t}(N.Component);g()(Ln,"defaultProps",{isAuthorable:!0,carsLocationsError:void 0,carsSearchError:void 0,carOffers:void 0,provinces:{},selectedCarOffer:Object(T.Map)(),primaryPassenger:void 0,carFilters:void 0,carParameters:{},carRentalAreasDestination:Object(T.List)(),carRentalAreasDropOffLocation:Object(T.List)(),carRentalAreas:Object(T.Map)()});var Fn=Object(I.b)((function(){return Object(mn.b)({carRentalAreas:Sn,isCarsLocationsProcessing:function(e){return e.cars.get("isCarsLocationsProcessing")},isCarsDropOffLocationsProcessing:function(e){return e.cars.get("isCarsDropOffLocationsProcessing")},isCarsLocationsDestinationProcessing:function(e){return e.cars.get("isCarsLocationsDestinationProcessing")},carsSearchError:function(e){return e.cars.get("carsSearchError")},isCarsSearchProcessing:function(e){return e.cars.get("isCarsSearchProcessing")},carOffers:function(e){return e.cars.get("carOffers")},carFilters:function(e){return e.cars.get("carFilters")},carsLocationsError:function(e){return e.cars.get("carsLocationsError")},shoppingCart:function(e){return e.shoppingCart},primaryPassenger:Pn,carsConfiguration:function(e){return e.metadata.get("carsConfiguration")},destination:Object(gn.a)(),countries:function(e,t){return e.translations.get(function(e,t){return _()(t,"location.query.locale",e.metadata.get("selectedLocale"))}(e,t.location)).country},provinces:function(e){return e.metadata.get("provincesConfiguration")},journeyType:Object(vn.a)(),selectedCarOffer:function(e){return e.cars.get("selectedCarOfferTransformed")},locale:function(e){return e.metadata.get("selectedLocale")},getNextPage:yn.a,language:Cn.a,background:Object(En.a)(),dateFormat:kn.b,currentFlow:On.a,searchCriteria:Object(_n.a)(),phoneCountryCodes:function(e){return e.metadata.get("phoneConfiguration")},carParameters:wn,carRentalAreasDestination:function(e){return e.cars.get("carRentalAreasDestination")},carRentalAreasDropOffLocation:function(e){return e.cars.get("carRentalAreasDropOffLocation")},weekStartDay:function(e){return e.metadata.get("weekStartDay")}})}),{getCarsLocations:j.f,searchCars:j.l,requestCart:D.g,actionUpdateURLQuery:It.c,getDefaultCarsLocations:j.i,updateSelectCarOffer:j.o,fetchAndTransformSelectedOffer:j.c,removeSelectedCarOffer:j.j,getCarsLocationsDestination:j.g,getCarsLocationsDropOff:j.h,updateLastSearchData:j.n,clearCarRentalConditions:j.b})(Object(Dt.a)(Object(xt.a)(Ln),"isCarsLocationsProcessing"));n.d(t,"default",(function(){return Fn}))},,,function(e,t,n){"use strict";n.r(t);var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(51),C=n.n(b),E=n(2),k=n.n(E),O=n(6),_=n(1),P=n.n(_),S=n(123),N=n(11),w=(n(194),n(1281)),A=n(31),T=n.n(A),I=n(37),D=n.n(I),x=n(16),j=n.n(x),L=n(246),F=n.n(L),B=n(73),R=n.n(B),M=n(238),V=n.n(M),U=n(15),q=n.n(U),H=n(38),W=n.n(H),G=n(12),K=n(50),z=(n(1290),n(88)),Y=n(195),Q=n(319),X=n(1370),J=n(5),$=n.n(J),Z=n(27),ee=n.n(Z),te=n(35),ne=n.n(te),ae=n(92),re=n.n(ae),ie=n(524),se=n(2480),oe=n(2333);n(3216);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ce=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),g()(T()(n),"getBillingAddress",(function(e){var t=e.find((function(e){return e.type===se.a.addressType})),n=e.find((function(e){return e.type===se.b.addressType}));return t||n||ee()(e)||{}})),g()(T()(n),"addAddressType",(function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},se.a)}))})),n.creditCards=P.a.createRef(),n.state={creditCards:y()(e,"billingInformationData.userCreditCards",[])},n}return f()(t,e),l()(t,[{key:"getValue",value:function(){return this.state.creditCards}},{key:"handleCreditCardDelete",value:function(e,t,n){var a=this.state.creditCards,r=re()(a);r.splice(t,1),this.handleUpdatingCreditCardsInAppState(r,[n])}},{key:"handleCreditCardSave",value:function(e,t){var n=this.state.creditCards,a=re()(n),r=[e.billingData];a[t]=e.creditCardDetails,this.handleUpdatingCreditCardsInAppState(a,r)}},{key:"handleUpdatingCreditCardsInAppState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.props.onTabChange;this.setState({creditCards:e},(function(){a({userCreditCards:t.state.creditCards,addresses:t.props.isSaveAddressTypeInvoiceEnabled?t.addAddressType(n):n})}))}},{key:"isValid",value:function(){return this.creditCards.current&&this.creditCards.current.isValid()}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.billingInformationConfiguration,i=a.provinces,s=a.billingInformationData,o=a.addresses;return P.a.createElement("div",{className:"dxp-billing-information"},P.a.createElement(Q.a,{type:"info",title:"profile.billingInformation.creditCard.billingAddressInfo.title"},Object(G.a)("profile.billingInformation.creditCard.billingAddressInfo.description")),P.a.createElement(ie.a,{className:"no-border-radius"},P.a.createElement(oe.a,{ref:this.creditCards,configuration:(e=r.creditCards,j()(ne()(e,["creditCardDetails","billingData","cardTypes"]),{paymentFormValidation:j()({},e.creditCardDetails,e.billingData),cardTypes:(t=e.cardTypes,$()(t,(function(e){return j()({},e,{charLength:parseInt(e.charLength,10)})})))})),provinces:i,creditCards:s.userCreditCards,address:this.getBillingAddress(o),onCreditCardSave:function(e,t){return n.handleCreditCardSave(e,t)},onCreditCardDelete:function(e,t,a){return n.handleCreditCardDelete(e,t,a)},phoneCountryCodes:this.props.phoneCountryCodes})))}}]),t}(_.Component);g()(ce,"defaultProps",{billingInformationConfiguration:{},billingInformationData:{},addresses:[],isSaveAddressTypeInvoiceEnabled:!1});var ue=n(1441),de=n(2033),pe=n(77),he=n.n(pe),fe=n(153),me=n(2364),ge=function(e){function t(e){var n;s()(this,t);var a=(n=u()(this,p()(t).call(this,e))).props.configuration,r=y()(a,"travelDocumentsRequired",!1);return n.state={hasTravelDocuments:!k()(y()(e,"data.travelDocuments")||y()(e,"data.documentInfo"))||r},n}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!k()(y()(e,"data.travelDocuments")||y()(e,"data.documentInfo")),n=!k()(y()(this.props,"data.travelDocuments")||y()(this.props,"data.documentInfo"));he()(t,n)||this.setState({hasTravelDocuments:t})}},{key:"onAddRemoveTravelDocumentClick",value:function(e){e.preventDefault(),this.setState((function(e){return{hasTravelDocuments:!e.hasTravelDocuments}}))}},{key:"getValue",value:function(){return this.state.hasTravelDocuments&&this.travelDocuments.getValue()||{}}},{key:"isValid",value:function(){var e={travelDocuments:this.state.hasTravelDocuments};return Object(fe.c)(e,{travelDocuments:this.travelDocuments})}},{key:"renderAddTravelDocumentsActionButton",value:function(){var e=this.props.configuration;return P.a.createElement("div",{className:"action-button"},y()(e,"travelDocuments.isEnabled")&&this.renderAddTravelDocumentsButton())}},{key:"renderAddTravelDocumentsButton",value:function(){var e=this,t=this.state.hasTravelDocuments?"passengers.removeTravelDocuments":"passengers.addTravelDocuments",n=this.props.configuration;return P.a.createElement("span",null,P.a.createElement(z.a,{className:"add-remove-travel-documents primary small round",onClick:function(t){return e.onAddRemoveTravelDocumentClick(t)},disabled:!y()(n,"travelDocuments.isEditable")},P.a.createElement(K.c,{name:this.state.hasTravelDocuments?K.a.MATH_SUBTRACT:K.a.MATH_ADD,srOnlyText:Object(G.i)(t)})),P.a.createElement("span",{"aria-hidden":"true"},Object(G.a)(t)))}},{key:"renderTravelDocument",value:function(){var e=this,t=this.props,n=t.travelDocumentType,a=t.defaultValue,r=t.data,i=t.dateFormat,s=t.countries,o=t.defaultLocale,l=t.configuration,c=t.id;return P.a.createElement(me.a,{ref:function(t){e.travelDocuments=t},travelDocumentType:n,defaultValue:y()(r,"documentInfo",a),dateFormat:i,countries:s,defaultLocale:o,configuration:C()(W()(l,"travelDocuments"),"travelDocuments"),id:"".concat(c,"-travel-document")})}},{key:"render",value:function(){var e=this.props,t=e.configuration,n=e.id,a=y()(t,"travelDocumentsRequired",!1);return P.a.createElement("fieldset",{className:"passenger-add-travel-documents-section",id:n},P.a.createElement("legend",{className:"passenger-add-travel-documents-section-legend"},Object(G.a)("passengers.travelDocuments")),P.a.createElement("div",{className:"editable-fields"},!a&&this.renderAddTravelDocumentsActionButton(),this.state.hasTravelDocuments&&this.renderTravelDocument()))}}]),t}(_.Component);g()(ge,"defaultProps",{defaultValue:{},data:{}});var ve=n(114),ye=(n(3217),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.isValid()&&this.props.onTabChange&&this.props.onTabChange(this.getValue())}},{key:"getCountries",value:function(){var e=y()(this.props,"provinces.countries");return $()(e,(function(e){var t="".concat("country",".").concat(e.code),n=Object(G.i)(t);return{value:e.code,label:n}}))}},{key:"getValue",value:function(){return this.travelDocuments.getValue()}},{key:"isValid",value:function(){return this.travelDocuments.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.profile,a=t.configuration,r=t.dateFormat,i=t.defaultLocale,s=t.flow;return P.a.createElement("div",{className:"dxp-my-profile-travel-documents"},P.a.createElement("div",{className:"step-title-container"},P.a.createElement(de.a,{name:"".concat(n.firstName," ").concat(n.lastName),className:"small warning inline"}),P.a.createElement(w.a,{className:"step-title",tag:"h3",title:"createProfile.travelDocuments"})),P.a.createElement(ue.a,null),P.a.createElement(ge,{ref:function(t){e.travelDocuments=t},travelDocumentType:Object(ve.j)("documentType",a),defaultValue:n&&y()(this.props,"profile.documentInfo"),dateFormat:r,countries:this.getCountries(),defaultLocale:i,configuration:a,flow:s,isPassengerInfoEditable:!0,id:"my-profile-travel-documents"}))}}]),t}(_.Component));g()(ye,"defaultProps",{profile:{documentInfo:void 0},configuration:void 0,dateFormat:"",defaultLocale:"",onTabChange:void 0,flow:""});var be=n(560),Ce=n(2358),Ee=n(1289),ke=(n(3218),n(3219),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.props.onTabChange(this.getValue())}},{key:"getLabel",value:function(e){return Object(Ee.a)("passengers.".concat(e,".label"),"passengers.optional",y()(this.props.configuration,"".concat(e,".validators"),[]))}},{key:"getValue",value:function(){var e=this.props.configuration;return{password:e.password.isEnabled?this.passwordGroup.getValue():"",oldPassword:e.password.isEnabled?this.oldPassword.getValue():""}}},{key:"isValid",value:function(){var e=this.props.configuration,t={oldPassword:e.oldPassword.isEnabled,passwordGroup:e.password.isEnabled};return Object(fe.c)(t,{passwordGroup:this.passwordGroup,oldPassword:this.oldPassword})}},{key:"renderPassengerPassword",value:function(){var e=this,t=y()(this.props,"configuration.password.validators");return P.a.createElement(Ce.a,{shouldConfirmPassword:y()(this.props,"configuration.password.shouldConfirmPassword"),validators:t,ref:function(t){e.passwordGroup=t},defaultValue:this.props.defaultValue,useLabelFeedback:!0,passwordLabel:this.getLabel("password"),confirmPasswordLabel:this.getLabel("retypePassword"),confirmPasswordError:"createProfile.passwordTip.passwordsDontMatch"})}},{key:"renderPassword",value:function(e){var t=this;return P.a.createElement(be.a,{label:this.getLabel(e),keyProp:e,defaultValue:y()(this.props,"data[".concat(e,"]")),useLabelFeedback:!0,validators:y()(this.props,"configuration[".concat(e,"].validators")),ref:function(e){t.oldPassword=e},className:e})}},{key:"render",value:function(){var e=this.props.profile;return P.a.createElement("div",{className:"dxp-change-password"},P.a.createElement("div",{className:"step-title-container "},P.a.createElement(de.a,{name:"".concat(e.firstName," ").concat(e.lastName),className:"small warning inline"}),P.a.createElement(w.a,{className:"step-title",tag:"h3",title:"createProfile.accountSettingsPanelTitle"})),P.a.createElement("div",{className:"account-settings col-lg-"},P.a.createElement(ue.a,null),P.a.createElement("p",null,Object(G.a)("createProfile.username",{userName:this.props.username})),P.a.createElement("div",{className:"note"},P.a.createElement(K.c,{name:K.a.INFO_CIRCLE}),Object(G.a)("app.fieldsRequired")),this.renderPassword("oldPassword"),this.renderPassengerPassword()))}}]),t}(_.Component));g()(ke,"defaultProps",{defaultValue:""});var Oe=n(55),_e=n.n(Oe),Pe=n(145),Se=n.n(Pe),Ne=n(2347),we=function(e){return P.a.createElement(de.a,{name:e,className:"big warning inline"})},Ae=(n(3220),function(e,t,n,a){return P.a.createElement("div",null,P.a.createElement(w.a,{className:"my-profile-page-title",tag:"h2",title:Object(G.i)("createProfile.createdProfile",{firstName:e,userID:t,percentage:n,rewards:a})}))}),Te=(n(3221),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={noOfFrequentFlyers:y()(n.props,"profile.frequentFlyers",[]).length||1},n}return f()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.props.onTabChange&&this.props.onTabChange(this.getValue())}},{key:"getValue",value:function(){var e=this,t=$()(Se()(0,this.state.noOfFrequentFlyers),(function(t){var n=e["myProfileFrequentFlyer".concat(t+1)].getValue();if(!k()(n))return{airline:n.frequentFlyerProgram,membershipID:n.frequentFlyerNumber}}));return j()({},{frequentFlyers:t})}},{key:"addOneMoreFrequentFlyerComponent",value:function(){this.setState((function(e){return{noOfFrequentFlyers:e.noOfFrequentFlyers+1}}))}},{key:"isValid",value:function(){var e=this,t=Se()(y()(this.props,"profile.frequentFlyers.length",0));return _e()(t,(function(t){var n=e["myProfileFrequentFlyer".concat(t+1)];return n&&n.isValid()}))}},{key:"renderAddRemoveFrequentFlyersButton",value:function(){var e=this;return P.a.createElement("div",{className:"add-frequent-flyer-action-panel"},P.a.createElement(z.a,{className:"add-frequent-flyer-button primary small round",onClick:function(t){return e.addOneMoreFrequentFlyerComponent(t)}},P.a.createElement(K.c,{name:K.a.MATH_ADD,srOnlyText:Object(G.i)("createProfile.addFrequentFlyerDetails"),fill:!0})),P.a.createElement("span",{className:"add-frequent-flyer-label","aria-hidden":"true"},Object(G.a)("createProfile.addFrequentFlyerDetails")))}},{key:"renderFrequentFlyer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.props.configuration,r=n&&y()(n,"airline",""),i=n&&n&&y()(n,"membershipID",""),s=Object(ve.j)("frequentFlyerProgram",a),o=y()(this.props,"profile.frequentFlyers",{});return P.a.createElement("div",{key:"frequent-flyer-".concat(e)},P.a.createElement(w.a,{tag:"h3",title:Object(G.i)("createProfile.frequentFlyer",{index:e})}),P.a.createElement(Ne.a,{fFProgramDefaultValue:r,fFNumberDefaultValue:i,validators:y()(a,"frequentFlyerNumber.validators"),fFProgramValidators:y()(a,"frequentFlyerProgram.fFProgramValidators"),fFProgramEnabled:a.frequentFlyerProgram.isEnabled,fFNumberEnabled:a.frequentFlyerNumber.isEnabled,fFProgramLabel:"".concat(Object(G.i)("passengers.frequentFlyerProgram.label")," ").concat(Object(G.i)("passengers.optional",{isRequired:Object(fe.b)(y()(a,"frequentFlyerProgram.validators"))})),fFNumberLabel:"".concat(Object(G.i)("passengers.frequentFlyerNumber.label")," ").concat(Object(G.i)("passengers.optional",{isRequired:Object(fe.b)(y()(a,"frequentFlyerNumber.validators"))})),fFProgramOptions:s,fFAvailablePrograms:o,ref:function(n){t["myProfileFrequentFlyer".concat(e)]=n},index:e,disabled:!1}))}},{key:"renderFrequentFlyers",value:function(){var e=this,t=y()(this.props,"profile.frequentFlyers",[]),n=[];return k()(t)||(n=$()(t,(function(t,n){return e.renderFrequentFlyer(n+1,t)}))),t.length<this.state.noOfFrequentFlyers&&n.push($()(Se()(t.length,this.state.noOfFrequentFlyers),(function(t){return e.renderFrequentFlyer(t+1)}))),P.a.createElement("div",null,n)}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,n=e.isProfileCreated,a=e.profile,r=t||n,i=y()(a,"firstName",""),s=y()(a,"lastName",""),o=y()(a,"userID","");return P.a.createElement("div",{className:"dxp-my-profile-frequent-flyer"},P.a.createElement("div",null,r&&we("".concat(i," ").concat(s))),P.a.createElement("div",{className:"section-right"},r&&Ae(i,o,"75","1230")),P.a.createElement(ue.a,null),P.a.createElement("div",{className:"frequent-flyers-section"},this.renderFrequentFlyers()),this.renderAddRemoveFrequentFlyersButton())}}]),t}(_.Component));g()(Te,"defaultProps",{onTabChange:void 0,isLoggedIn:!1,isProfileCreated:!1,profile:{},configuration:{}});var Ie=n(2336),De=(n(3222),n(3223),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.props.onTabChange&&this.props.onTabChange(this.getValue())}},{key:"getValue",value:function(){return j()({},this.addYourDetails.getValue(),{username:y()(this.props,"profile.username"),dateModified:y()(this.props,"profile.dateModified"),userID:y()(this.props,"profile.userID")})}},{key:"isValid",value:function(){return this.addYourDetails&&this.addYourDetails.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoggedIn,a=t.isProfileCreated,r=t.profile,i=t.configuration,s=t.dateFormat,o=t.defaultLocale,l=t.validations,c=t.provinces,u=t.userConsents,d=n||a,p=y()(r,"firstName",""),h=y()(r,"lastName",""),f=y()(r,"userID","");return P.a.createElement("div",{className:"dxp-my-profile"},d&&we("".concat(p," ").concat(h)),P.a.createElement("div",{className:"section-right"},d&&Ae(p,f,"75","1230")),P.a.createElement(Ie.a,{configuration:i,profile:r,dateFormat:s,defaultLocale:o,validations:l,provinces:c,userConsents:u,phoneCountryCodes:this.props.phoneCountryCodes,ref:function(t){e.addYourDetails=t},flag:"myProfile"}))}}]),t}(_.Component));g()(De,"defaultProps",{onTabChange:void 0,isLoggedIn:!1,isProfileCreated:!1,profile:{},userConsents:{},provinces:{}});n(3224),n(3225);var xe=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),g()(T()(n),"state",{hasValidationError:!1,updatedValues:void 0}),n}return f()(t,e),l()(t,[{key:"onBeforeTabChange",value:function(){return this.selectedTabValues(),this.isValidSelectedTab()}},{key:"onTabChange",value:function(e){this.props.onTabChange&&this.props.onTabChange(j()({},this.props.profile,e))}},{key:"getSelectedTab",value:function(){var e=this.myProfileTabs.sparkTabsInstance.activeTabEl.className,t=q()(e.split(" "),(function(e){return F()(e,"my-profile")}));return this[t=R()(V()(t,"my-profile-",""))]}},{key:"getValue",value:function(){var e=this.selectedTabValues();return D()(this.props.profile,e)}},{key:"isValidSelectedTab",value:function(){var e=this.getSelectedTab(),t=e&&e.isValid&&e.isValid();return this.setState({hasValidationError:!t}),t}},{key:"selectedTabValues",value:function(){var e=this.getSelectedTab(),t=j()({},this.state.updatedValues,e.getValue());if(e)return this.setState({updatedValues:t}),t}},{key:"updateProfileClick",value:function(){this.isValidSelectedTab()&&this.props.onUpdateProfile(this.getValue())}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthorable,a=t.configuration,i=void 0===a?{}:a,s=i.personalDetailsEnabled,o=void 0!==s&&s,l=i.accountSettingsEnabled,c=void 0!==l&&l,u=i.billingInformationEnabled,d=void 0!==u&&u,p=i.frequentFlyersEnabled,h=void 0!==p&&p,f=i.travelDocumentsEnabled,m=void 0!==f&&f,g=Object(Y.a)(n,"myProfile");return P.a.createElement("div",r()({className:"dxp-my-profile-component"},g),this.state.hasValidationError&&P.a.createElement(Q.a,{type:"error",title:"profile.validationError.title"},Object(G.a)("profile.validationError.description")),P.a.createElement(X.c,{id:"my-profile-tabs",ref:function(t){e.myProfileTabs=t},className:"dxp-my-profile-view-tabs",onBeforeTabChange:function(){return e.onBeforeTabChange()}},P.a.createElement(X.e,null,o&&P.a.createElement(X.a,{icon:K.a.USER,className:"my-profile-personal-details",key:"parsonalDetails"},P.a.createElement(w.a,{tag:"p",className:"title inline",title:"createProfile.personalDetails"})),c&&P.a.createElement(X.a,{icon:K.a.LOCK_CLOSE,className:"my-profile-account-settings",key:"accountSettings"},P.a.createElement(w.a,{tag:"p",className:"title inline",title:"createProfile.accountSettings"})),d&&P.a.createElement(X.a,{icon:K.a.CREDIT_CARD,className:"my-profile-billing-information",key:"billingInformation"},P.a.createElement(w.a,{tag:"p",className:"title inline",title:"createProfile.billingInformation"})),h&&P.a.createElement(X.a,{className:"my-profile-frequent-flyer-numbers",key:"frequentFlyerNumbers"},P.a.createElement(w.a,{tag:"p",className:"title inline",title:"createProfile.frequentFlyerNumbers"})),m&&P.a.createElement(X.a,{className:"my-profile-travel-documents",key:"travelDocuments"},P.a.createElement(w.a,{tag:"p",className:"title inline",title:"createProfile.travelDocuments"}))),P.a.createElement(X.d,null,o&&P.a.createElement(X.b,null,P.a.createElement(De,r()({},W()(this.props,"configuration","userConsents","isLoggedIn","isProfileCreated","onCancel","profile","provinces","defaultLocale","dateFormat","validations","phoneCountryCodes"),{ref:function(t){e.personalDetails=t},onTabChange:function(t){return e.onTabChange(t)}}))),c&&P.a.createElement(X.b,null,P.a.createElement(ke,r()({},W()(this.props,"configuration","profile","validations"),{username:y()(this.props,"profile.username",""),ref:function(t){e.accountSettings=t},onTabChange:function(t){return e.onTabChange(t)}}))),d&&P.a.createElement(X.b,null,P.a.createElement(ce,{billingInformationConfiguration:y()(this.props,"configuration.billingInformation"),addresses:y()(this.props,"profile.addresses"),billingInformationData:{userCreditCards:y()(this.props,"profile.userCreditCards")},ref:function(t){e.billingInformation=t},provinces:y()(this.props,"provinces"),onTabChange:function(t){return e.onTabChange(t)},phoneCountryCodes:this.props.phoneCountryCodes,isSaveAddressTypeInvoiceEnabled:this.props.isSaveAddressTypeInvoiceEnabled})),h&&P.a.createElement(X.b,null,P.a.createElement(Te,r()({},W()(this.props,"configuration","onCancel","profile","validations"),{ref:function(t){e.frequentFlyerNumbers=t},onTabChange:function(t){return e.onTabChange(t)}}))),m&&P.a.createElement(X.b,null,P.a.createElement(ye,r()({},W()(this.props,"configuration","onCancel","profile","provinces","defaultLocale","flow","validations"),{ref:function(t){e.travelDocuments=t},onTabChange:function(t){return e.onTabChange(t)}}))))),P.a.createElement(z.a,{className:"primary pull-right dxp-update-profile",onClick:function(){return e.updateProfileClick()}},Object(G.a)("createProfile.saveUpdates")))}}]),t}(_.Component);g()(xe,"defaultProps",{isAuthorable:!0,onTabChange:void 0,profile:{},isSaveAddressTypeInvoiceEnabled:!1});var je=n(2303),Le=n(2314),Fe=n(3226),Be=n(3227),Re=n(66),Me=n(521),Ve=n(536),Ue=n(598),qe=n(2055),He=n(324),We=n(4),Ge=n.n(We);n(3228);var Ke=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.isProfileDataAvailable||(this.props.clearProfileState(),this.props.getProfile())}},{key:"UNSAFE_componentWillUpdate",value:function(e){!e.isLoggedIn&&this.props.isLoggedIn&&this.props.clearProfileState(),!e.isLoggedIn||this.props.isLoggedIn||this.props.isProfileDataAvailable||this.props.getProfile()}},{key:"componentWillUnmount",value:function(){this.props.clearProfileState()}},{key:"onTabChange",value:function(e){this.props.updateProfileInStateOnTabChange(e)}},{key:"onUpdateProfile",value:function(e){this.props.updateProfile(e)}},{key:"render",value:function(){var e=this,n=this.props,a=n.isLoggedIn,i=n.isProfileCreated,s=n.isProfileUpdated,o=n.error,l=n.background,c=n.tripManagerConfiguration,u=n.currentPage,d=n.profile,p=n.defaultLocale,h=n.isProfileDataAvailable,f=n.provinces,m=n.dateFormat,g=n.isProcessing,v=n.configuration,b=n.metadata,E=h&&y()(v,"tripManagerEnabled",!1);return P.a.createElement(Ve.a,{defaultImage:y()(l,"defaultImage"),destinationImage:y()(l,"destinationImage"),destination:y()(l,"destination"),ignoreMinHeight:!0},P.a.createElement("div",{className:"dxp-view dxp-my-profile-view centered-content",role:"main"},P.a.createElement(w.a,{className:"my-profile-page-title",tag:"h2",title:"titles.yourDetailsPage"}),P.a.createElement("div",r()({className:"page-messages"},{"aria-live":"assertive"}),!s&&i&&P.a.createElement(Le.a,null),a&&s&&P.a.createElement(Fe.a,null),g&&t.renderModalSpinner(),!k()(C()(o,"toJS",{}))&&P.a.createElement(Be.a,{error:o.toJS()})),E&&P.a.createElement(je.a,r()({},this.props.tripManager,{currentPage:u,metadata:b,tripManagerConfiguration:c,className:"create-profile-trip-manager"})),a&&!h&&P.a.createElement(Me.a,{className:"dark"}),h&&P.a.createElement(xe,{configuration:v,validations:b.get("validations",{}),isLoggedIn:a,defaultLocale:p,dateFormat:m,isProfileCreated:i,onCancel:function(){return t.onGoBack()},onUpdateProfile:function(t){return e.onUpdateProfile(t)},onTabChange:function(t){return e.onTabChange(t)},provinces:f,profile:C()(d,"toJS"),userConsents:this.props.userConsents,flow:this.props.currentFlow,phoneCountryCodes:this.props.phoneCountryCodes,isSaveAddressTypeInvoiceEnabled:b.get("isSaveAddressTypeInvoiceEnabled")})))}}],[{key:"onGoBack",value:function(){Object(Ue.b)().goBack()}},{key:"renderModalSpinner",value:function(){return P.a.createElement(Me.a,{isModalSpinner:!0})}}]),t}(_.Component);g()(Ke,"contextTypes",{dispatch:O.func.isRequired,startTimeoutChecker:O.func,stopTimeoutChecker:O.func}),g()(Ke,"defaultProps",{tripManagerConfiguration:Object(N.Map)(),isLoggedIn:!1,isProfileCreated:!1,isProfileUpdated:!1,isProcessing:!1,error:Object(N.Map)(),isProfileDataAvailable:!1,tripManager:{},currentPage:void 0});var ze=Object(S.b)((function(e){return j()({},Object(He.c)(e),{isProfileCreated:"SUCCESS"===e.profile.get("profileCreated"),isProfileUpdated:"SUCCESS"===e.profile.get("profileUpdated"),profile:e.profile.get("profileInfo",Object(N.Map)()),configuration:e.metadata.get("myProfileConfiguration"),tripOptions:e.tripDetails.get("tripOptions"),tripManagerConfiguration:e.metadata.get("tripManager"),isLoggedIn:!e.session.get("user").isEmpty(),isProcessing:e.profile.get("isProcessing"),error:e.profile.get("error"),defaultLocale:e.metadata.get("defaultLocaleForDate"),isProfileDataAvailable:e.profile.get("isProfileDataAvailable")||!1,provinces:e.metadata.get("provincesConfiguration"),dateFormat:Object(He.a)(e),userConsents:(t=C()(e.profile.get("profileInfo"),"toJS",{}),n=y()(t,"consents",[]),Ge()(n,(function(e,t){return j()(e,g()({},t.consentTypeCode,t.value))}),{})),phoneCountryCodes:e.metadata.get("phoneConfiguration")});var t,n}),{updateProfile:qe.c,getProfile:qe.b,clearProfileState:qe.a,updateProfileInStateOnTabChange:qe.d,actionUpdateURLQuery:Re.c})(Ke);n.d(t,"default",(function(){return ze}))},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(49),C=n.n(b),E=n(156),k=n.n(E),O=n(2),_=n.n(O),P=n(51),S=n.n(P),N=n(130),w=n.n(N),A=n(35),T=n.n(A),I=n(16),D=n.n(I),x=n(0),j=n.n(x),L=n(1),F=n.n(L),B=n(6),R=(n(194),n(11)),M=n(123),V=n(12),U=n(66),q=n(527),H=n(1294),W=n(1315),G=n(1592),K=n(68),z=n(2055),Y=n(2114),Q=n(5),X=n.n(Q),J=n(50),$=n(10),Z=n(78),ee=n(524),te=n(17),ne=n.n(te),ae=n(136),re=n(1375);n(3162);var ie=F.a.createElement("span",{title:Object(V.i)("upgrade.quickView.detailedView.upgradeIconTooltip")},F.a.createElement(J.c,{name:J.a.ARROW_BASIC_UP,className:"upgrade-icon"}));function se(e,t){var n=e.get("origin"),a=e.get("destination"),r=e.get("offer");return F.a.createElement("li",{className:"segment",key:"segment-".concat(n,"-").concat(a)},F.a.createElement("div",{className:"flight-number"},F.a.createElement("span",{className:"airline-code"},e.getIn(["flight","airlineCode"])),F.a.createElement("span",{className:"airline-flight-number"},e.getIn(["flight","flightNumber"]))),F.a.createElement("span",{className:"departure-date"},ne()(e.get("departure")).format(t.dateFormat)),F.a.createElement("span",{className:"departure-time"},ne()(e.get("departure")).format(t.timeFormat)),F.a.createElement("h6",{className:"origin-and-destination"},e.get("offer")&&ie,F.a.createElement("span",{className:"origin"},"".concat(Object(V.i)("airports.".concat(n))," (").concat(n,")")),F.a.createElement(J.c,{name:J.a.ARROW_BASIC_RIGHT}),F.a.createElement("span",{className:"destination"},"".concat(Object(V.i)("airports.".concat(a))," (").concat(a,")"))),F.a.createElement("div",{className:"offer-information"},!r&&Object(V.a)("upgrade.quickView.detailedView.noOfferSelected"),r&&function(e){var t=e.get("additionalProductInformation",Object(R.Map)()),n=t.get("status",""),a=Object(V.i)("cabin.".concat(t.get("selectedCabinClass","").toLowerCase()));if(n===re.a.WAITLISTED){var r=Object(V.i)("cabin.".concat(t.get("originalCabinClass","").toLowerCase()));return F.a.createElement("div",{className:"wait-listed-details"},Object(V.a)("upgrade.quickView.detailedView.waitListDetails",{originalCabinClass:r,selectedCabinClass:a}),F.a.createElement("div",{className:"status"},Object(V.a)("upgrade.quickView.status.".concat(n.toLowerCase()))))}return a}(r)))}var oe=function(e){var t=e.itinerary,n=e.onCloseClick,a=e.hasWaitListedOffer,r=e.configuration;return F.a.createElement(ae.a,{className:"upgrade-detailed-view",onCloseClick:n},F.a.createElement("h4",{className:"upgrade-detailed-view-title"},Object(V.a)("upgrade.quickView.detailedView.title")),F.a.createElement("div",{className:"upgrade-detailed-view-subtitle"},Object(V.a)("upgrade.quickView.detailedView.subTitle")),F.a.createElement("ul",{className:"itinerary-details"},function(e,t){var n=e.get("itineraryParts",Object(R.List)()),a=n.size>2;return n.map((function(e,n){var r=function(e){var t=e.get("segments");return t?{origin:t.first().get("origin"),destination:t.last().get("destination")}:{}}(e),i=r.origin,s=r.destination;return F.a.createElement("li",{className:"itinerary-part-details",key:"itineraryPart-".concat(i,"-").concat(s)},F.a.createElement("h5",{className:"direction"},a||1!==n?Object(V.a)("itineraryDetails.outbound"):Object(V.a)("itineraryDetails.inbound")),F.a.createElement("div",{className:"separator"}),F.a.createElement("ul",{className:"segment-details"},e.get("segments",Object(R.List)()).map((function(e){return se(e,t)}))))}))}(t,r)),a&&F.a.createElement("div",{className:"wait-list-disclaimer"},Object(V.a)("upgrade.quickView.waitListDisclaimer")),ie," ",Object(V.a)("upgrade.quickView.detailedView.indicatorText"))};oe.defaultProps={hasWaitListedOffer:!1,configuration:{}};var le=oe,ce=n(1370);n(3163);function ue(e,t){var n=e.get("segments",Object(R.List)()).filter((function(e){return e.get("offer")}));return F.a.createElement(ce.b,{key:"tab-panel-".concat(t)},F.a.createElement("table",{className:"upgrade-segments"},F.a.createElement("th",{className:"header header-segment"},Object(V.a)("upgrade.quickView.tableHeaders.segment")),F.a.createElement("th",{className:"header header-class"},Object(V.a)("upgrade.quickView.tableHeaders.class")),F.a.createElement("th",{className:"header header-status"},Object(V.a)("upgrade.quickView.tableHeaders.status")),n.map((function(e){return function(e){var t=e.getIn(["offer","additionalProductInformation","selectedCabinClass"],""),n=e.getIn(["offer","additionalProductInformation","status"],"").toLowerCase(),a=e.get("origin"),r=e.get("destination");return F.a.createElement("tr",{className:"upgrade-segment",key:"segment-".concat(a,"-").concat(r)},F.a.createElement("td",{className:"body-segment"},F.a.createElement("span",{className:"origin"},"".concat(Object(V.i)("airports.".concat(a))," (").concat(a,")")),F.a.createElement(J.c,{name:J.a.ARROW_BASIC_RIGHT}),F.a.createElement("span",{className:"destination"},"".concat(Object(V.i)("airports.".concat(r))," (").concat(r,")"))),F.a.createElement("td",{className:"body-class"},Object(V.a)("cabin.".concat(t.toLowerCase()))),F.a.createElement("td",{className:"body-status ".concat(n)},Object(V.a)("upgrade.quickView.status.".concat(n))))}(e)}))))}var de=function(e){var t=e.itinerary,n=e.hasWaitListedOffer,a=function(e){return e.get("itineraryParts",Object(R.List)()).reduce((function(e,t,n){return t.get("segments").some((function(e){return e.get("offer")}))?e.push(n):e}),Object(R.List)())}(t);return F.a.createElement("div",{className:"upgrade-quick-view-tabs-container"},!a.isEmpty()&&F.a.createElement(ce.c,{key:"upgrade-quick-view-tabs-component"},F.a.createElement(ce.e,null,a.map((function(e){return function(e,t){var n=function(e){var t=e.get("segments");return t?{origin:t.first().get("origin"),destination:t.last().get("destination")}:{}}(e),a=n.origin,r=n.destination;return F.a.createElement(ce.a,{className:"itinerary-part-tab",key:"tab-".concat(t),icon:J.a.ARROW_BASIC_RIGHT},F.a.createElement("span",{className:"origin"},"".concat(Object(V.i)("airports.".concat(a))," (").concat(a,")")),F.a.createElement("span",{className:"destination"},"".concat(Object(V.i)("airports.".concat(r))," (").concat(r,")")))}(t.getIn(["itineraryParts",e]),e)}))),F.a.createElement(ce.d,null,a.map((function(e){return ue(t.getIn(["itineraryParts",e]),e)})))),n&&F.a.createElement("div",{className:"wait-list-disclaimer"},Object(V.a)("upgrade.quickView.waitListDisclaimer")))};de.defaultProps={hasWaitListedOffer:!1};var pe=de,he=(n(3164),n(3165),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{showDetails:!1}),n}return f()(t,e),s()(t,[{key:"getUpgradeProducts",value:function(){var e=this,t=this.props.shoppingCart;return t.get("products",Object(R.List)()).filter((function(e){var t=e.get("label","").toUpperCase();return t===$.O||t===$.Q})).reduce((function(t,n){return n.get("breakdownElements",Object(R.List)()).reduce((function(t,n){var a=e.findTravelPart(t,n.get("travelPart"));return _()(a)?t:t.setIn(a,n)}),t)}),t.get("itinerary"))}},{key:"findTravelPart",value:function(e,t){var n="Itinerary"===e.get("@type")?"itineraryParts":"segments";if(e.get("origin")===t.get("origin")&&e.get("destination")===t.get("destination")&&e.get("departure")===t.get("departure"))return"offer";for(var a=e.get(n),r=0;r<j()(a,"size",0);r+=1){var i=this.findTravelPart(a.get(r),t);if(!_()(i))return[n,r].concat(i)}return[]}},{key:"hasWaitListedOffer",value:function(){var e=this.props.shoppingCart;return Boolean(e.get("products",Object(R.List)()).find((function(e){return e.get("label","").toUpperCase()===$.Q})))}},{key:"render",value:function(){var e=this,n=this.props.configuration,a=this.getUpgradeProducts(),r=this.hasWaitListedOffer();return F.a.createElement(ee.a,{className:"upgrade-quick-view"},F.a.createElement("div",{className:"text-area"},F.a.createElement("h3",{className:"title"},Object(V.a)("upgrade.marketingMessage.title")),F.a.createElement("span",{className:"sub-title"},Object(V.a)("upgrade.marketingMessage.subTitle")),F.a.createElement("ul",{className:"offer-items"},X()(j()(n,"marketingBanner.items",[]),(function(e,n){return t.renderOfferItem(e,n)})))),a&&!a.isEmpty()&&F.a.createElement(ee.a,{className:"upgrade-quick-view-tabs-panel"},F.a.createElement("h3",{className:"upgrade-quick-view-title"},Object(V.a)("upgrade.quickView.title")),F.a.createElement(Z.a,{className:"view-details-link",onClick:function(){return e.setState({showDetails:!0})}},Object(V.a)("upgrade.quickView.viewDetails")),F.a.createElement(pe,{itinerary:a,hasWaitListedOffer:r}),this.state.showDetails&&F.a.createElement(le,{itinerary:a,hasWaitListedOffer:r,configuration:n,onCloseClick:function(){return e.setState({showDetails:!1})}})))}}],[{key:"renderOfferItem",value:function(e,t){return F.a.createElement("li",{className:"item",key:t},F.a.createElement(J.c,{name:e.icon})," ",Object(V.a)(e.text))}}]),t}(L.Component));g()(he,"defaultProps",{configuration:{},shoppingCart:Object(R.Map)()});var fe=he,me=n(154),ge=n(1930),ve=n(451),ye=(n(1290),n(42)),be=n(2075),Ce=n(568),Ee=n(101),ke=n(438);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _e=n(2147);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Se=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onBack",(function(){var e=n.props,t=e.currentPage,a=e.currentFlow,r=e.flowConfiguration,i=w()(r.toJS(),(function(e){return e===t})),s=j()(n.props,"location.query",{}),o=i?"/".concat(a,"/").concat(i):"/myb";n.props.actionUpdateURLQuery(U.a,o,s)})),g()(p()(n),"processPayment",(function(){var e=n.props,t=e.createAccount,a=e.metadata,r=e.configuration,i=e.currentFlow,s=n.context.language,o=n.props.paymentData.toJS().paymentQuery;return n.props.purchase({paymentQuery:o,metadata:a,configuration:r,language:s,createAccount:t,currentFlow:i})})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.context.startTimeoutChecker(),j()(this.props.configuration,"fraudCheck.enabled")&&ve.b(this.props.configuration.fraudCheck),t.getProfile(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.paymentSuccessful&&e.paymentSuccessful!==this.props.paymentSuccessful){var n=this.props.flowConfiguration.get(this.props.currentPage);this.props.actionUpdateURLQuery(U.a,"".concat(n),j()(this,"props.location.query",{}))}t.getProfile(e)}},{key:"componentWillUnmount",value:function(){this.props.clearPreviousPaymentState()}},{key:"getNavigationProps",value:function(){var e=this.props,t=e.currentPage,n=e.flowConfiguration,a=e.paymentData,r=e.cancelProps,i=a.get("paymentProcessing"),s=n.get(t);return{onPurchaseTitle:_()(s)?"":"app.".concat(s),onBackClick:this.onBack,onBackTitle:"payment.back",showCancelButton:!0,modal:{title:Object(V.a)("upgrade.cancelModal.title"),description:Object(V.a)("upgrade.cancelModal.description")},acceptLink:r,isProcessing:i}}},{key:"isAwardBooking",value:function(){var e=this.props.paymentData.getIn(["paymentOptions","paymentCodesByType"]);if(!e)return!1;var t=this.props.configuration,n=k()(C()(e.toObject()));return 1===n.length&&n[0]===me.b.AWARD&&j()(t,"FOP.".concat(me.b.AWARD,".enabled"),!1)}},{key:"render",value:function(){var e=this.props,t=e.shoppingCart,n=e.upgradeConfiguration,a=e.error,r=e.user,i=e.chinaUnionPay,s=e.isBookHotelProcessing,o=e.paymentTypesOrganized,l=e.session,c=this.props.shoppingCart.getIn(["data","isRefundCart"]),u=this.isAwardBooking(),d=D()({},T()(this.props,["paymentData","shoppingCart"]),S()(this.props.paymentData,"toJS"),{isRefundCart:c,isAwardBooking:u},{shoppingCart:S()(t,"toJS")}),p=d.ABNACNNumber,h=d.alerts,f=d.callUpdateCartRequest,m=d.canUserContinue,g=d.dccOptionSelected,v=d.dccOptions,y=d.holdOptions,b=d.insuranceData,C=d.isValidVoucher,E=d.loggedOut,k=d.paymentDetails,O=d.paymentErrors,_=d.paymentOptions,P=d.paymentOptionsLoading,N=d.updatePaymentQuery,w=d.paymentProcessing,A=d.paymentQuery,I=d.paymentSelected,x=d.paymentSuccessful,j=d.paymentTypes,L=d.productTypes,B=d.redirectInfo,R=d.selectedHoldOption,M=d.shouldWeRedirect,V=d.getBNPLholdOptions,U=d.getPaymentOptions,q=d.onFareRulesClick,H=d.onCartItemRemove,W=d.onBagFeeLinkClick,G=d.canContinue,K=d.selectBNPL,z=d.setCallUpdateCartRequest,Q=d.updateCartAndGetPaymentOptions,X=d.setPaymentSelected,J=d.purchase,$=d.getInsurance,Z=d.updateInsurance,ee=d.updateTotalForInsurance,te=d.getPostBookingInsurance,ne=d.isAuthorable,ae=d.configuration,re=d.searchCriteria,ie=d.holdOptionSelected,se=d.globalAdvisories,oe=d.travelPartAdvisories,le=d.metadata,ce=d.paymentType,ue=d.currentFlow,de=d.createAccount,pe=d.selectedCarOffer,he=d.isCarBookProcessing,ge=d.ancillariesConfiguration,ve=d.selectedHotel,ye=d.PAYMENT_STATUSES,be=d.savedInsurance,Ce=d.processABNACNNumber,Ee=d.clearChinaUnionPaySmsResponse,ke=d.clearPaymentDetails,Oe=d.getExecutionKey,Pe=d.cancelPayment,Se=d.dropProducts,Ne=d.travelBankConfiguration,we=d.purchaseCompleted,Ae=this.context.language,Te=this.props.passengers||this.props.paymentData&&this.props.paymentData.get("passengers");return F.a.createElement(_e.a,{className:"dxp-upgrade-payment-view",title:"payment.".concat(ce,".header"),isCartEnabled:!0,location:this.props.location},n.showUpgradeQuickView&&!t.get("isLoading")&&t.get("data")&&F.a.createElement(fe,{configuration:n,shoppingCart:t.get("data")}),F.a.createElement(Y.a,{purchaseCompleted:we,handleStartOver:this.props.handleStartOver,navigation:this.getNavigationProps(),ABNACNNumber:p,alerts:h,callUpdateCartRequest:f,canUserContinue:m,chinaUnionPay:i,isAuthorable:ne,shouldWeRedirect:M,paymentOptionsLoading:P,paymentSelected:I,paymentProcessing:w,isCarBookProcessing:he,isBookHotelProcessing:s,dccOptionSelected:g,dccOptions:v,getDCCOffers:this.props.getDCCOffers,error:a,holdOptions:y,insuranceData:b,isValidVoucher:C,loggedOut:E,paymentDetails:k,paymentErrors:O,paymentOptions:_,paymentQuery:A,paymentSuccessful:x,paymentTypes:j,productTypes:L,redirectInfo:B,selectedHoldOption:R,shoppingCart:d.shoppingCart,fetchFareRules:this.props.fetchFareRules,requestCart:this.props.requestCart,getBNPLholdOptions:V,getPaymentOptions:U,onFareRulesClick:q,onCartItemRemove:H,onBagFeeLinkClick:W,canContinue:G,selectBNPL:K,setCallUpdateCartRequest:z,updateCartAndGetPaymentOptions:Q,updateProfile:this.props.updateProfile,setPaymentSelected:X,purchase:J,getInsurance:$,updateInsurance:Z,updateTotalForInsurance:ee,getPostBookingInsurance:te,updatePaymentQuery:N,sendFreeChinaUnionPaySms:this.props.sendFreeChinaUnionPaySms,updateCartWithAwardSwitch:this.props.updateCartWithAwardSwitch,configuration:ae,searchCriteria:re,holdOptionSelected:ie,globalAdvisories:se,travelPartAdvisories:oe,metadata:le,PAYMENT_TYPES:me.b,paymentType:ce,currentFlow:ue,createAccount:de,selectedCarOffer:pe,language:Ae,passengers:Te,ancillariesConfiguration:ge,selectedHotel:ve,location:this.props.location,PAYMENT_STATUSES:ye,savedInsurance:be,isAwardBooking:u,processPayment:this.processPayment,processAwardPayment:this.processAwardPayment,user:r,getProfile:this.props.getProfile,processABNACNNumber:Ce,paymentTypesOrganized:o,getExecutionKey:Oe,cancelPayment:Pe,dropProducts:Se,clearPaymentDetails:ke,selectedLocale:this.props.selectedLocale,locales:this.props.locales,clearChinaUnionPaySmsResponse:Ee,provinces:this.props.provinces,getPaymentDetails:this.props.getPaymentDetails,session:l,isBankIdentificationValid:this.props.isBankIdentificationValid,dateFormat:this.props.dateFormat,actionUpdateURLQuery:this.props.actionUpdateURLQuery,phoneCountryCodes:this.props.phoneCountryCodes,selectPaymentOption:this.props.selectPaymentOption,travelBankConfiguration:Ne,backendUrl:this.props.backendUrl}))}}]),t}(L.Component);g()(Se,"getProfile",(function(e){e.configuration.displayCardsFromProfile&&e.user&&!e.session.get("profile")&&e.getProfile()})),g()(Se,"contextTypes",{startTimeoutChecker:B.func.isRequired,language:B.string}),g()(Se,"defaultProps",{upgradeConfiguration:{},createAccount:y.a,metadata:void 0,requestCart:void 0,session:Object(R.Map)(),user:Object(R.Map)(),fetchFareRules:void 0,error:void 0,isBookHotelProcessing:!1,chinaUnionPay:Object(R.Map)(),passengers:void 0,selectPaymentOption:y.a,backendUrl:void 0});var Ne=Object(M.b)((function(){return Object(ye.a)(Object(be.a)(),(function(e){return e.metadata.get("upgradePaymentConfiguration")}),(function(e){return e.metadata.get("upgradeConfiguration")}),(function(e,t){return e.metadata.getIn(["flows",Object(Ee.a)(t.location.pathname)])}),Object(Ce.a)(),(function(e){return e.metadata.get("phoneConfiguration")}),ke.b,(function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])}),(function(e,t,n,a,r,i,s,o){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{configuration:t,upgradeConfiguration:n,flowConfiguration:a,pnrLookupQuery:r,paymentTypesOrganized:Object(me.g)(t),phoneCountryCodes:i,cancelProps:s,travelBankConfiguration:o})}))}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ge,{requestCart:q.g,updateCartItem:q.i,fetchFareRules:G.a,actionUpdateURLQuery:U.c,getProfile:K.s,updateProfile:z.c,updateCartWithAwardSwitch:q.j,handleStartOver:K.u}))(Object(H.a)(Object(W.a)(Se),"paymentOptionsLoading"));n.d(t,"default",(function(){return Ne}))},,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(123),s=(n(194),n(6)),o=n(11),l=n(12),c=n(2302),u=n(57),d=n.n(u),p=n(26),h=n.n(p),f=n(22),m=n.n(f),g=n(29),v=n.n(g),y=n(28),b=n.n(y),C=n(31),E=n.n(C),k=n(30),O=n.n(k),_=n(3),P=n.n(_),S=n(77),N=n.n(S),w=n(16),A=n.n(w),T=n(2),I=n.n(T),D=n(51),x=n.n(D),j=n(1264),L=n(325),F=n(2477),B=n(521),R=n(2310),M=n(1557),V=n(319),U=n(136);function q(e){return e.isCancelProcessing?r.a.createElement(U.a,{className:"payment-processing",preventBackButtonDisplay:!0},r.a.createElement("h2",null,Object(l.a)("payment.paymentProcessing.title")),r.a.createElement("h3",null,Object(l.a)("payment.paymentProcessing.subTitle")),r.a.createElement("p",null,Object(l.a)("payment.paymentProcessing.description")),r.a.createElement(B.a,{className:"dark"})):null}var H=n(14),W=n(331),G=(n(1290),n(524)),K=function(){return r.a.createElement(V.a,{type:"success-profile",title:"cancelFlight.alerts.createAccountSuccess.title"},Object(l.a)("cancelFlight.alerts.createAccountSuccess.description"))},z=(n(3095),function(e){function t(){var e,n;h()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=v()(this,(e=b()(t)).call.apply(e,[this].concat(i))),P()(E()(n),"state",{showCancelPaymentPage:!0,showErrorMessage:!0}),P()(E()(n),"onContinue",(function(){n.props.cancelFlight(x()(n.props.paymentData.get("paymentQuery"),"toJS",n.props.paymentData.get("paymentQuery")))})),P()(E()(n),"handleSignOut",(function(){n.setState({showCancelPaymentPage:!1,showErrorMessage:!1}),n.props.signOutCallback()})),P()(E()(n),"renderSignOutPanel",(function(){return r.a.createElement(G.a,{className:"dxp-sign-out-panel",id:"cancel-sign-out-panel"},r.a.createElement("p",{className:"sign-out-message"},Object(l.i)("tripManager.errors.".concat(W.e))),r.a.createElement(j.a,{type:"button",className:"cancel-sign-out-btn sm",onClick:n.handleSignOut},r.a.createElement("span",null,Object(l.i)("app.signOut"))))})),P()(E()(n),"renderRefundToTargetMessage",(function(){return r.a.createElement(V.a,{type:"info",title:"cancelFlight.info.refundToAccount.title"},Object(l.i)("cancelFlight.info.refundToAccount.description"))})),n}return O()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.props.getCancelFlightPayment()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(N()(this.props.user,e.user)||e.user.isEmpty()||(this.setState({showCancelPaymentPage:!1}),this.props.cancelPnrLookup(this.props.pnrQuery,this.props.location).then((function(){return t.props.getCancelFlightPayment(t.props.currentPage,(function(){return t.setState({showCancelPaymentPage:!0,showErrorMessage:!0})}))}))),!N()(this.props.user,e.user)&&e.user.isEmpty()&&this.props.cancelPnrLookup(this.props.pnrQuery,this.props.location).then((function(){return t.props.getCancelFlightPayment(t.props.currentPage,(function(){return t.setState({showCancelPaymentPage:!0})}))})),"CANCELLED"===e.cancelConfirmationStatus&&this.props.cancelConfirmationStatus!==e.cancelConfirmationStatus){var n=this.props.location.query;this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),n)}}},{key:"onBack",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(H.a.CANCEL,"/").concat(H.a.TRANSACTION_SUMMARY))}},{key:"onSelect",value:function(e){this.props.updatePaymentQuery(e)}},{key:"renderPayment",value:function(){var e=this,t={fareRules:this.props.fareRules,bagFee:this.props.bagFee},n=A()({},this.props,{refundData:x()(this.props.data,"toJS",{})});return r.a.createElement("div",{className:"dxp-payment-component",id:"dxp-cancel-flight-payment-component"},r.a.createElement(F.a,d()({rulesAndFeeData:t},n,n.paymentData.toJS(),{configuration:n.cancelFlightPaymentConfiguration,processPayment:this.onContinue,onSelect:function(t){return e.onSelect(t)},getPaymentDetails:function(t,n){return n&&e.props.updateCurrentSelection(n)},isAwardBooking:!0})),r.a.createElement(q,{isCancelProcessing:this.props.isCancelProcessing}))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.error,a=e.createAccountSuccess,i=e.globalAdvisories,s=e.travelPartAdvisories,o=e.data,l=x()(this.props,"error.toJS",n),c=o&&o.get("refundTargetToAccount"),u=o&&o.get("refundTargets").isEmpty()&&!c,p=!I()(i),h=!I()(s),f=!I()(l)&&l.errorCode===W.b;return r.a.createElement("div",{className:"dxp-cancel-flight-payment"},r.a.createElement(L.a,{animations:{animated:!0,type:"slideFromBottom"}},p&&r.a.createElement(M.a,{advisories:i}),r.a.createElement("div",d()({className:"page-messages"},{"aria-live":"assertive"}),l&&this.state.showErrorMessage&&Object(R.a)(l,this.context),!t&&u&&Object(R.a)({errorCode:W.c},this.context),!t&&c&&this.renderRefundToTargetMessage()),f&&this.state.showErrorMessage&&this.renderSignOutPanel(),a&&r.a.createElement(K,null),(t||!this.state.showCancelPaymentPage)&&r.a.createElement(B.a,{className:"dark"}),h&&r.a.createElement(M.a,{advisories:s}),(I()(l)||l.errorCode===W.l||l.errorCode===W.m)&&!t&&this.state.showCancelPaymentPage&&this.renderPayment()))}}]),t}(a.Component));P()(z,"contextTypes",{translateWithComponents:s.func}),P()(z,"defaultProps",{fareRules:Object(o.Map)(),bagFee:Object(o.Map)(),cancelConfirmationStatus:"",createAccountSuccess:!1,isLoading:!1,globalAdvisories:Object(o.List)(),travelPartAdvisories:Object(o.List)(),error:void 0,data:void 0,pnrQuery:{},user:Object(o.Map)(),signOutCallback:void 0,currentPage:void 0});var Y=z,Q=n(68),X=n(352),J=n(1294),$=n(1315),Z=n(66),ee=n(2041),te=n(1930),ne=n(2637),ae=n(0),re=n.n(ae),ie=n(42),se=n(566),oe=n(153),le=n(2075),ce=n(154),ue=n(324),de=n(532),pe=n(1411);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var fe=n(2355),me=n(2190),ge=function(e){return r.a.createElement(me.a,{className:"dxp-cancel-flight-payment-view",id:c.a,location:e.location,isCartEnabled:!e.isLoading&&!e.paymentOptionsLoading,title:e.data&&(t=e.data,n=t.getIn(["refundTargets","0","paymentType"]),n?Object(l.i)("cancelFlight.payment.title",{type:Object(l.i)("cancelFlight.payment.type.".concat(n))}):Object(l.i)("cancelFlight.payment.loadingTitle"))},r.a.createElement(Y,e));var t,n};ge.defaultProps={fareRules:Object(o.Map)(),bagFee:Object(o.Map)(),cancelConfirmationStatus:"",createAccountSuccess:!1,isLoading:!1,globalAdvisories:Object(o.List)(),travelPartAdvisories:Object(o.List)(),error:void 0,data:void 0,pnrQuery:{},user:Object(o.Map)(),paymentOptionsLoading:!1};var ve={getCancelFlightPayment:ne.b,createAccount:ne.a,signInCallback:Q.E,actionUpdateURLQuery:Z.c,updateCurrentSelection:ne.c,updatePaymentQuery:ne.d,cancelFlight:ee.a,processABNACNNumber:te.processABNACNNumber,clearPaymentDetails:te.clearPaymentDetails,cancelPnrLookup:fe.a,signOutCallback:X.a},ye=Object(i.b)((function(){var e=Object(ie.b)({fareRules:function(e){return e.metadata.get("fareRules",Object(o.Map)())},bagFee:function(e){return e.metadata.get("bagFee",Object(o.Map)())},purchaseAgreementLinks:function(e){return e.metadata.get("purchaseAgreementLinks",Object(o.List)())},paymentOptionsLoading:function(e){return e.cancelFlightPayment.get("paymentOptionsLoading")},isLoading:function(e){return e.cancelFlightPayment.get("isLoading")},isCancelProcessing:function(e){return e.cancelFlightPayment.get("isCancelProcessing")},error:function(e){return e.cancelFlightPayment.get("error")},data:function(e){return e.cancelFlightPayment.get("data")},configuration:function(e){return e.metadata.get("cancelConfiguration")},travelBankAccountInfo:function(e){return e.cancelFlightPayment.get("travelBankAccountInfo")},signIn:function(e,t){return Object(se.a)(e,t)},cancelFlightPaymentConfiguration:function(e){return e.metadata.get("cancelPaymentConfiguration")},validators:function(e){return Object(oe.a)(e.metadata.get("signInConfiguration"),"username","password","email")},createAccountSuccess:function(e){return e.cancelFlightPayment.get("createAccountSuccess")},flowConfiguration:function(e){return e.metadata.getIn(["flows","cancel"])},pnrLookupQuery:function(e,t){return re()(t,"props.location.query",{})},refundConfiguration:function(e){return e.metadata.get("cancelConfiguration")},paymentData:function(e){return e.cancelFlightPayment},cancelConfirmationStatus:function(e){return e.cancelFlightConfirmation.get("cancellationStatus")},phoneCountryCodes:function(e){return e.metadata.get("phoneConfiguration")},pnrQuery:function(e){return Object(pe.a)(e)},travelBankConfiguration:function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])},user:function(e){return e.session.get("user")}});return Object(ie.a)(Object(le.a)(),e,Object(ue.c)(),de.a,(function(e,t,n,a){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t,{},n,{paymentTypesOrganized:Object(ce.g)(t.cancelFlightPaymentConfiguration),error:t.error,getNextPage:a})}))}),ve)(Object(J.a)(Object($.a)(ge),"paymentOptionsLoading"));n.d(t,"default",(function(){return ye}))},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=(n(6),n(1)),g=n.n(m),v=n(123),y=n(325),b=n(1294),C=n(521),E=n(31),k=n.n(E),O=n(36),_=n.n(O),P=n(0),S=n.n(P),N=n(11),w=n(12),A=n(2188),T=n(1349),I=(n(3135),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(k()(n),"onBack",(function(){var e=n.props.getBackLinkProps;n.props.actionUpdateURLQuery("URL_UPDATE_HASH",e().path,e().query)})),f()(k()(n),"onContinue",(function(){if(n.passengerList.isValid()){var e=n.props,t=e.getNextPage,a=e.currentFlow,r=e.location,i=t(a,"passengers"),s=S()(r,"query",{});n.props.actionUpdateURLQuery("URL_UPDATE_HASH",i,s)}})),f()(k()(n),"getModalProps",(function(){return{title:Object(w.a)("bnplFlow.modals.cancel.title"),description:Object(w.a)("bnplFlow.modals.cancel.description")}})),f()(k()(n),"getTitle",(function(){var e=n.props,t=e.getNextPage,a=e.currentFlow,r=_()(t(a,"passengers").split("/"));return Object(w.i)("app.".concat(r))})),n}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.passengers,a=t.defaultLocale,r=t.defaultDateFormat,i=t.passengerIds,s=t.passengerConfiguration,o=t.validations,l=t.currentFlow,c=t.contact,u=t.provincesConfiguration,d=t.cancelProps;return g.a.createElement("div",{className:"bnpl-passengers-content"},g.a.createElement(A.a,{passengers:n,dateFormat:r,defaultLocale:a,configuration:s,validations:o,provinces:u,passengerIds:i,flow:l,contact:c,ref:function(t){e.passengerList=t},frequentFlyer:Object(N.Map)()}),g.a.createElement(T.a,{modal:this.getModalProps(),continueTitle:this.getTitle(),onContinue:this.onContinue,onBack:this.onBack,showCancelButton:!0,acceptLink:d}))}}]),t}(m.Component));f()(I,"defaultProps",{provincesConfiguration:void 0});var D=I,x=n(2345),j=n(51),L=n.n(j),F=n(5),B=n.n(F),R=n(16),M=n.n(R),V=n(324),U=n(1411),q=n(438);var H=n(2028),W=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props.pnrQuery;this.props.getBNPLPassengers(e)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.validations,a=e.passengers,r=e.passengerIds,i=e.getNextPage,s=e.passengerConfiguration,o=e.currentFlow,l=e.cancelProps,c=e.defaultDateFormat,u=e.defaultLocale,d=e.location,p=e.actionUpdateURLQuery,h=e.contact,f=e.provincesConfiguration,m=e.getBackLinkProps;return g.a.createElement(H.a,{className:"dxp-bnpl-passengers-view",title:"titles.bnplPassengers",location:d},g.a.createElement(y.a,{animations:{animated:!0,type:"slideFromBottom"}},t&&g.a.createElement(C.a,{className:"dark"}),!t&&g.a.createElement(D,{location:d,getBackLinkProps:m,passengers:a,contact:h,passengerIds:r,validations:n,getNextPage:i,provincesConfiguration:f,passengerConfiguration:s,currentFlow:o,defaultDateFormat:c,defaultLocale:u,actionUpdateURLQuery:p,cancelProps:l})))}}]),t}(m.Component);f()(W,"defaultProps",{isLoading:!1,provincesConfiguration:void 0});var G=Object(v.b)((function(e,t){var n=L()(e.bnplPassengers.get("data"),"toJS",{}),a=function(e){return B()(e,(function(e,t){return{key:t,type:e.type,dataAdded:!0}}))}(n);return M()({},Object(V.c)(e),{isLoading:e.bnplPassengers.get("isLoading"),passengers:n,passengerIds:a,flowConfiguration:e.metadata.getIn(["flows","bnpl"]),configuration:e.metadata.get("bnplConfiguration"),passengerConfiguration:e.metadata.get("bnplPassengerConfiguration"),provincesConfiguration:e.metadata.get("provincesConfiguration"),passengerTypes:e.metadata.getIn(["passengers","options"]),defaultDateFormat:e.metadata.getIn(["dateFormats","defaultDateFormat"],"YYY-MM-DD"),defaultLocale:e.metadata.get("selectedLocale","en-US"),contact:L()(e.bnplPassengers.get("contact"),"toJS",{}),pnr:e.sessionStorage.getIn(["pnrQuery","pnr"]),lastName:e.sessionStorage.getIn(["pnrQuery","lastName"]),pnrQuery:Object(U.a)(e,t),getBackLinkProps:Object(q.a)(e,t)})}),{getBNPLPassengers:x.d})(Object(b.a)(W,"isLoading"));n.d(t,"default",(function(){return G}))},function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(49),y=n.n(v),b=n(35),C=n.n(b),E=n(73),k=n.n(E),O=n(2),_=n.n(O),P=n(27),S=n.n(P),N=n(0),w=n.n(N),A=n(1),T=n.n(A),I=n(6),D=n(123),x=n(11),j=n(12),L=(n(194),n(2267)),F=n(335),B=n(68),R=n(527),M=n(84),V=n(14),U=n(2188),q=n(88),H=n(136),W=n(521),G=n(1294),K=n(66),z=n(2651),Y=n(195),Q=n(1557),X=(n(1349),n(1376)),J=n(2335),$=n(47),Z=n(331),ee=n(1986),te=(n(1290),n(1315)),ne=n(2102),ae=n(1289),re=n(7),ie=n(2104),se=n(2103);var oe=n(37),le=n.n(oe),ce=n(77),ue=n.n(ce),de=n(36),pe=n.n(de),he=n(38),fe=n.n(he),me=n(4),ge=n.n(me),ve=n(51),ye=n.n(ve),be=n(16),Ce=n.n(be),Ee=n(5),ke=n.n(Ee),Oe=n(17),_e=n.n(Oe),Pe=n(214),Se=n(324),Ne=n(1411),we=n(101),Ae=n(532);function Te(e){return ge()(e,(function(e,t){return e&&t.dataAdded}),!0)}function Ie(e,t,n,a,r,i,s){return ke()(e,(function(e){var o=function(e,t){return Boolean(t[e]&&!_()(t[e]))}(e.key,t),l=!o||function(e,t,n,a,r,i){var s=w()(t,"dateOfBirth");if(_()(s))return!0;var o,l=w()(t,"type"),c=pe()(e.split("-"));o="ADT"===l&&"1"===c?le()({},w()(n,"passengerForm.".concat(l),{}),w()(n,"passengerForm.".concat(l).concat(c))):w()(n,"passengerForm.".concat(l),{});var u=w()(o,"dateOfBirth.validators",[]);return!Object(ae.l)(u)||Object(ae.k)(_e()(s).format(r),o,a,r,i)}(e.key,t[e.key],a,r,i,s);return Ce()(e,{dataAdded:!ue()(e.key,n)&&o&&l})}))}var De=n(2150),xe=n(2404),je=n(1974),Le=(n(2058),n(3130),function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"onBack",(function(){n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(M.a.EXCHANGE,"/").concat(V.a.FLIGHT_SELECTION),n.getQuery())})),g()(u()(n),"goBackToFlights",(function(){var e=C()(w()(n.props,"location.query"),["flight","flight1","direction"]);n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/exchange/flight-selection",e)})),g()(u()(n),"onAdditionalInfoChange",(function(e,t,a){n.consent.updateAdditionalInfo(e,t,a)})),g()(u()(n),"onDeleteAdditionalInfo",(function(e){n.consent.deleteAdditionalInfo(e)})),g()(u()(n),"onAddSectionClick",(function(e){n.consent.onAddSectionClick(e)})),g()(u()(n),"handleProceed",(function(){if(n.passengerList.isValid())if(n.props.isPassengerInfoEditable){var e=n.passengerList.getValue(),t=e.passengers,a=e.businessLoyaltyNumber,r=e.contact,i=void 0===r?{emails:[],phones:[]}:r,s=n.props.configuration.passengerForm.businessLoyalty,o=s.airline,l=s.programId,c=a?{memberId:a,programId:l,airline:o}:{};n.props.updatePassenger(t,c,i,w()(n.props,"configuration.nextPage","/".concat(M.a.EXCHANGE,"/").concat(V.a.SEAT_SELECTION)))}else n.props.updateRoute(w()(n.props,"configuration.nextPage","/".concat(M.a.EXCHANGE,"/").concat(V.a.SEAT_SELECTION)))})),g()(u()(n),"handleCheckBox",(function(e){return n.setState({isChecked:e})})),n.passengerView=T.a.createRef(),n.consent=T.a.createRef(),n.state={isChecked:!1},n}return f()(t,e),p()(t,null,[{key:"getFirstPassenger",value:function(e){var t=S()(y()(e));return w()(e,t)}},{key:"getModalProps",value:function(){return{title:Object(j.a)("exchange.modals.cancel.title"),description:Object(j.a)("exchange.modals.cancel.description")}}},{key:"isCreateAccountSelected",value:function(e){var n=t.getFirstPassenger(e);return!0===w()(n,"createAccount")}}]),p()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.resetPassengerAddedFlag(),this.props.requestCart(M.a.EXCHANGE,this.props.location),this.props.getPassengersFromItinerary(w()(this.props,"pnrQuery")),this.context.startTimeoutChecker()}},{key:"UNSAFE_componentWillUpdate",value:function(e){e.proceed&&e.proceed!==this.props.proceed&&(e.passengersInfoSaved||!this.props.isPassengerInfoEditable)&&w()(e,"passengersErrors",Object(x.List)()).isEmpty()&&this.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.nextRoute,this.props.location.query)}},{key:"componentDidUpdate",value:function(e){var t=e.passengersErrors,n=this.props.passengersErrors,a=e.passengerWarnings,r=this.props.passengerWarnings;(n.isEmpty()||n.equals(t))&&(r.isEmpty()||r.equals(a))||Object(X.a)(this.passengerView)}},{key:"onTimeoutWarningStartOverClick",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_QUERY","/home")}},{key:"getQuery",value:function(){return w()(this.props,"location.query",{})}},{key:"hasBusinessLogicErrors",value:function(){var e=this.props.passengersErrors.find((function(e){return e.errorType===$.d.BUSINESS_LOGIC&&e.errorCode===Z.a}));return!_()(e)}},{key:"renderFrequentFlyerWarningModal",value:function(){return T.a.createElement(z.a,{user:this.props.user,callback:this.goBackToFlights})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCreateAccountEnabled,a=t.validations,r=t.configuration,i=t.isAuthorable,s=t.passengerWarnings,o=t.passengerIds,l=t.provinces,c=t.passengerTypes,u=t.isLoading,d=t.isUserLoggedIn,p=t.isSignedIn,h=t.rememberedFirstNames,f=t.multiFrequentFlyerData,m=t.dateFormat,g=t.defaultLocale,v=t.contact,y=t.currentFlow,b=t.passengersErrors,C=t.serverValidationErrors,E=t.location,O=t.frequentFlyer,P=t.phoneCountryCodes,S=this.props,N=S.globalAdvisories,A=S.travelPartAdvisories,I=Object(j.i)("app.".concat(k()(this.props.getNextPage()))),D=this.hasBusinessLogicErrors(),x=!_()(N)&&0!==N.size,L=!_()(A)&&0!==A.size,F=r.displayEditPassengerDetailsOptionMessage,B=w()(r,"showSkipSeatSelectionButton",!1),R=Object(Y.a)(i,"exchangePassengerView");return T.a.createElement(je.a,{className:"dxp-exchange-passenger-view",id:ee.b,location:E,isCartEnabled:!0,authorableAttributes:R,title:"passengers.header"},T.a.createElement("div",{ref:function(t){e.passengerView=t}},x&&T.a.createElement(Q.a,{advisories:N}),D&&T.a.createElement(H.a,{className:"session-timeout-warning"},T.a.createElement("h2",null,Object(j.a)("sessionTimeout.timeout.title")),T.a.createElement("p",null,Object(j.a)("sessionTimeout.timeout.description")),T.a.createElement(q.a,{className:"primary medium",onClick:function(t){return e.onTimeoutWarningStartOverClick(t)}},Object(j.a)("sessionTimeout.timeout.action"))),T.a.createElement(J.a,{errors:b,warnings:s,shouldDisplayEditPaxDetailsPrompt:F}),L&&T.a.createElement(Q.a,{advisories:A}),u&&T.a.createElement(W.a,null),!u&&T.a.createElement(U.a,{passengerIds:o,provinces:l,isUserLoggedIn:d,isSignedIn:p,rememberedFirstNames:h,multiFrequentFlyerData:f,dateFormat:m,defaultLocale:g,contact:v,flow:y,configuration:r,passengerTypes:c,validations:a,passengers:this.props.passengers,isCreateAccountEnabled:n,itineraryParts:w()(this.props,"searchCriteria.itineraryParts",[]),isPassengerInfoEditable:w()(this.props,"isPassengerInfoEditable",!0),basicInfoDisabled:!0,serverValidationErrors:C,ref:function(t){e.passengerList=t},frequentFlyer:O,onFrequentFlyerChange:this.props.updateFrequentFlyer,phoneCountryCodes:P,handleCheckBox:this.handleCheckBox,onAdditionalInfoChange:function(t,n,a){return e.onAdditionalInfoChange(t,n,a)},onDeleteAdditionalInfo:function(t){return e.onDeleteAdditionalInfo(t)},onAddSectionClick:function(t){return e.onAddSectionClick(t)},businessLoyalty:this.props.businessLoyalty,geolocation:this.props.geolocation}),T.a.createElement(De.a,{searchCriteriaItineraryParts:w()(this.props,"searchCriteria.itineraryParts",[]),messages:w()(r,"dynamicDisclaimers","")}),T.a.createElement(xe.a,{ref:function(t){return e.consent=t},isSignedIn:this.props.isSignedIn,configuration:r,nextPageTitle:I,showSkipSeatSelectionButton:B,onBackLinkProps:this.goBackToFlights,handleProceed:this.handleProceed,passengerInfo:this.props.passengers}),this.props.showFrequentFlyerTierWarning&&this.renderFrequentFlyerWarningModal()))}}]),t}(A.Component));g()(Le,"contextTypes",{startTimeoutChecker:I.func,stopTimeoutChecker:I.func}),g()(Le,"defaultProps",{updateRoute:void 0,provinces:void 0,passengerIds:void 0,isLoading:!1,isPassengerInfoEditable:!1,passengersInfoSaved:!1,isAuthorable:!0,contact:{emails:[],phones:[]},proceed:!1,passengersErrors:Object(x.List)(),isUserLoggedIn:!1,globalAdvisories:void 0,travelPartAdvisories:void 0,showFrequentFlyerTierWarning:!1,passengerWarnings:Object(x.List)(),isSignedIn:!1,rememberedFirstNames:[],serverValidationErrors:Object(x.Map)(),user:Object(x.Map)(),nextRoute:void 0});var Fe=Object(D.b)((function(e,t){var n,a=!e.session.get("user").isEmpty(),r=e.metadata.get("exchangePassengerConfiguration"),i=(n=e.shoppingCart||Object(x.Map)(),ge()(n.getIn(["data","segments"],Object(x.List)()).toJS(),(function(e,t){var n=e[t.airlineCode]||[];return n.push(fe()(t,"origin","destination")),e[t.airlineCode]=n,e}),{})),s=function(e){return ye()(e.passengerData.get("passengers"),"toJS",{})}(e),o=function(e){return ke()(e,(function(e,t){return{key:t,type:e.type,dataAdded:!0}}))}(s),l=Object(Pe.a)()(e,t),c=Object(Se.a)(e),u=e.metadata.get("defaultLocaleForDate"),d=e.passengerData.get("passengerId"),p=e.passengerData.get("isPassengerRemembered"),h=w()(l,"itineraryParts",[]),f=Ie(o,s,!ue()(p,!1)&&d,r,h,c,u);return Ce()({},Object(Se.c)()(e,t),{configuration:r,flowConfiguration:e.metadata.getIn(["flows",Object(we.a)(t.location.pathname)]),passengers:s,multiFrequentFlyerData:i,passengersAdded:e.passengerData.get("passengersAdded",!1),nextRoute:e.passengerData.get("route",null),passengersErrors:e.passengerData.get("passengersErrors",Object(x.List)()),serverValidationErrors:e.passengerData.get("serverValidationErrors",Object(x.Map)()),passengerIds:f,passengersInfoSaved:Te(f),proceed:e.passengerData.get("proceed"),isUserLoggedIn:a&&!e.passengerData.get("clearSignInInfo")&&_()(e.passengerData.get("passengers")),isSignedIn:a,getNextPage:Object(Ae.a)(e,t),provinces:e.metadata.get("provincesConfiguration"),defaultLocale:e.metadata.get("defaultLocaleForDate"),isLoading:e.passengerData.get("isLoading")||e.dynamicDisclaimer.geolocationLoading,isPassengerInfoEditable:r.isPassengerInfoEditable,pnrQuery:Object(Ne.a)(e,t),passengerTypes:e.metadata.getIn(["passengers","options"]),passengerWarnings:e.passengerData.get("warnings",Object(x.List)()),contact:ye()(e.passengerData.get("contact"),"toJS",{}),validations:e.metadata.get("validations",{}),isCreateAccountEnabled:e.metadata.getIn(["createAccount","isEnabled"],!1),frequentFlyer:e.passengerData.get("frequentFlyer"),phoneCountryCodes:e.metadata.get("phoneConfiguration"),user:e.session.get("user"),businessLoyalty:ye()(e.passengerData.get("businessLoyalty"),"toJS",{}),geolocation:e.dynamicDisclaimer.geolocation})}),{requestCart:R.g,getPassengersFromItinerary:L.f,actionUpdateURLQuery:K.c,resetPassengerAddedFlag:L.h,getProfile:B.s,updatePassenger:function(e,t,n,a){return function(r,i){var s=(i().shoppingCart.getIn(["data","segments"],Object(x.List)()).first()||Object(x.Map)()).get("airlineCode",""),o=i().metadata.getIn(["exchangePassengerConfiguration"]),l=Object(ae.n)(C()(e,"dateOfBirth"),o,s);return r({type:"ADD_PASSENGER_REQUEST",passengers:l}),Object(ne.e)(e),Object(ne.g)(l,t,n).then((function(e){if(e.warnings.ffTierWarning)r({type:"SHOW_FREQUENT_FLYER_TIER_WARNING"});else if(_()(e.warnings))r({type:"PASSENGERS_ADDED",data:e,route:a});else{var t=Object(se.b)(e.warnings);r({type:re.if,data:e,warnings:t})}r({type:re.Bb})})).catch((function(e){if("HTTPERROR"===e.errorType){var t=Object(se.a)(e.response),n=Object(ie.a)(t);r({type:"PASSENGERS_ERROR",passengersErrors:t,serverValidationErrors:n})}throw e}))}},updateRoute:function(e){return function(t){t({type:"PASSENGERS_ADDED",data:{},route:e})}},skipSeatSelection:F.e,updateFrequentFlyer:L.i})(Object(G.a)(Object(te.a)(Le),"isLoading"));n.d(t,"default",(function(){return Fe}))},,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"updateCartAndGetPaymentOptions",(function(){return J})),n.d(a,"setCallUpdateCartRequest",(function(){return $}));var r=n(26),i=n.n(r),s=n(22),o=n.n(s),l=n(29),c=n.n(l),u=n(28),d=n.n(u),p=n(31),h=n.n(p),f=n(30),m=n.n(f),g=n(3),v=n.n(g),y=n(122),b=n.n(y),C=n(0),E=n.n(C),k=n(51),O=n.n(k),_=n(35),P=n.n(_),S=n(16),N=n.n(S),w=n(1),A=n.n(w),T=n(6),I=(n(194),n(123)),D=n(12),x=n(11),j=n(1294),L=n(1315),F=n(2114),B=n(66),R=n(1930),M=n(527),V=n(1592),U=n(1586),q=n(2637),H=n(68),W=n(451),G=n(2174),K=n(2055),z=n(24),Y=n(14),Q=n(1988),X=(n(1290),n(7));function J(e,t){return function(n,a){return a().payment.get("callUpdateCartRequest")?(n({type:X.yf}),n(Object(M.j)("","",e)).then((function(){n(Object(R.getPaymentOptions)(e))})).catch((function(e){throw n({type:X.Ud,data:e.response}),e}))):Promise.all([n(Object(R.getPaymentOptions)(e)),n(Object(M.g)(e,t))])}}function $(){return function(e){return e({type:X.ff})}}var Z=n(42),ee=n(2075),te=n(568),ne=n(153),ae=n(154),re=n(101),ie=n(531),se=n(532),oe=n(328),le=n(327),ce=n(438),ue=n(2361);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var pe=n(1974);n(3133),n(2058);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var fe=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=c()(this,(e=d()(t)).call.apply(e,[this].concat(r))),v()(h()(n),"onBack",(function(){var e=n.props,t=e.ancillaryState,a=e.isSeatsOnExtrasPageEnabled,r=O()(n.props,"getBackLinkProps"),i=r.path,s=r.query;if(a)return n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(z.a.EXCHANGE,"/").concat(Y.a.ANCILLARIES),s);var o=E()(t.ancillaries,"ancillariesAvailable",!1)?"/".concat(z.a.EXCHANGE,"/seat-selection"):i;return n.props.actionUpdateURLQuery("URL_UPDATE_HASH",o,s)})),v()(h()(n),"processPayment",(function(){var e=n.props,t=e.metadata,a=e.configuration,r=e.currentFlow,i=e.createAccount,s=e.paymentData,o=n.context.language,l=s.toJS().paymentQuery;return n.props.purchase({paymentQuery:l,metadata:t,configuration:a,language:o,createAccount:i,currentFlow:r})})),n}return m()(t,e),o()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.context.startTimeoutChecker(),E()(this.props.configuration,"fraudCheck.enabled")&&W.b(this.props.configuration.fraudCheck),Object(G.a)(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.paymentSuccessful&&!this.props.paymentSuccessful&&this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),E()(this.props,"location.query",{})),!this.props.createAccountSuccess&&e.createAccountSuccess&&this.payment.refreshPayment(),Object(G.a)(e)}},{key:"componentWillUnmount",value:function(){this.props.clearPreviousPaymentState()}},{key:"onContinue",value:function(){var e=E()(this.props,"location.query",{}),t=this.props.getNextPage();this.props.actionUpdateURLQuery("URL_UPDATE_HASH",t,e)}},{key:"getNavigationProps",value:function(){var e=this.props,n=e.paymentData,a=e.cancelProps,r=t.getPaymentType(n),i=n.get("paymentProcessing");return{onPurchaseTitle:"payment.".concat(r,".complete"),onBackClick:this.onBack,onBackTitle:"payment.back",showCancelButton:!0,modal:{title:Object(D.a)("exchange.cancelModal.title"),description:Object(D.a)("exchange.cancelModal.description")},acceptLink:a,isProcessing:i}}},{key:"render",value:function(){var e=this,n=t.getPaymentType(this.props.paymentData),a=N()({},P()(this.props,["paymentData","shoppingCart"]),O()(this.props.paymentData,"toJS"),{shoppingCart:O()(this.props.shoppingCart,"toJS")}),r=a.ABNACNNumber,i=a.alerts,s=a.canUserContinue,o=a.dccOptionSelected,l=a.dccOptions,c=a.holdOptions,u=a.insuranceData,d=a.isValidVoucher,p=a.loggedOut,h=a.paymentDetails,f=a.paymentErrors,m=a.paymentOptions,g=a.paymentOptionsLoading,v=a.updatePaymentQuery,y=a.paymentProcessing,b=a.paymentQuery,C=a.paymentSelected,E=a.paymentSuccessful,k=a.paymentTypes,_=a.productTypes,S=a.redirectInfo,w=a.selectedHoldOption,T=a.shouldWeRedirect,I=a.shoppingCart,D=a.getBNPLholdOptions,x=a.getPaymentOptions,j=a.onFareRulesClick,L=a.onCartItemRemove,B=a.onBagFeeLinkClick,R=a.canContinue,M=a.selectBNPL,V=a.setCallUpdateCartRequest,U=a.updateCartAndGetPaymentOptions,q=a.setPaymentSelected,H=a.purchase,W=a.getInsurance,G=a.updateInsurance,K=a.updateTotalForInsurance,z=a.getPostBookingInsurance,Y=a.isAuthorable,X=a.configuration,J=a.holdOptionSelected,$=a.globalAdvisories,Z=a.travelPartAdvisories,ee=a.metadata,te=a.PAYMENT_TYPES,ne=a.currentFlow,ae=a.createAccount,re=a.selectedCarOffer,ie=a.isCarBookProcessing,se=a.ancillariesConfiguration,oe=a.PAYMENT_STATUSES,le=a.savedInsurance,ce=a.processABNACNNumber,ue=a.clearChinaUnionPaySmsResponse,de=a.clearPaymentDetails,he=a.getExecutionKey,fe=a.cancelPayment,me=a.dropProducts,ge=a.refundData,ve=a.purchaseCompleted,ye=this.props,be=ye.error,Ce=ye.user,Ee=ye.chinaUnionPay,ke=ye.isBookHotelProcessing,Oe=ye.paymentTypesOrganized,_e=ye.travelBankAccountInfo,Pe=ye.refundConfiguration,Se=ye.passengerConfigs,Ne=ye.flowConfiguration,we=ye.validators,Ae=ye.location,Te=ye.searchCriteria,Ie=ye.pnrLookupQuery,De=ye.travelBankConfiguration,xe=this.context.language,je=this.props.passengers||this.props.paymentData&&this.props.paymentData.get("passengers");return A.a.createElement(pe.a,{className:"dxp-exchange-payment-view",id:Q.c,location:Ae,isCartEnabled:!0,title:"payment.".concat(n,".header")},A.a.createElement(F.a,{ref:function(t){e.payment=t},purchaseCompleted:ve,handleStartOver:this.props.handleStartOver,navigation:this.getNavigationProps(),ABNACNNumber:r,alerts:i,callUpdateCartRequest:this.props.callUpdateCartRequest,canUserContinue:s,chinaUnionPay:Ee,isAuthorable:Y,shouldWeRedirect:T,paymentOptionsLoading:g,paymentSelected:C,paymentProcessing:y,isCarBookProcessing:ie,isBookHotelProcessing:ke,dccOptionSelected:o,dccOptions:l,getDCCOffers:this.props.getDCCOffers,error:be,holdOptions:c,insuranceData:u,isValidVoucher:d,loggedOut:p,paymentDetails:h,paymentErrors:f,paymentOptions:m,paymentQuery:b,paymentSuccessful:E,paymentTypes:k,productTypes:_,redirectInfo:S,selectedHoldOption:w,shoppingCart:I,fetchFareRules:this.props.fetchFareRules,getBagFee:this.props.getBagFee,requestCart:this.props.requestCart,getBNPLholdOptions:D,getPaymentOptions:x,onFareRulesClick:j,onCartItemRemove:L,onBagFeeLinkClick:B,canContinue:R,selectBNPL:M,setCallUpdateCartRequest:V,updateCartAndGetPaymentOptions:U,updateProfile:this.props.updateProfile,setPaymentSelected:q,purchase:H,getInsurance:W,updateInsurance:G,updateTotalForInsurance:K,getPostBookingInsurance:z,updatePaymentQuery:v,sendFreeChinaUnionPaySms:this.props.sendFreeChinaUnionPaySms,updateCartWithAwardSwitch:this.props.updateCartWithAwardSwitch,configuration:X,refundConfiguration:Pe,passengerConfigs:Se,searchCriteria:Te,holdOptionSelected:J,globalAdvisories:$,travelPartAdvisories:Z,metadata:ee,PAYMENT_TYPES:te,paymentType:n,currentFlow:ne,createAccount:ae,language:xe,passengers:je,ancillariesConfiguration:se,location:this.props.location,PAYMENT_STATUSES:oe,savedInsurance:le,pnrLookupQuery:Ie,isAwardBooking:this.props.isAwardBooking,processPayment:this.processPayment,user:Ce,getProfile:this.props.getProfile,processABNACNNumber:ce,paymentTypesOrganized:Oe,getExecutionKey:he,cancelPayment:fe,dropProducts:me,clearPaymentDetails:de,selectedLocale:this.props.selectedLocale,locales:this.props.locales,clearChinaUnionPaySmsResponse:ue,provinces:this.props.provinces,getPaymentDetails:this.props.getPaymentDetails,session:this.props.session,flowConfiguration:Ne,travelBankAccountInfo:_e,selectedCarOffer:re,processBNPL:this.props.processBNPL,validators:we,refundData:ge,isBankIdentificationValid:this.props.isBankIdentificationValid,signInCallback:this.props.signInCallback,dateFormat:this.props.dateFormat,actionUpdateURLQuery:this.props.actionUpdateURLQuery,getNextPage:this.props.getNextPage,phoneCountryCodes:this.props.phoneCountryCodes,selectPaymentOption:this.props.selectPaymentOption,travelBankConfiguration:De,backendUrl:this.props.backendUrl}))}}],[{key:"getPaymentType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(x.Map)();return e.get("paymentType")}}]),t}(w.Component);v()(fe,"contextTypes",{startTimeoutChecker:T.func,stopTimeoutChecker:T.func,language:T.string}),v()(fe,"defaultProps",{pnrLookupQuery:void 0,shoppingCart:void 0,createAccount:void 0,createAccountSuccess:!1,callUpdateCartRequest:!1,paymentSuccessful:!1,isAwardBooking:!1,ancillaryState:void 0,metadata:void 0,session:Object(x.Map)(),user:Object(x.Map)(),fetchFareRules:void 0,error:void 0,isBookHotelProcessing:!1,chinaUnionPay:Object(x.Map)(),passengers:void 0,travelBankAccountInfo:{},refundConfiguration:{},passengerConfigs:{},validators:{},flowConfiguration:Object(x.Map)(),updateCartWithAwardSwitch:void 0,selectPaymentOption:b.a,travelBankConfiguration:void 0,backendUrl:void 0,isSeatsOnExtrasPageEnabled:!1});var me=Object(I.b)((function(){var e=Object(Z.b)({configuration:function(e){return e.metadata.get("exchangePaymentConfiguration")},refundConfiguration:function(e){return e.metadata.get("cancelConfiguration")},passengerConfigs:function(e){return e.metadata.get("cancelFlightPaymentConfiguration")},currentFlow:function(e,t){return Object(re.a)(t.location.pathname)},flowConfiguration:function(e,t){return e.metadata.getIn(["flows",Object(re.a)(t.location.pathname)])},validators:function(e){return Object(ne.a)(e.metadata.get("signInConfiguration"),"username","password","email")},createAccountSuccess:function(e){return e.cancelFlightPayment.get("createAccountSuccess")},error:function(e){return e.cancelFlightPayment.get("error")},travelBankAccountInfo:function(e){return e.cancelFlightPayment.get("travelBankAccountInfo")},phoneCountryCodes:function(e){return e.metadata.get("phoneConfiguration")},travelBankConfiguration:function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])},isSeatsOnExtrasPageEnabled:function(e,t){return e.metadata.getIn(["seatsOnExtrasPage",Object(re.a)(t.location.pathname),"isEnabled"],!1)}});return Object(Z.a)(Object(ee.a)(),Object(ue.a)(),e,Object(te.a)(),Object(ie.a)(),oe.b,le.a,se.a,ce.a,ce.b,(function(e,t,n,a,r,i,s,o,l,c){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},n,{ancillaryState:t,pnrLookupQuery:a,paymentTypesOrganized:Object(ae.g)(n.configuration),background:r,dateFormat:i,language:s,getNextPage:o,getBackLinkProps:l,cancelProps:c})}))}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},R,{},a,{requestCart:M.g,updateCartItem:M.i,updateCartWithAwardSwitch:M.j,fetchFareRules:V.a,getBagFee:U.b,actionUpdateURLQuery:B.c,getCancelFlightPayment:q.b,createAccount:q.a,signInCallback:H.E,getProfile:H.s,updateProfile:K.c,handleStartOver:H.u}))(Object(j.a)(Object(L.a)(fe),"paymentOptionsLoading"));n.d(t,"default",(function(){return me}))},,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(51),C=n.n(b),E=n(0),k=n.n(E),O=n(35),_=n.n(O),P=n(16),S=n.n(P),N=n(1),w=n.n(N),A=n(6),T=n(123),I=n(12),D=(n(194),n(11)),x=n(2114),j=n(1930),L=n(534),F=n(527),B=n(542),R=n(1592),M=n(1586),V=n(66),U=n(451),q=n(68),H=n(2174),W=n(2055),G=n(440),K=n(319),z=n(84),Y=n(1988),Q=n(1315),X=n(1294),J=n(2221),$=(n(1290),n(54)),Z=n.n($),ee=n(42),te=n(2075),ne=n(154),ae=n(101),re=n(174),ie=n(328),se=n(327),oe=n(10),le=n(532),ce=n(438),ue=n(2340);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var pe=n(1972);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var fe=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onBackLinkProps",(function(){var e=n.props,t=e.ancillaryState,a=void 0===t?{}:t,r=e.metadata,i=C()(n.props,"getBackLinkProps"),s=i.path,o=i.query,l=!k()(a.ancillaries,"ancillariesAvailable",!1)||r.getIn(["seatsOnExtrasPage","isEnabled"],!1),c="b2c"===C()(p()(n),"props.currentFlow","b2c")?"/seat-selection":"/".concat(C()(p()(n),"props.currentFlow","b2c"),"/seat-selection");n.props.actionUpdateURLQuery("URL_UPDATE_HASH",l?s:c,o)})),g()(p()(n),"processAwardPayment",(function(e,t,a){n.props.processAwardPayment(e,t,a).then((function(){n.props.requestCart(z.a.B2C,n.props.location)}))})),g()(p()(n),"processPayment",(function(){var e=n.props,t=e.metadata,a=e.configuration,r=e.currentFlow,i=e.location,s=k()(i,"query.origin"),o=n.context.language,l=n.props.paymentData.get("paymentQuery").toJS();return n.props.purchase({paymentQuery:l,metadata:t,configuration:a,language:o,currentFlow:r,origin:s})})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.session.get("executionStarted")?(this.context.startTimeoutChecker(),k()(this.props.configuration,"fraudCheck.enabled")&&U.b(this.props.configuration.fraudCheck),this.props.fetchSelectedOffer(),!this.props.isBagFeeExternalLinkEnabled&&this.props.getBagFee(this.props.currentFlow),!this.props.selectedHotel&&this.props.fetchSelectedHotel(),Object(H.a)(this.props)):this.props.actionUpdateURLQuery("URL_UPDATE_QUERY","/home",{locale:this.props.session.get("locale")})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.session.get("executionStarted")){if(e.paymentSuccessful&&e.paymentSuccessful!==this.props.paymentSuccessful){var n=this.props,a=n.selectedCarOffer,r=n.selectedHotel;if(a||r){var i=this.props.paymentData.get("paymentQuery"),s=this.props.isDelayedCarPayment?Object(D.List)():i;Promise.all([a&&this.props.bookCar(a,s),r&&this.props.reserveHotel(r,i)]).then((function(){return t.props.clearSession()})).then((function(){t.props.actionUpdateURLQuery("URL_UPDATE_HASH",t.props.getNextPage(),S()({},_()(k()(t.props.location,"query",{}),"execution")))}))}else this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),S()({},_()(k()(this.props.location,"query",{}),"execution")))}Object(H.a)(e)}}},{key:"componentWillUnmount",value:function(){this.props.clearPreviousPaymentState()}},{key:"getNavigationProps",value:function(){return{onPurchaseTitle:"app.purchase",onBackClick:this.onBackLinkProps,onBackTitle:"payment.back",disabled:!1,showCancelButton:!1,modal:{},isProcessing:this.props.paymentData.get("paymentProcessing")}}},{key:"render",value:function(){if(!this.props.session.get("executionStarted"))return null;var e=S()({},_()(this.props,["paymentData"]),C()(this.props.paymentData,"toJS"),{shoppingCart:C()(this.props.shoppingCart,"toJS")}),t=e.ABNACNNumber,n=e.alerts,a=e.callUpdateCartRequest,r=e.canUserContinue,i=e.dccOptionSelected,s=e.dccOptions,o=e.holdOptions,l=e.insuranceData,c=e.isValidVoucher,u=e.loggedOut,d=e.paymentDetails,p=e.paymentErrors,h=e.paymentOptions,f=e.paymentOptionsLoading,m=e.updatePaymentQuery,g=e.paymentProcessing,v=e.paymentQuery,y=e.paymentSelected,b=e.paymentSuccessful,E=e.paymentTypes,k=e.productTypes,O=e.redirectInfo,P=e.selectedHoldOption,N=e.shouldWeRedirect,A=e.shoppingCart,T=e.getBNPLholdOptions,D=e.getPaymentOptions,j=e.onFareRulesClick,L=e.onCartItemRemove,F=e.onBagFeeLinkClick,B=e.canContinue,R=e.selectBNPL,M=e.setCallUpdateCartRequest,V=e.updateCartAndGetPaymentOptions,U=e.setPaymentSelected,q=e.purchase,H=e.getInsurance,W=e.updateInsurance,G=e.updateTotalForInsurance,z=e.getPostBookingInsurance,Q=e.isAuthorable,X=e.configuration,$=e.searchCriteria,Z=e.holdOptionSelected,ee=e.globalAdvisories,te=e.travelPartAdvisories,ne=e.metadata,ae=e.PAYMENT_TYPES,re=e.paymentType,ie=e.currentFlow,se=e.createAccount,oe=e.selectedCarOffer,le=e.isCarBookProcessing,ce=e.ancillariesConfiguration,ue=e.selectedHotel,de=e.location,he=e.PAYMENT_STATUSES,fe=e.savedInsurance,me=e.pnrLookupQuery,ge=e.isAwardBooking,ve=e.processABNACNNumber,ye=e.clearChinaUnionPaySmsResponse,be=e.clearPaymentDetails,Ce=e.getExecutionKey,Ee=e.cancelPayment,ke=e.dropProducts,Oe=e.setDCCOption,_e=e.purchaseCompleted,Pe=this.props,Se=Pe.error,Ne=Pe.user,we=Pe.chinaUnionPay,Ae=Pe.isBookHotelProcessing,Te=Pe.paymentTypesOrganized,Ie=Pe.session,De=Pe.isCompanionFareSearch,xe=Pe.travelBankConfiguration,je=this.context.language,Le=this.props.passengers||this.props.paymentData&&this.props.paymentData.get("passengers");return w.a.createElement(pe.a,{location:de,title:"payment.payment.header",className:"dxp-payment-view",id:Y.a,role:"main",onCartItemRemove:L},De&&w.a.createElement(J.a,null),Se?w.a.createElement(K.a,{type:"error",title:"error.".concat(Se,".title")},w.a.createElement("ul",null,Object(I.a)("error.".concat(Se,".description")))):w.a.createElement(x.a,{handleStartOver:this.props.handleStartOver,purchaseCompleted:_e,navigation:this.getNavigationProps(),ABNACNNumber:t,alerts:n,callUpdateCartRequest:a,canUserContinue:r,chinaUnionPay:we,isAuthorable:Q,shouldWeRedirect:N,paymentOptionsLoading:f,paymentSelected:y,paymentProcessing:g,isCarBookProcessing:le,isBookHotelProcessing:Ae,dccOptionSelected:i,dccOptions:s,getDCCOffers:this.props.getDCCOffers,error:Se,holdOptions:o,insuranceData:l,isValidVoucher:c,loggedOut:u,paymentDetails:d,paymentErrors:p,paymentOptions:h,paymentQuery:v,paymentSuccessful:b,paymentTypes:E,productTypes:k,redirectInfo:O,selectedHoldOption:P,shoppingCart:A,fetchFareRules:this.props.fetchFareRules,getBagFee:this.props.getBagFee,requestCart:this.props.requestCart,getBNPLholdOptions:T,getPaymentOptions:D,onFareRulesClick:j,onCartItemRemove:L,onBagFeeLinkClick:F,canContinue:B,selectBNPL:R,setCallUpdateCartRequest:M,updateCartAndGetPaymentOptions:V,updateProfile:this.props.updateProfile,setPaymentSelected:U,purchase:q,getInsurance:H,updateInsurance:W,updateTotalForInsurance:G,getPostBookingInsurance:z,updatePaymentQuery:m,sendFreeChinaUnionPaySms:this.props.sendFreeChinaUnionPaySms,updateCartWithAwardSwitch:this.props.updateCartWithAwardSwitch,configuration:X,searchCriteria:$,holdOptionSelected:Z,globalAdvisories:ee,travelPartAdvisories:te,metadata:ne,PAYMENT_TYPES:ae,paymentType:re,currentFlow:ie,createAccount:se,selectedCarOffer:oe,language:je,passengers:Le,ancillariesConfiguration:ce,selectedHotel:ue,location:de,PAYMENT_STATUSES:he,savedInsurance:fe,pnrLookupQuery:me,isAwardBooking:ge,processPayment:this.processPayment,processAwardPayment:this.processAwardPayment,user:Ne,getProfile:this.props.getProfile,processABNACNNumber:ve,paymentTypesOrganized:Te,getExecutionKey:Ce,cancelPayment:Ee,dropProducts:ke,clearPaymentDetails:be,selectedLocale:this.props.selectedLocale,locales:this.props.locales,clearChinaUnionPaySmsResponse:ye,provinces:this.props.provinces,getPaymentDetails:this.props.getPaymentDetails,session:Ie,isBankIdentificationValid:this.props.isBankIdentificationValid,dateFormat:this.props.dateFormat,actionUpdateURLQuery:this.props.actionUpdateURLQuery,getInstallmentPlansForSelectedCCType:this.props.getInstallmentPlansForSelectedCCType,showInstallmentCreditCardDoesNotQualifyMessage:this.props.showInstallmentCreditCardDoesNotQualifyMessage,selectInstallmentPlan:this.props.selectInstallmentPlan,clearInstallmentPlans:this.props.clearInstallmentPlans,clearSelectedInstallmentPlan:this.props.clearSelectedInstallmentPlan,installments:this.props.installments,phoneCountryCodes:this.props.phoneCountryCodes,selectPaymentOption:this.props.selectPaymentOption,travelBankConfiguration:xe,updateInsuranceWithCart:this.props.updateInsuranceWithCart,setDCCOption:Oe,backendUrl:this.props.backendUrl}))}}]),t}(N.Component);g()(fe,"contextTypes",{startTimeoutChecker:A.func,stopTimeoutChecker:A.func,language:A.string}),g()(fe,"defaultProps",{isBagFeeExternalLinkEnabled:!1,paymentData:void 0,shoppingCart:void 0,actionUpdateURLQuery:void 0,getNextPage:void 0,configuration:void 0,metadata:Object(A.shape)({fareRules:Object(D.Map)(),bagFee:Object(D.Map)(),purchaseAgreementLinks:Object(D.Map)(),additionalTermsAndConditions:Object(D.List)(),summaryBarConfiguration:Object(D.Map)(),flightDetails:Object(D.Map)(),defaultDateFormats:Object(D.Map)(),createAccount:Object(D.Map)(),languageForBooking:Object(D.Map)(),journeyTypes:Object(D.Map)(),classes:Object(D.Map)(),passengers:Object(D.Map)()}),ancillaryState:void 0,purchase:void 0,processAwardPayment:void 0,requestCart:void 0,session:Object(D.Map)(),paymentSuccessful:void 0,user:Object(D.Map)(),getProfile:void 0,updateProfile:void 0,fetchFareRules:void 0,error:void 0,currentFlow:void 0,selectedCarOffer:void 0,selectedHotel:void 0,isBookHotelProcessing:!1,chinaUnionPay:Object(D.Map)(),passengers:void 0,isCompanionFareSearch:!1,getInstallmentPlansForSelectedCCType:void 0,showInstallmentCreditCardDoesNotQualifyMessage:void 0,selectInstallmentPlan:void 0,clearInstallmentPlans:void 0,clearSelectedInstallmentPlan:void 0,installments:void 0,selectPaymentOption:y.a,travelBankConfiguration:void 0,updateInsuranceWithCart:y.a,isDelayedCarPayment:!1,backendUrl:void 0});var me=Object(T.b)((function(){return Object(ee.a)(Object(ue.a)(),Object(te.a)(),(function(e){return e.metadata.get("paymentConfiguration")}),(function(e,t){return e.metadata.getIn(["flows",Object(ae.a)(t.location.pathname)])}),(function(e){return e.cars.get("selectedCarOffer")}),(function(e){return e.hotels.get("isBookHotelProcessing")}),ce.a,(function(e){return e.cars.get("isCarBookProcessing")}),(function(e){return e.hotels.get("selectedHotel")}),(function(e){return e.metadata.get("ancillariesConfiguration")}),re.a,ie.b,le.a,se.a,ie.c,(function(e){return e.flightSelection.get("isCompanionFareSearch")}),(function(e){return e.metadata.get("phoneConfiguration")}),(function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])}),(function(e){return e.metadata.getIn(["bagFee","isExternalLinkEnabled"])}),(function(e){return e.metadata.get("isDelayedCarPayment")}),(function(e,t,n,a,r,i,s,o,l,c,u,d,p,h,f,m,v,y,b,C){var E=t.paymentData.get("productTypes")&&t.paymentData.get("productTypes").merge(Object(D.List)([].concat(Z()(r?[oe.h]:[]),Z()(l?[oe.x]:[]))));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{paymentData:t.paymentData.set("productTypes",E),configuration:n,ancillaryState:e,paymentTypesOrganized:Object(ne.g)(n),flowConfiguration:a,selectedCarOffer:r,isCarBookProcessing:o,selectedHotel:l,isBookHotelProcessing:i,getBackLinkProps:s,ancillariesConfiguration:c,isCompanionFareSearch:m,paymentOptionsLoading:t.paymentData.get("paymentOptionsLoading"),currentFlow:u,dateFormat:d,getNextPage:p,language:h,formatDateTime:f,phoneCountryCodes:v,travelBankConfiguration:y,isBagFeeExternalLinkEnabled:b,isDelayedCarPayment:C})}))}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},j,{requestCart:F.g,updateCartItem:F.i,updateCartWithAwardSwitch:F.j,fetchFareRules:R.a,getBagFee:M.b,actionUpdateURLQuery:V.c,getProfile:q.s,updateProfile:W.c,fetchSelectedOffer:L.d,bookCar:L.a,fetchSelectedHotel:B.d,reserveHotel:B.h,clearSession:G.b,handleStartOver:q.u}))(Object(X.a)(Object(Q.a)(fe),"paymentOptionsLoading"));n.d(t,"default",(function(){return me}))},function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(292),C=n.n(b),E=n(13),k=n.n(E),O=n(19),_=n.n(O),P=n(2),S=n.n(P),N=n(51),w=n.n(N),A=n(130),T=n.n(A),I=n(35),D=n.n(I),x=n(16),j=n.n(x),L=n(0),F=n.n(L),B=n(1),R=n.n(B),M=n(6),V=n(123),U=n(12),q=(n(194),n(11)),H=n(2114),W=n(1294),G=n(1315),K=n(66),z=n(1930),Y=n(527),Q=n(1592),X=n(1586),J=n(14),$=n(451),Z=n(68),ee=n(2055),te=n(2174),ne=n(1988),ae=(n(1290),n(24)),re=n(42),ie=n(2075),se=n(1411),oe=n(154),le=n(101),ce=n(148),ue=n(531),de=n(327),pe=n(438),he=n(174),fe=n(328),me=n(45);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ve=n(2191);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var be=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onBack",(function(){var e=n.props,t=e.currentPage,a=e.currentFlow,r=e.flowConfiguration,i=e.language;if(e.isSeatsExtrasCombined)n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(ae.a.MTO,"/").concat(J.a.ANCILLARIES),F()(n.props,"location.query",{}));else{var s=T()(r.toJS(),(function(e){return e===t})),o={locale:i,execution:F()(n.props.location,"query.execution","")},l=s?"/".concat(a,"/").concat(s):"/".concat(J.a.MYB);n.props.actionUpdateURLQuery("URL_UPDATE_HASH",l,o)}})),g()(p()(n),"processPayment",(function(){var e=n.props,t=e.createAccount,a=e.metadata,r=e.configuration,i=e.currentFlow,s=e.paymentData,o=n.context.language,l=s.toJS().paymentQuery,c=_()(l,(function(e){return!S()(e.externalProductTypes)}));return S()(c)?n.props.purchase({paymentQuery:l,metadata:a,configuration:r,language:o,createAccount:t,currentFlow:i}):n.props.processExternalPayments(c,n.props.pnrLookupQuery).then((function(){return k()(c,(function(e){S()(e.amount)&&C()(l,(function(t){return t.paymentType===e.paymentType&&t.paymentCode===e.paymentCode}))})),n.props.purchase({paymentQuery:l,metadata:a,configuration:r,language:o,createAccount:t,currentFlow:i})}))})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.context.startTimeoutChecker(),F()(this.props.configuration,"fraudCheck.enabled")&&$.b(this.props.configuration.fraudCheck),Object(te.a)(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.paymentSuccessful&&e.paymentSuccessful!==this.props.paymentSuccessful){var t=this.props.flowConfiguration.get(this.props.currentPage);this.props.actionUpdateURLQuery("URL_UPDATE_HASH","/mto/".concat(t),F()(this,"props.location.query",{}))}Object(te.a)(e)}},{key:"componentWillUnmount",value:function(){this.props.clearPreviousPaymentState()}},{key:"getNavigationProps",value:function(){var e=this.props,t=e.currentPage,n=e.flowConfiguration,a=e.paymentData,r=e.cancelProps,i=a.get("paymentProcessing"),s=n.get(t);return{onPurchaseTitle:S()(s)?"":"app.".concat(s),onBackClick:this.onBack,onBackTitle:"payment.back",showCancelButton:!0,modal:{title:Object(U.a)("modifyTrip.cancelModal.title"),description:Object(U.a)("modifyTrip.cancelModal.description")},acceptLink:r,isProcessing:i}}},{key:"render",value:function(){var e=this.props.shoppingCart&&this.props.shoppingCart.getIn(["data","isRefundCart"]),t=j()({},D()(this.props,["paymentData","shoppingCart"]),w()(this.props.paymentData,"toJS"),{shoppingCart:w()(this.props.shoppingCart,"toJS")}),n=t.ABNACNNumber,a=t.alerts,r=t.callUpdateCartRequest,i=t.canUserContinue,s=t.dccOptionSelected,o=t.dccOptions,l=t.holdOptions,c=t.insuranceData,u=t.isValidVoucher,d=t.loggedOut,p=t.paymentDetails,h=t.paymentErrors,f=t.paymentOptions,m=t.paymentOptionsLoading,g=t.updatePaymentQuery,v=t.paymentProcessing,y=t.paymentQuery,b=t.paymentSelected,C=t.paymentSuccessful,E=t.paymentTypes,k=t.productTypes,O=t.redirectInfo,_=t.selectedHoldOption,P=t.shouldWeRedirect,S=t.shoppingCart,N=t.getBNPLholdOptions,A=t.getPaymentOptions,T=t.onFareRulesClick,I=t.onCartItemRemove,x=t.onBagFeeLinkClick,L=t.canContinue,F=t.setCallUpdateCartRequest,B=t.updateCartAndGetPaymentOptions,M=t.setPaymentSelected,V=t.purchase,U=t.getInsurance,q=t.updateInsurance,W=t.updateTotalForInsurance,G=t.getPostBookingInsurance,K=t.isAuthorable,z=t.configuration,Y=t.searchCriteria,Q=t.globalAdvisories,X=t.travelPartAdvisories,J=t.metadata,$=t.PAYMENT_TYPES,Z=t.paymentType,ee=t.currentFlow,te=t.createAccount,ae=t.selectedCarOffer,re=t.isCarBookProcessing,ie=t.ancillariesConfiguration,se=t.selectedHotel,oe=t.PAYMENT_STATUSES,le=t.savedInsurance,ce=t.pnrLookupQuery,ue=t.isAwardBooking,de=t.processABNACNNumber,pe=t.clearChinaUnionPaySmsResponse,he=t.clearPaymentDetails,fe=t.getExecutionKey,me=t.cancelPayment,ge=t.dropProducts,ye=t.travelBankConfiguration,be=t.purchaseCompleted,Ce=this.props,Ee=Ce.error,ke=Ce.user,Oe=Ce.chinaUnionPay,_e=Ce.isBookHotelProcessing,Pe=Ce.paymentTypesOrganized,Se=Ce.session,Ne=Ce.location,we=Ce.dateFormat,Ae=this.context.language,Te=this.props.passengers||this.props.paymentData&&this.props.paymentData.get("passengers");return R.a.createElement(ve.a,{className:"dxp-mto-payment-view",title:e?"payment.refund.header":"payment.".concat(Z,".header"),isCartEnabled:!0,location:Ne,id:ne.d},R.a.createElement(H.a,{purchaseCompleted:be,handleStartOver:this.props.handleStartOver,navigation:this.getNavigationProps(),chinaUnionPay:Oe,sendFreeChinaUnionPaySms:this.props.sendFreeChinaUnionPaySms,processPayment:this.processPayment,ABNACNNumber:n,alerts:a,callUpdateCartRequest:r,canUserContinue:i,isAuthorable:K,shouldWeRedirect:P,paymentOptionsLoading:m,paymentSelected:b,paymentProcessing:v,isCarBookProcessing:re,isBookHotelProcessing:_e,dccOptionSelected:s,dccOptions:o,getDCCOffers:this.props.getDCCOffers,error:Ee,holdOptions:l,insuranceData:c,isValidVoucher:u,loggedOut:d,paymentDetails:p,paymentErrors:h,paymentOptions:f,paymentQuery:y,paymentSuccessful:C,paymentTypes:E,productTypes:k,redirectInfo:O,selectedHoldOption:_,shoppingCart:S,fetchFareRules:this.props.fetchFareRules,getBagFee:this.props.getBagFee,requestCart:this.props.requestCart,getBNPLholdOptions:N,getPaymentOptions:A,onFareRulesClick:T,onCartItemRemove:I,onBagFeeLinkClick:x,canContinue:L,setCallUpdateCartRequest:F,updateCartAndGetPaymentOptions:B,updateProfile:this.props.updateProfile,setPaymentSelected:M,purchase:V,getInsurance:U,updateInsurance:q,updateTotalForInsurance:W,getPostBookingInsurance:G,updatePaymentQuery:g,updateCartWithAwardSwitch:this.props.updateCartWithAwardSwitch,configuration:z,searchCriteria:Y,globalAdvisories:Q,travelPartAdvisories:X,metadata:J,PAYMENT_TYPES:$,paymentType:Z,currentFlow:ee,createAccount:te,selectedCarOffer:ae,language:Ae,passengers:Te,ancillariesConfiguration:ie,selectedHotel:se,location:Ne,PAYMENT_STATUSES:oe,savedInsurance:le,pnrLookupQuery:ce,isAwardBooking:ue,processAwardPayment:this.processAwardPayment,user:ke,getProfile:this.props.getProfile,processABNACNNumber:de,paymentTypesOrganized:Pe,getExecutionKey:fe,cancelPayment:me,dropProducts:ge,clearPaymentDetails:he,selectedLocale:this.props.selectedLocale,locales:this.props.locales,clearChinaUnionPaySmsResponse:pe,provinces:this.props.provinces,getPaymentDetails:this.props.getPaymentDetails,session:Se,isBankIdentificationValid:this.props.isBankIdentificationValid,dateFormat:we,actionUpdateURLQuery:this.props.actionUpdateURLQuery,refundData:t.refundData,phoneCountryCodes:this.props.phoneCountryCodes,selectPaymentOption:this.props.selectPaymentOption,travelBankConfiguration:ye,updateInsuranceWithCart:this.props.updateInsuranceWithCart,backendUrl:this.props.backendUrl}))}}],[{key:"getPaymentType",value:function(e){return F()(e,"paymentType","payment")}}]),t}(B.Component);g()(be,"contextTypes",{startTimeoutChecker:M.func,stopTimeoutChecker:M.func,language:M.string}),g()(be,"defaultProps",{processExternalPayments:y.a,chinaUnionPay:Object(q.Map)(),createAccount:void 0,metadata:void 0,requestCart:void 0,session:Object(q.Map)(),user:Object(q.Map)(),fetchFareRules:void 0,error:void 0,isBookHotelProcessing:!1,passengers:void 0,selectPaymentOption:y.a,updateInsuranceWithCart:y.a,backendUrl:void 0,isSeatsExtrasCombined:!1});var Ce=Object(V.b)((function(){return Object(re.a)(Object(ie.a)(),(function(e){return e.metadata.get("mtoPaymentConfiguration")}),(function(e,t){var n=["flows",Object(le.a)(t.location.pathname)],a=e.payment&&e.payment.get("productTypes");return a&&a.every((function(e){return"SEATS"===e}))?n.push("seats"):n.push("ancillaries"),e.metadata.getIn(n)}),ce.b,(function(e){return e.metadata.get("mtoAncillariesConfiguration")}),(function(e,t){return Object(se.a)(e,t)}),Object(ue.a)(),de.a,he.b,fe.b,he.a,(function(e){return e.metadata.get("phoneConfiguration")}),pe.b,(function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])}),(function(){return"true"===me.a.get("isSeatsExtrasCombined")}),(function(e,t,n,a,r,i,s,o,l,c,u,d,p,h,f){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{configuration:t,flowConfiguration:n,pnrLookupQuery:i,savedInsurance:a,ancillariesConfiguration:r,paymentTypesOrganized:Object(oe.g)(t),background:s,language:o,currentPage:l,dateFormat:c,currentFlow:u,phoneCountryCodes:d,cancelProps:p,travelBankConfiguration:h,isSeatsExtrasCombined:f})}))}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},z,{requestCart:Y.g,updateCartItem:Y.i,updateCartWithAwardSwitch:Y.j,fetchFareRules:Q.a,getBagFee:X.b,actionUpdateURLQuery:K.c,getProfile:Z.s,updateProfile:ee.c,handleStartOver:Z.u}))(Object(W.a)(Object(G.a)(be),"paymentOptionsLoading"));n.d(t,"default",(function(){return Ce}))},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(2),y=n.n(v),b=n(0),C=n.n(b),E=n(16),k=n.n(E),O=n(6),_=n(1),P=n.n(_),S=n(123),N=n(12),w=n(11),A=(n(194),n(14)),T=n(2267),I=n(68),D=n(527),x=n(1294),j=n(2188),L=n(88),F=n(136),B=n(66),R=n(536),M=n(1557),V=n(521),U=n(195),q=n(1349),H=n(2335),W=n(1376),G=n(47),K=n(331),z=(n(1290),n(1315)),Y=n(4),Q=n.n(Y),X=n(51),J=n.n(X),$=n(5),Z=n.n($),ee=n(324),te=n(1411);function ne(e){return Q()(e,(function(e,t){return e&&t.dataAdded}),!0)}var ae=n(2120),re=(n(3233),n(3234),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.resetPassengerAddedFlag(),this.props.getPassengersFromItineraryAndSaveExecutionKey(C()(this.props,"pnrQuery"),!0),this.context.startTimeoutChecker()}},{key:"UNSAFE_componentWillUpdate",value:function(e){if(e.passengersInfoSaved&&e.passengersErrors.isEmpty()&&e.proceed&&e.currentPage===A.a.EDIT_PASSENGER){var t=k()({},this.props.location.query);this.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.nextRoute,t)}}},{key:"componentDidUpdate",value:function(e){var t=e.passengersErrors,n=this.props.passengersErrors,a=e.passengerWarnings,r=this.props.passengerWarnings;(n.isEmpty()||n.equals(t))&&(r.isEmpty()||r.equals(a))||Object(W.a)(this.passengerView)}},{key:"onBack",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_HASH","/myb",this.getQuery())}},{key:"onTimeoutWarningStartOverClick",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_QUERY","/home")}},{key:"getAcceptLinkProps",value:function(){return{path:"/myb",query:this.getQuery()}}},{key:"getQuery",value:function(){return C()(this.props,"location.query",{})}},{key:"handleUpdateAndReturnToTripDetails",value:function(){if(this.passengerList.isValid()){var e=C()(this.props,"pnrQuery.pnr"),t=this.passengerList.getValue(),n=t.passengers,a=t.contact,r=void 0===a?{emails:[],phones:[]}:a,i=this.props.passengers;this.props.updatePassengersInPNR(n,r,e,"/myb",i,C()(this.props.configuration,"specialServiceRequestsSoldAsAncillaries",[]))}}},{key:"hasBusinessLogicErrors",value:function(){var e=this.props.passengersErrors.find((function(e){return e.errorType===G.d.BUSINESS_LOGIC&&e.errorCode===K.a}));return!y()(e)}},{key:"render",value:function(){var e=this,n=this.props,a=n.globalAdvisories,i=n.travelPartAdvisories,s=n.isLoading,o=n.isAuthorable,l=n.passengerIds,c=n.configuration,u=n.provinces,d=n.isUserLoggedIn,p=n.isSignedIn,h=n.rememberedFirstNames,f=n.multiFrequentFlyerData,m=n.dateFormat,g=n.defaultLocale,v=n.passengerTypes,b=n.contact,E=n.background,k=n.destination,O=n.currentFlow,_=n.validations,S=n.isCreateAccountEnabled,A=n.passengersErrors,T=n.passengerWarnings,I=n.serverValidationErrors,D=n.phoneCountryCodes,x=this.hasBusinessLogicErrors(),B=!y()(a)&&0!==a.size,W=!y()(i)&&0!==i.size,G=Object(U.a)(o,"updatePassengerView");return P.a.createElement("div",{id:"dxp-passenger-view",className:"dxp-view dxp-passenger-view update-passenger-view",role:"main",ref:function(t){e.passengerView=t}},P.a.createElement(R.a,{destination:k,defaultImage:C()(E,"defaultImage"),destinationImage:C()(E,"destinationImage")},P.a.createElement("div",r()({className:"centered-content"},G),P.a.createElement("h2",{className:"passenger-header"},Object(N.a)("passengers.header")),B&&P.a.createElement(M.a,{advisories:a}),x&&P.a.createElement(F.a,{className:"session-timeout-warning"},P.a.createElement("h2",null,Object(N.a)("sessionTimeout.timeout.title")),P.a.createElement("p",null,Object(N.a)("sessionTimeout.timeout.description")),P.a.createElement(L.a,{className:"primary medium",onClick:function(t){return e.onTimeoutWarningStartOverClick(t)}},Object(N.a)("sessionTimeout.timeout.action"))),P.a.createElement(H.a,{errors:A,warnings:T}),W&&P.a.createElement(M.a,{advisories:i}),s?t.renderModalSpinner():P.a.createElement(j.a,{passengerIds:l,provinces:u,isUserLoggedIn:d,isSignedIn:p,rememberedFirstNames:h,multiFrequentFlyerData:f,dateFormat:m,defaultLocale:g,contact:b,flow:O,configuration:c,passengerTypes:v,validations:_,passengers:this.props.passengers,isCreateAccountEnabled:S,itineraryParts:C()(this.props.searchCriteria,"itineraryParts"),isPassengerInfoEditable:this.props.isPassengerInfoEditable,basicInfoDisabled:!0,serverValidationErrors:I,ref:function(t){e.passengerList=t},frequentFlyer:Object(w.Map)(),phoneCountryCodes:D}),P.a.createElement("div",{className:"page-actions update-passenger"},P.a.createElement(q.a,{onCancel:function(){return e.onBack()},acceptLink:this.getAcceptLinkProps(),onContinue:function(){return e.handleUpdateAndReturnToTripDetails()},showCancelButton:!0,modal:{title:Object(N.a)("updatePassenger.cancel")},continueOnlyTitle:"updatePassenger.returnToTripDetails"})),this.props.isProcessing&&P.a.createElement(F.a,{className:"update-passenger-info",preventBackButtonDisplay:!0},P.a.createElement("h2",null,Object(N.i)("updatePassenger.title")),P.a.createElement("h3",null,Object(N.i)("updatePassenger.subTitle")),P.a.createElement(V.a,{className:"dark",loadingMessage:"updatePassenger.description"})))))}}],[{key:"renderModalSpinner",value:function(){return P.a.createElement(V.a,null)}}]),t}(_.Component));g()(re,"contextTypes",{startTimeoutChecker:O.func,stopTimeoutChecker:O.func}),g()(re,"defaultProps",{updatePassengersInPNR:void 0,passengersErrors:Object(w.List)(),passengerWarnings:Object(w.List)(),serverValidationErrors:Object(w.Map)(),provinces:void 0,isProcessing:!1,destination:"",isPassengerInfoEditable:!0,isLoading:!1,isUserLoggedIn:!1,isSignedIn:!1,isAuthorable:!0,proceed:!1,contact:{emails:[],phones:[]},rememberedFirstNames:[]});var ie=Object(S.b)((function(e,t){var n=e.session.get("user"),a=e.metadata.get("editPassengerConfiguration"),r=J()(e.passengerData.get("multiFrequentFlyerData"),"toJS",{}),i=function(e){var t=e.passengerData;return J()(t.get("passengers"),"toJS",{})}(e),s=function(e){return Z()(e,(function(e,t){return{key:t,type:e.type,dataAdded:!0}}))}(i);return k()({},Object(ee.c)(e),{configuration:a,passengers:i,passengersAdded:e.passengerData.get("passengersAdded",!1),nextRoute:e.passengerData.get("route",""),passengerWarnings:e.passengerData.get("warnings",Object(w.List)()),passengersErrors:e.passengerData.get("passengersErrors",Object(w.List)()),serverValidationErrors:e.passengerData.get("serverValidationErrors",Object(w.Map)()),passengerIds:s,passengersInfoSaved:ne(s),proceed:e.passengerData.get("proceed"),isProcessing:e.passengerData.get("isProcessing"),isUserLoggedIn:n&&!e.passengerData.get("clearSignInInfo")&&y()(e.passengerData.get("passengers")),isSignedIn:n&&!n.isEmpty(),provinces:e.metadata.get("provincesConfiguration"),defaultLocale:e.metadata.get("defaultLocaleForDate"),isLoading:e.passengerData.get("isLoading"),isPassengerInfoEditable:!1,multiFrequentFlyerData:r,pnrQuery:Object(te.a)(e,t),passengerTypes:e.metadata.getIn(["passengers","options"]),contact:J()(e.passengerData.get("contact"),"toJS",{}),validations:e.metadata.get("validations",{}),isCreateAccountEnabled:e.metadata.getIn(["createAccount","isEnabled"],!1),phoneCountryCodes:e.metadata.get("phoneConfiguration")})}),{requestCart:D.g,getPassengersFromItineraryAndSaveExecutionKey:ae.b,actionUpdateURLQuery:B.c,resetPassengerAddedFlag:T.h,getProfile:I.s,updatePassengersInPNR:ae.c})(Object(x.a)(Object(z.a)(re),"isLoading"));n.d(t,"default",(function(){return ie}))},function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(112),y=n.n(v),b=n(79),C=n.n(b),E=n(8),k=n.n(E),O=n(13),_=n.n(O),P=n(16),S=n.n(P),N=n(51),w=n.n(N),A=n(4),T=n.n(A),I=n(122),D=n.n(I),x=n(73),j=n.n(x),L=n(2),F=n.n(L),B=n(0),R=n.n(B),M=n(1),V=n.n(M),U=n(6),q=n(123),H=(n(50),n(12)),W=n(11),G=(n(194),n(2267)),K=n(335),z=n(68),Y=n(527),Q=n(14),X=n(576),J=n(2188),$=n(88),Z=n(521),ee=n(1294),te=n(136),ne=n(66),ae=n(84),re=n(1986),ie=n(2651),se=n(195),oe=n(1557),le=n(1376),ce=(n(528),n(2335)),ue=n(47),de=n(1738),pe=n(331),he=n(1315),fe=(n(1290),n(2150)),me=n(2404),ge=n(52),ve=n.n(ge),ye=n(36),be=n.n(ye),Ce=n(77),Ee=n.n(Ce),ke=n(38),Oe=n.n(ke),_e=n(35),Pe=n.n(_e),Se=n(27),Ne=n.n(Se),we=n(145),Ae=n.n(we),Te=n(58),Ie=n.n(Te),De=n(5),xe=n.n(De),je=n(17),Le=n.n(je),Fe=n(125),Be=n(214),Re=n(324),Me=n(1289),Ve=n(532),Ue=n(328),qe=n(174),He=n(327),We=n(438);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ke(e,t,n,a,r,i,s){return xe()(e,(function(e){var o=function(e,t){return Boolean(t[e]&&!F()(t[e]))}(e.key,t),l=!o||function(e,t,n,a,r,i){var s,o=R()(t,"type"),l=be()(e.split("-"));s="ADT"===o&&"1"===l?S()({},R()(n,"passengerForm.".concat(o),{}),R()(n,"passengerForm.".concat(o).concat(l))):R()(n,"passengerForm.".concat(o),{});var c=R()(s,"dateOfBirth.validators",[]);return!Object(Me.l)(c)||Object(Me.k)(Le()(R()(t,"dateOfBirth")).format(r),s,a,r,i)}(e.key,t[e.key],a,r,i,s);return S()(e,{dataAdded:!Ee()(e.key,n)&&o&&l})}))}function ze(e){return Ie()(xe()(e,(function(e,t){return xe()(Ae()(0,e),(function(e){return{key:"passenger-item-".concat(t,"-").concat(e+1),type:t,typeCount:e+1,dataAdded:!1}}))})))}function Ye(e,t,n){if(F()(n))return null;var a=R()(t,"frequentFlyerProgram.showFirstFFProgramIfAvailable",!1),r=R()(t,"frequentFlyerProgram.defaultAirline",R()(Ne()(t.frequentFlyerProgram),"value")),i=function(e){var t=Ne()(e);return{airline:t.airline,frequentFlyerProgram:t.airline,frequentFlyerNumber:t.membershipID}}(n);return i.airline===r||a?xe()(e,(function(e,t){return{airlineSegment:t,frequentFlyerProgram:i.frequentFlyerProgram,frequentFlyerNumber:i.frequentFlyerNumber}})):xe()(e,(function(e,t){return i.airline===t?{airlineSegment:t,frequentFlyerProgram:i.frequentFlyerProgram,frequentFlyerNumber:i.frequentFlyerNumber}:{airlineSegment:t,frequentFlyerProgram:r,frequentFlyerNumber:""}}))}var Qe=function(e,t,n,a){var r=R()(e,"frequentFlyers"),i=R()(n,"passengerForm.".concat(a));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Oe()(e,["firstName","lastName","prefix","dateOfBirth","gender","emails","phones","travelPreferences","mealPreference","seatPreference","specialRequests","documentInfo"]),{address:R()(e,"addresses")&&R()(e,"addresses[0]"),frequentFlyer:Ye(t,i,r),type:a})};function Xe(e,t,n,a,r,i,s,o){var l=n.session,c=n.passengerData,u=w()(c.get("passengers"),"toJS",{}),d=Ne()(s).type,p=c.get("clearSignInInfo")||!1;if(e){var h=l.get("user");F()(u[t])&&(u[t]=Qe(i,a,r,d),u[t]=function(e,t,n){var a=t.get("loyaltyDetails");return S()({},e,{singleFrequentFlyer:R()(n,"frequentFlyers"),tierLevel:a&&a.get("tierLevel"),memberId:a&&a.get("memberId")})}(u[t],h,i))}if(F()(u[t])&&n.passengerData.get("isPassengerRemembered")){var f=n.passengerData.get("rememberMePassengerFirstName"),m=n.passengerData.get("passengerId");o&&!o.isEmpty()&&f&&(u[m]=o.get(f))}return p&&u[t]?Pe()(u,t):u}function Je(e){return T()(e,(function(e,t){return e&&t.dataAdded}),!0)}function $e(e){if(!F()(e)){var t=e.valueSeq().first();return!t||t.isEmpty()}}var Ze=n(1972),et=(n(2776),n(2777),function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"onBackLinkProps",(function(){var e=R()(n.props,"getBackLinkProps",D.a)(["direction"]),t=e.path,a=e.query;n.props.actionUpdateURLQuery("URL_UPDATE_HASH",t,a)})),g()(u()(n),"handleCheckBox",(function(e){return n.setState({isChecked:e})})),g()(u()(n),"handleClearSignInInfo",(function(){n.props.clearSignedInUserInfo()})),g()(u()(n),"handleFilterRememberedPassengersInLocalStorage",(function(e,t){n.props.filterRememberedPassengersInLocalStorage(e,t)})),g()(u()(n),"onAdditionalInfoChange",(function(e,t,a){n.consent.updateAdditionalInfo(e,t,a)})),g()(u()(n),"onDeleteAdditionalInfo",(function(e){n.consent.deleteAdditionalInfo(e)})),g()(u()(n),"onAddSectionClick",(function(e){n.consent.onAddSectionClick(e)})),g()(u()(n),"handleProceed",(function(e,t){if(n.passengerList.isValid()){var a=n.passengerList.getValue(),r=a.passengers,i=a.businessLoyaltyNumber,s=a.contact,o=void 0===s?{emails:[],phones:[]}:s,l=n.props,c=l.isSignedIn,u=l.configuration,d=c&&u.isUpdateProfileEnabled&&n.consent.updateProfileCheckbox.current.isChecked(),p=u.passengerForm.businessLoyalty,h=p.airline,f=p.programId,m=i?{memberId:i,programId:f,airline:h}:{};t&&n.props.skipSeatSelection(),n.props.addPassenger(r,m,o,e,n.props.location.query,n.state.isChecked).then((function(){if(d){var e=S()({},n.props.passengers[de.a.ADT1],r[de.a.ADT1],{addresses:o.addresses});n.props.updateSignedInPassengerProfile(e)}}))}})),n.passengerView=V.a.createRef(),n.consent=V.a.createRef(),n.state={isChecked:!1},n}return f()(t,e),p()(t,null,[{key:"updatePassengerPropertiesWhichAreMapToJSON",value:function(e){return T()(e,(function(e,t,n){return e[n]=w()(t,"toJS",t),e}),{})}}]),p()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.resetPassengerAddedFlag(),this.props.isSignedIn?(this.props.configuration.isUpdateProfileEnabled||this.props.isUserLoggedIn)&&this.props.getProfile():this.props.loadRememberedPassengersInLocalStorage(),this.props.requestCart(ae.a.B2C,this.props.location),this.props.getPassengers(),this.context.startTimeoutChecker()}},{key:"componentDidMount",value:function(){Object(le.a)(this.passengerView,{headerOffset:200})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.isUserLoggedIn!==e.isUserLoggedIn&&(!this.props.isUserLoggedIn&&this.props.loadRememberedPassengersInLocalStorage(),e.isUserLoggedIn&&this.props.getProfile())}},{key:"componentDidUpdate",value:function(e){var t=e.passengersErrors,n=this.props.passengersErrors,a=e.passengerWarnings,r=this.props.passengerWarnings;(n.isEmpty()||n.equals(t))&&(r.isEmpty()||r.equals(a))||Object(le.a)(this.passengerView,{headerOffset:200})}},{key:"componentWillUnmount",value:function(){F()(this.props.priceDiscrepancy)||this.props.resetMetaSearch(),this.props.clearPassengerInformation()}},{key:"onTimeoutWarningStartOverClick",value:function(){this.props.executionCompleted(),this.props.actionUpdateURLQuery("URL_UPDATE_QUERY","/home")}},{key:"getConfiguration",value:function(){var e=this.props,t=e.configuration,n=e.operatingAirlines;return y()(t.operatingAirlinesRequiringDateOfBirth||[],n).length>0&&_()(t.passengerForm,(function(e,n){k()(t,"passengerForm.".concat(n,".dateOfBirth.isEnabled"),!0),k()(t,"passengerForm.".concat(n,".gender.isEnabled"),!0),k()(t,"passengerForm.".concat(n,".dateOfBirth.validators"),C()(R()(t,"passengerForm.".concat(n,".validators"),[]),[{error:"passengers.dobadt.isRequired",name:"required",options:2}])),k()(t,"passengerForm.".concat(n,".gender.validators"),C()(R()(t,"passengerForm.".concat(n,".validators"),[]),[{error:"passengers.gender.isRequired",name:"required",options:2}]))})),t}},{key:"hasBusinessLogicErrors",value:function(){var e=this.props.passengersErrors.find((function(e){return e.errorType===ue.d.BUSINESS_LOGIC&&e.errorCode===pe.a}));return!F()(e)}},{key:"renderFrequentFlyerWarningModal",value:function(){return V.a.createElement(ie.a,{user:this.props.user,callback:this.onBackLinkProps})}},{key:"render",value:function(){var e=this,n=this.props,a=n.passengers,r=n.globalAdvisories,i=n.travelPartAdvisories,s=n.currentFlow,o=n.flowConfiguration,l=n.priceDiscrepancy,c=n.isLoading,u=n.showFrequentFlyerTierWarning,d=n.passengerTypes,p=n.isAuthorable,h=n.passengerWarnings,f=n.passengerIds,m=n.provinces,g=n.isUserLoggedIn,v=n.isSignedIn,y=n.rememberedFirstNames,b=n.multiFrequentFlyerData,C=n.dateFormat,E=n.defaultLocale,k=n.contact,O=n.validations,_=n.isCreateAccountEnabled,P=n.passengersErrors,S=n.serverValidationErrors,N=n.searchCriteria,w=n.frequentFlyer,A=n.phoneCountryCodes,T=n.isAccountCreated,I=n.businessLoyalty,D=this.getConfiguration(),x=o.get(Q.a.PASSENGERS),L=Object(H.i)("app.".concat(j()(x))),B=this.hasBusinessLogicErrors(),M=D.displayGlobalAdvisories&&!F()(r)&&0!==r.size,U=D.displayDayAdvisories&&!F()(i)&&0!==i.size,q=R()(D,"showSkipSeatSelectionButton",!1),W=Object(se.a)(p,"passengerView");return V.a.createElement(Ze.a,{location:this.props.location,title:"passengers.header",authorableAttributes:W,className:"dxp-passenger-view",id:re.a,subtitle:Object(H.a)("passengers.headerInfo")},V.a.createElement("div",{ref:function(t){e.passengerView=t}},M&&V.a.createElement(oe.a,{advisories:r}),B&&V.a.createElement(te.a,{className:"session-timeout-warning"},V.a.createElement("h2",null,Object(H.a)("sessionTimeout.timeout.title")),V.a.createElement("p",null,Object(H.a)("sessionTimeout.timeout.description")),V.a.createElement($.a,{className:"primary medium",onClick:function(t){return e.onTimeoutWarningStartOverClick(t)}},Object(H.a)("sessionTimeout.timeout.action"))),V.a.createElement(ce.a,{errors:P,warnings:h,priceDiscrepancy:l}),U&&V.a.createElement(oe.a,{advisories:i}),c&&V.a.createElement(Z.a,null),!c&&V.a.createElement(J.a,{passengerIds:f,provinces:m,isUserLoggedIn:g,isSignedIn:v,rememberedFirstNames:y,multiFrequentFlyerData:b,dateFormat:C,defaultLocale:E,contact:k,flow:s,configuration:D,validations:O,passengers:t.updatePassengerPropertiesWhichAreMapToJSON(a),isCreateAccountEnabled:_,clearSignInInfo:this.handleClearSignInInfo,itineraryParts:R()(N,"itineraryParts"),filterRememberedPassengersInLocalStorage:this.handleFilterRememberedPassengersInLocalStorage,passengerTypes:d,serverValidationErrors:S,ref:function(t){e.passengerList=t},frequentFlyer:w,onFrequentFlyerChange:this.props.updateFrequentFlyer,phoneCountryCodes:A,handleCheckBox:this.handleCheckBox,isAccountCreated:T,onAdditionalInfoChange:function(t,n,a){return e.onAdditionalInfoChange(t,n,a)},onDeleteAdditionalInfo:function(t){return e.onDeleteAdditionalInfo(t)},onAddSectionClick:function(t){return e.onAddSectionClick(t)},geolocation:this.props.geolocation,businessLoyalty:I}),V.a.createElement(fe.a,{itineraryParts:R()(this.props,"searchCriteria.itineraryParts",[]),messages:D.dynamicDisclaimers}),V.a.createElement(me.a,{ref:function(t){return e.consent=t},isSignedIn:this.props.isSignedIn,configuration:D,nextPageTitle:L,showSkipSeatSelectionButton:q,onBackLinkProps:this.onBackLinkProps,handleProceed:this.handleProceed,passengerInfo:a}),u&&this.renderFrequentFlyerWarningModal()))}}]),t}(M.Component));g()(et,"contextTypes",{startTimeoutChecker:U.func,stopTimeoutChecker:U.func}),g()(et,"defaultProps",{isLoading:!1,isAuthorable:!0,contact:{emails:[],phones:[]},searchCriteria:void 0,passengers:void 0,passengerIds:void 0,provinces:void 0,multiFrequentFlyerData:void 0,defaultLocale:"en-US",dateFormat:void 0,passengersErrors:Object(W.List)(),isUserLoggedIn:!1,globalAdvisories:void 0,travelPartAdvisories:void 0,showFrequentFlyerTierWarning:!1,priceDiscrepancy:void 0,passengerWarnings:Object(W.List)(),isSignedIn:!1,rememberedFirstNames:[],serverValidationErrors:Object(W.Map)(),isAccountCreated:!1,clearPassengerInformation:D.a,user:Object(W.Map)()});var tt=Object(q.b)((function(e,t){var n,a,r=!e.session.get("user").isEmpty(),i=Object(Be.a)()(e,t),s=e.flightSelection.get("isCompanionFareSearch")?function(e){var t=Oe()(e,[Fe.a.CMA,Fe.a.CMP]),n=Pe()(e,[Fe.a.CMA,Fe.a.CMP]),a=ze(t).map((function(e,t){return 1===t?S()(e,{typeCount:t+1}):e}));return C()(a,ze(n))}(i.passengers):ze(i.passengers),o=function(e){return xe()(e,(function(e){return e.key}))}(s),l=(n=e.shoppingCart||Object(W.Map)(),T()(n.getIn(["data","segments"],Object(W.List)()).toJS(),(function(e,t){var n=e[t.airlineCode]||[];return n.push(Oe()(t,"origin","destination")),e[t.airlineCode]=n,e}),{})),c=e.metadata.get("passengerConfiguration"),u=R()(w()(e.session,"toJS",{}),"profile"),d=e.passengerData.get("rememberedPassengersInLocalStorage"),p=Xe(r,Ne()(o),e,l,c,u,s,d),h=Oe()(p||[],o.slice(0,function(e){return T()(e,(function(e,t){return e+t}),0)}(i.passengers))),f=Object(Re.a)(e),m=e.metadata.get("defaultLocaleForDate"),g=R()(i,"itineraryParts",[]),v=e.passengerData.get("passengerId"),y=e.passengerData.get("isPassengerRemembered"),b=Ke(s,h,!Ee()(y,!1)&&v,c,g,f,m),E=e.passengerData.get("additionalContactInfoSaved",!1),k=e.flightSelection.get("isCompanionFareSearch")?e.metadata.getIn(["companionFarePassengers","options"]):e.metadata.getIn(["passengers","options"]);d&&!d.isEmpty()&&(a=function(e){return xe()(e.keySeq().toArray(),(function(e){return e.trim()}))}(d));var O=function(e){var t=e.metaSearch,n=e.shoppingCart;if(t.get("priceChanged")&&n.get("data")){var a=t.get("discrepancyPrice"),r=n.getIn(["data","total","0","0"],Object(W.Map)());return{currency:a.get("currency"),total:r.get("amount"),discrepancy:Math.abs(a.get("amount")),value:Math.sign(a.get("amount"))}}return{}}(e),P=T()(R()(w()(e.shoppingCart,"toJS",{}),"data.itinerary.itineraryParts",[]),(function(e,t){return _()(R()(t,"segments",[]),(function(t){var n=R()(t,"flight.operatingAirlineCode");n&&-1===ve()(e,n)&&e.push(n)})),e}),[]);return{dateFormat:Object(Ue.b)(e,t),getNextPage:Object(Ve.a)(e,t),language:Object(He.a)(e,t),formatDateTime:Object(Ue.c)(e,t),configuration:e.metadata.get("passengerConfiguration"),passengerTypes:k,passengers:h,rememberedFirstNames:a,rememberMePassengerFirstName:e.passengerData.get("rememberMePassengerFirstName"),passengersAdded:e.passengerData.get("passengersAdded",!1),nextRoute:e.passengerData.get("route",null),passengersErrors:e.passengerData.get("passengersErrors",Object(W.List)()),serverValidationErrors:e.passengerData.get("serverValidationErrors",Object(W.Map)()),passengerIds:b,passengersInfoSaved:Je(b),proceed:e.passengerData.get("proceed"),isUserLoggedIn:r&&!e.passengerData.get("clearSignInInfo")&&$e(e.passengerData.get("passengers")),isSignedIn:r,provinces:e.metadata.get("provincesConfiguration"),defaultLocale:m,searchCriteria:i,multiFrequentFlyerData:l,showFrequentFlyerTierWarning:e.passengerData.get("showFrequentFlyerTierWarning"),isPassengerInfoEditable:!0,isLoading:e.passengerData.get("isLoading")||e.dynamicDisclaimer.geolocationLoading,priceDiscrepancy:O,passengerWarnings:e.passengerData.get("warnings",Object(W.List)()),flowConfiguration:e.metadata.getIn(["flows","b2c"]),contact:w()(e.passengerData.get("contact"),"toJS",{}),businessLoyalty:w()(e.passengerData.get("businessLoyalty"),"toJS",{}),validations:e.metadata.get("validations",{}),isCreateAccountEnabled:e.metadata.getIn(["createAccount","isEnabled"],!1),additionalContactInfoSaved:E,currentFlow:Object(qe.a)(e,t),getBackLinkProps:Object(We.a)(e,t),frequentFlyer:e.passengerData.get("frequentFlyer"),phoneCountryCodes:e.metadata.get("phoneConfiguration"),isAccountCreated:e.passengerData.get("isAccountCreated"),user:e.session.get("user"),geolocation:e.dynamicDisclaimer.geolocation,operatingAirlines:P}}),{requestCart:Y.g,getPassengers:G.e,loadRememberedPassengersInLocalStorage:G.g,actionUpdateURLQuery:ne.c,executionCompleted:z.q,resetPassengerAddedFlag:G.h,getProfile:z.s,clearSignedInUserInfo:G.c,addPassenger:G.a,filterRememberedPassengersInLocalStorage:G.d,resetMetaSearch:X.h,updateSignedInPassengerProfile:G.j,skipSeatSelection:K.e,updateFrequentFlyer:G.i,clearPassengerInformation:G.b})(Object(ee.a)(Object(he.a)(et),"isLoading"));n.d(t,"default",(function(){return tt}))},,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(130),C=n.n(b),E=n(51),k=n.n(E),O=n(35),_=n.n(O),P=n(16),S=n.n(P),N=n(0),w=n.n(N),A=n(1),T=n.n(A),I=n(6),D=(n(194),n(123)),x=n(12),j=n(11),L=n(66),F=n(1930),B=n(24),R=n(527),M=n(1592),V=n(1294),U=n(2114),q=n(451),H=n(68),W=n(2174),G=n(2055),K=(n(1290),n(42)),z=n(2075),Y=n(568),Q=n(154),X=n(438),J=n(2312);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Z=n(2028);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var te=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onBack",(function(){var e=n.props.location.pathname.split("/").pop(),t=C()(n.props.flowConfiguration.toJS(),(function(t){return t===e})),a=t?"/".concat(n.props.currentFlow,"/").concat(t):"/".concat(n.props.currentFlow);return n.props.actionUpdateURLQuery("URL_UPDATE_HASH",a,w()(n.props,"location.query",{}))})),g()(p()(n),"processPayment",(function(){var e=n.props,t=e.createAccount,a=e.metadata,r=e.configuration,i=e.currentFlow,s=n.context.language,o=n.props.paymentData.get("paymentQuery").toJS();return n.props.purchase({paymentQuery:o,metadata:a,configuration:r,language:s,createAccount:t,currentFlow:i})})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.context.startTimeoutChecker(),w()(this.props.configuration,"fraudCheck.enabled")&&q.b(this.props.configuration.fraudCheck),Object(W.a)(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.paymentSuccessful&&e.paymentSuccessful!==this.props.paymentSuccessful){var t=this.props.flowConfiguration.get(this.props.location.pathname.split("/").pop());this.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(B.a.BNPL,"/").concat(t),w()(this.props,"location.query",{}))}Object(W.a)(e)}},{key:"componentWillUnmount",value:function(){this.props.clearPreviousPaymentState()}},{key:"getNavigationProps",value:function(){var e=this.props,t=e.flowConfiguration,n=e.cancelProps,a=this.props.paymentData.get("paymentProcessing"),r=this.props.location.pathname.split("/").pop(),i=t.get(r);return{onPurchaseTitle:"app.".concat(i),onBackClick:this.onBack,onBackTitle:"payment.back",showCancelButton:!0,modal:{title:Object(x.a)("modifyTrip.cancelModal.title"),description:Object(x.a)("modifyTrip.cancelModal.description")},acceptLink:n,isProcessing:a}}},{key:"render",value:function(){var e=S()({},_()(this.props,["paymentData","shoppingCart"]),k()(this.props.paymentData,"toJS"),{shoppingCart:k()(this.props.shoppingCart,"toJS")}),t=e.ABNACNNumber,n=e.alerts,a=e.callUpdateCartRequest,r=e.canUserContinue,i=e.dccOptionSelected,s=e.dccOptions,o=e.holdOptions,l=e.insuranceData,c=e.isValidVoucher,u=e.loggedOut,d=e.paymentDetails,p=e.paymentErrors,h=e.paymentOptions,f=e.paymentOptionsLoading,m=e.updatePaymentQuery,g=e.paymentProcessing,v=e.paymentQuery,y=e.paymentSelected,b=e.paymentSuccessful,C=e.paymentTypes,E=e.productTypes,O=e.redirectInfo,P=e.selectedHoldOption,N=e.shouldWeRedirect,w=e.shoppingCart,A=e.getBNPLholdOptions,I=e.getPaymentOptions,D=e.onFareRulesClick,x=e.onCartItemRemove,j=e.onBagFeeLinkClick,L=e.canContinue,F=e.selectBNPL,B=e.setCallUpdateCartRequest,R=e.updateCartAndGetPaymentOptions,M=e.setPaymentSelected,V=e.purchase,q=e.getInsurance,H=e.updateInsurance,W=e.updateTotalForInsurance,G=e.getPostBookingInsurance,K=e.isAuthorable,z=e.configuration,Y=e.searchCriteria,Q=e.holdOptionSelected,X=e.globalAdvisories,J=e.travelPartAdvisories,$=e.metadata,ee=e.PAYMENT_TYPES,te=e.paymentType,ne=e.currentFlow,ae=e.createAccount,re=e.isCarBookProcessing,ie=e.ancillariesConfiguration,se=e.location,oe=e.PAYMENT_STATUSES,le=e.savedInsurance,ce=e.pnrLookupQuery,ue=e.isAwardBooking,de=e.processABNACNNumber,pe=e.clearChinaUnionPaySmsResponse,he=e.clearPaymentDetails,fe=e.getExecutionKey,me=e.cancelPayment,ge=e.dropProducts,ve=e.purchaseCompleted,ye=this.props,be=ye.error,Ce=ye.user,Ee=ye.chinaUnionPay,ke=ye.isBookHotelProcessing,Oe=ye.paymentTypesOrganized,_e=ye.session,Pe=this.context.language,Se=this.props.passengers||this.props.paymentData&&this.props.paymentData.get("passengers");return T.a.createElement(Z.a,{className:"dxp-bnpl-payment-view",title:"titles.bnplPayment",location:se},T.a.createElement(U.a,{purchaseCompleted:ve,handleStartOver:this.props.handleStartOver,navigation:this.getNavigationProps(),ABNACNNumber:t,alerts:n,callUpdateCartRequest:a,canUserContinue:r,chinaUnionPay:Ee,isAuthorable:K,shouldWeRedirect:N,paymentOptionsLoading:f,paymentSelected:y,paymentProcessing:g,isCarBookProcessing:re,isBookHotelProcessing:ke,dccOptionSelected:i,dccOptions:s,getDCCOffers:this.props.getDCCOffers,error:be,holdOptions:o,insuranceData:l,isValidVoucher:c,loggedOut:u,paymentDetails:d,paymentErrors:p,paymentOptions:h,paymentQuery:v,paymentSuccessful:b,paymentTypes:C,productTypes:E,redirectInfo:O,selectedHoldOption:P,shoppingCart:w,fetchFareRules:this.props.fetchFareRules,getBagFee:this.props.getBagFee,requestCart:this.props.requestCart,getBNPLholdOptions:A,getPaymentOptions:I,onFareRulesClick:D,onCartItemRemove:x,onBagFeeLinkClick:j,canContinue:L,selectBNPL:F,setCallUpdateCartRequest:B,updateCartAndGetPaymentOptions:R,updateProfile:this.props.updateProfile,setPaymentSelected:M,purchase:V,getInsurance:q,updateInsurance:H,updateTotalForInsurance:W,getPostBookingInsurance:G,updatePaymentQuery:m,sendFreeChinaUnionPaySms:this.props.sendFreeChinaUnionPaySms,updateCartWithAwardSwitch:this.props.updateCartWithAwardSwitch,configuration:z,searchCriteria:Y,holdOptionSelected:Q,globalAdvisories:X,travelPartAdvisories:J,metadata:$,PAYMENT_TYPES:ee,paymentType:te,currentFlow:ne,createAccount:ae,language:Pe,passengers:Se,ancillariesConfiguration:ie,location:se,PAYMENT_STATUSES:oe,savedInsurance:le,pnrLookupQuery:ce,isAwardBooking:ue,processPayment:this.processPayment,user:Ce,getProfile:this.props.getProfile,processABNACNNumber:de,paymentTypesOrganized:Oe,getExecutionKey:fe,cancelPayment:me,dropProducts:ge,clearPaymentDetails:he,selectedLocale:this.props.selectedLocale,locales:this.props.locales,clearChinaUnionPaySmsResponse:pe,provinces:this.props.provinces,getPaymentDetails:this.props.getPaymentDetails,session:_e,isBankIdentificationValid:this.props.isBankIdentificationValid,dateFormat:this.props.dateFormat,actionUpdateURLQuery:this.props.actionUpdateURLQuery,phoneCountryCodes:this.props.phoneCountryCodes,selectPaymentOption:this.props.selectPaymentOption,backendUrl:this.props.backendUrl}))}}]),t}(A.Component);g()(te,"contextTypes",{startTimeoutChecker:I.func,stopTimeoutChecker:I.func,language:I.string}),g()(te,"defaultProps",{metadata:void 0,requestCart:void 0,session:Object(j.Map)(),user:Object(j.Map)(),fetchFareRules:void 0,error:void 0,isBookHotelProcessing:!1,chinaUnionPay:Object(j.Map)(),passengers:void 0,selectPaymentOption:y.a,backendUrl:void 0});var ne=Object(D.b)((function(){var e=Object(K.b)({flowConfiguration:function(e){return e.metadata.getIn(["flows","bnpl"])},configuration:function(e){return e.metadata.get("bnplPaymentConfiguration")},phoneCountryCodes:function(e){return e.metadata.get("phoneConfiguration")},travelBankConfiguration:function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])}});return Object(K.a)(Object(z.a)(),Object(J.a)(),e,Object(Y.a)(),X.b,(function(e,t,n,a,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},n,{ancillaryState:t,pnrLookupQuery:a,paymentTypesOrganized:Object(Q.g)(n.configuration),cancelProps:r})}))}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},F,{requestCart:R.g,updateCartItem:R.i,updateCartWithAwardSwitch:R.j,fetchFareRules:M.a,actionUpdateURLQuery:L.c,getProfile:H.s,updateProfile:G.c,handleStartOver:H.u}))(Object(V.a)(te,"paymentOptionsLoading"));n.d(t,"default",(function(){return ne}))}])]);